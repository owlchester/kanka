<<<<<<<< HEAD:public/build/assets/explore-DiTYo_AC.js
import{m as ae,a as l,i as J,J as be,c as a,V as E,b as t,W as ne,U as W,F as $,r as R,t as xe,f as d,d as fe,o as ke,s as we,l as Le,w as G,e as M,H as _e,h as f,p as S,n as le,x as Te,q as Me}from"./vue.esm-bundler-Wo6SzjSf.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{v as He}from"./v-click-outside.umd-E7ZR94gB.js";import"./_commonjsHelpers-CqkleIqs.js";const Pe={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1}},computed:{isApiResource(){return!!this.data.meta},currentPage(){var n;return this.isApiResource?this.data.meta.current_page:(n=this.data.current_page)!=null?n:null},firstPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.first_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.first_page_url)!=null?i:(r=this.data.links)==null?void 0:r.first)!=null?v:null},from(){var n;return this.isApiResource?this.data.meta.from:(n=this.data.from)!=null?n:null},lastPage(){var n;return this.isApiResource?this.data.meta.last_page:(n=this.data.last_page)!=null?n:null},lastPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.last_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.last_page_url)!=null?i:(r=this.data.links)==null?void 0:r.last)!=null?v:null},nextPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.next_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.next_page_url)!=null?i:(r=this.data.links)==null?void 0:r.next)!=null?v:null},perPage(){var n;return this.isApiResource?this.data.meta.per_page:(n=this.data.per_page)!=null?n:null},prevPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.prev_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.prev_page_url)!=null?i:(r=this.data.links)==null?void 0:r.prev)!=null?v:null},to(){var n;return this.isApiResource?this.data.meta.to:(n=this.data.to)!=null?n:null},total(){var n;return this.isApiResource?this.data.meta.total:(n=this.data.total)!=null?n:null},pageRange(){if(this.limit===-1)return 0;if(this.limit===0)return this.lastPage;for(var n=this.currentPage,o=this.keepLength,r=this.lastPage,i=this.limit,v=n-i,y=n+i,_=(i+2)*2,g=(i+2)*2-1,k=[],x=[],b,m=1;m<=r;m++)(m===1||m===r||m>=v&&m<=y||o&&m<_&&n<_-2||o&&m>r-g&&n>r-g+2)&&k.push(m);return k.forEach(function(C){b&&(C-b===2?x.push(b+1):C-b!==1&&x.push("...")),x.push(C),b=C}),x}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(n){n==="..."||n===this.currentPage||this.$emit("pagination-change-page",n)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:n=>{n.preventDefault(),this.previousPage()}},nextButtonEvents:{click:n=>{n.preventDefault(),this.nextPage()}},pageButtonEvents:n=>({click:o=>{o.preventDefault(),this.selectPage(n)}})})}},$e=(n,o)=>{const r=n.__vccOpts||n;for(const[i,v]of o)r[i]=v;return r},je={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:Pe},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1},itemClasses:{type:Array,default:()=>["bg-white","text-gray-500","border-gray-300","hover:bg-gray-50"]},activeClasses:{type:Array,default:()=>["bg-blue-50","border-blue-500","text-blue-600"]}},methods:{onPaginationChangePage(n){this.$emit("pagination-change-page",n)}}},Ue=["disabled"],Ee=t("span",{class:"sr-only"},"Previous",-1),Re=t("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),Be=["aria-current","disabled"],Ae=["disabled"],De=t("span",{class:"sr-only"},"Next",-1),Se=t("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1);function ze(n,o,r,i,v,y){const _=ae("RenderlessPagination");return l(),J(_,{data:r.data,limit:r.limit,"keep-length":r.keepLength,onPaginationChangePage:y.onPaginationChangePage},{default:be(g=>[g.computed.total>g.computed.perPage?(l(),a("nav",E({key:0},n.$attrs,{class:"inline-flex -space-x-px rounded-md shadow-sm isolate ltr:flex-row rtl:flex-row-reverse","aria-label":"Pagination"}),[t("button",E({class:["relative inline-flex items-center px-2 py-2 text-sm font-medium border rounded-l-md focus:z-20 disabled:opacity-50",r.itemClasses],disabled:!g.computed.prevPageUrl},ne(g.prevButtonEvents,!0)),[W(n.$slots,"prev-nav",{},()=>[Ee,Re])],16,Ue),(l(!0),a($,null,R(g.computed.pageRange,(k,x)=>(l(),a("button",E({class:["relative inline-flex items-center px-4 py-2 text-sm font-medium border focus:z-20",[k==g.computed.currentPage?r.activeClasses:r.itemClasses,k==g.computed.currentPage?"z-30":""]],"aria-current":g.computed.currentPage?"page":null,key:x},ne(g.pageButtonEvents(k),!0),{disabled:k===g.computed.currentPage}),xe(k),17,Be))),128)),t("button",E({class:["relative inline-flex items-center px-2 py-2 text-sm font-medium border rounded-r-md focus:z-20 disabled:opacity-50",r.itemClasses],disabled:!g.computed.nextPageUrl},ne(g.nextButtonEvents,!0)),[W(n.$slots,"next-nav",{},()=>[De,Se])],16,Ae)],16)):d("",!0)]),_:3},8,["data","limit","keep-length","onPaginationChangePage"])}const Oe=$e(je,[["render",ze]]),qe={key:0,class:"flex flex-col gap-4 w-full"},Fe={class:"flex gap-2 justify-between items-center"},Ie=["innerHTML"],Ne={key:1,class:"flex flex-col gap-4 w-full"},Ve={class:"flex gap-2 justify-between items-center flex-wrap"},Ge={class:"flex gap-1 items-center flex-wrap"},Je=["innerHTML"],We={key:0,class:"bg-base-200 flex items-stretch gap-1 rounded-xl"},Ke=["aria-label","title"],Qe=["title"],Xe=["aria-label"],Ye=["href"],Ze={key:1},et=["aria-label","title"],tt=["innerHTML"],nt=["innerHTML"],lt=["innerHTML"],at={key:0,class:"flex gap-2 items-center"},st={key:0,class:"btn2"},it={key:1,class:"dropdown"},rt=["title"],ot={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},ut=["innerHTML"],dt=["innerHTML"],ct=["innerHTML"],pt={key:2},ft={key:0,class:"btn2"},vt=["title"],gt=["innerHTML"],ht=["title"],mt=["innerHTML"],yt={key:3},bt=["title"],xt=["innerHTML"],kt=["title"],wt=["innerHTML"],Lt={key:4,class:"join"},_t=["href"],Tt=["innerHTML"],Mt={key:0,class:"dropdown relative"},Ct=["innerHTML"],Ht={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 right-0 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},Pt=["href"],$t=["innerHTML"],jt={href:"https://docs.kanka.io/en/latest/guides/templates.html",class:"flex flex-no-wrap gap-2 px-2 py-1 items-center"},Ut=["innerHTML"],Et={key:1,class:"flex gap-2 items-center"},Rt={class:"join"},Bt=["innerHTML"],At=["innerHTML"],Dt={key:2,class:"dropdown relative"},St=["innerHTML"],zt={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 right-0 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},Ot=["innerHTML"],qt=["innerHTML"],Ft=["innerHTML"],It=["innerHTML"],Nt=["innerHTML"],Vt=["innerHTML"],Gt={class:"flex gap-1 items-start"},Jt=["href"],Wt={class:"block text-center p-4 h-12 bg-box"},Kt=["innerHTML"],Qt=["href"],Xt={class:""},Yt=["innerHTML"],Zt={key:0,class:"flex items-center justify-end gap-1 h-12"},en={key:1,class:"flex items-center"},tn=["innerHTML"],nn=["action"],ln=["value"],an=["value"],sn=fe({__name:"Explorer",props:{api:{},module:{},mode:{}},setup(n){const o=n,r=f([]),i=f(),v=f(),y=f(),_=f(),g=f(),k=f(),x=f(),b=f({}),m=f(0),C=f(0),B=f(),I=f(!0),z=f(!1),A=f(!1),P=f(!1),c=f(!1),h=f(!0),H=f(!1),w=f([]),j=f(!1),u=f({}),se=f(!1),U=f("grid");ke(()=>{U.value=o.mode,fetch(o.api).then(s=>s.json()).then(s=>{de(s),m.value=s.filters.unfilteredCount,C.value=s.filters.count,B.value=s.filters.urls,u.value=s.i18n,h.value=s.nested,i.value=s.parent,w.value=s.templates,y.value=s.permissions,se.value=s.bookmarkable,b.value=s.urls,g.value=s.entityType,ce()})});const ie=()=>{j.value=!j.value,r.value.forEach(s=>{s.selected=!1})},ve=()=>{if(!r.value.length)return;const s=!r.value[0].selected;r.value.forEach(e=>{e.selected=s})},re=()=>{window.openDialog("datagrid-filters",B.value.form)},D=s=>{let e=ee();if(e.length===0)return;let T=new URL(s,window.location.origin),L=T.searchParams;e.forEach(p=>{L.append("entities[]",p)}),window.openDialog("primary-dialog",T.toString())},oe=()=>{c.value=!0;let s=o.api;h.value=!h.value,N(te(s,"n",h.value?"1":"0"));const e=new URL(window.location.href);e.searchParams.set("n",h.value?1:0),window.history.pushState({},"",e)},ue=()=>{let s=o.api;q()?U.value="table":U.value="grid",N(te(s,"m",U.value));const e=new URL(window.location.href);e.searchParams.set("m",U.value),window.history.pushState({},"",e)},ge=async(s=1)=>{P.value=!0,N(te(o.api,"page",s))},N=s=>{fetch(s).then(e=>e.json()).then(e=>{de(e),ce()})},de=s=>{r.value=[],k.value=s.entities,s.entities.data.forEach(e=>{r.value.push(e)}),v.value=s.csrf,x.value=s.order},ce=()=>{I.value=!1,P.value=!1,c.value=!1,z.value=!1},K=s=>{z.value=!0;let e=new URL(o.api,window.location.origin),T=e.searchParams;T.set("order",s),Y(s)?T.set("desc","1"):T.delete("desc"),e=e.toString(),N(e);const L=new URL(window.location.href);L.searchParams.set("order",s),Y(s)?L.searchParams.set("desc","1"):L.searchParams.delete("desc"),window.history.pushState({},"",L)},Q=s=>{let e="flex items-center gap-2 px-2";return V(s)?e+" font-extrabold":e},X=s=>Y(s)?"fa-regular fa-arrow-down-z-a":"fa-fa-regular fa-arrow-down-a-z",V=s=>x.value[s],Y=s=>x.value[s]==="ASC";we(()=>{window.ajaxTooltip()});const Z=()=>{H.value=!1,A.value=!1},pe=()=>{ee().length!==0&&_.value.submit()},he=()=>{window.openDialog("primary-dialog",b.value.bookmark)},me=()=>{D(b.value.delete)},ee=()=>{let s=[];return r.value.filter(e=>e.selected).forEach(e=>{s.push(e.id)}),s},O=()=>y.value,ye=()=>q()?"entities-grid flex flex-wrap gap-3 lg:gap-5 w-full":"entities-grid flex flex-col gap-1 w-full",q=()=>U.value==="grid",te=(s,e,T)=>{let L=new URL(s,window.location.origin);return L.searchParams.set(e,T),L.toString()};return(s,e)=>{const T=ae("entities-entity"),L=Le("click-outside");return I.value?(l(),a("div",qe,[t("div",Fe,[t("h1",{class:"grow text-2xl category-title truncate",innerHTML:o.module},null,8,Ie),e[21]||(e[21]=t("div",{class:"flex gap-2 items-center"},[t("button",{class:"btn2 btn-disabled",disabled:"disabled"},[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"})])],-1))]),e[22]||(e[22]=t("div",{class:"flex gap-2 items-start"},[t("div",{class:"rounded shadow-xs w-[47%] xs:w-[25%] sm:w-48 aspect-square flex items-center justify-center text-xl text-neutral-content"},[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"})])],-1))])):(l(),a("div",Ne,[t("div",Ve,[t("div",Ge,[t("h1",{class:"grow text-2xl category-title truncate",innerHTML:o.module},null,8,Je),C.value>0?(l(),a("div",We,[t("div",{class:"flex items-center rounded-xl gap-2 hover:bg-base-300 px-2 py-2 cursor-pointer","aria-label":u.value.filters,title:u.value.filters,onClick:re},[...e[23]||(e[23]=[t("i",{class:"fa-regular fa-filter hover:bg-base-300","aria-label":"Filter"},null,-1),t("span",{class:"rounded bg-primary text-primary-content px-2 text-sm"},"1",-1)])],8,Ke),se.value?(l(),a("div",{key:0,class:"flex items-center justify-center rounded-xl gap-2 hover:bg-base-300 px-3 py-2 cursor-pointer hover:text-primary",title:u.value.bookmark,onClick:he},[t("i",{class:"fa-regular fa-bookmark","aria-label":u.value.bookmark},null,8,Xe)],8,Qe)):d("",!0),e[25]||(e[25]=t("div",{class:"w-0 h-auto my-2 border-base-content border-l"},null,-1)),t("a",{class:"flex items-center rounded-xl gap-2 hover:bg-base-300 px-2 py-2 text-base-content hover:text-primary",href:B.value.clear},[...e[24]||(e[24]=[t("i",{class:"fa-regular fa-eraser","aria-label":"Clear"},null,-1)])],8,Ye)])):(l(),a("div",Ze,[t("i",{class:"fa-regular fa-filter text-lg rounded hover:text-primary-content cursor-pointer px-2 py-1 hover:bg-primary","aria-label":u.value.filters,title:u.value.filters,onClick:re},null,8,et)])),O()&&!j.value?(l(),a("button",{key:2,onClick:e[0]||(e[0]=p=>ie()),class:"rounded rounded-full border-primary text-primary border px-3 py-1 text-xs uppercase hover:bg-primary hover:text-primary-content",innerHTML:u.value.select},null,8,tt)):d("",!0),O()&&j.value?(l(),a("button",{key:3,onClick:e[1]||(e[1]=p=>ie()),class:"rounded rounded-full bg-primary text-primary-content px-3 py-1 text-xs uppercase",innerHTML:u.value.done},null,8,nt)):d("",!0),O()&&j.value?(l(),a("button",{key:4,onClick:e[2]||(e[2]=p=>ve()),class:"rounded rounded-full border-primary text-primary border px-3 py-1 text-xs uppercase hover:bg-primary hover:text-primary-content",innerHTML:u.value.selectAll},null,8,lt)):d("",!0)]),j.value?(l(),a("div",Et,[t("div",Rt,[y.value.admin?(l(),a("button",{key:0,class:"btn2 btn-primary join-item btn-bulk-batch",onClick:e[12]||(e[12]=p=>D(b.value.batch))},[e[38]||(e[38]=t("i",{class:"fa-regular fa-pencil","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:u.value.bulkEdit},null,8,Bt)])):(l(),a("button",{key:1,class:"btn2 join-item btn-primary",onClick:e[13]||(e[13]=p=>pe())},[e[39]||(e[39]=t("i",{class:"fa-regular fa-print","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:u.value.bulkPrint},null,8,At)])),O()?(l(),a("div",Dt,[t("button",{type:"button",class:"btn2 btn-primary join-item","aria-expanded":"false","aria-label":"Create from template","aria-haspopup":"menu","aria-controls":"templates-submenu",onClick:e[14]||(e[14]=p=>H.value=!H.value)},[e[40]||(e[40]=t("i",{class:"fa-regular fa-caret-down","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.actions},null,8,St)]),H.value?G((l(),a("div",zt,[y.value.admin?(l(),a("button",{key:0,onClick:e[15]||(e[15]=p=>D(b.value.permissions)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[41]||(e[41]=t("i",{class:"fa-regular fa-lock","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkPermissions},null,8,Ot)])):d("",!0),y.value.admin?(l(),a("button",{key:1,onClick:e[16]||(e[16]=p=>D(b.value.transform)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[42]||(e[42]=t("i",{class:"fa-regular fa-exchange-alt","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkTransform},null,8,qt)])):d("",!0),t("button",{onClick:e[17]||(e[17]=p=>D(b.value.copy)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[43]||(e[43]=t("i",{class:"fa-regular fa-clone","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkCopy},null,8,Ft)]),y.value.admin?(l(),a("button",{key:2,onClick:e[18]||(e[18]=p=>D(b.value.template)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[44]||(e[44]=t("i",{class:"fa-regular fa-table","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkTemplate},null,8,It)])):d("",!0),y.value.admin?(l(),a("button",{key:3,onClick:e[19]||(e[19]=p=>pe()),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[45]||(e[45]=t("i",{class:"fa-regular fa-print","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkPrint},null,8,Nt)])):d("",!0),y.value.delete?(l(),a("button",{key:4,onClick:e[20]||(e[20]=p=>me()),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-error hover:bg-error hover:text-error-content rounded"},[e[46]||(e[46]=t("i",{class:"fa-regular fa-trash-can","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkDelete},null,8,Vt)])):d("",!0)])),[[L,Z]]):d("",!0)])):d("",!0)])])):(l(),a("div",at,[z.value?(l(),a("button",st,[...e[26]||(e[26]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):(l(),a("div",it,[t("button",{onClick:e[3]||(e[3]=p=>A.value=!A.value),class:"btn2",title:u.value.order},[...e[27]||(e[27]=[t("i",{class:"fa-regular fa-arrow-down-a-z","aria-hidden":"true"},null,-1)])],8,rt),A.value?G((l(),a("div",ot,[t("button",{onClick:e[4]||(e[4]=p=>K("name")),class:M(Q("name"))},[V("name")?(l(),a("i",{key:0,class:M(X("name"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.name},null,8,ut)],2),t("button",{onClick:e[5]||(e[5]=p=>K("type")),class:M(Q("type"))},[V("type")?(l(),a("i",{key:0,class:M(X("type"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.type},null,8,dt)],2),t("button",{onClick:e[6]||(e[6]=p=>K("is_private")),class:M(Q("is_private"))},[V("is_private")?(l(),a("i",{key:0,class:M(X("is_private"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.is_private},null,8,ct)],2)])),[[L,Z]]):d("",!0)])),g.value.is_nested?(l(),a("div",pt,[c.value?(l(),a("button",ft,[...e[28]||(e[28]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):d("",!0),h.value&&!c.value?(l(),a("button",{key:1,onClick:e[7]||(e[7]=p=>oe()),class:"btn2",title:u.value.flatten},[e[29]||(e[29]=t("i",{class:"fa-regular fa-boxes-stacked","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.flatten},null,8,gt)],8,vt)):c.value?d("",!0):(l(),a("button",{key:2,onClick:e[8]||(e[8]=p=>oe()),class:"btn2",title:u.value.nest},[e[30]||(e[30]=t("i",{class:"fa-regular fa-layer-group","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.nest},null,8,mt)],8,ht))])):d("",!0),g.value.has_table?(l(),a("div",yt,[q()?(l(),a("button",{key:0,onClick:e[9]||(e[9]=p=>ue()),class:"btn2",title:u.value.layout_table},[e[31]||(e[31]=t("i",{class:"fa-regular fa-list-ul","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.layout_table},null,8,xt)],8,bt)):(l(),a("button",{key:1,onClick:e[10]||(e[10]=p=>ue()),class:"btn2",title:u.value.layout_grid},[e[32]||(e[32]=t("i",{class:"fa-regular fa-grid-2","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.layout_grid},null,8,wt)],8,kt))])):d("",!0),O()&&y.value.create?(l(),a("div",Lt,[t("a",{href:b.value.create,class:"btn2 btn-primary join-item btn-new-entity"},[e[33]||(e[33]=t("i",{class:"fa-regular fa-plus","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:g.value.singular},null,8,Tt)],8,_t),y.value.template?(l(),a("div",Mt,[t("button",{type:"button",class:"btn2 btn-primary join-item","aria-expanded":"false","aria-label":"Create from template","aria-haspopup":"menu","aria-controls":"templates-submenu",onClick:e[11]||(e[11]=p=>H.value=!H.value)},[e[34]||(e[34]=t("i",{class:"fa-regular fa-caret-down","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.actions},null,8,Ct)]),H.value?G((l(),a("div",Ht,[(l(!0),a($,null,R(w.value,p=>(l(),a("a",{href:p.url,key:p.id,class:"new-entity-from-template text-base-content flex items-center gap-2 px-2 py-1"},[e[35]||(e[35]=t("i",{class:"fa-regular fa-star","aria-hidden":"true"},null,-1)),t("span",{innerHTML:p.name},null,8,$t)],8,Pt))),128)),e[37]||(e[37]=t("hr",{class:"m-0"},null,-1)),t("a",jt,[e[36]||(e[36]=t("i",{class:"fa-regular fa-external-link","aria-hidden":"true"},null,-1)),t("span",{class:"text-nowrap",innerHTML:u.value.templates},null,8,Ut)])])),[[L,Z]]):d("",!0)])):d("",!0)])):d("",!0)]))]),t("div",Gt,[t("div",{class:M(ye())},[i.value&&q()?(l(),a("a",{key:0,href:i.value.urls.parent,class:"entity w-[47%] xs:w-[25%] sm:w-48 overflow-hidden rounded flex flex-col shadow-xs hover:shadow-md sm text-link"},[e[47]||(e[47]=t("div",{class:"w-46 flex items-center justify-center grow text-6xl"},[t("i",{class:"fa-regular fa-arrow-left","aria-hidden":"true"})],-1)),t("div",Wt,[t("span",{innerHTML:i.value.links.back},null,8,Kt)])],8,Jt)):i.value&&!q()?(l(),a("a",{key:1,href:i.value.urls.parent,class:"rounded-xl flex bg-base-100 shadow-xs items-center gap-4 py-2 px-4 overflow-hidden text-link"},[e[48]||(e[48]=t("div",{class:""},[t("i",{class:"fa-regular fa-arrow-left","aria-hidden":"true"})],-1)),t("div",Xt,[t("span",{innerHTML:i.value.links.back},null,8,Yt)])],8,Qt)):d("",!0),(l(!0),a($,null,R(r.value,p=>(l(),J(T,{key:p.id,entity:p,"is-parent":!1,i18n:u.value,selecting:j.value,layout:U.value,nesting:h.value},null,8,["entity","i18n","selecting","layout","nesting"]))),128))],2)]),(l(),a("div",Zt,[P.value?(l(),a("div",en,[...e[49]||(e[49]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):(l(),J(_e(Oe),{key:0,data:k.value,itemClasses:["bg-base-200","text-base-content","border-none","hover:bg-base-300"],activeClasses:["bg-base-100","border-none","text-base-content"],onPaginationChangePage:ge},null,8,["data"]))])),r.value.length===0?(l(),a("p",{key:1,class:"help-text italic",innerHTML:u.value.noResults},null,8,tn)):d("",!0),t("form",{method:"POST",action:b.value.print,ref_key:"printForm",ref:_},[(l(!0),a($,null,R(ee(),p=>(l(),a("input",{type:"hidden",name:"model[]",value:p},null,8,ln))),256)),t("input",{type:"hidden",name:"_token",value:v.value},null,8,an)],8,nn)]))}}}),rn=["data-stack"],on=["href","title"],un=["title"],dn=["aria-label"],cn={key:0,class:"fa-regular fa-check","aria-label":"selected"},pn=["href","data-id","data-url","innerHTML"],fn=["data-stack"],vn=["href","title"],gn=["title"],hn=["aria-label"],mn={key:0,class:"fa-regular fa-check","aria-label":"selected"},yn=["href","data-id","data-url","innerHTML"],bn={class:"flex items-center gap-4"},xn={key:0,class:"w-5 h-5 cursor-pointer border rounded-full text-center"},kn={key:0,class:"fa-regular fa-check","aria-label":"selected"},wn=["href","title"],Ln=["href","data-id","data-url","innerHTML"],_n={class:"text-neutral-content lg:w-40 truncate"},Tn=["innerHTML"],Mn={class:"flex items-center gap-4 justify-between"},Cn={class:"flex items-center gap-1"},Hn=["href","innerHTML","title"],Pn=["aria-label","title"],$n=["title"],jn=["innerHTML"],Un={key:4,class:"text-center"},En={key:5,class:"flex flex-col gap-1 pl-2"},Rn=fe({__name:"Entity",props:{entity:{},isParent:{type:Boolean},selecting:{type:Boolean},i18n:{},layout:{},nesting:{type:Boolean}},setup(n){const o=f(!1),r=f(null),i=n,v=()=>{let c="entity overflow-hidden rounded shadow-xs hover:shadow-md w-[47%] xs:w-[25%] sm:w-48 aspect-square flex flex-col bg-box";return i.isParent&&(c+="shadow-lg stacking-parent font-bold"),c},y=()=>{let c="rounded-xl flex bg-base-100 shadow-xs items-center gap-4 py-2 px-4 overflow-hidden justify-between";return i.isParent&&(c+=" shadow-lg stacking-parent"),i.selecting&&(c+=" cursor-pointer"),c},_=()=>({backgroundImage:"url('"+i.entity.images.thumb+"')"}),g=()=>!(!P()&&!i.nesting),k=()=>i.entity.children&&!P()&&!o.value&&!r.value,x=()=>{let c={};return c["data-entity"]=i.entity.id,c["data-entity-type"]=i.entity.entityType.code,c["data-type"]=i.entity.type,i.entity.attributes.forEach(h=>{c[`data-${h}`]=!0}),c},b=()=>i.entity.children>0,m=c=>{i.selecting?C():c.target&&c.target.href&&(window.location.href=c.target.href)},C=()=>{i.entity.selected=!i.entity.selected},B=()=>{let c="rounded rounded-full opacity-80 h-6 w-6 absolute left-1.5 top-1.5 border border-primary flex items-center justify-center text-xl";return i.entity.selected?c+" bg-primary text-primary-content":c+" bg-base-100 "},I=()=>{o.value=!0,fetch(i.entity.urls.children_api).then(c=>c.json()).then(c=>{z(c),o.value=!1})},z=c=>{r.value=[],c.entities.data.forEach(h=>{r.value.push(h)})},A=c=>" tag rounded-full text-xs flex items-center justify-center badge cursor-pointer hover:shadow-xs "+c.colour,P=()=>i.layout==="grid";return(c,h)=>{const H=ae("Entity",!0);return l(),a($,null,[P()&&b()?(l(),a("div",{key:0,class:"stack inline-grid items-center align-items-end w-[47%] xs:w-[25%] sm:w-48","data-stack":n.entity.children},[t("div",E({class:"entity overflow-hidden rounded shadow-xs hover:shadow-md aspect-square w-full flex flex-col bg-box"},x()),[t("a",{href:n.entity.urls.children,title:n.entity.name,class:"block avatar grow relative cover-background overflow-hidden text-center text-link",style:le(_()),onClick:S(m,["prevent"])},[n.entity.is_private&&!n.selecting?(l(),a("div",{key:0,class:"bubble-private absolute left-1.5 top-1.5 text-xs shadow-xs flex justify-center align-items-center items-center aspect-square rounded-full w-6 h-6 bg-box opacity-80 text-base-content",title:n.i18n.is_private},[t("i",{class:"fa-regular fa-lock","aria-label":n.i18n.is_private},null,8,dn)],8,un)):n.selecting?(l(),a("div",{key:1,class:M(B())},[n.entity.selected?(l(),a("i",cn)):d("",!0)],2)):d("",!0)],12,on),t("a",{href:n.entity.urls.show,class:"block text-center relative truncate h-12 p-4 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,pn)],16),(l(!0),a($,null,R(n.entity.children,w=>(l(),a("div",{class:"entity entity-stack bg-base-300 w-full overflow-hidden rounded aspect-square flex flex-col shadow-xs",title:"{{ __('datagrids.tooltips.nested') }}","data-stack":w},[...h[1]||(h[1]=[t("div",{class:"block grow"},null,-1),t("div",{class:"block h-12 p-4 bg-box"},null,-1)])],8,fn))),256))],8,rn)):P()?(l(),a("div",E({key:1,class:v()},x()),[t("a",{href:n.entity.urls.show,class:"block avatar grow relative cover-background",style:le(_()),title:n.entity.name,onClick:S(m,["prevent"])},[n.entity.is_private&&!n.selecting?(l(),a("div",{key:0,class:"bubble-private absolute left-1.5 top-1.5 text-xs shadow-xs flex justify-center align-items-center items-center aspect-square rounded-full w-6 h-6 bg-box opacity-80 text-base-content",title:n.i18n.is_private},[t("i",{class:"fa-regular fa-lock","aria-label":n.i18n.is_private},null,8,hn)],8,gn)):n.selecting?(l(),a("div",{key:1,class:M(B())},[n.entity.selected?(l(),a("i",mn)):d("",!0)],2)):d("",!0)],12,vn),t("a",{href:n.entity.urls.show,class:"block text-center relative truncate h-12 p-4 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,yn)],16)):(l(),a("div",E({key:2,class:y()},x(),{onClick:m}),[t("div",bn,[n.selecting?(l(),a("div",xn,[n.entity.selected?(l(),a("i",kn)):d("",!0)])):d("",!0),t("a",{href:n.entity.urls.show,class:"block avatar w-8 h-8 rounded-full relative cover-background",style:le(_()),title:n.entity.name,onClick:S(m,["prevent"])},null,12,wn),t("a",{href:n.entity.urls.show,class:"truncate lg:w-40 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,Ln),t("div",_n,[t("span",{innerHTML:n.entity.type},null,8,Tn)])]),t("div",Mn,[t("div",Cn,[(l(!0),a($,null,R(n.entity.tags,w=>(l(),a("a",{href:w.urls.show,class:M(A(w)),innerHTML:w.shortname,title:w.name},null,10,Hn))),256))]),n.entity.is_private?(l(),a("i",{key:0,class:"fa-regular fa-lock","aria-label":n.i18n.is_private,title:n.i18n.is_private},null,8,Pn)):d("",!0)])],16)),g()&&k()?(l(),a("div",{key:3,onClick:h[0]||(h[0]=w=>I()),title:n.entity.name,class:"flex items-center justify-center gap-2 cursor-pointer text-xs p-0.5 hover:bg-base-200 rounded-xl","aria-label":"Show children"},[h[2]||(h[2]=t("i",{class:"fa-regular fa-angles-down","aria-hidden":"true"},null,-1)),t("span",{innerHTML:n.entity.children},null,8,jn)],8,$n)):d("",!0),o.value?(l(),a("span",Un,[...h[3]||(h[3]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):d("",!0),g()&&r.value?(l(),a("div",En,[(l(!0),a($,null,R(r.value,w=>(l(),J(H,{key:w.id,entity:w,"is-parent":!1,i18n:n.i18n,selecting:n.selecting,layout:n.layout,nesting:n.nesting},null,8,["entity","i18n","selecting","layout","nesting"]))),128))])):d("",!0)],64)}}}),Bn={data(){return{open:!1}},methods:{handleClickOutside(){this.open&&(this.open=!1)}}},An=["do"],Dn={class:"relative mx-auto"},Sn={class:"absolute pin-l mt-px"};function zn(n,o,r,i,v,y){return l(),a("div",{do:y.handleClickOutside},[t("div",Dn,[t("div",{role:"button",class:"inline-block select-none",onClick:o[0]||(o[0]=_=>v.open=!v.open)},[W(n.$slots,"link")]),G(t("div",Sn,[W(n.$slots,"dropdown")],512),[[Te,v.open]])])],8,An)}const On=Ce(Bn,[["render",zn]]),F=Me({});F.component("entities-explorer",sn);F.component("entities-entity",Rn);F.component("dropdown",On);F.use(He);F.mount("#entities-explorer");
========
import{m as ae,a as l,i as Q,J as be,c as a,Q as E,b as t,R as ne,P as V,F as $,r as R,t as xe,f as d,d as fe,o as ke,s as we,l as Le,w as J,e as M,H as _e,h as f,p as S,n as le,x as Te,q as Me}from"./vue.esm-bundler-C87APpr1.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{v as Pe}from"./v-click-outside.umd-Cl-Y_A58.js";import"./_commonjsHelpers-Cpj98o6Y.js";const He={emits:["pagination-change-page"],props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1}},computed:{isApiResource(){return!!this.data.meta},currentPage(){var n;return this.isApiResource?this.data.meta.current_page:(n=this.data.current_page)!=null?n:null},firstPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.first_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.first_page_url)!=null?i:(r=this.data.links)==null?void 0:r.first)!=null?v:null},from(){var n;return this.isApiResource?this.data.meta.from:(n=this.data.from)!=null?n:null},lastPage(){var n;return this.isApiResource?this.data.meta.last_page:(n=this.data.last_page)!=null?n:null},lastPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.last_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.last_page_url)!=null?i:(r=this.data.links)==null?void 0:r.last)!=null?v:null},nextPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.next_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.next_page_url)!=null?i:(r=this.data.links)==null?void 0:r.next)!=null?v:null},perPage(){var n;return this.isApiResource?this.data.meta.per_page:(n=this.data.per_page)!=null?n:null},prevPageUrl(){var n,o,r,i,v;return(v=(i=(o=this.data.prev_page_url)!=null?o:(n=this.data.meta)==null?void 0:n.prev_page_url)!=null?i:(r=this.data.links)==null?void 0:r.prev)!=null?v:null},to(){var n;return this.isApiResource?this.data.meta.to:(n=this.data.to)!=null?n:null},total(){var n;return this.isApiResource?this.data.meta.total:(n=this.data.total)!=null?n:null},pageRange(){if(this.limit===-1)return 0;if(this.limit===0)return this.lastPage;for(var n=this.currentPage,o=this.keepLength,r=this.lastPage,i=this.limit,v=n-i,y=n+i,_=(i+2)*2,g=(i+2)*2-1,k=[],x=[],b,m=1;m<=r;m++)(m===1||m===r||m>=v&&m<=y||o&&m<_&&n<_-2||o&&m>r-g&&n>r-g+2)&&k.push(m);return k.forEach(function(C){b&&(C-b===2?x.push(b+1):C-b!==1&&x.push("...")),x.push(C),b=C}),x}},methods:{previousPage(){this.selectPage(this.currentPage-1)},nextPage(){this.selectPage(this.currentPage+1)},selectPage(n){n==="..."||n===this.currentPage||this.$emit("pagination-change-page",n)}},render(){return this.$slots.default({data:this.data,limit:this.limit,computed:{isApiResource:this.isApiResource,currentPage:this.currentPage,firstPageUrl:this.firstPageUrl,from:this.from,lastPage:this.lastPage,lastPageUrl:this.lastPageUrl,nextPageUrl:this.nextPageUrl,perPage:this.perPage,prevPageUrl:this.prevPageUrl,to:this.to,total:this.total,pageRange:this.pageRange},prevButtonEvents:{click:n=>{n.preventDefault(),this.previousPage()}},nextButtonEvents:{click:n=>{n.preventDefault(),this.nextPage()}},pageButtonEvents:n=>({click:o=>{o.preventDefault(),this.selectPage(n)}})})}},$e=(n,o)=>{const r=n.__vccOpts||n;for(const[i,v]of o)r[i]=v;return r},je={compatConfig:{MODE:3},inheritAttrs:!1,emits:["pagination-change-page"],components:{RenderlessPagination:He},props:{data:{type:Object,default:()=>{}},limit:{type:Number,default:0},keepLength:{type:Boolean,default:!1},itemClasses:{type:Array,default:()=>["bg-white","text-gray-500","border-gray-300","hover:bg-gray-50"]},activeClasses:{type:Array,default:()=>["bg-blue-50","border-blue-500","text-blue-600"]}},methods:{onPaginationChangePage(n){this.$emit("pagination-change-page",n)}}},Ue=["disabled"],Ee=t("span",{class:"sr-only"},"Previous",-1),Re=t("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),Be=["aria-current","disabled"],Ae=["disabled"],De=t("span",{class:"sr-only"},"Next",-1),Se=t("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1);function ze(n,o,r,i,v,y){const _=ae("RenderlessPagination");return l(),Q(_,{data:r.data,limit:r.limit,"keep-length":r.keepLength,onPaginationChangePage:y.onPaginationChangePage},{default:be(g=>[g.computed.total>g.computed.perPage?(l(),a("nav",E({key:0},n.$attrs,{class:"inline-flex -space-x-px rounded-md shadow-sm isolate ltr:flex-row rtl:flex-row-reverse","aria-label":"Pagination"}),[t("button",E({class:["relative inline-flex items-center px-2 py-2 text-sm font-medium border rounded-l-md focus:z-20 disabled:opacity-50",r.itemClasses],disabled:!g.computed.prevPageUrl},ne(g.prevButtonEvents,!0)),[V(n.$slots,"prev-nav",{},()=>[Ee,Re])],16,Ue),(l(!0),a($,null,R(g.computed.pageRange,(k,x)=>(l(),a("button",E({class:["relative inline-flex items-center px-4 py-2 text-sm font-medium border focus:z-20",[k==g.computed.currentPage?r.activeClasses:r.itemClasses,k==g.computed.currentPage?"z-30":""]],"aria-current":g.computed.currentPage?"page":null,key:x},ne(g.pageButtonEvents(k),!0),{disabled:k===g.computed.currentPage}),xe(k),17,Be))),128)),t("button",E({class:["relative inline-flex items-center px-2 py-2 text-sm font-medium border rounded-r-md focus:z-20 disabled:opacity-50",r.itemClasses],disabled:!g.computed.nextPageUrl},ne(g.nextButtonEvents,!0)),[V(n.$slots,"next-nav",{},()=>[De,Se])],16,Ae)],16)):d("",!0)]),_:3},8,["data","limit","keep-length","onPaginationChangePage"])}const Oe=$e(je,[["render",ze]]),qe={key:0,class:"flex flex-col gap-4 w-full"},Fe={class:"flex gap-2 justify-between items-center"},Ie=["innerHTML"],Ne={key:1,class:"flex flex-col gap-4 w-full"},Ge={class:"flex gap-2 justify-between items-center flex-wrap"},Je={class:"flex gap-1 items-center flex-wrap"},Qe=["innerHTML"],Ve={key:0,class:"bg-base-200 flex items-stretch gap-1 rounded-xl"},Ke=["aria-label","title"],We=["title"],Xe=["aria-label"],Ye=["href"],Ze={key:1},et=["aria-label","title"],tt=["innerHTML"],nt=["innerHTML"],lt=["innerHTML"],at={key:0,class:"flex gap-2 items-center"},st={key:0,class:"btn2"},it={key:1,class:"dropdown"},rt=["title"],ot={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},ut=["innerHTML"],dt=["innerHTML"],ct=["innerHTML"],pt={key:2},ft={key:0,class:"btn2"},vt=["title"],gt=["innerHTML"],ht=["title"],mt=["innerHTML"],yt={key:3},bt=["title"],xt=["innerHTML"],kt=["title"],wt=["innerHTML"],Lt={key:4,class:"join"},_t=["href"],Tt=["innerHTML"],Mt={key:0,class:"dropdown relative"},Ct=["innerHTML"],Pt={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 right-0 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},Ht=["href"],$t=["innerHTML"],jt={href:"https://docs.kanka.io/en/latest/guides/templates.html",class:"flex flex-no-wrap gap-2 px-2 py-1 items-center"},Ut=["innerHTML"],Et={key:1,class:"flex gap-2 items-center"},Rt={class:"join"},Bt=["innerHTML"],At=["innerHTML"],Dt={key:2,class:"dropdown relative"},St=["innerHTML"],zt={key:0,class:"dropdown-menu absolute mt-2 flex flex-col gap-1 right-0 bg-base-200 shadow-sm p-2 rounded z-10",role:"menu",id:"templates-submenu"},Ot=["innerHTML"],qt=["innerHTML"],Ft=["innerHTML"],It=["innerHTML"],Nt=["innerHTML"],Gt=["innerHTML"],Jt={class:"flex gap-1 items-start"},Qt=["href"],Vt={class:"block text-center p-4 h-12 bg-box"},Kt=["innerHTML"],Wt=["href"],Xt={class:""},Yt=["innerHTML"],Zt={key:0,class:"flex items-center justify-end gap-1 h-12"},en={key:1,class:"flex items-center"},tn=["innerHTML"],nn=["action"],ln=["value"],an=["value"],sn=fe({__name:"Explorer",props:{api:{},module:{},mode:{}},setup(n){const o=n,r=f([]),i=f(),v=f(),y=f(),_=f(),g=f(),k=f(),x=f(),b=f({}),m=f(0),C=f(0),B=f(),I=f(!0),z=f(!1),A=f(!1),H=f(!1),c=f(!1),h=f(!0),P=f(!1),w=f([]),j=f(!1),u=f({}),se=f(!1),U=f("grid");ke(()=>{U.value=o.mode,fetch(o.api).then(s=>s.json()).then(s=>{de(s),m.value=s.filters.unfilteredCount,C.value=s.filters.count,B.value=s.filters.urls,u.value=s.i18n,h.value=s.nested,i.value=s.parent,w.value=s.templates,y.value=s.permissions,se.value=s.bookmarkable,b.value=s.urls,g.value=s.entityType,ce()})});const ie=()=>{j.value=!j.value,r.value.forEach(s=>{s.selected=!1})},ve=()=>{if(!r.value.length)return;const s=!r.value[0].selected;r.value.forEach(e=>{e.selected=s})},re=()=>{window.openDialog("datagrid-filters",B.value.form)},D=s=>{let e=ee();if(e.length===0)return;let T=new URL(s,window.location.origin),L=T.searchParams;e.forEach(p=>{L.append("entities[]",p)}),window.openDialog("primary-dialog",T.toString())},oe=()=>{c.value=!0;let s=o.api;h.value=!h.value,N(te(s,"n",h.value?"1":"0"));const e=new URL(window.location.href);e.searchParams.set("n",h.value?1:0),window.history.pushState({},"",e)},ue=()=>{let s=o.api;q()?U.value="table":U.value="grid",N(te(s,"m",U.value));const e=new URL(window.location.href);e.searchParams.set("m",U.value),window.history.pushState({},"",e)},ge=async(s=1)=>{H.value=!0,N(te(o.api,"page",s))},N=s=>{fetch(s).then(e=>e.json()).then(e=>{de(e),ce()})},de=s=>{r.value=[],k.value=s.entities,s.entities.data.forEach(e=>{r.value.push(e)}),v.value=s.csrf,x.value=s.order},ce=()=>{I.value=!1,H.value=!1,c.value=!1,z.value=!1},K=s=>{z.value=!0;let e=new URL(o.api,window.location.origin),T=e.searchParams;T.set("order",s),Y(s)?T.set("desc","1"):T.delete("desc"),e=e.toString(),N(e);const L=new URL(window.location.href);L.searchParams.set("order",s),Y(s)?L.searchParams.set("desc","1"):L.searchParams.delete("desc"),window.history.pushState({},"",L)},W=s=>{let e="flex items-center gap-2 px-2";return G(s)?e+" font-extrabold":e},X=s=>Y(s)?"fa-regular fa-arrow-down-z-a":"fa-fa-regular fa-arrow-down-a-z",G=s=>x.value[s],Y=s=>x.value[s]==="ASC";we(()=>{window.ajaxTooltip()});const Z=()=>{P.value=!1,A.value=!1},pe=()=>{ee().length!==0&&_.value.submit()},he=()=>{window.openDialog("primary-dialog",b.value.bookmark)},me=()=>{D(b.value.delete)},ee=()=>{let s=[];return r.value.filter(e=>e.selected).forEach(e=>{s.push(e.id)}),s},O=()=>y.value,ye=()=>q()?"entities-grid flex flex-wrap gap-3 lg:gap-5 w-full":"entities-grid flex flex-col gap-1 w-full",q=()=>U.value==="grid",te=(s,e,T)=>{let L=new URL(s,window.location.origin);return L.searchParams.set(e,T),L.toString()};return(s,e)=>{const T=ae("entities-entity"),L=Le("click-outside");return I.value?(l(),a("div",qe,[t("div",Fe,[t("h1",{class:"grow text-2xl category-title truncate",innerHTML:o.module},null,8,Ie),e[21]||(e[21]=t("div",{class:"flex gap-2 items-center"},[t("button",{class:"btn2 btn-disabled",disabled:"disabled"},[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"})])],-1))]),e[22]||(e[22]=t("div",{class:"flex gap-2 items-start"},[t("div",{class:"rounded shadow-xs w-[47%] xs:w-[25%] sm:w-48 aspect-square flex items-center justify-center text-xl text-neutral-content"},[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"})])],-1))])):(l(),a("div",Ne,[t("div",Ge,[t("div",Je,[t("h1",{class:"grow text-2xl category-title truncate",innerHTML:o.module},null,8,Qe),C.value>0?(l(),a("div",Ve,[t("div",{class:"flex items-center rounded-xl gap-2 hover:bg-base-300 px-2 py-2 cursor-pointer","aria-label":u.value.filters,title:u.value.filters,onClick:re},[...e[23]||(e[23]=[t("i",{class:"fa-regular fa-filter hover:bg-base-300","aria-label":"Filter"},null,-1),t("span",{class:"rounded bg-primary text-primary-content px-2 text-sm"},"1",-1)])],8,Ke),se.value?(l(),a("div",{key:0,class:"flex items-center justify-center rounded-xl gap-2 hover:bg-base-300 px-3 py-2 cursor-pointer hover:text-primary",title:u.value.bookmark,onClick:he},[t("i",{class:"fa-regular fa-bookmark","aria-label":u.value.bookmark},null,8,Xe)],8,We)):d("",!0),e[25]||(e[25]=t("div",{class:"w-0 h-auto my-2 border-base-content border-l"},null,-1)),t("a",{class:"flex items-center rounded-xl gap-2 hover:bg-base-300 px-2 py-2 text-base-content hover:text-primary",href:B.value.clear},[...e[24]||(e[24]=[t("i",{class:"fa-regular fa-eraser","aria-label":"Clear"},null,-1)])],8,Ye)])):(l(),a("div",Ze,[t("i",{class:"fa-regular fa-filter text-lg rounded hover:text-primary-content cursor-pointer px-2 py-1 hover:bg-primary","aria-label":u.value.filters,title:u.value.filters,onClick:re},null,8,et)])),O()&&!j.value?(l(),a("button",{key:2,onClick:e[0]||(e[0]=p=>ie()),class:"rounded rounded-full border-primary text-primary border px-3 py-1 text-xs uppercase hover:bg-primary hover:text-primary-content",innerHTML:u.value.select},null,8,tt)):d("",!0),O()&&j.value?(l(),a("button",{key:3,onClick:e[1]||(e[1]=p=>ie()),class:"rounded rounded-full bg-primary text-primary-content px-3 py-1 text-xs uppercase",innerHTML:u.value.done},null,8,nt)):d("",!0),O()&&j.value?(l(),a("button",{key:4,onClick:e[2]||(e[2]=p=>ve()),class:"rounded rounded-full border-primary text-primary border px-3 py-1 text-xs uppercase hover:bg-primary hover:text-primary-content",innerHTML:u.value.selectAll},null,8,lt)):d("",!0)]),j.value?(l(),a("div",Et,[t("div",Rt,[y.value.admin?(l(),a("button",{key:0,class:"btn2 btn-primary join-item btn-bulk-batch",onClick:e[12]||(e[12]=p=>D(b.value.batch))},[e[38]||(e[38]=t("i",{class:"fa-regular fa-pencil","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:u.value.bulkEdit},null,8,Bt)])):(l(),a("button",{key:1,class:"btn2 join-item btn-primary",onClick:e[13]||(e[13]=p=>pe())},[e[39]||(e[39]=t("i",{class:"fa-regular fa-print","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:u.value.bulkPrint},null,8,At)])),O()?(l(),a("div",Dt,[t("button",{type:"button",class:"btn2 btn-primary join-item","aria-expanded":"false","aria-label":"Create from template","aria-haspopup":"menu","aria-controls":"templates-submenu",onClick:e[14]||(e[14]=p=>P.value=!P.value)},[e[40]||(e[40]=t("i",{class:"fa-regular fa-caret-down","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.actions},null,8,St)]),P.value?J((l(),a("div",zt,[y.value.admin?(l(),a("button",{key:0,onClick:e[15]||(e[15]=p=>D(b.value.permissions)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[41]||(e[41]=t("i",{class:"fa-regular fa-lock","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkPermissions},null,8,Ot)])):d("",!0),y.value.admin?(l(),a("button",{key:1,onClick:e[16]||(e[16]=p=>D(b.value.transform)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[42]||(e[42]=t("i",{class:"fa-regular fa-exchange-alt","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkTransform},null,8,qt)])):d("",!0),t("button",{onClick:e[17]||(e[17]=p=>D(b.value.copy)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[43]||(e[43]=t("i",{class:"fa-regular fa-clone","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkCopy},null,8,Ft)]),y.value.admin?(l(),a("button",{key:2,onClick:e[18]||(e[18]=p=>D(b.value.template)),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[44]||(e[44]=t("i",{class:"fa-regular fa-table","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkTemplate},null,8,It)])):d("",!0),y.value.admin?(l(),a("button",{key:3,onClick:e[19]||(e[19]=p=>pe()),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-nowrap hover:text-primary"},[e[45]||(e[45]=t("i",{class:"fa-regular fa-print","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkPrint},null,8,Nt)])):d("",!0),y.value.delete?(l(),a("button",{key:4,onClick:e[20]||(e[20]=p=>me()),class:"flex items-center gap-2 px-2 py-1 cursor-pointer text-error hover:bg-error hover:text-error-content rounded"},[e[46]||(e[46]=t("i",{class:"fa-regular fa-trash-can","aria-hidden":"true"},null,-1)),t("span",{innerHTML:u.value.bulkDelete},null,8,Gt)])):d("",!0)])),[[L,Z]]):d("",!0)])):d("",!0)])])):(l(),a("div",at,[z.value?(l(),a("button",st,[...e[26]||(e[26]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):(l(),a("div",it,[t("button",{onClick:e[3]||(e[3]=p=>A.value=!A.value),class:"btn2",title:u.value.order},[...e[27]||(e[27]=[t("i",{class:"fa-regular fa-arrow-down-a-z","aria-hidden":"true"},null,-1)])],8,rt),A.value?J((l(),a("div",ot,[t("button",{onClick:e[4]||(e[4]=p=>K("name")),class:M(W("name"))},[G("name")?(l(),a("i",{key:0,class:M(X("name"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.name},null,8,ut)],2),t("button",{onClick:e[5]||(e[5]=p=>K("type")),class:M(W("type"))},[G("type")?(l(),a("i",{key:0,class:M(X("type"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.type},null,8,dt)],2),t("button",{onClick:e[6]||(e[6]=p=>K("is_private")),class:M(W("is_private"))},[G("is_private")?(l(),a("i",{key:0,class:M(X("is_private"))},null,2)):d("",!0),t("span",{innerHTML:u.value.fields.is_private},null,8,ct)],2)])),[[L,Z]]):d("",!0)])),g.value.is_nested?(l(),a("div",pt,[c.value?(l(),a("button",ft,[...e[28]||(e[28]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):d("",!0),h.value&&!c.value?(l(),a("button",{key:1,onClick:e[7]||(e[7]=p=>oe()),class:"btn2",title:u.value.flatten},[e[29]||(e[29]=t("i",{class:"fa-regular fa-boxes-stacked","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.flatten},null,8,gt)],8,vt)):c.value?d("",!0):(l(),a("button",{key:2,onClick:e[8]||(e[8]=p=>oe()),class:"btn2",title:u.value.nest},[e[30]||(e[30]=t("i",{class:"fa-regular fa-layer-group","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.nest},null,8,mt)],8,ht))])):d("",!0),g.value.has_table?(l(),a("div",yt,[q()?(l(),a("button",{key:0,onClick:e[9]||(e[9]=p=>ue()),class:"btn2",title:u.value.layout_table},[e[31]||(e[31]=t("i",{class:"fa-regular fa-list-ul","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.layout_table},null,8,xt)],8,bt)):(l(),a("button",{key:1,onClick:e[10]||(e[10]=p=>ue()),class:"btn2",title:u.value.layout_grid},[e[32]||(e[32]=t("i",{class:"fa-regular fa-grid-2","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.layout_grid},null,8,wt)],8,kt))])):d("",!0),O()&&y.value.create?(l(),a("div",Lt,[t("a",{href:b.value.create,class:"btn2 btn-primary join-item btn-new-entity"},[e[33]||(e[33]=t("i",{class:"fa-regular fa-plus","aria-hidden":"true"},null,-1)),t("span",{class:"hidden md:inline",innerHTML:g.value.singular},null,8,Tt)],8,_t),y.value.template?(l(),a("div",Mt,[t("button",{type:"button",class:"btn2 btn-primary join-item","aria-expanded":"false","aria-label":"Create from template","aria-haspopup":"menu","aria-controls":"templates-submenu",onClick:e[11]||(e[11]=p=>P.value=!P.value)},[e[34]||(e[34]=t("i",{class:"fa-regular fa-caret-down","aria-hidden":"true"},null,-1)),t("span",{class:"sr-only",innerHTML:u.value.actions},null,8,Ct)]),P.value?J((l(),a("div",Pt,[(l(!0),a($,null,R(w.value,p=>(l(),a("a",{href:p.url,key:p.id,class:"new-entity-from-template text-base-content flex items-center gap-2 px-2 py-1"},[e[35]||(e[35]=t("i",{class:"fa-regular fa-star","aria-hidden":"true"},null,-1)),t("span",{innerHTML:p.name},null,8,$t)],8,Ht))),128)),e[37]||(e[37]=t("hr",{class:"m-0"},null,-1)),t("a",jt,[e[36]||(e[36]=t("i",{class:"fa-regular fa-external-link","aria-hidden":"true"},null,-1)),t("span",{class:"text-nowrap",innerHTML:u.value.templates},null,8,Ut)])])),[[L,Z]]):d("",!0)])):d("",!0)])):d("",!0)]))]),t("div",Jt,[t("div",{class:M(ye())},[i.value&&q()?(l(),a("a",{key:0,href:i.value.urls.parent,class:"entity w-[47%] xs:w-[25%] sm:w-48 overflow-hidden rounded flex flex-col shadow-xs hover:shadow-md sm text-link"},[e[47]||(e[47]=t("div",{class:"w-46 flex items-center justify-center grow text-6xl"},[t("i",{class:"fa-regular fa-arrow-left","aria-hidden":"true"})],-1)),t("div",Vt,[t("span",{innerHTML:i.value.links.back},null,8,Kt)])],8,Qt)):i.value&&!q()?(l(),a("a",{key:1,href:i.value.urls.parent,class:"rounded-xl flex bg-base-100 shadow-xs items-center gap-4 py-2 px-4 overflow-hidden text-link"},[e[48]||(e[48]=t("div",{class:""},[t("i",{class:"fa-regular fa-arrow-left","aria-hidden":"true"})],-1)),t("div",Xt,[t("span",{innerHTML:i.value.links.back},null,8,Yt)])],8,Wt)):d("",!0),(l(!0),a($,null,R(r.value,p=>(l(),Q(T,{key:p.id,entity:p,"is-parent":!1,i18n:u.value,selecting:j.value,layout:U.value,nesting:h.value},null,8,["entity","i18n","selecting","layout","nesting"]))),128))],2)]),(l(),a("div",Zt,[H.value?(l(),a("div",en,[...e[49]||(e[49]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):(l(),Q(_e(Oe),{key:0,data:k.value,itemClasses:["bg-base-200","text-base-content","border-none","hover:bg-base-300"],activeClasses:["bg-base-100","border-none","text-base-content"],onPaginationChangePage:ge},null,8,["data"]))])),r.value.length===0?(l(),a("p",{key:1,class:"help-text italic",innerHTML:u.value.noResults},null,8,tn)):d("",!0),t("form",{method:"POST",action:b.value.print,ref_key:"printForm",ref:_},[(l(!0),a($,null,R(ee(),p=>(l(),a("input",{type:"hidden",name:"model[]",value:p},null,8,ln))),256)),t("input",{type:"hidden",name:"_token",value:v.value},null,8,an)],8,nn)]))}}}),rn=["data-stack"],on=["href","title"],un=["title"],dn=["aria-label"],cn={key:0,class:"fa-regular fa-check","aria-label":"selected"},pn=["href","data-id","data-url","innerHTML"],fn=["data-stack"],vn=["href","title"],gn=["title"],hn=["aria-label"],mn={key:0,class:"fa-regular fa-check","aria-label":"selected"},yn=["href","data-id","data-url","innerHTML"],bn={class:"flex items-center gap-4"},xn={key:0,class:"w-5 h-5 cursor-pointer border rounded-full text-center"},kn={key:0,class:"fa-regular fa-check","aria-label":"selected"},wn=["href","title"],Ln=["href","data-id","data-url","innerHTML"],_n={class:"text-neutral-content lg:w-40 truncate"},Tn=["innerHTML"],Mn={class:"flex items-center gap-4 justify-between"},Cn={class:"flex items-center gap-1"},Pn=["href","innerHTML","title"],Hn=["aria-label","title"],$n=["title"],jn=["innerHTML"],Un={key:4,class:"text-center"},En={key:5,class:"flex flex-col gap-1 pl-2"},Rn=fe({__name:"Entity",props:{entity:{},isParent:{type:Boolean},selecting:{type:Boolean},i18n:{},layout:{},nesting:{type:Boolean}},setup(n){const o=f(!1),r=f(null),i=n,v=()=>{let c="entity overflow-hidden rounded shadow-xs hover:shadow-md w-[47%] xs:w-[25%] sm:w-48 aspect-square flex flex-col bg-box";return i.isParent&&(c+="shadow-lg stacking-parent font-bold"),c},y=()=>{let c="rounded-xl flex bg-base-100 shadow-xs items-center gap-4 py-2 px-4 overflow-hidden justify-between";return i.isParent&&(c+=" shadow-lg stacking-parent"),i.selecting&&(c+=" cursor-pointer"),c},_=()=>({backgroundImage:"url('"+i.entity.images.thumb+"')"}),g=()=>!(!H()&&!i.nesting),k=()=>i.entity.children&&!H()&&!o.value&&!r.value,x=()=>{let c={};return c["data-entity"]=i.entity.id,c["data-entity-type"]=i.entity.entityType.code,c["data-type"]=i.entity.type,i.entity.attributes.forEach(h=>{c[`data-${h}`]=!0}),c},b=()=>i.entity.children>0,m=c=>{i.selecting?C():c.target&&c.target.href&&(window.location.href=c.target.href)},C=()=>{i.entity.selected=!i.entity.selected},B=()=>{let c="rounded rounded-full opacity-80 h-6 w-6 absolute left-1.5 top-1.5 border border-primary flex items-center justify-center text-xl";return i.entity.selected?c+" bg-primary text-primary-content":c+" bg-base-100 "},I=()=>{o.value=!0,fetch(i.entity.urls.children_api).then(c=>c.json()).then(c=>{z(c),o.value=!1})},z=c=>{r.value=[],c.entities.data.forEach(h=>{r.value.push(h)})},A=c=>" tag rounded-full text-xs flex items-center justify-center badge cursor-pointer hover:shadow-xs "+c.colour,H=()=>i.layout==="grid";return(c,h)=>{const P=ae("Entity",!0);return l(),a($,null,[H()&&b()?(l(),a("div",{key:0,class:"stack inline-grid items-center align-items-end w-[47%] xs:w-[25%] sm:w-48","data-stack":n.entity.children},[t("div",E({class:"entity overflow-hidden rounded shadow-xs hover:shadow-md aspect-square w-full flex flex-col bg-box"},x()),[t("a",{href:n.entity.urls.children,title:n.entity.name,class:"block avatar grow relative cover-background overflow-hidden text-center text-link",style:le(_()),onClick:S(m,["prevent"])},[n.entity.is_private&&!n.selecting?(l(),a("div",{key:0,class:"bubble-private absolute left-1.5 top-1.5 text-xs shadow-xs flex justify-center align-items-center items-center aspect-square rounded-full w-6 h-6 bg-box opacity-80 text-base-content",title:n.i18n.is_private},[t("i",{class:"fa-regular fa-lock","aria-label":n.i18n.is_private},null,8,dn)],8,un)):n.selecting?(l(),a("div",{key:1,class:M(B())},[n.entity.selected?(l(),a("i",cn)):d("",!0)],2)):d("",!0)],12,on),t("a",{href:n.entity.urls.show,class:"block text-center relative truncate h-12 p-4 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,pn)],16),(l(!0),a($,null,R(n.entity.children,w=>(l(),a("div",{class:"entity entity-stack bg-base-300 w-full overflow-hidden rounded aspect-square flex flex-col shadow-xs",title:"{{ __('datagrids.tooltips.nested') }}","data-stack":w},[...h[1]||(h[1]=[t("div",{class:"block grow"},null,-1),t("div",{class:"block h-12 p-4 bg-box"},null,-1)])],8,fn))),256))],8,rn)):H()?(l(),a("div",E({key:1,class:v()},x()),[t("a",{href:n.entity.urls.show,class:"block avatar grow relative cover-background",style:le(_()),title:n.entity.name,onClick:S(m,["prevent"])},[n.entity.is_private&&!n.selecting?(l(),a("div",{key:0,class:"bubble-private absolute left-1.5 top-1.5 text-xs shadow-xs flex justify-center align-items-center items-center aspect-square rounded-full w-6 h-6 bg-box opacity-80 text-base-content",title:n.i18n.is_private},[t("i",{class:"fa-regular fa-lock","aria-label":n.i18n.is_private},null,8,hn)],8,gn)):n.selecting?(l(),a("div",{key:1,class:M(B())},[n.entity.selected?(l(),a("i",mn)):d("",!0)],2)):d("",!0)],12,vn),t("a",{href:n.entity.urls.show,class:"block text-center relative truncate h-12 p-4 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,yn)],16)):(l(),a("div",E({key:2,class:y()},x(),{onClick:m}),[t("div",bn,[n.selecting?(l(),a("div",xn,[n.entity.selected?(l(),a("i",kn)):d("",!0)])):d("",!0),t("a",{href:n.entity.urls.show,class:"block avatar w-8 h-8 rounded-full relative cover-background",style:le(_()),title:n.entity.name,onClick:S(m,["prevent"])},null,12,wn),t("a",{href:n.entity.urls.show,class:"truncate lg:w-40 text-link","data-toggle":"tooltip-ajax","data-id":n.entity.id,"data-url":n.entity.urls.tooltip,innerHTML:n.entity.name,onClick:S(m,["prevent"])},null,8,Ln),t("div",_n,[t("span",{innerHTML:n.entity.type},null,8,Tn)])]),t("div",Mn,[t("div",Cn,[(l(!0),a($,null,R(n.entity.tags,w=>(l(),a("a",{href:w.urls.show,class:M(A(w)),innerHTML:w.shortname,title:w.name},null,10,Pn))),256))]),n.entity.is_private?(l(),a("i",{key:0,class:"fa-regular fa-lock","aria-label":n.i18n.is_private,title:n.i18n.is_private},null,8,Hn)):d("",!0)])],16)),g()&&k()?(l(),a("div",{key:3,onClick:h[0]||(h[0]=w=>I()),title:n.entity.name,class:"flex items-center justify-center gap-2 cursor-pointer text-xs p-0.5 hover:bg-base-200 rounded-xl","aria-label":"Show children"},[h[2]||(h[2]=t("i",{class:"fa-regular fa-angles-down","aria-hidden":"true"},null,-1)),t("span",{innerHTML:n.entity.children},null,8,jn)],8,$n)):d("",!0),o.value?(l(),a("span",Un,[...h[3]||(h[3]=[t("i",{class:"fa-solid fa-spinner fa-spin","aria-label":"Loading"},null,-1)])])):d("",!0),g()&&r.value?(l(),a("div",En,[(l(!0),a($,null,R(r.value,w=>(l(),Q(P,{key:w.id,entity:w,"is-parent":!1,i18n:n.i18n,selecting:n.selecting,layout:n.layout,nesting:n.nesting},null,8,["entity","i18n","selecting","layout","nesting"]))),128))])):d("",!0)],64)}}}),Bn={data(){return{open:!1}},methods:{handleClickOutside(){this.open&&(this.open=!1)}}},An=["do"],Dn={class:"relative mx-auto"},Sn={class:"absolute pin-l mt-px"};function zn(n,o,r,i,v,y){return l(),a("div",{do:y.handleClickOutside},[t("div",Dn,[t("div",{role:"button",class:"inline-block select-none",onClick:o[0]||(o[0]=_=>v.open=!v.open)},[V(n.$slots,"link")]),J(t("div",Sn,[V(n.$slots,"dropdown")],512),[[Te,v.open]])])],8,An)}const On=Ce(Bn,[["render",zn]]),F=Me({});F.component("entities-explorer",sn);F.component("entities-entity",Rn);F.component("dropdown",On);F.use(Pe);F.mount("#entities-explorer");
>>>>>>>> develop:public/build/assets/explore-C83rSmyj.js
