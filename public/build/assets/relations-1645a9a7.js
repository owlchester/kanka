import{c as zr,g as Wo}from"./_commonjsHelpers-725317a4.js";function mc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ba=mc,bc=typeof zr=="object"&&zr&&zr.Object===Object&&zr,wc=bc,Ec=wc,xc=typeof self=="object"&&self&&self.Object===Object&&self,Tc=Ec||xc||Function("return this")(),Oi=Tc,Cc=Oi,Dc=function(){return Cc.Date.now()},Sc=Dc,Lc=/\s/;function Ac(t){for(var e=t.length;e--&&Lc.test(t.charAt(e)););return e}var Mc=Ac,Nc=Mc,Oc=/^\s+/;function Ic(t){return t&&t.slice(0,Nc(t)+1).replace(Oc,"")}var kc=Ic,Rc=Oi,Pc=Rc.Symbol,Xo=Pc,Bs=Xo,tl=Object.prototype,Bc=tl.hasOwnProperty,Fc=tl.toString,da=Bs?Bs.toStringTag:void 0;function zc(t){var e=Bc.call(t,da),r=t[da];try{t[da]=void 0;var n=!0}catch{}var a=Fc.call(t);return n&&(e?t[da]=r:delete t[da]),a}var Gc=zc,Hc=Object.prototype,$c=Hc.toString;function qc(t){return $c.call(t)}var Vc=qc,Fs=Xo,Uc=Gc,Yc=Vc,Wc="[object Null]",Xc="[object Undefined]",zs=Fs?Fs.toStringTag:void 0;function _c(t){return t==null?t===void 0?Xc:Wc:zs&&zs in Object(t)?Uc(t):Yc(t)}var rl=_c;function Kc(t){return t!=null&&typeof t=="object"}var Zc=Kc,Qc=rl,jc=Zc,Jc="[object Symbol]";function eh(t){return typeof t=="symbol"||jc(t)&&Qc(t)==Jc}var Fa=eh,th=kc,Gs=Ba,rh=Fa,Hs=0/0,nh=/^[-+]0x[0-9a-f]+$/i,ah=/^0b[01]+$/i,ih=/^0o[0-7]+$/i,oh=parseInt;function sh(t){if(typeof t=="number")return t;if(rh(t))return Hs;if(Gs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Gs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=th(t);var r=ah.test(t);return r||ih.test(t)?oh(t.slice(2),r?2:8):nh.test(t)?Hs:+t}var uh=sh,lh=Ba,yo=Sc,$s=uh,fh="Expected a function",ch=Math.max,hh=Math.min;function vh(t,e,r){var n,a,i,o,s,u,l=0,f=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(fh);e=$s(e)||0,lh(r)&&(f=!!r.leading,h="maxWait"in r,i=h?ch($s(r.maxWait)||0,e):i,p="trailing"in r?!!r.trailing:p);function d(I){var v=n,L=a;return n=a=void 0,l=I,o=t.apply(L,v),o}function g(I){return l=I,s=setTimeout(b,e),f?d(I):o}function m(I){var v=I-u,L=I-l,D=e-v;return h?hh(D,i-L):D}function w(I){var v=I-u,L=I-l;return u===void 0||v>=e||v<0||h&&L>=i}function b(){var I=yo();if(w(I))return T(I);s=setTimeout(b,m(I))}function T(I){return s=void 0,p&&n?d(I):(n=a=void 0,o)}function E(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function S(){return s===void 0?o:T(yo())}function A(){var I=yo(),v=w(I);if(n=arguments,a=this,u=I,v){if(s===void 0)return g(u);if(h)return clearTimeout(s),s=setTimeout(b,e),d(u)}return s===void 0&&(s=setTimeout(b,e)),o}return A.cancel=E,A.flush=S,A}var dh=vh,nl={exports:{}};(function(t,e){(function(){var r,n,a,i,o,s,u,l,f,h,p,d,g,m,w;a=Math.floor,h=Math.min,n=function(b,T){return b<T?-1:b>T?1:0},f=function(b,T,E,S,A){var I;if(E==null&&(E=0),A==null&&(A=n),E<0)throw new Error("lo must be non-negative");for(S==null&&(S=b.length);E<S;)I=a((E+S)/2),A(T,b[I])<0?S=I:E=I+1;return[].splice.apply(b,[E,E-E].concat(T)),T},s=function(b,T,E){return E==null&&(E=n),b.push(T),m(b,0,b.length-1,E)},o=function(b,T){var E,S;return T==null&&(T=n),E=b.pop(),b.length?(S=b[0],b[0]=E,w(b,0,T)):S=E,S},l=function(b,T,E){var S;return E==null&&(E=n),S=b[0],b[0]=T,w(b,0,E),S},u=function(b,T,E){var S;return E==null&&(E=n),b.length&&E(b[0],T)<0&&(S=[b[0],T],T=S[0],b[0]=S[1],w(b,0,E)),T},i=function(b,T){var E,S,A,I,v,L;for(T==null&&(T=n),I=(function(){L=[];for(var D=0,O=a(b.length/2);0<=O?D<O:D>O;0<=O?D++:D--)L.push(D);return L}).apply(this).reverse(),v=[],S=0,A=I.length;S<A;S++)E=I[S],v.push(w(b,E,T));return v},g=function(b,T,E){var S;if(E==null&&(E=n),S=b.indexOf(T),S!==-1)return m(b,0,S,E),w(b,S,E)},p=function(b,T,E){var S,A,I,v,L;if(E==null&&(E=n),A=b.slice(0,T),!A.length)return A;for(i(A,E),L=b.slice(T),I=0,v=L.length;I<v;I++)S=L[I],u(A,S,E);return A.sort(E).reverse()},d=function(b,T,E){var S,A,I,v,L,D,O,R,k;if(E==null&&(E=n),T*10<=b.length){if(I=b.slice(0,T).sort(E),!I.length)return I;for(A=I[I.length-1],O=b.slice(T),v=0,D=O.length;v<D;v++)S=O[v],E(S,A)<0&&(f(I,S,0,null,E),I.pop(),A=I[I.length-1]);return I}for(i(b,E),k=[],L=0,R=h(T,b.length);0<=R?L<R:L>R;0<=R?++L:--L)k.push(o(b,E));return k},m=function(b,T,E,S){var A,I,v;for(S==null&&(S=n),A=b[E];E>T;){if(v=E-1>>1,I=b[v],S(A,I)<0){b[E]=I,E=v;continue}break}return b[E]=A},w=function(b,T,E){var S,A,I,v,L;for(E==null&&(E=n),A=b.length,L=T,I=b[T],S=2*T+1;S<A;)v=S+1,v<A&&!(E(b[S],b[v])<0)&&(S=v),b[T]=b[S],T=S,S=2*T+1;return b[T]=I,m(b,L,T,E)},r=function(){b.push=s,b.pop=o,b.replace=l,b.pushpop=u,b.heapify=i,b.updateItem=g,b.nlargest=p,b.nsmallest=d;function b(T){this.cmp=T??n,this.nodes=[]}return b.prototype.push=function(T){return s(this.nodes,T,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},b.prototype.replace=function(T){return l(this.nodes,T,this.cmp)},b.prototype.pushpop=function(T){return u(this.nodes,T,this.cmp)},b.prototype.heapify=function(){return i(this.nodes,this.cmp)},b.prototype.updateItem=function(T){return g(this.nodes,T,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var T;return T=new b,T.nodes=this.nodes.slice(0),T},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,T){return t.exports=T()}(this,function(){return r})}).call(zr)})(nl);var gh=nl.exports,ph=gh,yh=Array.isArray,Ii=yh,mh=Ii,bh=Fa,wh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eh=/^\w*$/;function xh(t,e){if(mh(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bh(t)?!0:Eh.test(t)||!wh.test(t)||e!=null&&t in Object(e)}var Th=xh,Ch=rl,Dh=Ba,Sh="[object AsyncFunction]",Lh="[object Function]",Ah="[object GeneratorFunction]",Mh="[object Proxy]";function Nh(t){if(!Dh(t))return!1;var e=Ch(t);return e==Lh||e==Ah||e==Sh||e==Mh}var Oh=Nh,Ih=Oi,kh=Ih["__core-js_shared__"],Rh=kh,mo=Rh,qs=function(){var t=/[^.]+$/.exec(mo&&mo.keys&&mo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ph(t){return!!qs&&qs in t}var Bh=Ph,Fh=Function.prototype,zh=Fh.toString;function Gh(t){if(t!=null){try{return zh.call(t)}catch{}try{return t+""}catch{}}return""}var Hh=Gh,$h=Oh,qh=Bh,Vh=Ba,Uh=Hh,Yh=/[\\^$.*+?()[\]{}|]/g,Wh=/^\[object .+?Constructor\]$/,Xh=Function.prototype,_h=Object.prototype,Kh=Xh.toString,Zh=_h.hasOwnProperty,Qh=RegExp("^"+Kh.call(Zh).replace(Yh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jh(t){if(!Vh(t)||qh(t))return!1;var e=$h(t)?Qh:Wh;return e.test(Uh(t))}var Jh=jh;function ev(t,e){return t==null?void 0:t[e]}var tv=ev,rv=Jh,nv=tv;function av(t,e){var r=nv(t,e);return rv(r)?r:void 0}var _o=av,iv=_o,ov=iv(Object,"create"),ki=ov,Vs=ki;function sv(){this.__data__=Vs?Vs(null):{},this.size=0}var uv=sv;function lv(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var fv=lv,cv=ki,hv="__lodash_hash_undefined__",vv=Object.prototype,dv=vv.hasOwnProperty;function gv(t){var e=this.__data__;if(cv){var r=e[t];return r===hv?void 0:r}return dv.call(e,t)?e[t]:void 0}var pv=gv,yv=ki,mv=Object.prototype,bv=mv.hasOwnProperty;function wv(t){var e=this.__data__;return yv?e[t]!==void 0:bv.call(e,t)}var Ev=wv,xv=ki,Tv="__lodash_hash_undefined__";function Cv(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=xv&&e===void 0?Tv:e,this}var Dv=Cv,Sv=uv,Lv=fv,Av=pv,Mv=Ev,Nv=Dv;function Kn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kn.prototype.clear=Sv;Kn.prototype.delete=Lv;Kn.prototype.get=Av;Kn.prototype.has=Mv;Kn.prototype.set=Nv;var Ov=Kn;function Iv(){this.__data__=[],this.size=0}var kv=Iv;function Rv(t,e){return t===e||t!==t&&e!==e}var al=Rv,Pv=al;function Bv(t,e){for(var r=t.length;r--;)if(Pv(t[r][0],e))return r;return-1}var Ri=Bv,Fv=Ri,zv=Array.prototype,Gv=zv.splice;function Hv(t){var e=this.__data__,r=Fv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Gv.call(e,r,1),--this.size,!0}var $v=Hv,qv=Ri;function Vv(t){var e=this.__data__,r=qv(e,t);return r<0?void 0:e[r][1]}var Uv=Vv,Yv=Ri;function Wv(t){return Yv(this.__data__,t)>-1}var Xv=Wv,_v=Ri;function Kv(t,e){var r=this.__data__,n=_v(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Zv=Kv,Qv=kv,jv=$v,Jv=Uv,ed=Xv,td=Zv;function Zn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zn.prototype.clear=Qv;Zn.prototype.delete=jv;Zn.prototype.get=Jv;Zn.prototype.has=ed;Zn.prototype.set=td;var rd=Zn,nd=_o,ad=Oi,id=nd(ad,"Map"),od=id,Us=Ov,sd=rd,ud=od;function ld(){this.size=0,this.__data__={hash:new Us,map:new(ud||sd),string:new Us}}var fd=ld;function cd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hd=cd,vd=hd;function dd(t,e){var r=t.__data__;return vd(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Pi=dd,gd=Pi;function pd(t){var e=gd(this,t).delete(t);return this.size-=e?1:0,e}var yd=pd,md=Pi;function bd(t){return md(this,t).get(t)}var wd=bd,Ed=Pi;function xd(t){return Ed(this,t).has(t)}var Td=xd,Cd=Pi;function Dd(t,e){var r=Cd(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Sd=Dd,Ld=fd,Ad=yd,Md=wd,Nd=Td,Od=Sd;function Qn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qn.prototype.clear=Ld;Qn.prototype.delete=Ad;Qn.prototype.get=Md;Qn.prototype.has=Nd;Qn.prototype.set=Od;var Id=Qn,il=Id,kd="Expected a function";function Ko(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kd);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Ko.Cache||il),r}Ko.Cache=il;var Rd=Ko,Pd=Rd,Bd=500;function Fd(t){var e=Pd(t,function(n){return r.size===Bd&&r.clear(),n}),r=e.cache;return e}var zd=Fd,Gd=zd,Hd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$d=/\\(\\)?/g,qd=Gd(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hd,function(r,n,a,i){e.push(a?i.replace($d,"$1"):n||r)}),e}),ol=qd;function Vd(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var sl=Vd,Ys=Xo,Ud=sl,Yd=Ii,Wd=Fa,Xd=1/0,Ws=Ys?Ys.prototype:void 0,Xs=Ws?Ws.toString:void 0;function ul(t){if(typeof t=="string")return t;if(Yd(t))return Ud(t,ul)+"";if(Wd(t))return Xs?Xs.call(t):"";var e=t+"";return e=="0"&&1/t==-Xd?"-0":e}var _d=ul,Kd=_d;function Zd(t){return t==null?"":Kd(t)}var ll=Zd,Qd=Ii,jd=Th,Jd=ol,eg=ll;function tg(t,e){return Qd(t)?t:jd(t,e)?[t]:Jd(eg(t))}var fl=tg,rg=Fa,ng=1/0;function ag(t){if(typeof t=="string"||rg(t))return t;var e=t+"";return e=="0"&&1/t==-ng?"-0":e}var Zo=ag,ig=fl,og=Zo;function sg(t,e){e=ig(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[og(e[r++])];return r&&r==n?t:void 0}var ug=sg,lg=ug;function fg(t,e,r){var n=t==null?void 0:lg(t,e);return n===void 0?r:n}var cg=fg,hg=_o,vg=function(){try{var t=hg(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dg=vg,_s=dg;function gg(t,e,r){e=="__proto__"&&_s?_s(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var pg=gg,yg=pg,mg=al,bg=Object.prototype,wg=bg.hasOwnProperty;function Eg(t,e,r){var n=t[e];(!(wg.call(t,e)&&mg(n,r))||r===void 0&&!(e in t))&&yg(t,e,r)}var xg=Eg,Tg=9007199254740991,Cg=/^(?:0|[1-9]\d*)$/;function Dg(t,e){var r=typeof t;return e=e??Tg,!!e&&(r=="number"||r!="symbol"&&Cg.test(t))&&t>-1&&t%1==0&&t<e}var Sg=Dg,Lg=xg,Ag=fl,Mg=Sg,Ks=Ba,Ng=Zo;function Og(t,e,r,n){if(!Ks(t))return t;e=Ag(e,t);for(var a=-1,i=e.length,o=i-1,s=t;s!=null&&++a<i;){var u=Ng(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=o){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=Ks(f)?f:Mg(e[a+1])?[]:{})}Lg(s,u,l),s=s[u]}return t}var Ig=Og,kg=Ig;function Rg(t,e,r){return t==null?t:kg(t,e,r)}var Pg=Rg;function Bg(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Fg=Bg,zg=sl,Gg=Fg,Hg=Ii,$g=Fa,qg=ol,Vg=Zo,Ug=ll;function Yg(t){return Hg(t)?zg(t,Vg):$g(t)?[t]:Gg(qg(Ug(t)))}var Wg=Yg,Xg=dh,_g=ph,Kg=cg,Zg=Pg,Qg=Wg;function za(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Bi=za(Xg),Ga=za(_g),jg=za(Kg),Jg=za(Zg),ep=za(Qg);function Ot(t){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(t)}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jo(t,e,r){return e&&Zs(t.prototype,e),r&&Zs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function br(t,e){return tp(t)||rp(t,e)||np(t,e)||ap()}function tp(t){if(Array.isArray(t))return t}function rp(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function np(t,e){if(t){if(typeof t=="string")return Qs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qs(t,e)}}function Qs(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ap(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mt=typeof window>"u"?null:window,js=Mt?Mt.navigator:null;Mt&&Mt.document;var ip=Ot(""),hl=Ot({}),op=Ot(function(){}),sp=typeof HTMLElement>"u"?"undefined":Ot(HTMLElement),Ha=function(e){return e&&e.instanceString&&Et(e.instanceString)?e.instanceString():null},Ge=function(e){return e!=null&&Ot(e)==ip},Et=function(e){return e!=null&&Ot(e)===op},dt=function(e){return!ur(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ot=function(e){return e!=null&&Ot(e)===hl&&!dt(e)&&e.constructor===Object},up=function(e){return e!=null&&Ot(e)===hl},Ae=function(e){return e!=null&&Ot(e)===Ot(1)&&!isNaN(e)},lp=function(e){return Ae(e)&&Math.floor(e)===e},xi=function(e){if(sp!=="undefined")return e!=null&&e instanceof HTMLElement},ur=function(e){return $a(e)||vl(e)},$a=function(e){return Ha(e)==="collection"&&e._private.single},vl=function(e){return Ha(e)==="collection"&&!e._private.single},Jo=function(e){return Ha(e)==="core"},dl=function(e){return Ha(e)==="stylesheet"},fp=function(e){return Ha(e)==="event"},an=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},cp=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},hp=function(e){return ot(e)&&Ae(e.x1)&&Ae(e.x2)&&Ae(e.y1)&&Ae(e.y2)},vp=function(e){return up(e)&&Et(e.then)},dp=function(){return js&&js.userAgent.match(/msie|trident|edge/i)},Sa=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,u=r.apply(i,o),l=a.cache;return(s=l[u])||(s=l[u]=e.apply(i,o)),s};return n.cache={},n},es=Sa(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Fi=Sa(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),gl=Sa(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Js=function(e){return an(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Nt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",gp="rgb[a]?\\(("+Nt+"[%]?)\\s*,\\s*("+Nt+"[%]?)\\s*,\\s*("+Nt+"[%]?)(?:\\s*,\\s*("+Nt+"))?\\)",pp="rgb[a]?\\((?:"+Nt+"[%]?)\\s*,\\s*(?:"+Nt+"[%]?)\\s*,\\s*(?:"+Nt+"[%]?)(?:\\s*,\\s*(?:"+Nt+"))?\\)",yp="hsl[a]?\\(("+Nt+")\\s*,\\s*("+Nt+"[%])\\s*,\\s*("+Nt+"[%])(?:\\s*,\\s*("+Nt+"))?\\)",mp="hsl[a]?\\((?:"+Nt+")\\s*,\\s*(?:"+Nt+"[%])\\s*,\\s*(?:"+Nt+"[%])(?:\\s*,\\s*(?:"+Nt+"))?\\)",bp="\\#[0-9a-fA-F]{3}",wp="\\#[0-9a-fA-F]{6}",pl=function(e,r){return e<r?-1:e>r?1:0},Ep=function(e,r){return-1*pl(e,r)},qe=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},xp=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},Tp=function(e){var r,n,a,i,o,s,u,l;function f(g,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?g+(m-g)*6*w:w<1/2?m:w<2/3?g+(m-g)*(2/3-w)*6:g}var h=new RegExp("^"+yp+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(h[2]),a<0||a>100||(a=a/100,i=parseFloat(h[3]),i<0||i>100)||(i=i/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=u=l=Math.round(i*255);else{var p=i<.5?i*(1+a):i+a-i*a,d=2*i-p;s=Math.round(255*f(d,p,n+1/3)),u=Math.round(255*f(d,p,n)),l=Math.round(255*f(d,p,n-1/3))}r=[s,u,l,o]}return r},Cp=function(e){var r,n=new RegExp("^"+gp+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},Dp=function(e){return Lp[e.toLowerCase()]},Sp=function(e){return(dt(e)?e:null)||Dp(e)||xp(e)||Cp(e)||Tp(e)},Lp={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},yl=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ot(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},ml=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ot(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},bo=Mt?Mt.performance:null,bl=bo&&bo.now?function(){return bo.now()}:function(){return Date.now()},Ap=function(){if(Mt){if(Mt.requestAnimationFrame)return function(t){Mt.requestAnimationFrame(t)};if(Mt.mozRequestAnimationFrame)return function(t){Mt.mozRequestAnimationFrame(t)};if(Mt.webkitRequestAnimationFrame)return function(t){Mt.webkitRequestAnimationFrame(t)};if(Mt.msRequestAnimationFrame)return function(t){Mt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(bl())},1e3/60)}}(),Ti=function(e){return Ap(e)},Gr=bl,Gn=9261,wl=65599,wa=5381,El=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn,n=r,a;a=e.next(),!a.done;)n=n*wl+a.value|0;return n},La=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn;return r*wl+e|0},Aa=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wa;return(r<<5)+r+e|0},Mp=function(e,r){return e*2097152+r},Qr=function(e){return e[0]*2097152+e[1]},ai=function(e,r){return[La(e[0],r[0]),Aa(e[1],r[1])]},Np=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return El(o,r)},En=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return El(o,r)},xl=function(){return Op(arguments)},Op=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=En(a):r=En(a,r)}return r},eu=!0,Ip=console.warn!=null,kp=console.trace!=null,ts=Number.MAX_SAFE_INTEGER||9007199254740991,Tl=function(){return!0},Ci=function(){return!1},tu=function(){return 0},rs=function(){},Tt=function(e){throw new Error(e)},Cl=function(e){if(e!==void 0)eu=!!e;else return eu},lt=function(e){Cl()&&(Ip?console.warn(e):(console.log(e),kp&&console.trace()))},Rp=function(e){return qe({},e)},Mr=function(e){return e==null?e:dt(e)?e.slice():ot(e)?Rp(e):e},Pp=function(e){return e.slice()},Dl=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Bp={},Sl=function(){return Bp},qt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n==null?void 0:n[o];a[o]=s===void 0?e[o]:s}return a}},on=function(e,r,n){for(var a=e.length-1;a>=0&&!(e[a]===r&&(e.splice(a,1),n));a--);},ns=function(e){e.splice(0,e.length)},Fp=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Er=function(e,r,n){return n&&(r=gl(n,r)),e[r]},Jr=function(e,r,n,a){n&&(r=gl(n,r)),e[r]=a},zp=function(){function t(){Qo(this,t),this._obj={}}return jo(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Nr=typeof Map<"u"?Map:zp,Gp="undefined",Hp=function(){function t(e){if(Qo(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return jo(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),jn=(typeof Set>"u"?"undefined":Ot(Set))!==Gp?Set:Hp,zi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Jo(e)){Tt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Tt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new jn,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),u=e.zoom();i.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];dt(r.classes)?l=r.classes:Ge(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,h=l.length;f<h;f++){var p=l[f];!p||p===""||i.classes.add(p)}this.createEmitter();var d=r.style||r.css;d&&(lt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(n===void 0||n)&&this.restore()},ru=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;ot(n)&&!ur(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!Et(a)?a:i,a=Et(a)?a:function(){};for(var s=this._private.cy,u=n=Ge(n)?this.filter(n):n,l=[],f=[],h={},p={},d={},g=0,m,w=this.byGroup(),b=w.nodes,T=w.edges,E=0;E<u.length;E++){var S=u[E],A=S.id();S.isNode()&&(l.unshift(S),e.bfs&&(d[A]=!0,f.push(S)),p[A]=0)}for(var I=function(){var z=e.bfs?l.shift():l.pop(),B=z.id();if(e.dfs){if(d[B])return"continue";d[B]=!0,f.push(z)}var U=p[B],H=h[B],V=H!=null?H.source():null,W=H!=null?H.target():null,X=H==null?void 0:z.same(V)?W[0]:V[0],j=void 0;if(j=a(z,H,X,g++,U),j===!0)return m=z,"break";if(j===!1)return"break";for(var K=z.connectedEdges().filter(function(ue){return(!i||ue.source().same(z))&&T.has(ue)}),J=0;J<K.length;J++){var ne=K[J],ie=ne.connectedNodes().filter(function(ue){return!ue.same(z)&&b.has(ue)}),oe=ie.id();ie.length!==0&&!d[oe]&&(ie=ie[0],l.push(ie),e.bfs&&(d[oe]=!0,f.push(ie)),h[oe]=ne,p[oe]=p[B]+1)}};l.length!==0;){var v=I();if(v!=="continue"&&v==="break")break}for(var L=s.collection(),D=0;D<f.length;D++){var O=f[D],R=h[O.id()];R!=null&&L.push(R),L.push(O)}return{path:s.collection(L),found:s.collection(m)}}},Ma={breadthFirstSearch:ru({bfs:!0}),depthFirstSearch:ru({dfs:!0})};Ma.bfs=Ma.breadthFirstSearch;Ma.dfs=Ma.depthFirstSearch;var $p=qt({root:null,weight:function(e){return 1},directed:!1}),qp={dijkstra:function(e){if(!ot(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=$p(e),a=n.root,i=n.weight,o=n.directed,s=this,u=i,l=Ge(a)?this.filter(a)[0]:a[0],f={},h={},p={},d=this.byGroup(),g=d.nodes,m=d.edges;m.unmergeBy(function(U){return U.isLoop()});for(var w=function(H){return f[H.id()]},b=function(H,V){f[H.id()]=V,T.updateItem(H)},T=new Ga.default(function(U,H){return w(U)-w(H)}),E=0;E<g.length;E++){var S=g[E];f[S.id()]=S.same(l)?0:1/0,T.push(S)}for(var A=function(H,V){for(var W=(o?H.edgesTo(V):H.edgesWith(V)).intersect(m),X=1/0,j,K=0;K<W.length;K++){var J=W[K],ne=u(J);(ne<X||!j)&&(X=ne,j=J)}return{edge:j,dist:X}};T.size()>0;){var I=T.pop(),v=w(I),L=I.id();if(p[L]=v,v!==1/0)for(var D=I.neighborhood().intersect(g),O=0;O<D.length;O++){var R=D[O],k=R.id(),z=A(I,R),B=v+z.dist;B<w(R)&&(b(R,B),h[k]={node:I,edge:z.edge})}}return{distanceTo:function(H){var V=Ge(H)?g.filter(H)[0]:H[0];return p[V.id()]},pathTo:function(H){var V=Ge(H)?g.filter(H)[0]:H[0],W=[],X=V,j=X.id();if(V.length>0)for(W.unshift(V);h[j];){var K=h[j];W.unshift(K.edge),W.unshift(K.node),X=K.node,j=X.id()}return s.spawn(W)}}}},Vp={kruskal:function(e){e=e||function(E){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,u=function(S){for(var A=0;A<o.length;A++){var I=o[A];if(I.has(S))return A}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var f=a.sort(function(E,S){return e(E)-e(S)}),h=0;h<f.length;h++){var p=f[h],d=p.source()[0],g=p.target()[0],m=u(d),w=u(g),b=o[m],T=o[w];m!==w&&(s.merge(p),b.merge(T),o.splice(w,1))}return s}},Up=qt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Yp={aStar:function(e){var r=this.cy(),n=Up(e),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),f=i.id(),h={},p={},d={},g=new Ga.default(function(j,K){return p[j.id()]-p[K.id()]}),m=new jn,w={},b={},T=function(K,J){g.push(K),m.add(J)},E,S,A=function(){E=g.pop(),S=E.id(),m.delete(S)},I=function(K){return m.has(K)};T(a,l),h[l]=0,p[l]=o(a);for(var v=0;g.size()>0;){if(A(),v++,S===f){for(var L=[],D=i,O=f,R=b[O];L.unshift(D),R!=null&&L.unshift(R),D=w[O],D!=null;)O=D.id(),R=b[O];return{found:!0,distance:h[S],path:this.spawn(L),steps:v}}d[S]=!0;for(var k=E._private.edges,z=0;z<k.length;z++){var B=k[z];if(this.hasElementWithId(B.id())&&!(s&&B.data("source")!==S)){var U=B.source(),H=B.target(),V=U.id()!==S?U:H,W=V.id();if(this.hasElementWithId(W)&&!d[W]){var X=h[S]+u(B);if(!I(W)){h[W]=X,p[W]=X+o(V),T(V,W),w[W]=E,b[W]=B;continue}X<h[W]&&(h[W]=X,p[W]=X+o(V),w[W]=E,b[W]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:v}}},Wp=qt({weight:function(e){return 1},directed:!1}),Xp={floydWarshall:function(e){for(var r=this.cy(),n=Wp(e),a=n.weight,i=n.directed,o=a,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,h=f*f,p=function(ne){return u.indexOf(ne)},d=function(ne){return u[ne]},g=new Array(h),m=0;m<h;m++){var w=m%f,b=(m-w)/f;b===w?g[m]=0:g[m]=1/0}for(var T=new Array(h),E=new Array(h),S=0;S<l.length;S++){var A=l[S],I=A.source()[0],v=A.target()[0];if(I!==v){var L=p(I),D=p(v),O=L*f+D,R=o(A);if(g[O]>R&&(g[O]=R,T[O]=D,E[O]=A),!i){var k=D*f+L;!i&&g[k]>R&&(g[k]=R,T[k]=L,E[k]=A)}}}for(var z=0;z<f;z++)for(var B=0;B<f;B++)for(var U=B*f+z,H=0;H<f;H++){var V=B*f+H,W=z*f+H;g[U]+g[W]<g[V]&&(g[V]=g[U]+g[W],T[V]=T[U])}var X=function(ne){return(Ge(ne)?r.filter(ne):ne)[0]},j=function(ne){return p(X(ne))},K={distance:function(ne,ie){var oe=j(ne),ue=j(ie);return g[oe*f+ue]},path:function(ne,ie){var oe=j(ne),ue=j(ie),Z=d(oe);if(oe===ue)return Z.collection();if(T[oe*f+ue]==null)return r.collection();var fe=r.collection(),ce=oe,be;for(fe.merge(Z);oe!==ue;)ce=oe,oe=T[oe*f+ue],be=E[ce*f+oe],fe.merge(be),fe.merge(d(oe));return fe}};return K}},_p=qt({weight:function(e){return 1},directed:!1,root:null}),Kp={bellmanFord:function(e){var r=this,n=_p(e),a=n.weight,i=n.directed,o=n.root,s=a,u=this,l=this.cy(),f=this.byGroup(),h=f.edges,p=f.nodes,d=p.length,g=new Nr,m=!1,w=[];o=l.collection(o)[0],h.unmergeBy(function(xe){return xe.isLoop()});for(var b=h.length,T=function(pe){var Se=g.get(pe.id());return Se||(Se={},g.set(pe.id(),Se)),Se},E=function(pe){return(Ge(pe)?l.$(pe):pe)[0]},S=function(pe){return T(E(pe)).dist},A=function(pe){for(var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ke=E(pe),Re=[],Me=ke;;){if(Me==null)return r.spawn();var ze=T(Me),ye=ze.edge,F=ze.pred;if(Re.unshift(Me[0]),Me.same(Se)&&Re.length>0)break;ye!=null&&Re.unshift(ye),Me=F}return u.spawn(Re)},I=0;I<d;I++){var v=p[I],L=T(v);v.same(o)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var D=!1,O=function(pe,Se,ke,Re,Me,ze){var ye=Re.dist+ze;ye<Me.dist&&!ke.same(Re.edge)&&(Me.dist=ye,Me.pred=pe,Me.edge=ke,D=!0)},R=1;R<d;R++){D=!1;for(var k=0;k<b;k++){var z=h[k],B=z.source(),U=z.target(),H=s(z),V=T(B),W=T(U);O(B,U,z,V,W,H),i||O(U,B,z,W,V,H)}if(!D)break}if(D)for(var X=[],j=0;j<b;j++){var K=h[j],J=K.source(),ne=K.target(),ie=s(K),oe=T(J).dist,ue=T(ne).dist;if(oe+ie<ue||!i&&ue+ie<oe)if(m||(lt("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var Z=[];oe+ie<ue&&Z.push(J),!i&&ue+ie<oe&&Z.push(ne);for(var fe=Z.length,ce=0;ce<fe;ce++){var be=Z[ce],Ce=[be];Ce.push(T(be).edge);for(var Fe=T(be).pred;Ce.indexOf(Fe)===-1;)Ce.push(Fe),Ce.push(T(Fe).edge),Fe=T(Fe).pred;Ce=Ce.slice(Ce.indexOf(Fe));for(var He=Ce[0].id(),De=0,le=2;le<Ce.length;le+=2)Ce[le].id()<He&&(He=Ce[le].id(),De=le);Ce=Ce.slice(De).concat(Ce.slice(0,De)),Ce.push(Ce[0]);var me=Ce.map(function(xe){return xe.id()}).join(",");X.indexOf(me)===-1&&(w.push(u.spawn(Ce)),X.push(me))}}else break}return{distanceTo:S,pathTo:A,hasNegativeWeightCycle:m,negativeWeightCycles:w}}},Zp=Math.sqrt(2),Qp=function(e,r,n){n.length===0&&Tt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],s=r[i],u=r[o],l=n,f=l.length-1;f>=0;f--){var h=l[f],p=h[1],d=h[2];(r[p]===s&&r[d]===u||r[p]===u&&r[d]===s)&&l.splice(f,1)}for(var g=0;g<l.length;g++){var m=l[g];m[1]===u?(l[g]=m.slice(),l[g][1]=s):m[2]===u&&(l[g]=m.slice(),l[g][2]=s)}for(var w=0;w<r.length;w++)r[w]===u&&(r[w]=s);return l},wo=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=Qp(i,e,r),n--}return r},jp={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(W){return W.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/Zp);if(i<2){Tt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<o;f++){var h=a[f];l.push([f,n.indexOf(h.source()),n.indexOf(h.target())])}for(var p=1/0,d=[],g=new Array(i),m=new Array(i),w=new Array(i),b=function(X,j){for(var K=0;K<i;K++)j[K]=X[K]},T=0;T<=s;T++){for(var E=0;E<i;E++)m[E]=E;var S=wo(m,l.slice(),i,u),A=S.slice();b(m,w);var I=wo(m,S,u,2),v=wo(w,A,u,2);I.length<=v.length&&I.length<p?(p=I.length,d=I,b(m,g)):v.length<=I.length&&v.length<p&&(p=v.length,d=v,b(w,g))}for(var L=this.spawn(d.map(function(W){return a[W[0]]})),D=this.spawn(),O=this.spawn(),R=g[0],k=0;k<g.length;k++){var z=g[k],B=n[k];z===R?D.merge(B):O.merge(B)}var U=function(X){var j=e.spawn();return X.forEach(function(K){j.merge(K),K.connectedEdges().forEach(function(J){e.contains(J)&&!L.contains(J)&&j.merge(J)})}),j},H=[U(D),U(O)],V={cut:L,components:H,partition1:D,partition2:O};return V}},Jp=function(e){return{x:e.x,y:e.y}},Gi=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Ll=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Hn=function(e){return{x:e[0],y:e[1]}},ey=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},ty=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},ry=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a+=s,i++)}return a/i},ny=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];o?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}i&&e.sort(function(p,d){return p-d});var f=e.length,h=Math.floor(f/2);return f%2!==0?e[h+1+s]:(e[h-1+s]+e[h+s])/2},ay=function(e){return Math.PI*e/180},ii=function(e,r){return Math.atan2(r,e)-Math.PI/2},as=Math.log2||function(t){return Math.log(t)/Math.log(2)},Al=function(e){return e>0?1:e<0?-1:0},xn=function(e,r){return Math.sqrt(mn(e,r))},mn=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},iy=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Pt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},qn=function(e,r,n,a){return{x:Pt(e.x,r.x,n.x,a),y:Pt(e.y,r.y,n.y,a)}},oy=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=xn(e,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+s.x*a,y:e.y+s.y*a}},Na=function(e,r,n){return Math.max(e,Math.min(n,r))},sr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},sy=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},uy=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},ly=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},fy=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},gi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Eo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=br(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},nu=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},is=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Wn=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},cy=function(e,r){return Wn(e,r.x,r.y)},Ml=function(e,r){return Wn(e,r.x1,r.y1)&&Wn(e,r.x2,r.y2)},Nl=function(e,r,n,a,i,o,s){var u=qa(i,o),l=i/2,f=o/2,h;{var p=n-l+u-s,d=a-f-s,g=n+l-u+s,m=d;if(h=tn(e,r,n,a,p,d,g,m,!1),h.length>0)return h}{var w=n+l+s,b=a-f+u-s,T=w,E=a+f-u+s;if(h=tn(e,r,n,a,w,b,T,E,!1),h.length>0)return h}{var S=n-l+u-s,A=a+f+s,I=n+l-u+s,v=A;if(h=tn(e,r,n,a,S,A,I,v,!1),h.length>0)return h}{var L=n-l-s,D=a-f+u-s,O=L,R=a+f-u+s;if(h=tn(e,r,n,a,L,D,O,R,!1),h.length>0)return h}var k;{var z=n-l+u,B=a-f+u;if(k=Ea(e,r,n,a,z,B,u+s),k.length>0&&k[0]<=z&&k[1]<=B)return[k[0],k[1]]}{var U=n+l-u,H=a-f+u;if(k=Ea(e,r,n,a,U,H,u+s),k.length>0&&k[0]>=U&&k[1]<=H)return[k[0],k[1]]}{var V=n+l-u,W=a+f-u;if(k=Ea(e,r,n,a,V,W,u+s),k.length>0&&k[0]>=V&&k[1]>=W)return[k[0],k[1]]}{var X=n-l+u,j=a+f-u;if(k=Ea(e,r,n,a,X,j,u+s),k.length>0&&k[0]<=X&&k[1]>=j)return[k[0],k[1]]}return[]},hy=function(e,r,n,a,i,o,s){var u=s,l=Math.min(n,i),f=Math.max(n,i),h=Math.min(a,o),p=Math.max(a,o);return l-u<=e&&e<=f+u&&h-u<=r&&r<=p+u},vy=function(e,r,n,a,i,o,s,u,l){var f={x1:Math.min(n,s,i)-l,x2:Math.max(n,s,i)+l,y1:Math.min(a,u,o)-l,y2:Math.max(a,u,o)+l};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},dy=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),s=2*e,u=(-r+o)/s,l=(-r-o)/s;return[u,l]},gy=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var s,u,l,f,h,p,d,g;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,i[1]=0,d=r/3,s>0){h=l+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=l-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-d+h+p,d+=(h+p)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-p+h)/2,i[3]=d,i[5]=-d;return}if(i[5]=i[3]=0,s===0){g=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-d+2*g,i[4]=i[2]=-(g+d);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),g=2*Math.sqrt(u),i[0]=-d+g*Math.cos(f/3),i[2]=-d+g*Math.cos((f+2*Math.PI)/3),i[4]=-d+g*Math.cos((f+4*Math.PI)/3)},py=function(e,r,n,a,i,o,s,u){var l=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,h=1*3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,p=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,d=[];gy(l,f,h,p,d);for(var g=1e-7,m=[],w=0;w<6;w+=2)Math.abs(d[w+1])<g&&d[w]>=0&&d[w]<=1&&m.push(d[w]);m.push(1),m.push(0);for(var b=-1,T,E,S,A=0;A<m.length;A++)T=Math.pow(1-m[A],2)*n+2*(1-m[A])*m[A]*i+m[A]*m[A]*s,E=Math.pow(1-m[A],2)*a+2*(1-m[A])*m[A]*o+m[A]*m[A]*u,S=Math.pow(T-e,2)+Math.pow(E-r,2),b>=0?S<b&&(b=S):b=S;return b},yy=function(e,r,n,a,i,o){var s=[e-n,r-a],u=[i-n,o-a],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],h=s[0]*u[0]+s[1]*u[1],p=h*h/l;return h<0?f:p>l?(e-i)*(e-i)+(r-o)*(r-o):f-p},or=function(e,r,n){for(var a,i,o,s,u,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)u=(e-a)/(o-a)*(s-i)+i,u>r&&l++;else continue;return l%2!==0},Hr=function(e,r,n,a,i,o,s,u,l){var f=new Array(n.length),h;u[0]!=null?(h=Math.atan(u[1]/u[0]),u[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=u;for(var p=Math.cos(-h),d=Math.sin(-h),g=0;g<f.length/2;g++)f[g*2]=o/2*(n[g*2]*p-n[g*2+1]*d),f[g*2+1]=s/2*(n[g*2+1]*p+n[g*2]*d),f[g*2]+=a,f[g*2+1]+=i;var m;if(l>0){var w=Il(f,-l);m=Ol(w)}else m=f;return or(e,r,m)},my=function(e,r,n,a,i,o,s){for(var u=new Array(n.length),l=o/2,f=s/2,h=os(o,s),p=h*h,d=0;d<n.length/4;d++){var g=void 0,m=void 0;d===0?g=n.length-2:g=d*4-2,m=d*4+2;var w=a+l*n[d*4],b=i+f*n[d*4+1],T=-n[g]*n[m]-n[g+1]*n[m+1],E=h/Math.tan(Math.acos(T)/2),S=w-E*n[g],A=b-E*n[g+1],I=w+E*n[m],v=b+E*n[m+1];u[d*4]=S,u[d*4+1]=A,u[d*4+2]=I,u[d*4+3]=v;var L=n[g+1],D=-n[g],O=L*n[m]+D*n[m+1];O<0&&(L*=-1,D*=-1);var R=S+L*h,k=A+D*h,z=Math.pow(R-e,2)+Math.pow(k-r,2);if(z<=p)return!0}return or(e,r,u)},Ol=function(e){for(var r=new Array(e.length/2),n,a,i,o,s,u,l,f,h=0;h<e.length/4;h++){n=e[h*4],a=e[h*4+1],i=e[h*4+2],o=e[h*4+3],h<e.length/4-1?(s=e[(h+1)*4],u=e[(h+1)*4+1],l=e[(h+1)*4+2],f=e[(h+1)*4+3]):(s=e[0],u=e[1],l=e[2],f=e[3]);var p=tn(n,a,i,o,s,u,l,f,!0);r[h*2]=p[0],r[h*2+1]=p[1]}return r},Il=function(e,r){for(var n=new Array(e.length*2),a,i,o,s,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(o=e[(u+1)*2],s=e[(u+1)*2+1]):(o=e[0],s=e[1]);var l=s-i,f=-(o-a),h=Math.sqrt(l*l+f*f),p=l/h,d=f/h;n[u*4]=a+p*r,n[u*4+1]=i+d*r,n[u*4+2]=o+p*r,n[u*4+3]=s+d*r}return n},by=function(e,r,n,a,i,o){var s=n-e,u=a-r;s/=i,u/=o;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var h=f/l;return[(n-e)*h+e,(a-r)*h+r]},wn=function(e,r,n,a,i,o,s){return e-=i,r-=o,e/=n/2+s,r/=a/2+s,e*e+r*r<=1},Ea=function(e,r,n,a,i,o,s){var u=[n-e,a-r],l=[e-i,r-o],f=u[0]*u[0]+u[1]*u[1],h=2*(l[0]*u[0]+l[1]*u[1]),p=l[0]*l[0]+l[1]*l[1]-s*s,d=h*h-4*f*p;if(d<0)return[];var g=(-h+Math.sqrt(d))/(2*f),m=(-h-Math.sqrt(d))/(2*f),w=Math.min(g,m),b=Math.max(g,m),T=[];if(w>=0&&w<=1&&T.push(w),b>=0&&b<=1&&T.push(b),T.length===0)return[];var E=T[0]*u[0]+e,S=T[0]*u[1]+r;if(T.length>1){if(T[0]==T[1])return[E,S];var A=T[1]*u[0]+e,I=T[1]*u[1]+r;return[E,S,A,I]}else return[E,S]},xo=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},tn=function(e,r,n,a,i,o,s,u,l){var f=e-i,h=n-e,p=s-i,d=r-o,g=a-r,m=u-o,w=p*d-m*f,b=h*d-g*f,T=m*h-p*g;if(T!==0){var E=w/T,S=b/T,A=.001,I=0-A,v=1+A;return I<=E&&E<=v&&I<=S&&S<=v?[e+E*h,r+E*g]:l?[e+E*h,r+E*g]:[]}else return w===0||b===0?xo(e,n,s)===s?[s,u]:xo(e,n,i)===i?[i,o]:xo(i,s,n)===n?[n,a]:[]:[]},Oa=function(e,r,n,a,i,o,s,u){var l=[],f,h=new Array(n.length),p=!0;o==null&&(p=!1);var d;if(p){for(var g=0;g<h.length/2;g++)h[g*2]=n[g*2]*o+a,h[g*2+1]=n[g*2+1]*s+i;if(u>0){var m=Il(h,-u);d=Ol(m)}else d=h}else d=n;for(var w,b,T,E,S=0;S<d.length/2;S++)w=d[S*2],b=d[S*2+1],S<d.length/2-1?(T=d[(S+1)*2],E=d[(S+1)*2+1]):(T=d[0],E=d[1]),f=tn(e,r,a,i,w,b,T,E),f.length!==0&&l.push(f[0],f[1]);return l},wy=function(e,r,n,a,i,o,s,u){for(var l=[],f,h=new Array(n.length),p=o/2,d=s/2,g=os(o,s),m=0;m<n.length/4;m++){var w=void 0,b=void 0;m===0?w=n.length-2:w=m*4-2,b=m*4+2;var T=a+p*n[m*4],E=i+d*n[m*4+1],S=-n[w]*n[b]-n[w+1]*n[b+1],A=g/Math.tan(Math.acos(S)/2),I=T-A*n[w],v=E-A*n[w+1],L=T+A*n[b],D=E+A*n[b+1];m===0?(h[n.length-2]=I,h[n.length-1]=v):(h[m*4-2]=I,h[m*4-1]=v),h[m*4]=L,h[m*4+1]=D;var O=n[w+1],R=-n[w],k=O*n[b]+R*n[b+1];k<0&&(O*=-1,R*=-1);var z=I+O*g,B=v+R*g;f=Ea(e,r,a,i,z,B,g),f.length!==0&&l.push(f[0],f[1])}for(var U=0;U<h.length/4;U++)f=tn(e,r,a,i,h[U*4],h[U*4+1],h[U*4+2],h[U*4+3],!1),f.length!==0&&l.push(f[0],f[1]);if(l.length>2){for(var H=[l[0],l[1]],V=Math.pow(H[0]-e,2)+Math.pow(H[1]-r,2),W=1;W<l.length/2;W++){var X=Math.pow(l[W*2]-e,2)+Math.pow(l[W*2+1]-r,2);X<=V&&(H[0]=l[W*2],H[1]=l[W*2+1],V=X)}return H}return l},oi=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},er=function(e,r){var n=ko(e,r);return n=kl(n),n},kl=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);for(var f=2/(s-i),h=2/(u-o),p=0;p<a;p++)r=e[2*p]=e[2*p]*f,n=e[2*p+1]=e[2*p+1]*h,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var d=0;d<a;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},ko=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,s=0;s<e;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},qa=function(e,r){return Math.min(e/4,r/4,8)},os=function(e,r){return Math.min(e/10,r/10,8)},Rl=function(){return 8},Ey=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Ro=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},xy=qt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Ty={pageRank:function(e){for(var r=xy(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,h=l.length,p=h*h,d=f.length,g=new Array(p),m=new Array(h),w=(1-n)/h,b=0;b<h;b++){for(var T=0;T<h;T++){var E=b*h+T;g[E]=0}m[b]=0}for(var S=0;S<d;S++){var A=f[S],I=A.data("source"),v=A.data("target");if(I!==v){var L=l.indexOfId(I),D=l.indexOfId(v),O=o(A),R=D*h+L;g[R]+=O,m[L]+=O}}for(var k=1/h+w,z=0;z<h;z++)if(m[z]===0)for(var B=0;B<h;B++){var U=B*h+z;g[U]=k}else for(var H=0;H<h;H++){var V=H*h+z;g[V]=g[V]/m[z]+w}for(var W=new Array(h),X=new Array(h),j,K=0;K<h;K++)W[K]=1;for(var J=0;J<i;J++){for(var ne=0;ne<h;ne++)X[ne]=0;for(var ie=0;ie<h;ie++)for(var oe=0;oe<h;oe++){var ue=ie*h+oe;X[ie]+=g[ue]*W[oe]}iy(X),j=W,W=X,X=j;for(var Z=0,fe=0;fe<h;fe++){var ce=j[fe]-W[fe];Z+=ce*ce}if(Z<a)break}var be={rank:function(Fe){return Fe=s.collection(Fe)[0],W[l.indexOf(Fe)]}};return be}},au=qt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Vn={degreeCentralityNormalized:function(e){e=au(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var f={},h={},p=0,d=0,g=0;g<a;g++){var m=n[g],w=m.id();e.root=m;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),d<b.outdegree&&(d=b.outdegree),f[w]=b.indegree,h[w]=b.outdegree}return{indegree:function(E){return p==0?0:(Ge(E)&&(E=r.filter(E)),f[E.id()]/p)},outdegree:function(E){return d===0?0:(Ge(E)&&(E=r.filter(E)),h[E.id()]/d)}}}else{for(var i={},o=0,s=0;s<a;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);o<l.degree&&(o=l.degree),i[u.id()]=l.degree}return{degree:function(E){return o===0?0:(Ge(E)&&(E=r.filter(E)),i[E.id()]/o)}}}},degreeCentrality:function(e){e=au(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,s=a.directed,u=a.alpha;if(i=r.collection(i)[0],s){for(var d=i.connectedEdges(),g=d.filter(function(I){return I.target().same(i)&&n.has(I)}),m=d.filter(function(I){return I.source().same(i)&&n.has(I)}),w=g.length,b=m.length,T=0,E=0,S=0;S<g.length;S++)T+=o(g[S]);for(var A=0;A<m.length;A++)E+=o(m[A]);return{indegree:Math.pow(w,1-u)*Math.pow(T,u),outdegree:Math.pow(b,1-u)*Math.pow(E,u)}}else{for(var l=i.connectedEdges().intersection(n),f=l.length,h=0,p=0;p<l.length;p++)h+=o(l[p]);return{degree:Math.pow(f,1-u)*Math.pow(h,u)}}}};Vn.dc=Vn.degreeCentrality;Vn.dcn=Vn.degreeCentralityNormalised=Vn.degreeCentralityNormalized;var iu=qt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Un={closenessCentralityNormalized:function(e){for(var r=iu(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),h=0;h<l.length;h++){for(var p=0,d=l[h],g=0;g<l.length;g++)if(h!==g){var m=f.distance(d,l[g]);n?p+=1/m:p+=m}n||(p=1/p),u<p&&(u=p),s[d.id()]=p}return{closeness:function(b){return u==0?0:(Ge(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var r=iu(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),f=0;f<l.length;f++){var h=l[f];if(!h.same(n)){var p=s.distanceTo(h);o?u+=1/p:u+=p}}return o?u:1/u}};Un.cc=Un.closenessCentrality;Un.ccn=Un.closenessCentralityNormalised=Un.closenessCentralityNormalized;var Cy=qt({weight:null,directed:!1}),Po={betweennessCentrality:function(e){for(var r=Cy(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),u={},l={},f=0,h={set:function(E,S){l[E]=S,S>f&&(f=S)},get:function(E){return l[E]}},p=0;p<s.length;p++){var d=s[p],g=d.id();n?u[g]=d.outgoers().nodes():u[g]=d.openNeighborhood().nodes(),h.set(g,0)}for(var m=function(E){for(var S=s[E].id(),A=[],I={},v={},L={},D=new Ga.default(function(oe,ue){return L[oe]-L[ue]}),O=0;O<s.length;O++){var R=s[O].id();I[R]=[],v[R]=0,L[R]=1/0}for(v[S]=1,L[S]=0,D.push(S);!D.empty();){var k=D.pop();if(A.push(k),i)for(var z=0;z<u[k].length;z++){var B=u[k][z],U=o.getElementById(k),H=void 0;U.edgesTo(B).length>0?H=U.edgesTo(B)[0]:H=B.edgesTo(U)[0];var V=a(H);B=B.id(),L[B]>L[k]+V&&(L[B]=L[k]+V,D.nodes.indexOf(B)<0?D.push(B):D.updateItem(B),v[B]=0,I[B]=[]),L[B]==L[k]+V&&(v[B]=v[B]+v[k],I[B].push(k))}else for(var W=0;W<u[k].length;W++){var X=u[k][W].id();L[X]==1/0&&(D.push(X),L[X]=L[k]+1),L[X]==L[k]+1&&(v[X]=v[X]+v[k],I[X].push(k))}}for(var j={},K=0;K<s.length;K++)j[s[K].id()]=0;for(;A.length>0;){for(var J=A.pop(),ne=0;ne<I[J].length;ne++){var ie=I[J][ne];j[ie]=j[ie]+v[ie]/v[J]*(1+j[J])}J!=s[E].id()&&h.set(J,h.get(J)+j[J])}},w=0;w<s.length;w++)m(w);var b={betweenness:function(E){var S=o.collection(E).id();return h.get(S)},betweennessNormalized:function(E){if(f==0)return 0;var S=o.collection(E).id();return h.get(S)/f}};return b.betweennessNormalised=b.betweennessNormalized,b}};Po.bc=Po.betweennessCentrality;var Dy=qt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Sy=function(e){return Dy(e)},Ly=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},Ay=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},Pl=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},My=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+s]*r[s*n+u]}return a},Ny=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=My(e,a,r);return e},Oy=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return Pl(a,r),a},Iy=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},ky=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],u=0;u<r;u++)Math.round(e[o*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&i.push(a.collection(s))}return i},Ry=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Py=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Ry(e[r],e[n])&&e.splice(n,1);return e},ou=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=Sy(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),h,p=0;p<l;p++)f[p]=0;for(var d=0;d<n.length;d++){var g=n[d],m=o[g.source().id()],w=o[g.target().id()],b=Ly(g,i.attributes);f[m*u+w]+=b,f[w*u+m]+=b}Ay(f,u,i.multFactor),Pl(f,u);for(var T=!0,E=0;T&&E<i.maxIterations;)T=!1,h=Ny(f,u,i.expandFactor),f=Oy(h,u,i.inflateFactor),Iy(f,h,l,4)||(T=!0),E++;var S=ky(f,u,r,a);return S=Py(S),S},By={markovClustering:ou,mcl:ou},Fy=function(e){return e},Bl=function(e,r){return Math.abs(r-e)},su=function(e,r,n){return e+Bl(r,n)},uu=function(e,r,n){return e+Math.pow(n-r,2)},zy=function(e){return Math.sqrt(e)},Gy=function(e,r,n){return Math.max(e,Bl(r,n))},ga=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Fy,s=a,u,l,f=0;f<e;f++)u=r(f),l=n(f),s=i(s,u,l);return o(s)},Xn={euclidean:function(e,r,n){return e>=2?ga(e,r,n,0,uu,zy):ga(e,r,n,0,su)},squaredEuclidean:function(e,r,n){return ga(e,r,n,0,uu)},manhattan:function(e,r,n){return ga(e,r,n,0,su)},max:function(e,r,n){return ga(e,r,n,-1/0,Gy)}};Xn["squared-euclidean"]=Xn.squaredEuclidean;Xn.squaredeuclidean=Xn.squaredEuclidean;function Hi(t,e,r,n,a,i){var o;return Et(t)?o=t:o=Xn[t]||Xn.euclidean,e===0&&Et(t)?o(a,i):o(e,r,n,a,i)}var Hy=qt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ss=function(e){return Hy(e)},Di=function(e,r,n,a,i){var o=i!=="kMedoids",s=o?function(h){return n[h]}:function(h){return a[h](n)},u=function(p){return a[p](r)},l=n,f=r;return Hi(e,a.length,s,u,l,f)},To=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var h=0;h<a;h++)u[h]=Math.random()*(o[h]-i[h])+i[h];s[f]=u}return s},Fl=function(e,r,n,a,i){for(var o=1/0,s=0,u=0;u<r.length;u++){var l=Di(n,e,r[u],a,i);l<o&&(o=l,s=u)}return s},zl=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},$y=function(e,r,n){return Math.abs(r-e)<=n},qy=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},Vy=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},lu=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];Vy(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},fu=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=Di("manhattan",r[i],e,n,"kMedoids");return a},Uy=function(e){var r=this.cy(),n=this.nodes(),a=null,i=ss(e),o=new Array(i.k),s={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=To(n,i.k,i.attributes)):Ot(i.testCentroids)==="object"?u=i.testCentroids:u=To(n,i.k,i.attributes):u=To(n,i.k,i.attributes);for(var l=!0,f=0;l&&f<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],s[a.id()]=Fl(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var p=0;p<i.k;p++){var d=zl(p,n,s);if(d.length!==0){for(var g=i.attributes.length,m=u[p],w=new Array(g),b=new Array(g),T=0;T<g;T++){b[T]=0;for(var E=0;E<d.length;E++)a=d[E],b[T]+=i.attributes[T](a);w[T]=b[T]/d.length,$y(w[T],m[T],i.sensitivityThreshold)||(l=!0)}u[p]=w,o[p]=r.collection(d)}}f++}return o},Yy=function(e){var r=this.cy(),n=this.nodes(),a=null,i=ss(e),o=new Array(i.k),s,u={},l,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Ot(i.testCentroids)==="object"?s=i.testCentroids:s=lu(n,i.k)):s=lu(n,i.k);for(var h=!0,p=0;h&&p<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],u[a.id()]=Fl(a,s,i.distance,i.attributes,"kMedoids");h=!1;for(var g=0;g<s.length;g++){var m=zl(g,n,u);if(m.length!==0){f[g]=fu(s[g],m,i.attributes);for(var w=0;w<m.length;w++)l=fu(m[w],m,i.attributes),l<f[g]&&(f[g]=l,s[g]=m[w],h=!0);o[g]=r.collection(m)}}p++}return o},Wy=function(e,r,n,a,i){for(var o,s,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var f=0;f<e.length;f++)for(var h=0;h<i.attributes.length;h++){o=0,s=0;for(var p=0;p<r.length;p++)o+=a[p][f]*i.attributes[h](r[p]),s+=a[p][f];e[f][h]=o/s}},Xy=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,u,l,f=2/(i.m-1),h=0;h<n.length;h++)for(var p=0;p<a.length;p++){s=0;for(var d=0;d<n.length;d++)u=Di(i.distance,a[p],n[h],i.attributes,"cmeans"),l=Di(i.distance,a[p],n[d],i.attributes,"cmeans"),s+=Math.pow(u/l,f);e[p][h]=1/s}},_y=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);i[u].push(e[l])}for(var h=0;h<i.length;h++)i[h]=a.collection(i[h]);return i},cu=function(e){var r=this.cy(),n=this.nodes(),a=ss(e),i,o,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(a.k);for(var p=0;p<n.length;p++){for(var d=0,g=0;g<a.k;g++)s[p][g]=Math.random(),d+=s[p][g];for(var m=0;m<a.k;m++)s[p][m]=s[p][m]/d}o=new Array(a.k);for(var w=0;w<a.k;w++)o[w]=new Array(a.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(a.k);for(var T=!0,E=0;T&&E<a.maxIterations;)T=!1,Wy(o,n,s,l,a),Xy(s,u,o,n,a),qy(s,u,a.sensitivityThreshold)||(T=!0),E++;return i=_y(n,s,a,r),{clusters:i,degreeOfMembership:s}},Ky={kMeans:Uy,kMedoids:Yy,fuzzyCMeans:cu,fcm:cu},Zy=qt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Qy={single:"min",complete:"max"},jy=function(e){var r=Zy(e),n=Qy[r.linkage];return n!=null&&(r.linkage=n),r},hu=function(e,r,n,a,i){for(var o=0,s=1/0,u,l=i.attributes,f=function(D,O){return Hi(i.distance,l.length,function(R){return l[R](D)},function(R){return l[R](O)},D,O)},h=0;h<e.length;h++){var p=e[h].key,d=n[p][a[p]];d<s&&(o=p,s=d)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=r[o],m=r[a[o]],w;i.mode==="dendrogram"?w={left:g,right:m,key:g.key}:w={value:g.value.concat(m.value),key:g.key},e[g.index]=w,e.splice(m.index,1),r[g.key]=w;for(var b=0;b<e.length;b++){var T=e[b];g.key===T.key?u=1/0:i.linkage==="min"?(u=n[g.key][T.key],n[g.key][T.key]>n[m.key][T.key]&&(u=n[m.key][T.key])):i.linkage==="max"?(u=n[g.key][T.key],n[g.key][T.key]<n[m.key][T.key]&&(u=n[m.key][T.key])):i.linkage==="mean"?u=(n[g.key][T.key]*g.size+n[m.key][T.key]*m.size)/(g.size+m.size):i.mode==="dendrogram"?u=f(T.value,g.value):u=f(T.value[0],g.value[0]),n[g.key][T.key]=n[T.key][g.key]=u}for(var E=0;E<e.length;E++){var S=e[E].key;if(a[S]===g.key||a[S]===m.key){for(var A=S,I=0;I<e.length;I++){var v=e[I].key;n[S][v]<n[S][A]&&(A=v)}a[S]=A}e[E].index=E}return g.key=m.key=g.index=m.index=null,!0},si=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},Jy=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},em=function t(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&si(e.left,a),e.right&&si(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&si(e.left,a),e.right&&si(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},vu=function(e){for(var r=this.cy(),n=this.nodes(),a=jy(e),i=a.attributes,o=function(E,S){return Hi(a.distance,i.length,function(A){return i[A](E)},function(A){return i[A](S)},E,S)},s=[],u=[],l=[],f=[],h=0;h<n.length;h++){var p={value:a.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=p,f[h]=p,u[h]=[],l[h]=0}for(var d=0;d<s.length;d++)for(var g=0;g<=d;g++){var m=void 0;a.mode==="dendrogram"?m=d===g?1/0:o(s[d].value,s[g].value):m=d===g?1/0:o(s[d].value[0],s[g].value[0]),u[d][g]=m,u[g][d]=m,m<u[d][l[d]]&&(l[d]=g)}for(var w=hu(s,f,u,l,a);w;)w=hu(s,f,u,l,a);var b;return a.mode==="dendrogram"?(b=em(s[0],a.dendrogramDepth,r),a.addDendrogram&&Jy(s[0],r)):(b=new Array(s.length),s.forEach(function(T,E){T.key=T.index=null,b[E]=r.collection(T.value)})),b},tm={hierarchicalClustering:vu,hca:vu},rm=qt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),nm=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Tt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Ae(n)||Tt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),rm(e)},am=function(e,r,n,a){var i=function(s,u){return a[u](s)};return-Hi(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},im=function(e,r){var n=null;return r==="median"?n=ny(e):r==="mean"?n=ry(e):r==="min"?n=ey(e):r==="max"?n=ty(e):n=r,n},om=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},du=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>s&&(o=l,s=r[i*e+l])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},sm=function(e,r,n){for(var a=du(e,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var u=-1,l=-1/0,f=0;f<o.length;f++){for(var h=0,p=0;p<o.length;p++)h+=r[o[p]*e+o[f]];h>l&&(u=f,l=h)}n[i]=o[u]}return a=du(e,r,n),a},gu=function(e){for(var r=this.cy(),n=this.nodes(),a=nm(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,u,l,f,h,p;s=n.length,u=s*s,l=new Array(u);for(var d=0;d<u;d++)l[d]=-1/0;for(var g=0;g<s;g++)for(var m=0;m<s;m++)g!==m&&(l[g*s+m]=am(a.distance,n[g],n[m],a.attributes));f=im(l,a.preference);for(var w=0;w<s;w++)l[w*s+w]=f;h=new Array(u);for(var b=0;b<u;b++)h[b]=0;p=new Array(u);for(var T=0;T<u;T++)p[T]=0;for(var E=new Array(s),S=new Array(s),A=new Array(s),I=0;I<s;I++)E[I]=0,S[I]=0,A[I]=0;for(var v=new Array(s*a.minIterations),L=0;L<v.length;L++)v[L]=0;var D;for(D=0;D<a.maxIterations;D++){for(var O=0;O<s;O++){for(var R=-1/0,k=-1/0,z=-1,B=0,U=0;U<s;U++)E[U]=h[O*s+U],B=p[O*s+U]+l[O*s+U],B>=R?(k=R,R=B,z=U):B>k&&(k=B);for(var H=0;H<s;H++)h[O*s+H]=(1-a.damping)*(l[O*s+H]-R)+a.damping*E[H];h[O*s+z]=(1-a.damping)*(l[O*s+z]-k)+a.damping*E[z]}for(var V=0;V<s;V++){for(var W=0,X=0;X<s;X++)E[X]=p[X*s+V],S[X]=Math.max(0,h[X*s+V]),W+=S[X];W-=S[V],S[V]=h[V*s+V],W+=S[V];for(var j=0;j<s;j++)p[j*s+V]=(1-a.damping)*Math.min(0,W-S[j])+a.damping*E[j];p[V*s+V]=(1-a.damping)*(W-S[V])+a.damping*E[V]}for(var K=0,J=0;J<s;J++){var ne=p[J*s+J]+h[J*s+J]>0?1:0;v[D%a.minIterations*s+J]=ne,K+=ne}if(K>0&&(D>=a.minIterations-1||D==a.maxIterations-1)){for(var ie=0,oe=0;oe<s;oe++){A[oe]=0;for(var ue=0;ue<a.minIterations;ue++)A[oe]+=v[ue*s+oe];(A[oe]===0||A[oe]===a.minIterations)&&ie++}if(ie===s)break}}for(var Z=om(s,h,p),fe=sm(s,l,Z),ce={},be=0;be<Z.length;be++)ce[Z[be]]=[];for(var Ce=0;Ce<n.length;Ce++){var Fe=i[n[Ce].id()],He=fe[Fe];He!=null&&ce[He].push(n[Ce])}for(var De=new Array(Z.length),le=0;le<Z.length;le++)De[le]=r.collection(ce[Z[le]]);return De},um={affinityPropagation:gu,ap:gu},lm=qt({root:void 0,directed:!1}),fm={hierholzer:function(e){if(!ot(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=lm(e),a=n.root,i=n.directed,o=this,s=!1,u,l,f;a&&(f=Ge(a)?this.filter(a)[0].id():a[0].id());var h={},p={};i?o.forEach(function(T){var E=T.id();if(T.isNode()){var S=T.indegree(!0),A=T.outdegree(!0),I=S-A,v=A-S;I==1?u?s=!0:u=E:v==1?l?s=!0:l=E:(v>1||I>1)&&(s=!0),h[E]=[],T.outgoers().forEach(function(L){L.isEdge()&&h[E].push(L.id())})}else p[E]=[void 0,T.target().id()]}):o.forEach(function(T){var E=T.id();if(T.isNode()){var S=T.degree(!0);S%2&&(u?l?s=!0:l=E:u=E),h[E]=[],T.connectedEdges().forEach(function(A){return h[E].push(A.id())})}else p[E]=[T.source().id(),T.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(l&&u)if(i){if(f&&l!=f)return d;f=l}else{if(f&&l!=f&&u!=f)return d;f||(f=l)}else f||(f=o[0].id());var g=function(E){for(var S=E,A=[E],I,v,L;h[S].length;)I=h[S].shift(),v=p[I][0],L=p[I][1],S!=L?(h[L]=h[L].filter(function(D){return D!=I}),S=L):!i&&S!=v&&(h[v]=h[v].filter(function(D){return D!=I}),S=v),A.unshift(I),A.unshift(S);return A},m=[],w=[];for(w=g(f);w.length!=1;)h[w[0]].length==0?(m.unshift(o.getElementById(w.shift())),m.unshift(o.getElementById(w.shift()))):w=g(w.shift()).concat(w);m.unshift(o.getElementById(w.shift()));for(var b in h)if(h[b].length)return d;return d.found=!0,d.trail=this.spawn(m,!0),d}},ui=function(){var e=this,r={},n=0,a=0,i=[],o=[],s={},u=function(p,d){for(var g=o.length-1,m=[],w=e.spawn();o[g].x!=p||o[g].y!=d;)m.push(o.pop().edge),g--;m.push(o.pop().edge),m.forEach(function(b){var T=b.connectedNodes().intersection(e);w.merge(b),T.forEach(function(E){var S=E.id(),A=E.connectedEdges().intersection(e);w.merge(E),r[S].cutVertex?w.merge(A.filter(function(I){return I.isLoop()})):w.merge(A)})}),i.push(w)},l=function h(p,d,g){p===g&&(a+=1),r[d]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(d).connectedEdges().intersection(e);if(m.size()===0)i.push(e.spawn(e.getElementById(d)));else{var w,b,T,E;m.forEach(function(S){w=S.source().id(),b=S.target().id(),T=w===d?b:w,T!==g&&(E=S.id(),s[E]||(s[E]=!0,o.push({x:d,y:T,edge:S})),T in r?r[d].low=Math.min(r[d].low,r[T].id):(h(p,T,d),r[d].low=Math.min(r[d].low,r[T].low),r[d].id<=r[T].low&&(r[d].cutVertex=!0,u(d,T))))})}};e.forEach(function(h){if(h.isNode()){var p=h.id();p in r||(a=0,l(p,p),r[p].cutVertex=a>1)}});var f=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(f),components:i}},cm={hopcroftTarjanBiconnected:ui,htbc:ui,htb:ui,hopcroftTarjanBiconnectedComponents:ui},li=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),s=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var f=e.getElementById(l).connectedEdges().intersection(e);if(f.forEach(function(m){var w=m.target().id();w!==l&&(w in r||u(w),r[w].explored||(r[l].low=Math.min(r[l].low,r[w].low)))}),r[l].index===r[l].low){for(var h=e.spawn();;){var p=i.pop();if(h.merge(e.getElementById(p)),r[p].low=r[l].index,r[p].explored=!0,p===l)break}var d=h.edgesWith(h),g=h.merge(d);a.push(g),o=o.difference(g)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:o,components:a}},hm={tarjanStronglyConnected:li,tsc:li,tscc:li,tarjanStronglyConnectedComponents:li},Gl={};[Ma,qp,Vp,Yp,Xp,Kp,jp,Ty,Vn,Un,Po,By,Ky,tm,um,fm,cm,hm].forEach(function(t){qe(Gl,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Hl=0,$l=1,ql=2,$r=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Hl,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};$r.prototype={fulfill:function(e){return pu(this,$l,"fulfillValue",e)},reject:function(e){return pu(this,ql,"rejectReason",e)},then:function(e,r){var n=this,a=new $r;return n.onFulfilled.push(mu(e,a,"fulfill")),n.onRejected.push(mu(r,a,"reject")),Vl(n),a.proxy}};var pu=function(e,r,n,a){return e.state===Hl&&(e.state=r,e[n]=a,Vl(e)),e},Vl=function(e){e.state===$l?yu(e,"onFulfilled",e.fulfillValue):e.state===ql&&yu(e,"onRejected",e.rejectReason)},yu=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},mu=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}vm(r,i)}}},vm=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ot(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};$r.all=function(t){return new $r(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(h){i(s,h)},function(h){r(h)});else{var f=u;i(s,f)}})(o)})};$r.resolve=function(t){return new $r(function(e,r){e(t)})};$r.reject=function(t){return new $r(function(e,r){r(t)})};var Jn=typeof Promise<"u"?Promise:$r,Bo=function(e,r,n){var a=Jo(e),i=!a,o=this._private=qe({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Et(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Tn=Bo.prototype;qe(Tn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),ur(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,f){var h=e[l];h!=null&&(e[l]=e[f],e[f]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[a]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Jn(function(a,i){n.push(function(){a()})})}});Tn.complete=Tn.completed;Tn.run=Tn.play;Tn.running=Tn.playing;var dm={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,u=!i,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=qe({},r,n);var h=Object.keys(r).length===0;if(h)return new Bo(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var p=r.renderedPosition,d=s.pan(),g=s.zoom();r.position=Ll(p,g,d)}if(u&&r.panBy!=null){var m=r.panBy,w=s.pan();r.pan={x:w.x+m.x,y:w.y+m.y}}var b=r.center||r.centre;if(u&&b!=null){var T=s.getCenterPan(b.eles,r.zoom);T!=null&&(r.pan=T)}if(u&&r.fit!=null){var E=r.fit,S=s.getFitViewport(E.eles||E.boundingBox,E.padding);S!=null&&(r.pan=S.pan,r.zoom=S.zoom)}if(u&&ot(r.zoom)){var A=s.getZoomedViewport(r.zoom);A!=null?(A.zoomed&&(r.zoom=A.zoom),A.panned&&(r.pan=A.pan)):r.zoom=null}return new Bo(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=qe({},r,n));for(var u=0;u<o.length;u++){var l=o[u],f=l.animated()&&(r.queue===void 0||r.queue),h=l.animation(r,f?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],f=l._private,h=f.animation.current,p=0;p<h.length;p++){var d=h[p],g=d._private;n&&(g.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},gm={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=qe({},r,e),function(a,i){var o=e,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(Ge(a)){var h=a.indexOf(".")!==-1,p=h&&ep.default(a);if(o.allowGetting&&i===void 0){var d;return f&&(o.beforeGet(f),p&&f._private[o.field][a]===void 0?d=jg.default(f._private[o.field],p):d=f._private[o.field][a]),d}else if(o.allowSetting&&i!==void 0){var g=!o.immutableKeys[a];if(g){var m=cl({},a,i);o.beforeSet(s,m);for(var w=0,b=l.length;w<b;w++){var T=l[w];o.canSet(T)&&(p&&f._private[o.field][a]===void 0?Jg.default(T._private[o.field],p,i):T._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&ot(a)){var E=a,S,A,I=Object.keys(E);o.beforeSet(s,E);for(var v=0;v<I.length;v++){S=I[v],A=E[S];var L=!o.immutableKeys[S];if(L)for(var D=0;D<l.length;D++){var O=l[D];o.canSet(O)&&(O._private[o.field][S]=A)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Et(a)){var R=a;s.on(o.bindingEvent,R)}else if(o.allowGetting&&a===void 0){var k;return f&&(o.beforeGet(f),k=f._private[o.field]),k}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=qe({},r,e),function(a){var i=e,o=this,s=o.length!==void 0,u=s?o:[o];if(Ge(a)){for(var l=a.split(/\s+/),f=l.length,h=0;h<f;h++){var p=l[h];if(!an(p)){var d=!i.immutableKeys[p];if(d)for(var g=0,m=u.length;g<m;g++)u[g]._private[i.field][p]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var w=0,b=u.length;w<b;w++)for(var T=u[w]._private[i.field],E=Object.keys(T),S=0;S<E.length;S++){var A=E[S],I=!i.immutableKeys[A];I&&(T[A]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},pm={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new Jn(function(s,u){var l=function(d){i.off.apply(i,h),s(d)},f=o.concat([l]),h=f.concat([]);i.on.apply(i,f)})}}},ft={};[dm,gm,pm].forEach(function(t){qe(ft,t)});var ym={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop()},pi={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else dt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new jn(e),o=0;o<r.length;o++){for(var s=r[o],u=s._private,l=u.classes,f=!1,h=0;h<e.length;h++){var p=e[h],d=l.has(p);if(!d){f=!0;break}}f||(f=l.size!==e.length),f&&(u.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){dt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,f=!1,h=0;h<e.length;h++){var p=e[h],d=l.has(p),g=!1;r||a&&!d?(l.add(p),g=!0):(!r||a&&d)&&(l.delete(p),g=!0),!f&&g&&(i.push(u),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};pi.className=pi.classNames=pi.classes;var it={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Nt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};it.variable="(?:[\\w-.]|(?:\\\\"+it.metaChar+"))+";it.className="(?:[\\w-]|(?:\\\\"+it.metaChar+"))+";it.value=it.string+"|"+it.number;it.id=it.variable;(function(){var t,e,r;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],it.comparatorOp+="|@"+e;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(it.comparatorOp+="|\\!"+e)})();var vt=function(){return{checks:[]}},Ie={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Fo=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Ep(t.selector,e.selector)}),mm=function(){for(var t={},e,r=0;r<Fo.length;r++)e=Fo[r],t[e.selector]=e.matches;return t}(),bm=function(e,r){return mm[e](r)},wm="("+Fo.map(function(t){return t.selector}).join("|")+")",Rn=function(e){return e.replace(new RegExp("\\\\("+it.metaChar+")","g"),function(r,n){return n})},jr=function(e,r,n){e[e.length-1]=n},zo=[{name:"group",query:!0,regex:"("+it.group+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:Ie.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:wm,populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:Ie.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+it.id+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:Ie.ID,value:Rn(i)})}},{name:"className",query:!0,regex:"\\.("+it.className+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:Ie.CLASS,value:Rn(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:Ie.DATA_EXIST,field:Rn(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+it.variable+")\\s*("+it.comparatorOp+")\\s*("+it.value+")\\s*\\]",populate:function(e,r,n){var a=br(n,3),i=a[0],o=a[1],s=a[2],u=new RegExp("^"+it.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Ie.DATA_COMPARE,field:Rn(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+it.boolOp+")\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=br(n,2),i=a[0],o=a[1];r.checks.push({type:Ie.DATA_BOOL,field:Rn(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+it.meta+")\\s*("+it.comparatorOp+")\\s*("+it.number+")\\s*\\]\\]",populate:function(e,r,n){var a=br(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:Ie.META_COMPARE,field:Rn(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:it.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=vt();return s}},{name:"directedEdge",separator:!0,regex:it.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,i=vt();return n.checks.push({type:Ie.DIRECTED_EDGE,source:a,target:i}),jr(e,r,n),e.edgeCount++,i}else{var o=vt(),s=r,u=vt();return o.checks.push({type:Ie.NODE_SOURCE,source:s,target:u}),jr(e,r,o),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:it.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,i=vt();return n.checks.push({type:Ie.UNDIRECTED_EDGE,nodes:[a,i]}),jr(e,r,n),e.edgeCount++,i}else{var o=vt(),s=r,u=vt();return o.checks.push({type:Ie.NODE_NEIGHBOR,node:s,neighbor:u}),jr(e,r,o),u}}},{name:"child",separator:!0,regex:it.child,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),i=e[e.length-1];return n.checks.push({type:Ie.CHILD,parent:i,child:a}),jr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=vt(),s=e[e.length-1],u=vt(),l=vt(),f=vt(),h=vt();return o.checks.push({type:Ie.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Ie.TRUE}],h.checks.push({type:Ie.TRUE}),u.checks.push({type:Ie.PARENT,parent:h,child:f}),jr(e,s,o),e.currentSubject=l,e.compoundCount++,f}else{var p=vt(),d=vt(),g=[{type:Ie.PARENT,parent:p,child:d}];return p.checks=r.checks,r.checks=g,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:it.descendant,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),i=e[e.length-1];return n.checks.push({type:Ie.DESCENDANT,ancestor:i,descendant:a}),jr(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=vt(),s=e[e.length-1],u=vt(),l=vt(),f=vt(),h=vt();return o.checks.push({type:Ie.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Ie.TRUE}],h.checks.push({type:Ie.TRUE}),u.checks.push({type:Ie.ANCESTOR,ancestor:h,descendant:f}),jr(e,s,o),e.currentSubject=l,e.compoundCount++,f}else{var p=vt(),d=vt(),g=[{type:Ie.ANCESTOR,ancestor:p,descendant:d}];return p.checks=r.checks,r.checks=g,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:it.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return lt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===Ie.DIRECTED_EDGE?a.type=Ie.NODE_TARGET:i===Ie.UNDIRECTED_EDGE&&(a.type=Ie.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];zo.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Em=function(e){for(var r,n,a,i=0;i<zo.length;i++){var o=zo[i],s=o.name,u=e.match(o.regexObj);if(u!=null){n=u,r=o,a=s;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},xm=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},Tm=function(e){var r=this,n=r.inputText=e,a=r[0]=vt();for(r.length=1,n=xm(n);;){var i=Em(n);if(i.expr==null)return lt("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return lt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return lt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&lt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Cm=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},r=function(f){return Ge(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},a=function(f,h){var p=f.type,d=f.value;switch(p){case Ie.GROUP:{var g=e(d);return g.substring(0,g.length-1)}case Ie.DATA_COMPARE:{var m=f.field,w=f.operator;return"["+m+n(e(w))+r(d)+"]"}case Ie.DATA_BOOL:{var b=f.operator,T=f.field;return"["+e(b)+T+"]"}case Ie.DATA_EXIST:{var E=f.field;return"["+E+"]"}case Ie.META_COMPARE:{var S=f.operator,A=f.field;return"[["+A+n(e(S))+r(d)+"]]"}case Ie.STATE:return d;case Ie.ID:return"#"+d;case Ie.CLASS:return"."+d;case Ie.PARENT:case Ie.CHILD:return i(f.parent,h)+n(">")+i(f.child,h);case Ie.ANCESTOR:case Ie.DESCENDANT:return i(f.ancestor,h)+" "+i(f.descendant,h);case Ie.COMPOUND_SPLIT:{var I=i(f.left,h),v=i(f.subject,h),L=i(f.right,h);return I+(I.length>0?" ":"")+v+L}case Ie.TRUE:return""}},i=function(f,h){return f.checks.reduce(function(p,d,g){return p+(h===f&&g===0?"$":"")+a(d,h)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=i(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Dm={parse:Tm,toString:Cm},Ul=function(e,r,n){var a,i=Ge(e),o=Ae(e),s=Ge(n),u,l,f=!1,h=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(i||s||f)&&(u=!i&&!o?"":""+e,l=""+n),f&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":p=!0,a=e>n;break;case">=":p=!0,a=e>=n;break;case"<":p=!0,a=e<n;break;case"<=":p=!0,a=e<=n;break;default:a=!1;break}return h&&(e!=null||!p)&&(a=!a),a},Sm=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Lm=function(e){return e!==void 0},us=function(e,r){return e.data(r)},Am=function(e,r){return e[r]()},Ct=[],bt=function(e,r){return e.checks.every(function(n){return Ct[n.type](n,r)})};Ct[Ie.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Ct[Ie.STATE]=function(t,e){var r=t.value;return bm(r,e)};Ct[Ie.ID]=function(t,e){var r=t.value;return e.id()===r};Ct[Ie.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Ct[Ie.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ul(Am(e,r),n,a)};Ct[Ie.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Ul(us(e,r),n,a)};Ct[Ie.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Sm(us(e,r),n)};Ct[Ie.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Lm(us(e,r))};Ct[Ie.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return bt(r,a)&&bt(n,i)||bt(n,a)&&bt(r,i)};Ct[Ie.NODE_NEIGHBOR]=function(t,e){return bt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&bt(t.neighbor,r)})};Ct[Ie.DIRECTED_EDGE]=function(t,e){return bt(t.source,e.source())&&bt(t.target,e.target())};Ct[Ie.NODE_SOURCE]=function(t,e){return bt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&bt(t.target,r)})};Ct[Ie.NODE_TARGET]=function(t,e){return bt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&bt(t.source,r)})};Ct[Ie.CHILD]=function(t,e){return bt(t.child,e)&&bt(t.parent,e.parent())};Ct[Ie.PARENT]=function(t,e){return bt(t.parent,e)&&e.children().some(function(r){return bt(t.child,r)})};Ct[Ie.DESCENDANT]=function(t,e){return bt(t.descendant,e)&&e.ancestors().some(function(r){return bt(t.ancestor,r)})};Ct[Ie.ANCESTOR]=function(t,e){return bt(t.ancestor,e)&&e.descendants().some(function(r){return bt(t.descendant,r)})};Ct[Ie.COMPOUND_SPLIT]=function(t,e){return bt(t.subject,e)&&bt(t.left,e)&&bt(t.right,e)};Ct[Ie.TRUE]=function(){return!0};Ct[Ie.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Ct[Ie.FILTER]=function(t,e){var r=t.value;return r(e)};var Mm=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Ie.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(bt(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Nm=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(bt(a,e))return!0}return!1},Om={matches:Nm,filter:Mm},sn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ge(e)&&e.match(/^\s*$/)||(ur(e)?this.addQuery({checks:[{type:Ie.COLLECTION,value:e.collection()}]}):Et(e)?this.addQuery({checks:[{type:Ie.FILTER,value:e}]}):Ge(e)?this.parse(e)||(this.invalid=!0):Tt("A selector must be created from a string; found "))},un=sn.prototype;[Dm,Om].forEach(function(t){return qe(un,t)});un.text=function(){return this.inputText};un.size=function(){return this.length};un.eq=function(t){return this[t]};un.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};un.addQuery=function(t){this[this.length++]=t};un.selector=un.toString;var rn={allAre:function(e){var r=new sn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new sn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};rn.allAreNeighbours=rn.allAreNeighbors;rn.has=rn.contains;rn.equal=rn.equals=rn.same;var gr=function(e,r){return function(a,i,o,s){var u=a,l=this,f;if(u==null?f="":ur(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var h=l[0]._private,p=h.traversalCache=h.traversalCache||{},d=p[r]=p[r]||[],g=En(f),m=d[g];return m||(d[g]=e.call(l,a,i,o,s))}else return e.call(l,a,i,o,s)}},_n={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:gr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function ls(t,e,r,n){for(var a=[],i=new jn,o=t.cy(),s=o.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):s&&n(a,i,l)}for(;a.length>0;){var f=a.shift();e(f),i.add(f.id()),s&&n(a,i,f)}return t}function Yl(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}_n.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ls(this,t,e,Yl)};function Wl(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}_n.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ls(this,t,e,Wl)};function Im(t,e,r){Wl(t,e,r),Yl(t,e,r)}_n.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ls(this,t,e,Im)};_n.ancestors=_n.parents;var Ia,Xl;Ia=Xl={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ft.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ft.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Ia.attr=Ia.data;Ia.removeAttr=Ia.removeData;var km=Xl,$i={};function Co(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!e&&s.isLoop()||(n+=t(a,s))}return n}else return}}qe($i,{degree:Co(function(t,e){return e.source().same(e.target())?2:1}),indegree:Co(function(t,e){return e.target().same(t)?1:0}),outdegree:Co(function(t,e){return e.source().same(t)?1:0})});function Pn(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}qe($i,{minDegree:Pn("degree",function(t,e){return t<e}),maxDegree:Pn("degree",function(t,e){return t>e}),minIndegree:Pn("indegree",function(t,e){return t<e}),maxIndegree:Pn("indegree",function(t,e){return t>e}),minOutdegree:Pn("outdegree",function(t,e){return t<e}),maxOutdegree:Pn("outdegree",function(t,e){return t>e})});qe($i,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var xr,_l,Kl=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},bu={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Kl(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};xr=_l={position:ft.data(bu),silentPosition:ft.data(qe({},bu,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Kl(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(ot(e))r?this.silentPosition(e):this.position(e);else if(Et(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(ot(e)?(a={x:Ae(e.x)?e.x:0,y:Ae(e.y)?e.y:0},n=r):Ge(e)&&Ae(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+a.x,y:u.y+a.y};n?s.silentPosition(l):s.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return ot(e)?this.shift(e,!0):Ge(e)&&Ae(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=ot(e)?e:void 0,u=s!==void 0||r!==void 0&&Ge(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(e,(r-o[e])/i):s!==void 0&&f.position(Ll(s,i,o))}else{var h=n.position();return s=Gi(h,i,o),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=ot(e)?e:void 0,o=i!==void 0||r!==void 0&&Ge(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,h=f&&f.length>0,p=h;h&&(f=f[0]);var d=p?f.position():{x:0,y:0};r!==void 0?l.position(e,r+d[e]):i!==void 0&&l.position({x:i.x+d.x,y:i.y+d.y})}else{var g=n.position(),m=s?n.parent():null,w=m&&m.length>0,b=w;w&&(m=m[0]);var T=b?m.position():{x:0,y:0};return i={x:g.x-T.x,y:g.y-T.y},e===void 0?i:i[e]}else if(!o)return;return this}};xr.modelPosition=xr.point=xr.position;xr.modelPositions=xr.points=xr.positions;xr.renderedPoint=xr.renderedPosition;xr.relativePoint=xr.relativePosition;var Rm=_l,Yn,fn;Yn=fn={};fn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,s=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:u,w:o-i,h:u-s}};fn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};fn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),p=s.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function d(D,O,R){var k=0,z=0,B=O+R;return D>0&&B>0&&(k=O/B*D,z=R/B*D),{biasDiff:k,biasComplementDiff:z}}function g(D,O,R,k){if(R.units==="%")switch(k){case"width":return D>0?R.pfValue*D:0;case"height":return O>0?R.pfValue*O:0;case"average":return D>0&&O>0?R.pfValue*(D+O)/2:0;case"min":return D>0&&O>0?D>O?R.pfValue*O:R.pfValue*D:0;case"max":return D>0&&O>0?D>O?R.pfValue*D:R.pfValue*O:0;default:return 0}else return R.units==="px"?R.pfValue:0}var m=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(m=m*100/f.width.val);var w=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(w=w*100/f.width.val);var b=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var T=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(T=T*100/f.height.val);var E=d(f.width.val-h.w,m,w),S=E.biasDiff,A=E.biasComplementDiff,I=d(f.height.val-h.h,b,T),v=I.biasDiff,L=I.biasComplementDiff;s.autoPadding=g(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,f.width.val),p.x=(-S+h.x1+h.x2+A)/2,s.autoHeight=Math.max(h.h,f.height.val),p.y=(-v+h.y1+h.y2+L)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var dr=function(e){return e===1/0||e===-1/0?0:e},wr=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},bn=function(e,r){return r==null?e:wr(e,r.x1,r.y1,r.x2,r.y2)},pa=function(e,r,n){return Er(e,r,n)},fi=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var f=a.arrowBounds=a.arrowBounds||{},h=f[n]=f[n]||{};h.x1=u-o,h.y1=l-o,h.x2=u+o,h.y2=l+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,gi(h,1),wr(e,h.x1,h.y1,h.x2,h.y2)}}},Do=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=pa(o,"labelWidth",n),h=pa(o,"labelHeight",n),p=pa(o,"labelX",n),d=pa(o,"labelY",n),g=r.pstyle(a+"text-margin-x").pfValue,m=r.pstyle(a+"text-margin-y").pfValue,w=r.isEdge(),b=r.pstyle(a+"text-rotation"),T=r.pstyle("text-outline-width").pfValue,E=r.pstyle("text-border-width").pfValue,S=E/2,A=r.pstyle("text-background-padding").pfValue,I=2,v=h,L=f,D=L/2,O=v/2,R,k,z,B;if(w)R=p-D,k=p+D,z=d-O,B=d+O;else{switch(u.value){case"left":R=p-L,k=p;break;case"center":R=p-D,k=p+D;break;case"right":R=p,k=p+L;break}switch(l.value){case"top":z=d-v,B=d;break;case"center":z=d-O,B=d+O;break;case"bottom":z=d,B=d+v;break}}R+=g-Math.max(T,S)-A-I,k+=g+Math.max(T,S)+A+I,z+=m-Math.max(T,S)-A-I,B+=m+Math.max(T,S)+A+I;var U=n||"main",H=i.labelBounds,V=H[U]=H[U]||{};V.x1=R,V.y1=z,V.x2=k,V.y2=B,V.w=k-R,V.h=B-z;var W=w&&b.strValue==="autorotate",X=b.pfValue!=null&&b.pfValue!==0;if(W||X){var j=W?pa(i.rstyle,"labelAngle",n):b.pfValue,K=Math.cos(j),J=Math.sin(j),ne=(R+k)/2,ie=(z+B)/2;if(!w){switch(u.value){case"left":ne=k;break;case"right":ne=R;break}switch(l.value){case"top":ie=B;break;case"bottom":ie=z;break}}var oe=function(He,De){return He=He-ne,De=De-ie,{x:He*K-De*J+ne,y:He*J+De*K+ie}},ue=oe(R,z),Z=oe(R,B),fe=oe(k,z),ce=oe(k,B);R=Math.min(ue.x,Z.x,fe.x,ce.x),k=Math.max(ue.x,Z.x,fe.x,ce.x),z=Math.min(ue.y,Z.y,fe.y,ce.y),B=Math.max(ue.y,Z.y,fe.y,ce.y)}var be=U+"Rot",Ce=H[be]=H[be]||{};Ce.x1=R,Ce.y1=z,Ce.x2=k,Ce.y2=B,Ce.w=k-R,Ce.h=B-z,wr(e,R,z,k,B),wr(i.labelBounds.all,R,z,k,B)}return e}},Pm=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=sr(),s=e._private,u=e.isNode(),l=e.isEdge(),f,h,p,d,g,m,w=s.rstyle,b=u&&a?e.pstyle("bounds-expansion").pfValue:[0],T=function(me){return me.pstyle("display").value!=="none"},E=!a||T(e)&&(!l||T(e.source())&&T(e.target()));if(E){var S=0,A=0;a&&r.includeOverlays&&(S=e.pstyle("overlay-opacity").value,S!==0&&(A=e.pstyle("overlay-padding").value));var I=0,v=0;a&&r.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(v=e.pstyle("underlay-padding").value));var L=Math.max(A,v),D=0,O=0;if(a&&(D=e.pstyle("width").pfValue,O=D/2),u&&r.includeNodes){var R=e.position();g=R.x,m=R.y;var k=e.outerWidth(),z=k/2,B=e.outerHeight(),U=B/2;f=g-z,h=g+z,p=m-U,d=m+U,wr(o,f,p,h,d)}else if(l&&r.includeEdges)if(a&&!i){var H=e.pstyle("curve-style").strValue;if(f=Math.min(w.srcX,w.midX,w.tgtX),h=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),d=Math.max(w.srcY,w.midY,w.tgtY),f-=O,h+=O,p-=O,d+=O,wr(o,f,p,h,d),H==="haystack"){var V=w.haystackPts;if(V&&V.length===2){if(f=V[0].x,p=V[0].y,h=V[1].x,d=V[1].y,f>h){var W=f;f=h,h=W}if(p>d){var X=p;p=d,d=X}wr(o,f-O,p-O,h+O,d+O)}}else if(H==="bezier"||H==="unbundled-bezier"||H==="segments"||H==="taxi"){var j;switch(H){case"bezier":case"unbundled-bezier":j=w.bezierPts;break;case"segments":case"taxi":j=w.linePts;break}if(j!=null)for(var K=0;K<j.length;K++){var J=j[K];f=J.x-O,h=J.x+O,p=J.y-O,d=J.y+O,wr(o,f,p,h,d)}}}else{var ne=e.source(),ie=ne.position(),oe=e.target(),ue=oe.position();if(f=ie.x,h=ue.x,p=ie.y,d=ue.y,f>h){var Z=f;f=h,h=Z}if(p>d){var fe=p;p=d,d=fe}f-=O,h+=O,p-=O,d+=O,wr(o,f,p,h,d)}if(a&&r.includeEdges&&l&&(fi(o,e,"mid-source"),fi(o,e,"mid-target"),fi(o,e,"source"),fi(o,e,"target")),a){var ce=e.pstyle("ghost").value==="yes";if(ce){var be=e.pstyle("ghost-offset-x").pfValue,Ce=e.pstyle("ghost-offset-y").pfValue;wr(o,o.x1+be,o.y1+Ce,o.x2+be,o.y2+Ce)}}var Fe=s.bodyBounds=s.bodyBounds||{};nu(Fe,o),Eo(Fe,b),gi(Fe,1),a&&(f=o.x1,h=o.x2,p=o.y1,d=o.y2,wr(o,f-L,p-L,h+L,d+L));var He=s.overlayBounds=s.overlayBounds||{};nu(He,o),Eo(He,b),gi(He,1);var De=s.labelBounds=s.labelBounds||{};De.all!=null?uy(De.all):De.all=sr(),a&&r.includeLabels&&(r.includeMainLabels&&Do(o,e,null),l&&(r.includeSourceLabels&&Do(o,e,"source"),r.includeTargetLabels&&Do(o,e,"target")))}return o.x1=dr(o.x1),o.y1=dr(o.y1),o.x2=dr(o.x2),o.y2=dr(o.y2),o.w=dr(o.x2-o.x1),o.h=dr(o.y2-o.y1),o.w>0&&o.h>0&&E&&(Eo(o,b),gi(o,1)),o},Zl=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a},Ql=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return Np([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},wu=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?Eu:Zl(r),s=o===Eu,u=Ql(e),l=n.bbCachePosKey===u,f=r.useCache&&l,h=function(m){return m._private.bbCache==null||m._private.styleDirty},p=!f||h(e)||i&&h(e.source())||h(e.target());if(p?(l||e.recalculateRenderedStyle(f),a=Pm(e,ka),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!s){var d=e.isNode();a=sr(),(r.includeNodes&&d||r.includeEdges&&!d)&&(r.includeOverlays?bn(a,n.overlayBounds):bn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?bn(a,n.labelBounds.all):(r.includeMainLabels&&bn(a,n.labelBounds.mainRot),r.includeSourceLabels&&bn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&bn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},ka={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Eu=Zl(ka),xu=qt(ka);fn.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=ka:t=xu(t),e=wu(this[0],t);else{e=sr(),t=t||ka;var r=xu(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],u=s._private,l=Ql(s),f=u.bbCachePosKey===l,h=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var d=n[p];bn(e,wu(d,r))}}return e.x1=dr(e.x1),e.y1=dr(e.y1),e.x2=dr(e.x2),e.y2=dr(e.y2),e.w=dr(e.x2-e.x1),e.h=dr(e.y2-e.y1),e};fn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};fn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),ot(t)){var i=t;t=function(){return i}}var o=function(f,h){return f._private.bbAtOldPos=t(f,h)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=sy(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};Yn.boundingbox=Yn.bb=Yn.boundingBox;Yn.renderedBoundingbox=Yn.renderedBoundingBox;var Bm=fn,xa,Va;xa=Va={};var jl=function(e){e.uppercaseName=Js(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Js(e.outerName),xa[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},xa["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},xa["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},xa["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};jl({name:"width"});jl({name:"height"});Va.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Va.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Va.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Fm=Va,zm=function(e,r){if(e.isEdge())return r(e)},Gm=function(e,r){if(e.isEdge()){var n=e.cy();return Gi(r(e),n.zoom(),n.pan())}},Hm=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return Gi(o,i,a)})}},$m=function(e){return e.renderer().getControlPoints(e)},qm=function(e){return e.renderer().getSegmentPoints(e)},Vm=function(e){return e.renderer().getSourceEndpoint(e)},Um=function(e){return e.renderer().getTargetEndpoint(e)},Ym=function(e){return e.renderer().getEdgeMidpoint(e)},Tu={controlPoints:{get:$m,mult:!0},segmentPoints:{get:qm,mult:!0},sourceEndpoint:{get:Vm},targetEndpoint:{get:Um},midpoint:{get:Ym}},Wm=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},Xm=Object.keys(Tu).reduce(function(t,e){var r=Tu[e],n=Wm(e);return t[e]=function(){return zm(this,r.get)},r.mult?t[n]=function(){return Hm(this,r.get)}:t[n]=function(){return Gm(this,r.get)},t},{}),_m=qe({},Rm,Bm,Fm,Xm);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Jl=function(e,r){this.recycle(e,r)};function ya(){return!1}function ci(){return!0}Jl.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ya,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ci:ya):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ci;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ci;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ci,this.stopPropagation()},isDefaultPrevented:ya,isPropagationStopped:ya,isImmediatePropagationStopped:ya};var ef=/^([^.]+)(\.(?:[^.]+))?$/,Km=".*",tf={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Cu=Object.keys(tf),Zm={};function qi(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zm,e=arguments.length>1?arguments[1]:void 0,r=0;r<Cu.length;r++){var n=Cu[r];this[n]=t[n]||tf[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ln=qi.prototype,rf=function(e,r,n,a,i,o,s){Et(a)&&(i=a,a=null),s&&(o==null?o=s:o=qe({},o,s));for(var u=dt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!an(f)){var h=f.match(ef);if(h){var p=h[1],d=h[2]?h[2]:null,g=r(e,f,p,d,a,i,o);if(g===!1)break}}}},Du=function(e,r){return e.addEventFields(e.context,r),new Jl(r.type,r)},Qm=function(e,r,n){if(fp(n)){r(e,n);return}else if(ot(n)){r(e,Du(e,n));return}for(var a=dt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!an(o)){var s=o.match(ef);if(s){var u=s[1],l=s[2]?s[2]:null,f=Du(e,{type:u,namespace:l,target:e.context});r(e,f)}}}};ln.on=ln.addListener=function(t,e,r,n,a){return rf(this,function(i,o,s,u,l,f,h){Et(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:u,qualifier:l,conf:h})},t,e,r,n,a),this};ln.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ln.removeListener=ln.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=Pp(this.listeners));for(var i=this.listeners,o=function(l){var f=i[l];rf(a,function(h,p,d,g,m,w){if((f.type===d||t==="*")&&(!g&&f.namespace!==".*"||f.namespace===g)&&(!m||h.qualifierCompare(f.qualifier,m))&&(!w||f.callback===w))return i.splice(l,1),!1},t,e,r,n)},s=i.length-1;s>=0;s--)o(s);return this};ln.removeAllListeners=function(){return this.removeListener("*")};ln.emit=ln.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,dt(e)||(e=[e]),Qm(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(f){var h=n[f];if(h.type===o.type&&(!h.namespace||h.namespace===o.namespace||h.namespace===Km)&&i.eventMatches(i.context,h,o)){var p=[o];e!=null&&Fp(p,e),i.beforeEmit(i.context,h,o),h.conf&&h.conf.one&&(i.listeners=i.listeners.filter(function(m){return m!==h}));var d=i.callbackContext(i.context,h,o),g=h.callback.apply(d,p);i.afterEmit(i.context,h,o),g===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)s(u);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var jm={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&$a(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},hi=function(e){return Ge(e)?new sn(e):e},nf={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new qi(jm,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=hi(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=hi(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=hi(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=hi(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ft.eventAliasesOn(nf);var af={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ge(e)||ur(e))return new sn(e).filter(this);if(Et(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){Ge(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ge(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,s=o?a:i,u=o?i:a,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(e){var r=this._private.cy;Ge(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(u,l){for(var f=0;f<u.length;f++){var h=u[f],p=h._private.data.id,d=l.hasElementWithId(p);d||n.push(h)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;Ge(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=e,u=function(f,h,p){for(var d=0;d<f.length;d++){var g=f[d],m=g._private.data.id,w=h.hasElementWithId(m);w?i.merge(g):p.push(g)}};return u(o,s,n),u(s,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ge(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ge(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var s=e[o],u=s._private.data.id,l=!i.has(u);if(l){var f=this.length++;this[f]=s,i.set(u,{ele:s,index:f})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ge(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(s)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?e.apply(r,[s,o,i]):e(s,o,i);u>n&&(n=u,a=s)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?e.apply(r,[s,o,i]):e(s,o,i);u<n&&(n=u,a=s)}return{value:n,ele:a}}},ut=af;ut.u=ut["|"]=ut["+"]=ut.union=ut.or=ut.add;ut["\\"]=ut["!"]=ut["-"]=ut.difference=ut.relativeComplement=ut.subtract=ut.not;ut.n=ut["&"]=ut["."]=ut.and=ut.intersection=ut.intersect;ut["^"]=ut["(+)"]=ut["(-)"]=ut.symmetricDifference=ut.symdiff=ut.xor;ut.fnFilter=ut.filterFn=ut.stdFilter=ut.filter;ut.complement=ut.abscomp=ut.absoluteComplement;var Jm={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},of=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(f){var h=f.pstyle("z-compound-depth");return h.value==="auto"?a?f.zDepth():0:h.value==="bottom"?-1:h.value==="top"?ts:0}var o=i(e)-i(r);if(o!==0)return o;function s(f){var h=f.pstyle("z-index-compare");return h.value==="auto"&&f.isNode()?1:0}var u=s(e)-s(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},Si={forEach:function(e,r){if(Et(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Et(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(of)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:ts-1}else{var i=r.source,o=r.target,s=i.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};Si.each=Si.forEach;var e0=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ot(Symbol))!=e&&Ot(Symbol.iterator)!=e;r&&(Si[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return cl({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};e0();var t0=qt({nodeDimensionsIncludeLabels:!1}),yi={layoutDimensions:function(e){e=t0(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(A){return!A.isParent()}),i=this.cy(),o=r.eles,s=function(I){return I.id()},u=Sa(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(I,v,L){var D={x:v.x1+v.w/2,y:v.y1+v.h/2},O={x:(L.x-D.x)*I,y:(L.y-D.y)*I};return{x:D.x+O.x,y:D.y+O.y}},f=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!f)return null;for(var I=sr(),v=0;v<a.length;v++){var L=a[v],D=u(L,v);fy(I,D.x,D.y)}return I},p=h(),d=Sa(function(A,I){var v=u(A,I);if(f){var L=Math.abs(r.spacingFactor);v=l(L,p,v)}return r.transform!=null&&(v=r.transform(A,v)),v},s);if(r.animate){for(var g=0;g<a.length;g++){var m=a[g],w=d(m,g),b=r.animateFilter==null||r.animateFilter(m,g);if(b){var T=m.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}else m.position(w)}if(r.fit){var E=i.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else if(r.zoom!==void 0&&r.pan!==void 0){var S=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Jn.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(d),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(qe({},e,{eles:this}))}};yi.createLayout=yi.makeLayout=yi.layout;function sf(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Vi(t,e){return t=En(t),function(n){return sf(t,e,n)}}function Ui(t,e){t=En(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return sf(t,r,a)}}var Ht={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(ot(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Ge(e))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function So(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function fs(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!e(i))return!1;if(i.isNode())return!o||So(i,n);var u=s.source,l=s.target;return r(u)&&(!o||So(u,r))&&(u===l||r(l)&&(!o||So(l,r)))}}}var ea=Vi("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Ht.takesUpSpace=Ui("takesUpSpace",fs({ok:ea}));var r0=Vi("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ea(t)}),n0=Vi("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ea(t)});Ht.interactive=Ui("interactive",fs({ok:r0,parentOk:n0,edgeOkViaNode:ea}));Ht.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var a0=Vi("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ea(t)}),i0=ea;Ht.visible=Ui("visible",fs({ok:a0,edgeOkViaNode:i0}));Ht.hidden=function(){var t=this[0];if(t)return!t.visible()};Ht.isBundledBezier=Ui("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ht.bypass=Ht.css=Ht.style;Ht.renderedCss=Ht.renderedStyle;Ht.removeBypass=Ht.removeCss=Ht.removeStyle;Ht.pstyle=Ht.parsedStyle;var nn={};function Su(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Et(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&dt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(u);if(h!==void 0&&(l=h,!h))return this}l&&(u._private[t.field]=t.value,f&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),o&&p.emit(o)}return this}}function ta(t){nn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},nn[t.on]=Su({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),nn[t.off]=Su({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ta({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ta({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ta({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ta({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});nn.deselect=nn.unselect;nn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ta({field:"active",on:"activate",off:"unactivate"});ta({field:"pannable",on:"panify",off:"unpanify"});nn.inactive=function(){var t=this[0];if(t)return!t._private.active};var Xt={},Lu=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var h=l[f],p=h.source(),d=h.target();if(e.noIncomingEdges&&d===s&&p!==s||e.noOutgoingEdges&&p===s&&d!==s){u=!0;break}}u||i.push(s)}}return this.spawn(i,!0).filter(n)}},Au=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),h=l.target();e.outgoing&&f===o?(a.push(l),a.push(h)):e.incoming&&h===o&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(r)}},Mu=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],f=l.id();i[f]||(i[f]=!0,a.push(l),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Xt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};qe(Xt,{roots:Lu({noIncomingEdges:!0}),leaves:Lu({noOutgoingEdges:!0}),outgoers:gr(Au({outgoing:!0}),"outgoers"),successors:Mu({outgoing:!0}),incomers:gr(Au({incoming:!0}),"incomers"),predecessors:Mu({incoming:!0})});qe(Xt,{neighborhood:gr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],u=s.source(),l=s.target(),f=a===u?l:u;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Xt.neighbourhood=Xt.neighborhood;Xt.closedNeighbourhood=Xt.closedNeighborhood;Xt.openNeighbourhood=Xt.openNeighborhood;qe(Xt,{source:gr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:gr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Nu({attr:"source"}),targets:Nu({attr:"target"})});function Nu(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}qe(Xt,{edgesWith:gr(Ou(),"edgesWith"),edgesTo:gr(Ou({thisIsSrc:!0}),"edgesTo")});function Ou(t){return function(r){var n=[],a=this._private.cy,i=t||{};Ge(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,h=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),p=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),d=h||p;d&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!h||i.thisIsTgt&&!p)||n.push(l))}return this.spawn(n,!0)}}qe(Xt,{connectedEdges:gr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:gr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:gr(Iu(),"parallelEdges"),codirectedEdges:gr(Iu({codirected:!0}),"codirectedEdges")});function Iu(t){var e={codirected:!1};return t=qe({},e,t),function(n){for(var a=[],i=this.edges(),o=t,s=0;s<i.length;s++)for(var u=i[s],l=u._private,f=l.source,h=f._private.data.id,p=l.data.target,d=f._private.edges,g=0;g<d.length;g++){var m=d[g],w=m._private.data,b=w.target,T=w.source,E=b===p&&T===h,S=h===b&&p===T;(o.codirected&&E||!o.codirected&&(E||S))&&a.push(m)}return this.spawn(a,!0).filter(n)}}qe(Xt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var s=function(f,h){a.merge(f),i.unmerge(f),h.merge(f)};if(i.empty())return r.spawn();var u=function(){var f=n.collection();o.push(f);var h=i[0];s(h,f),r.bfs({directed:!1,roots:h,visit:function(d){return s(d,f)}}),f.forEach(function(p){p.connectedEdges().forEach(function(d){r.has(d)&&f.has(d.source())&&f.has(d.target())&&f.merge(d)})})};do u();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Xt.componentsOf=Xt.components;var $t=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Tt("A collection must have a reference to the core");return}var i=new Nr,o=!1;if(!r)r=[];else if(r.length>0&&ot(r[0])&&!$a(r[0])){o=!0;for(var s=[],u=new jn,l=0,f=r.length;l<f;l++){var h=r[l];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=Dl();else if(e.hasElementWithId(p.id)||u.has(p.id))continue;var d=new zi(e,h,!1);s.push(d),u.add(p.id)}r=s}this.length=0;for(var g=0,m=r.length;g<m;g++){var w=r[g][0];if(w!=null){var b=w._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var E=this.lazyMap=new Nr,S=this.eles,A=0;A<S.length;A++){var I=S[A];E.set(I.id(),{index:A,ele:I})}}},n&&(this._private.map=i),o&&!a&&this.restore()},yt=zi.prototype=$t.prototype=Object.create(Array.prototype);yt.instanceString=function(){return"collection"};yt.spawn=function(t,e){return new $t(this.cy(),t,e)};yt.spawnSelf=function(){return this.spawn(this)};yt.cy=function(){return this._private.cy};yt.renderer=function(){return this._private.cy.renderer()};yt.element=function(){return this[0]};yt.collection=function(){return vl(this)?this:new $t(this._private.cy,[this])};yt.unique=function(){return new $t(this._private.cy,this,!0)};yt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};yt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new $t(e)};yt.$id=yt.getElementById;yt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};yt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};yt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};yt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(ot(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},s=t.data.source,u=t.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(e=e.move(o))}else{var l="parent"in t.data,f=t.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var h=function(m,w,b){var T=t[m];T!=null&&T!==n[m]&&(T?e[w]():e[b]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Mr(n.data),position:Mr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var d=0;return n.classes.forEach(function(g){return p.classes+=d++===0?g:" "+g}),p}}};yt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};yt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new zi(t,a,!1);e.push(i)}return new $t(t,e)};yt.copy=yt.clone;yt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,u=0,l=r.length;u<l;u++){var f=r[u];e&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var h,p=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var d=s[h],g=d._private,m=g.data;if(d.clearTraversalCache(),!(!e&&!g.removed)){if(m.id===void 0)m.id=Dl();else if(Ae(m.id))m.id=""+m.id;else if(an(m.id)||!Ge(m.id)){Tt("Can not create element with invalid string ID `"+m.id+"`"),p();continue}else if(n.hasElementWithId(m.id)){Tt("Can not create second element with ID `"+m.id+"`"),p();continue}}var w=m.id;if(d.isNode()){var b=g.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(d.isEdge()){for(var T=d,E=["source","target"],S=E.length,A=!1,I=0;I<S;I++){var v=E[I],L=m[v];Ae(L)&&(L=m[v]=""+m[v]),L==null||L===""?(Tt("Can not create edge `"+w+"` with unspecified "+v),A=!0):n.hasElementWithId(L)||(Tt("Can not create edge `"+w+"` with nonexistant "+v+" `"+L+"`"),A=!0)}if(A){p();continue}var D=n.getElementById(m.source),O=n.getElementById(m.target);D.same(O)?D._private.edges.push(T):(D._private.edges.push(T),O._private.edges.push(T)),T._private.source=D,T._private.target=O}g.map=new Nr,g.map.set(w,{ele:d,index:0}),g.removed=!1,e&&n.addToPool(d)}for(var R=0;R<i.length;R++){var k=i[R],z=k._private.data;Ae(z.parent)&&(z.parent=""+z.parent);var B=z.parent,U=B!=null;if(U||k._private.parent){var H=k._private.parent?n.collection().merge(k._private.parent):n.getElementById(B);if(H.empty())z.parent=void 0;else if(H[0].removed())lt("Node added with missing parent, reference to parent removed"),z.parent=void 0,k._private.parent=null;else{for(var V=!1,W=H;!W.empty();){if(k.same(W)){V=!0,z.parent=void 0;break}W=W.parent()}V||(H[0]._private.children.push(k),k._private.parent=H[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var X=s.length===r.length?r:new $t(n,s),j=0;j<X.length;j++){var K=X[j];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var J;a.hasCompoundNodes?J=n.collection().merge(X).merge(X.connectedNodes()).merge(X.parent()):J=X,J.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?X.emitAndNotify("add"):e&&X.emit("add")}return r};yt.removed=function(){var t=this[0];return t&&t._private.removed};yt.inside=function(){var t=this[0];return t&&!t._private.removed};yt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(B){for(var U=B._private.edges,H=0;H<U.length;H++)u(U[H])}function s(B){for(var U=B._private.children,H=0;H<U.length;H++)u(U[H])}function u(B){var U=a[B.id()];e&&B.removed()||U||(a[B.id()]=!0,B.isNode()?(n.push(B),o(B),s(B)):n.unshift(B))}for(var l=0,f=r.length;l<f;l++){var h=r[l];u(h)}function p(B,U){var H=B._private.edges;on(H,U),B.clearTraversalCache()}function d(B){B.clearTraversalCache()}var g=[];g.ids={};function m(B,U){U=U[0],B=B[0];var H=B._private.children,V=B.id();on(H,U),U._private.parent=null,g.ids[V]||(g.ids[V]=!0,g.push(B))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var T=b.source()[0],E=b.target()[0];p(T,b),p(E,b);for(var S=b.parallelEdges(),A=0;A<S.length;A++){var I=S[A];d(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var v=b.parent();v.length!==0&&m(v,b)}e&&(b._private.removed=!0)}var L=i._private.elements;i._private.hasCompoundNodes=!1;for(var D=0;D<L.length;D++){var O=L[D];if(O.isParent()){i._private.hasCompoundNodes=!0;break}}var R=new $t(this.cy(),n);R.size()>0&&(t?R.emitAndNotify("remove"):e&&R.emit("remove"));for(var k=0;k<g.length;k++){var z=g[k];(!e||!z.removed())&&z.updateStyle()}return R};yt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),s=i(t.target),u=o!=null&&e.hasElementWithId(o),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var g=r[d],m=g._private.data;g.isEdge()&&(u&&(m.source=o),l&&(m.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=i(t.parent),h=f===null||e.hasElementWithId(f);if(h){var p=f===null?void 0:f;e.batch(function(){var d=r.remove(n,a);d.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],w=m._private.data;m.isNode()&&(w.parent=p)}d.restore(n,a)}),r.emitAndNotify("move")}}return this};[Gl,ym,pi,rn,_n,km,$i,_m,nf,af,Jm,Si,yi,Ht,nn,Xt].forEach(function(t){qe(yt,t)});var o0={add:function(e){var r,n=this;if(ur(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new $t(n,i)}}else if(dt(e)){var u=e;r=new $t(n,u)}else if(ot(e)&&(dt(e.nodes)||dt(e.edges))){for(var l=e,f=[],h=["nodes","edges"],p=0,d=h.length;p<d;p++){var g=h[p],m=l[g];if(dt(m))for(var w=0,b=m.length;w<b;w++){var T=qe({group:g},m[w]);f.push(T)}}r=new $t(n,f)}else{var E=e;r=new zi(n,E).collection()}return r},remove:function(e){if(!ur(e)){if(Ge(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function s0(t,e,r,n){var a=4,i=.001,o=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=f?new Float32Array(u):new Array(u);function d(O,R){return 1-3*R+3*O}function g(O,R){return 3*R-6*O}function m(O){return 3*O}function w(O,R,k){return((d(R,k)*O+g(R,k))*O+m(R))*O}function b(O,R,k){return 3*d(R,k)*O*O+2*g(R,k)*O+m(R)}function T(O,R){for(var k=0;k<a;++k){var z=b(R,t,r);if(z===0)return R;var B=w(R,t,r)-O;R-=B/z}return R}function E(){for(var O=0;O<u;++O)p[O]=w(O*l,t,r)}function S(O,R,k){var z,B,U=0;do B=R+(k-R)/2,z=w(B,t,r)-O,z>0?k=B:R=B;while(Math.abs(z)>o&&++U<s);return B}function A(O){for(var R=0,k=1,z=u-1;k!==z&&p[k]<=O;++k)R+=l;--k;var B=(O-p[k])/(p[k+1]-p[k]),U=R+B*l,H=b(U,t,r);return H>=i?T(O,U):H===0?U:S(O,R,R+l)}var I=!1;function v(){I=!0,(t!==e||r!==n)&&E()}var L=function(R){return I||v(),t===e&&r===n?R:R===0?0:R===1?1:w(A(R),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var D="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return D},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var u0=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),s=e(n,a*.5,o),u=e(n,a,s),l=1/6*(i.dx+2*(o.dx+s.dx)+u.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,h=16/1e3,p,d,g;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,p=o!==null,p?(l=n(a,i),d=l/o*h):d=h;g=r(g||s,d),u.push(1+g.x),l+=16,Math.abs(g.x)>f&&Math.abs(g.v)>f;);return p?function(m){return u[m*(u.length-1)|0]}:l}}(),pt=function(e,r,n,a){var i=s0(e,r,n,a);return function(o,s,u){return o+(s-o)*i(u)}},mi={linear:function(e,r,n){return e+(r-e)*n},ease:pt(.25,.1,.25,1),"ease-in":pt(.42,0,1,1),"ease-out":pt(0,0,.58,1),"ease-in-out":pt(.42,0,.58,1),"ease-in-sine":pt(.47,0,.745,.715),"ease-out-sine":pt(.39,.575,.565,1),"ease-in-out-sine":pt(.445,.05,.55,.95),"ease-in-quad":pt(.55,.085,.68,.53),"ease-out-quad":pt(.25,.46,.45,.94),"ease-in-out-quad":pt(.455,.03,.515,.955),"ease-in-cubic":pt(.55,.055,.675,.19),"ease-out-cubic":pt(.215,.61,.355,1),"ease-in-out-cubic":pt(.645,.045,.355,1),"ease-in-quart":pt(.895,.03,.685,.22),"ease-out-quart":pt(.165,.84,.44,1),"ease-in-out-quart":pt(.77,0,.175,1),"ease-in-quint":pt(.755,.05,.855,.06),"ease-out-quint":pt(.23,1,.32,1),"ease-in-out-quint":pt(.86,0,.07,1),"ease-in-expo":pt(.95,.05,.795,.035),"ease-out-expo":pt(.19,1,.22,1),"ease-in-out-expo":pt(1,0,0,1),"ease-in-circ":pt(.6,.04,.98,.335),"ease-out-circ":pt(.075,.82,.165,1),"ease-in-out-circ":pt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return mi.linear;var a=u0(e,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":pt};function ku(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Ru(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Bn(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=Ru(t,a),s=Ru(e,a);if(Ae(o)&&Ae(s))return ku(i,o,s,r,n);if(dt(o)&&dt(s)){for(var u=[],l=0;l<s.length;l++){var f=o[l],h=s[l];if(f!=null&&h!=null){var p=ku(i,f,h,r,n);u.push(p)}else u.push(h)}return u}}function l0(t,e,r,n){var a=!n,i=t._private,o=e._private,s=o.easing,u=o.startTime,l=n?t:t.cy(),f=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=mi.linear;else{var h;if(Ge(s)){var p=f.parse("transition-timing-function",s);h=p.value}else h=s;var d,g;Ge(h)?(d=h,g=[]):(d=h[1],g=h.slice(2).map(function(X){return+X})),g.length>0?(d==="spring"&&g.push(o.duration),o.easingImpl=mi[d].apply(null,g)):o.easingImpl=mi[d]}var m=o.easingImpl,w;if(o.duration===0?w=1:w=(r-u)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,T=o.position;if(T&&a&&!t.locked()){var E={};ma(b.x,T.x)&&(E.x=Bn(b.x,T.x,w,m)),ma(b.y,T.y)&&(E.y=Bn(b.y,T.y,w,m)),t.position(E)}var S=o.startPan,A=o.pan,I=i.pan,v=A!=null&&n;v&&(ma(S.x,A.x)&&(I.x=Bn(S.x,A.x,w,m)),ma(S.y,A.y)&&(I.y=Bn(S.y,A.y,w,m)),t.emit("pan"));var L=o.startZoom,D=o.zoom,O=D!=null&&n;O&&(ma(L,D)&&(i.zoom=Na(i.minZoom,Bn(L,D,w,m),i.maxZoom)),t.emit("zoom")),(v||O)&&t.emit("viewport");var R=o.style;if(R&&R.length>0&&a){for(var k=0;k<R.length;k++){var z=R[k],B=z.name,U=z,H=o.startStyle[B],V=f.properties[H.name],W=Bn(H,U,w,m,V);f.overrideBypass(t,B,W)}t.emit("style")}}return o.progress=w,w}function ma(t,e){return t==null||e==null?!1:Ae(t)&&Ae(e)?!0:!!(t&&e)}function f0(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Pu(t,e){var r=e._private.aniEles,n=[];function a(f,h){var p=f._private,d=p.animation.current,g=p.animation.queue,m=!1;if(d.length===0){var w=g.shift();w&&d.push(w)}for(var b=function(I){for(var v=I.length-1;v>=0;v--){var L=I[v];L()}I.splice(0,I.length)},T=d.length-1;T>=0;T--){var E=d[T],S=E._private;if(S.stopped){d.splice(T,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.frames);continue}!S.playing&&!S.applying||(S.playing&&S.applying&&(S.applying=!1),S.started||f0(f,E,t),l0(f,E,t,h),S.applying&&(S.applying=!1),b(S.frames),S.step!=null&&S.step(t),E.completed()&&(d.splice(T,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.completes)),m=!0)}return!h&&d.length===0&&g.length===0&&n.push(f),m}for(var i=!1,o=0;o<r.length;o++){var s=r[o],u=a(s);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var c0={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Ti(function(i){Pu(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){Pu(o,e)},n.beforeRenderPriorities.animations):r()}},h0={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&$a(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},vi=function(e){return Ge(e)?new sn(e):e},uf={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new qi(h0,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,vi(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,vi(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,vi(r),n),this},once:function(e,r,n){return this.emitter().one(e,vi(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ft.eventAliasesOn(uf);var Go={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Go.jpeg=Go.jpg;var bi={layout:function(e){var r=this;if(e==null){Tt("Layout options must be specified to make a layout");return}if(e.name==null){Tt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){Tt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ge(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(qe({},e,{cy:r,eles:i}));return o}};bi.createLayout=bi.makeLayout=bi.layout;var v0={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],s=r.getElementById(i);s.data(o)}})}},d0=qt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ho={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Tt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&lt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=d0(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Ho.invalidateDimensions=Ho.resize;var wi={collection:function(e,r){return Ge(e)?this.$(e):ur(e)?e.collection():dt(e)?(r||(r={}),new $t(this,e,r.unique,r.removed)):new $t(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};wi.elements=wi.filter=wi.$;var Kt={},Ca="t",g0="f";Kt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],s=e.getContextMeta(o);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,o);o._private.appliedInitStyle?e.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var f=e.updateStyleHints(o);f&&a.push(o)}}return a};Kt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],s={},u=0;u<r.length;u++){var l=r[u],f=t[u]===Ca,h=e[u]===Ca,p=f!==h,d=l.mappedProperties.length>0;if(p||h&&d){var g=void 0;p&&d||p?g=l.properties:d&&(g=l.mappedProperties);for(var m=0;m<g.length;m++){for(var w=g[m],b=w.name,T=!1,E=u+1;E<r.length;E++){var S=r[E],A=e[E]===Ca;if(A&&(T=S.properties[w.name]!=null,T))break}!s[b]&&!T&&(s[b]=!0,o.push(b))}}}return n[a]=o,o};Kt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],s=o.selector&&o.selector.matches(t);s?r+=Ca:r+=g0}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Kt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],s=e[i]===Ca;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];a[l.name]=l}}return n[e]=a,a};Kt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var u=a[s],l=e[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var h=f.mapping,p=h.fnValue=l.value(r);if(p===h.prevFnValue)continue}var d=i[u]={prev:f};n.applyParsedProperty(r,l),d.next=r.pstyle(u),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}};Kt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(be,Ce,Fe){return r.getPropertiesHash(be,Ce,Fe)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var f=a[l];e.styleKeys[f]=[Gn,wa]}for(var h=function(be,Ce){return e.styleKeys[Ce][0]=La(be,e.styleKeys[Ce][0])},p=function(be,Ce){return e.styleKeys[Ce][1]=Aa(be,e.styleKeys[Ce][1])},d=function(be,Ce){h(be,Ce),p(be,Ce)},g=function(be,Ce){for(var Fe=0;Fe<be.length;Fe++){var He=be.charCodeAt(Fe);h(He,Ce),p(He,Ce)}},m=2e9,w=function(be){return-128<be&&be<128&&Math.floor(be)!==be?m-(be*1024|0):be},b=0;b<n.length;b++){var T=n[b],E=u[T];if(E!=null){var S=this.properties[T],A=S.type,I=S.groupKey,v=void 0;S.hashOverride!=null?v=S.hashOverride(t,E):E.pfValue!=null&&(v=E.pfValue);var L=S.enums==null?E.value:null,D=v!=null,O=L!=null,R=D||O,k=E.units;if(A.number&&R&&!A.multiple){var z=D?v:L;d(w(z),I),!D&&k!=null&&g(k,I)}else g(E.strValue,I)}}for(var B=[Gn,wa],U=0;U<a.length;U++){var H=a[U],V=e.styleKeys[H];B[0]=La(V[0],B[0]),B[1]=Aa(V[1],B[1])}e.styleKey=Mp(B[0],B[1]);var W=e.styleKeys;e.labelDimsKey=Qr(W.labelDimensions);var X=i(t,["label"],W.labelDimensions);if(e.labelKey=Qr(X),e.labelStyleKey=Qr(ai(W.commonLabel,X)),!s){var j=i(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Qr(j),e.sourceLabelStyleKey=Qr(ai(W.commonLabel,j));var K=i(t,["target-label"],W.labelDimensions);e.targetLabelKey=Qr(K),e.targetLabelStyleKey=Qr(ai(W.commonLabel,K))}if(s){var J=e.styleKeys,ne=J.nodeBody,ie=J.nodeBorder,oe=J.backgroundImage,ue=J.compound,Z=J.pie,fe=[ne,ie,oe,ue,Z].filter(function(ce){return ce!=null}).reduce(ai,[Gn,wa]);e.nodeKey=Qr(fe),e.hasPie=Z!=null&&Z[0]!==Gn&&Z[1]!==wa}return o!==e.styleKey};Kt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Kt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,s=r.properties[n.name].type,u=n.bypass,l=a[n.name],f=l&&l.bypass,h=t._private,p="mapping",d=function(ne){return ne==null?null:ne.pfValue!=null?ne.pfValue:ne.value},g=function(){var ne=d(l),ie=d(n);r.checkTriggers(t,n.name,ne,ie)};if(n&&n.name.substr(0,3)==="pie"&&lt("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,g(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,g(),!0):!1:(g(),!0);var m=function(){lt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),b=h.data,T=0;T<w.length&&b;T++){var E=w[T];b=b[E]}if(b==null)return m(),!1;var S;if(Ae(b)){var A=n.fieldMax-n.fieldMin;A===0?S=0:S=(b-n.fieldMin)/A}else return lt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(S<0?S=0:S>1&&(S=1),s.color){var I=n.valueMin[0],v=n.valueMax[0],L=n.valueMin[1],D=n.valueMax[1],O=n.valueMin[2],R=n.valueMax[2],k=n.valueMin[3]==null?1:n.valueMin[3],z=n.valueMax[3]==null?1:n.valueMax[3],B=[Math.round(I+(v-I)*S),Math.round(L+(D-L)*S),Math.round(O+(R-O)*S),Math.round(k+(z-k)*S)];i={bypass:n.bypass,name:n.name,value:B,strValue:"rgb("+B[0]+", "+B[1]+", "+B[2]+")"}}else if(s.number){var U=n.valueMin+(n.valueMax-n.valueMin)*S;i=this.parse(n.name,U,n.bypass,p)}else return!1;if(!i)return m(),!1;i.mapping=n,n=i;break}case o.data:{for(var H=n.field.split("."),V=h.data,W=0;W<H.length&&V;W++){var X=H[W];V=V[X]}if(V!=null&&(i=this.parse(n.name,V,n.bypass,p)),!i)return m(),!1;i.mapping=n,n=i;break}case o.fn:{var j=n.value,K=n.fnValue!=null?n.fnValue:j(t);if(n.prevFnValue=K,K==null)return lt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,K,n.bypass,p),!i)return lt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Mr(n),n=i;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,g(),!0};Kt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],u=a[s];u!=null&&(u.bypass?u.bypassed=null:a[s]=null)}}};Kt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Kt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},u=!1,l=0;l<a.length;l++){var f=a[l],h=t.pstyle(f),p=e[f];if(p){var d=p.prev,g=d,m=p.next!=null?p.next:h,w=!1,b=void 0,T=1e-6;g&&(Ae(g.pfValue)&&Ae(m.pfValue)?(w=m.pfValue-g.pfValue,b=g.pfValue+T*w):Ae(g.value)&&Ae(m.value)?(w=m.value-g.value,b=g.value+T*w):dt(g.value)&&dt(m.value)&&(w=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],b=g.strValue),w&&(s[f]=m.strValue,this.applyBypass(t,f,b),u=!0))}}if(!u)return;n.transitioning=!0,new Jn(function(E){o>0?t.delayAnimation(o).play().promise().then(E):E()}).then(function(){return t.animation({style:s,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Kt.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],s=a(o);s!=null&&s(r,n)&&i(o)};Kt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Kt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()})})};Kt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var Ua={};Ua.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var u=a.properties[s],l=u.name,f=this.parse(l,r,!0);f&&i.push(f)}}else if(Ge(e)){var h=this.parse(e,r,!0);h&&i.push(h)}else if(ot(e)){var p=e;n=r;for(var d=Object.keys(p),g=0;g<d.length;g++){var m=d[g],w=p[m];if(w===void 0&&(w=p[Fi(m)]),w!==void 0){var b=this.parse(m,w,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var T=!1,E=0;E<t.length;E++){for(var S=t[E],A={},I=void 0,v=0;v<i.length;v++){var L=i[v];if(n){var D=S.pstyle(L.name);I=A[L.name]={prev:D}}T=this.applyParsedProperty(S,Mr(L))||T,n&&(I.next=S.pstyle(L.name))}T&&this.updateStyleHints(S),n&&this.updateTransitions(S,A,o)}return T};Ua.overrideBypass=function(t,e,r){e=es(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,s=o.color,u=o.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};Ua.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ua.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],f=i.pstyle(l.name);if(!(!f||!f.bypass)){var h="",p=this.parse(u,h,!0),d=o[l.name]={prev:f};this.applyParsedProperty(i,p),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var cs={};cs.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};cs.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Or={};Or.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Or.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[Fi(i.name)]=o)}return n}};Or.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Or.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(r&&i.number&&s!=null&&Ae(s)){var f=t.cy().zoom(),h=function(w){return w*f},p=function(w,b){return h(w)+b},d=dt(s),g=d?u.every(function(m){return m!=null}):u!=null;return g?d?s.map(function(m,w){return p(m,u[w])}).join(" "):p(s,u):d?s.map(function(m){return Ge(m)?m:""+h(m)}).join(" "):""+h(s)}else if(l!=null)return l}return null}};Or.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(ot(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Or.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],u=n[s],l=a[s]||a[es(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};Or.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,s,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=La(s,n[0]),n[1]=Aa(s,n[1]);else for(o=i.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=La(s,n[0]),n[1]=Aa(s,n[1]);return n};Or.getPropertiesHash=Or.getNonDefaultPropertiesHash;var Yi={};Yi.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var s=0;s<o.length;s++){var u=o[s],l=i[u];e.css(u,l)}}return e};Yi.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Yi.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var hs={};hs.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){lt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var h=f[1];if(h!=="core"){var p=new sn(h);if(p.invalid){lt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var d=f[2],g=!1;i=d;for(var m=[];;){var w=i.match(/^\s*$/);if(w)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){lt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),g=!0;break}o=b[0];var T=b[1],E=b[2],S=e.properties[T];if(!S){lt("Skipping property: Invalid property name in: "+o),u();continue}var A=r.parse(T,E);if(!A){lt("Skipping property: Invalid property definition in: "+o),u();continue}m.push({name:T,val:E}),u()}if(g){s();break}r.selector(h);for(var I=0;I<m.length;I++){var v=m[I];r.css(v.name,v.val)}s()}return r};hs.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var zt={};(function(){var t=Nt,e=pp,r=mp,n=bp,a=wp,i=function(fe){return"^"+fe+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(fe){var ce=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+fe+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ce+")\\s*\\,\\s*("+ce+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];zt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(fe,ce){switch(fe.length){case 2:return ce[0]!=="deg"&&ce[0]!=="rad"&&ce[1]!=="deg"&&ce[1]!=="rad";case 1:return Ge(fe[0])||ce[0]==="deg"||ce[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(fe){var ce=fe.length;return ce===1||ce===2||ce===4}}};var u={zeroNonZero:function(fe,ce){return(fe==null||ce==null)&&fe!==ce||fe==0&&ce!=0?!0:fe!=0&&ce==0},any:function(fe,ce){return fe!=ce},emptyNonEmpty:function(fe,ce){var be=an(fe),Ce=an(ce);return be&&!Ce||!be&&Ce}},l=zt.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],h=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],p=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],g=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any}],T=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any}],E=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],S=function(fe,ce){return ce.value==="label"?-fe.poolIndex():ce.pfValue},A=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],I=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle}],v=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],L=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],D=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],O=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],R=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],k=[];zt.pieBackgroundN=16,k.push({name:"pie-size",type:l.sizeMaybePercent});for(var z=1;z<=zt.pieBackgroundN;z++)k.push({name:"pie-"+z+"-background-color",type:l.color}),k.push({name:"pie-"+z+"-background-size",type:l.percent}),k.push({name:"pie-"+z+"-background-opacity",type:l.zeroOneNumber});var B=[],U=zt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(Z){U.forEach(function(fe){var ce=fe+"-"+Z.name,be=Z.type,Ce=Z.triggersBounds;B.push({name:ce,type:be,triggersBounds:Ce})})},{});var H=zt.properties=[].concat(m,E,w,b,T,O,g,d,f,h,p,A,I,v,k,L,D,B,R),V=zt.propertyGroups={behavior:m,transition:E,visibility:w,overlay:b,underlay:T,ghost:O,commonLabel:g,labelDimensions:d,mainLabel:f,sourceLabel:h,targetLabel:p,nodeBody:A,nodeBorder:I,backgroundImage:v,pie:k,compound:L,edgeLine:D,edgeArrow:B,core:R},W=zt.propertyGroupNames={},X=zt.propertyGroupKeys=Object.keys(V);X.forEach(function(Z){W[Z]=V[Z].map(function(fe){return fe.name}),V[Z].forEach(function(fe){return fe.groupKey=Z})});var j=zt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];zt.propertyNames=H.map(function(Z){return Z.name});for(var K=0;K<H.length;K++){var J=H[K];H[J.name]=J}for(var ne=0;ne<j.length;ne++){var ie=j[ne],oe=H[ie.pointsTo],ue={name:ie.name,alias:!0,pointsTo:oe};H.push(ue),H[ie.name]=ue}})();zt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};zt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=qe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=zt.pieBackgroundN;f++){var h=l.name.replace("{{i}}",f),p=l.value;u[h]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,l){return zt.arrowPrefixes.forEach(function(f){var h=f+"-"+l.name,p=l.value;u[h]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],s=this.parse(i,o);r[i]=s}}return t.defaultProperties=r,t.defaultProperties};zt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Wi={};Wi.parse=function(t,e,r,n){var a=this;if(Et(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+e,u=xl(t,s,o,i),l=a.propCache=a.propCache||[],f;return(f=l[u])||(f=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=Mr(f),f&&(f.value=Mr(f.value))),f};Wi.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&lt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&lt("The style value of `label` is deprecated for `"+a.name+"`"),a};Wi.parseImpl=function(t,e,r,n){var a=this;t=es(t);var i=a.properties[t],o=e,s=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=Ge(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Et(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var f,h;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(e))){if(r||l.multiple)return!1;var d=s.mapData;if(!(l.color||l.number))return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var m=this.parse(t,h[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return lt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(l.color){var w=g.value,b=m.value,T=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(T)return!1}return{name:t,value:h,strValue:""+e,mapped:d,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var E;if(u?E=e.split(/\s+/):dt(e)?E=e:E=[e],l.evenMultiple&&E.length%2!==0)return null;for(var S=[],A=[],I=[],v="",L=!1,D=0;D<E.length;D++){var O=a.parse(t,E[D],r,"multiple");L=L||Ge(O.value),S.push(O.value),I.push(O.pfValue!=null?O.pfValue:O.value),A.push(O.units),v+=(D>0?" ":"")+O.strValue}return l.validate&&!l.validate(S,A)?null:l.singleEnum&&L?S.length===1&&Ge(S[0])?{name:t,value:S[0],strValue:S[0],bypass:r}:null:{name:t,value:S,pfValue:I,strValue:v,bypass:r,units:A}}var R=function(){for(var ce=0;ce<l.enums.length;ce++){var be=l.enums[ce];if(be===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var k,z="px";if(l.units&&(k=l.units),l.implicitUnits&&(z=l.implicitUnits),!l.unitless)if(u){var B="px|em"+(l.allowPercent?"|\\%":"");k&&(B=k);var U=e.match("^("+Nt+")("+B+")?$");U&&(e=U[1],k=U[2]||z)}else(!k||l.implicitUnits)&&(k=z);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=o,R();if(l.integer&&!lp(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var H={name:t,value:e,strValue:""+e+(k||""),units:k,bypass:r};return l.unitless||k!=="px"&&k!=="em"?H.pfValue=e:H.pfValue=k==="px"||!k?e:this.getEmSizeInPixels()*e,(k==="ms"||k==="s")&&(H.pfValue=k==="ms"?e:1e3*e),(k==="deg"||k==="rad")&&(H.pfValue=k==="rad"?e:ay(e)),k==="%"&&(H.pfValue=e/100),H}else if(l.propList){var V=[],W=""+e;if(W!=="none"){for(var X=W.split(/\s*,\s*|\s+/),j=0;j<X.length;j++){var K=X[j].trim();a.properties[K]?V.push(K):lt("`"+K+"` is not a valid property name")}if(V.length===0)return null}return{name:t,value:V,strValue:V.length===0?"none":V.join(" "),bypass:r}}else if(l.color){var J=Sp(e);return J?{name:t,value:J,pfValue:J,strValue:"rgb("+J[0]+","+J[1]+","+J[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var ne=R();if(ne)return ne}for(var ie=l.regexes?l.regexes:[l.regex],oe=0;oe<ie.length;oe++){var ue=new RegExp(ie[oe]),Z=ue.exec(e);if(Z)return{name:t,value:l.singleRegexMatchValue?Z[1]:Z,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?R():null};var Wt=function t(e){if(!(this instanceof t))return new t(e);if(!Jo(e)){Tt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},_t=Wt.prototype;_t.instanceString=function(){return"style"};_t.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};_t.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};_t.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};_t.selector=function(t){var e=t==="core"?null:new sn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};_t.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[Fi(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};_t.style=_t.css;_t.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};_t.append=function(t){return dl(t)?t.appendToStyle(this):dt(t)?this.appendFromJson(t):Ge(t)&&this.appendFromString(t),this};Wt.fromJson=function(t,e){var r=new Wt(t);return r.fromJson(e),r};Wt.fromString=function(t,e){return new Wt(t).fromString(e)};[Kt,Ua,cs,Or,Yi,hs,zt,Wi].forEach(function(t){qe(_t,t)});Wt.types=_t.types;Wt.properties=_t.properties;Wt.propertyGroups=_t.propertyGroups;Wt.propertyGroupNames=_t.propertyGroupNames;Wt.propertyGroupKeys=_t.propertyGroupKeys;var p0={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return dl(e)?r.style=e.generateStyle(this):dt(e)?r.style=Wt.fromJson(this,e):Ge(e)?r.style=Wt.fromString(this,e):r.style=Wt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},y0="single",Cn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=y0),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,s;switch(e.length){case 0:return r;case 1:if(Ge(e[0]))return n=e[0],r[n];if(ot(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,s=i.y,Ae(o)&&(r.x=o),Ae(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Ae(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ot(e)&&(s=n[0],u=s.x,l=s.y,Ae(u)&&(a.x+=u),Ae(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&Ae(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ae(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ge(e)){var a=e;e=this.$(a)}else if(hp(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else ur(e)||(e=this.mutableElements());if(!(ur(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),u;if(r=Ae(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Ae(e)&&Ae(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ae(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ae(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),Ae(e)?o=e:ot(e)&&(o=e.level,e.position!=null?i=Gi(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!Ae(o)||o===a||i!=null&&(!Ae(i.x)||!Ae(i.y)))return null;if(i!=null){var u=n,l=a,f=o,h={x:-f/l*(i.x-u.x)+i.x,y:-f/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!e)return this;if(Ae(e.zoom)||(n=!1),ot(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;Ae(l.x)&&(r.pan.x=l.x,s=!1),Ae(l.y)&&(r.pan.y=l.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ge(e)){var n=e;e=this.mutableElements().filter(n)}else ur(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Cn.centre=Cn.center;Cn.autolockNodes=Cn.autolock;Cn.autoungrabifyNodes=Cn.autoungrabify;var Ra={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ra.attr=Ra.data;Ra.removeAttr=Ra.removeData;var Pa=function(e){var r=this;e=qe({},e);var n=e.container;n&&!xi(n)&&xi(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=Mt!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=qe({name:o?"grid":"null"},s.layout),s.renderer=qe({name:o?"canvas":"null"},s.renderer);var u=function(g,m,w){return m!==void 0?m:w!==void 0?w:g},l=this._private={container:n,ready:!1,options:s,elements:new $t(this),listeners:[],aniEles:new $t(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Ae(s.zoom)?s.zoom:1,pan:{x:ot(s.pan)&&Ae(s.pan.x)?s.pan.x:0,y:ot(s.pan)&&Ae(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(g,m){var w=g.some(vp);if(w)return Jn.all(g).then(m);m(g)};l.styleEnabled&&r.setStyle([]);var h=qe({},s,s.renderer);r.initRenderer(h);var p=function(g,m,w){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),g!=null&&(ot(g)||dt(g))&&r.add(g),r.one("layoutready",function(E){r.notifications(!0),r.emit(E),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var T=qe({},r._private.options.layout);T.eles=r.elements(),r.layout(T).run()};f([s.style,s.elements],function(d){var g=d[0],m=d[1];l.styleEnabled&&r.style().append(g),p(m,function(){r.startAnimationLoop(),l.ready=!0,Et(s.ready)&&r.on("ready",s.ready);for(var w=0;w<i.length;w++){var b=i[w];r.on("ready",b)}a&&(a.readies=[]),r.emit("ready")},s.done)})},Li=Pa.prototype;qe(Li,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Mt;var r=this._private.container.ownerDocument;return r===void 0||r==null?Mt:r.defaultView||Mt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!xi(e)&&xi(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(qe({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Mr(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(S){return r.getElementById(S.id())};if(ot(e)){if(r.startBatch(),e.elements){var o={},s=function(S,A){for(var I=[],v=[],L=0;L<S.length;L++){var D=S[L];if(!D.data.id){lt("cy.json() cannot handle elements without an ID attribute");continue}var O=""+D.data.id,R=r.getElementById(O);o[O]=!0,R.length!==0?v.push({ele:R,json:D}):(A&&(D.group=A),I.push(D))}r.add(I);for(var k=0;k<v.length;k++){var z=v[k],B=z.ele,U=z.json;B.json(U)}};if(dt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],h=e.elements[f];dt(h)&&s(h,f)}var p=r.collection();a.filter(function(E){return!o[E.id()]}).forEach(function(E){E.isParent()?p.merge(E):E.remove()}),p.forEach(function(E){return E.children().move({parent:null})}),p.forEach(function(E){return i(E).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<d.length;g++){var m=d[g];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(E){return E.json()}):(b.elements={},a.forEach(function(E){var S=E.group();b.elements[S]||(b.elements[S]=[]),b.elements[S].push(E.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Mr(r.data());var T=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Mr(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Mr(T.renderer),b.hideEdgesOnViewport=T.hideEdgesOnViewport,b.textureOnViewport=T.textureOnViewport,b.wheelSensitivity=T.wheelSensitivity,b.motionBlur=T.motionBlur,b.multiClickDebounceTime=T.multiClickDebounceTime,b}}});Li.$id=Li.getElementById;[o0,c0,uf,Go,bi,v0,Ho,wi,p0,Cn,Ra].forEach(function(t){qe(Li,t)});var m0={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},b0={maximal:!1,acyclic:!1},Fn=function(e){return e.scratch("breadthfirst")},Bu=function(e,r){return e.scratch("breadthfirst",r)};function lf(t){this.options=qe({},m0,b0,t)}lf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(De){return!De.isParent()}),i=n,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,u=sr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(ur(e.roots))l=e.roots;else if(dt(e.roots)){for(var f=[],h=0;h<e.roots.length;h++){var p=e.roots[h],d=r.getElementById(p);f.push(d)}l=r.collection(f)}else if(Ge(e.roots))l=r.$(e.roots);else if(o)l=a.roots();else{var g=n.components();l=r.collection();for(var m=function(le){var me=g[le],xe=me.maxDegree(!1),pe=me.filter(function(Se){return Se.degree(!1)===xe});l=l.add(pe)},w=0;w<g.length;w++)m(w)}var b=[],T={},E=function(le,me){b[me]==null&&(b[me]=[]);var xe=b[me].length;b[me].push(le),Bu(le,{index:xe,depth:me})},S=function(le,me){var xe=Fn(le),pe=xe.depth,Se=xe.index;b[pe][Se]=null,E(le,me)};i.bfs({roots:l,directed:e.directed,visit:function(le,me,xe,pe,Se){var ke=le[0],Re=ke.id();E(ke,Se),T[Re]=!0}});for(var A=[],I=0;I<a.length;I++){var v=a[I];T[v.id()]||A.push(v)}var L=function(le){for(var me=b[le],xe=0;xe<me.length;xe++){var pe=me[xe];if(pe==null){me.splice(xe,1),xe--;continue}Bu(pe,{depth:le,index:xe})}},D=function(){for(var le=0;le<b.length;le++)L(le)},O=function(le,me){for(var xe=Fn(le),pe=le.incomers().filter(function(F){return F.isNode()&&n.has(F)}),Se=-1,ke=le.id(),Re=0;Re<pe.length;Re++){var Me=pe[Re],ze=Fn(Me);Se=Math.max(Se,ze.depth)}if(xe.depth<=Se){if(!e.acyclic&&me[ke])return null;var ye=Se+1;return S(le,ye),me[ke]=ye,!0}return!1};if(o&&s){var R=[],k={},z=function(le){return R.push(le)},B=function(){return R.shift()};for(a.forEach(function(De){return R.push(De)});R.length>0;){var U=B(),H=O(U,k);if(H)U.outgoers().filter(function(De){return De.isNode()&&n.has(De)}).forEach(z);else if(H===null){lt("Detected double maximal shift for node `"+U.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var V=0;if(e.avoidOverlap)for(var W=0;W<a.length;W++){var X=a[W],j=X.layoutDimensions(e),K=j.w,J=j.h;V=Math.max(V,K,J)}var ne={},ie=function(le){if(ne[le.id()])return ne[le.id()];for(var me=Fn(le).depth,xe=le.neighborhood(),pe=0,Se=0,ke=0;ke<xe.length;ke++){var Re=xe[ke];if(!(Re.isEdge()||Re.isParent()||!a.has(Re))){var Me=Fn(Re);if(Me!=null){var ze=Me.index,ye=Me.depth;if(!(ze==null||ye==null)){var F=b[ye].length;ye<me&&(pe+=ze/F,Se++)}}}}return Se=Math.max(1,Se),pe=pe/Se,Se===0&&(pe=0),ne[le.id()]=pe,pe},oe=function(le,me){var xe=ie(le),pe=ie(me),Se=xe-pe;return Se===0?pl(le.id(),me.id()):Se};e.depthSort!==void 0&&(oe=e.depthSort);for(var ue=0;ue<b.length;ue++)b[ue].sort(oe),L(ue);for(var Z=[],fe=0;fe<A.length;fe++)Z.push(A[fe]);b.unshift(Z),D();for(var ce=0,be=0;be<b.length;be++)ce=Math.max(b[be].length,ce);var Ce={x:u.x1+u.w/2,y:u.x1+u.h/2},Fe=b.reduce(function(De,le){return Math.max(De,le.length)},0),He=function(le){var me=Fn(le),xe=me.depth,pe=me.index,Se=b[xe].length,ke=Math.max(u.w/((e.grid?Fe:Se)+1),V),Re=Math.max(u.h/(b.length+1),V),Me=Math.min(u.w/2/b.length,u.h/2/b.length);if(Me=Math.max(Me,V),e.circle){var ye=Me*xe+Me-(b.length>0&&b[0].length<=3?Me/2:0),F=2*Math.PI/b[xe].length*pe;return xe===0&&b[0].length===1&&(ye=1),{x:Ce.x+ye*Math.cos(F),y:Ce.y+ye*Math.sin(F)}}else{var ze={x:Ce.x+(pe+1-(Se+1)/2)*ke,y:(xe+1)*Re};return ze}};return n.nodes().layoutPositions(this,e,He),this};var w0={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function ff(t){this.options=qe({},w0,t)}ff.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=sr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),f,h=0,p=0;p<i.length;p++){var d=i[p],g=d.layoutDimensions(e),m=g.w,w=g.h;h=Math.max(h,m,w)}if(Ae(e.radius)?f=e.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-h,i.length>1&&e.avoidOverlap){h*=1.75;var b=Math.cos(l)-Math.cos(0),T=Math.sin(l)-Math.sin(0),E=Math.sqrt(h*h/(b*b+T*T));f=Math.max(E,f)}var S=function(I,v){var L=e.startAngle+v*l*(a?1:-1),D=f*Math.cos(L),O=f*Math.sin(L),R={x:s.x+D,y:s.y+O};return R};return n.nodes().layoutPositions(this,e,S),this};var E0={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function cf(t){this.options=qe({},E0,t)}cf.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=sr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,f=0;f<i.length;f++){var h=i[f],p=void 0;p=e.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}i.updateStyle();for(var d=0;d<i.length;d++){var g=i[d],m=g.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(De,le){return le.value-De.value});for(var w=e.levelWidth(i),b=[[]],T=b[0],E=0;E<u.length;E++){var S=u[E];if(T.length>0){var A=Math.abs(T[0].value-S.value);A>=w&&(T=[],b.push(T))}T.push(S)}var I=l+e.minNodeSpacing;if(!e.avoidOverlap){var v=b.length>0&&b[0].length>1,L=Math.min(o.w,o.h)/2-I,D=L/(b.length+v?1:0);I=Math.min(I,D)}for(var O=0,R=0;R<b.length;R++){var k=b[R],z=e.sweep===void 0?2*Math.PI-2*Math.PI/k.length:e.sweep,B=k.dTheta=z/Math.max(1,k.length-1);if(k.length>1&&e.avoidOverlap){var U=Math.cos(B)-Math.cos(0),H=Math.sin(B)-Math.sin(0),V=Math.sqrt(I*I/(U*U+H*H));O=Math.max(V,O)}k.r=O,O+=I}if(e.equidistant){for(var W=0,X=0,j=0;j<b.length;j++){var K=b[j],J=K.r-X;W=Math.max(W,J)}X=0;for(var ne=0;ne<b.length;ne++){var ie=b[ne];ne===0&&(X=ie.r),ie.r=X,X+=W}}for(var oe={},ue=0;ue<b.length;ue++)for(var Z=b[ue],fe=Z.dTheta,ce=Z.r,be=0;be<Z.length;be++){var Ce=Z[be],Fe=e.startAngle+(r?1:-1)*fe*be,He={x:s.x+ce*Math.cos(Fe),y:s.y+ce*Math.sin(Fe)};oe[Ce.node.id()]=He}return a.nodes().layoutPositions(this,e,function(De){var le=De.id();return oe[le]}),this};var Lo,x0={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xi(t){this.options=qe({},x0,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=e.some(function(l){return l.data("id")===i}),u=e.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}Xi.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Lo=!0:Lo=!1;var n=T0(e,r,t);Lo&&S0(n),t.randomize&&L0(n);var a=Gr(),i=function(){A0(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(p){return!(r.stopped||p>=t.numIter||(M0(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),d=hf(n,t,p);p.layoutPositions(r,t,d)}},u=0,l=!0;if(t.animate===!0){var f=function h(){for(var p=0;l&&p<t.refresh;)l=o(u),u++,p++;if(!l)zu(n,t),s();else{var d=Gr();d-a>=t.animationThreshold&&i(),Ti(h)}};f()}else{for(;l;)l=o(u),u++;zu(n,t),s()}return this};Xi.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Xi.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var T0=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=sr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var h=u[f],p=0;p<h.length;p++){var d=h[p];l[d.id()]=f}for(var f=0;f<s.nodeSize;f++){var g=i[f],m=g.layoutDimensions(n),w={};w.isLocked=g.locked(),w.id=g.data("id"),w.parentId=g.data("parent"),w.cmptId=l[g.id()],w.children=[],w.positionX=g.position("x"),w.positionY=g.position("y"),w.offsetX=0,w.offsetY=0,w.height=m.w,w.width=m.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(g.style("padding")),w.padRight=parseFloat(g.style("padding")),w.padTop=parseFloat(g.style("padding")),w.padBottom=parseFloat(g.style("padding")),w.nodeRepulsion=Et(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=f}for(var b=[],T=0,E=-1,S=[],f=0;f<s.nodeSize;f++){var g=s.layoutNodes[f],A=g.parentId;A!=null?s.layoutNodes[s.idToIndex[A]].children.push(g.id):(b[++E]=g.id,S.push(g.id))}for(s.graphSet.push(S);T<=E;){var I=b[T++],v=s.idToIndex[I],d=s.layoutNodes[v],L=d.children;if(L.length>0){s.graphSet.push(L);for(var f=0;f<L.length;f++)b[++E]=L[f]}}for(var f=0;f<s.graphSet.length;f++)for(var D=s.graphSet[f],p=0;p<D.length;p++){var O=s.idToIndex[D[p]];s.indexToGraph[O]=f}for(var f=0;f<s.edgeSize;f++){var R=a[f],k={};k.id=R.data("id"),k.sourceId=R.data("source"),k.targetId=R.data("target");var z=Et(n.idealEdgeLength)?n.idealEdgeLength(R):n.idealEdgeLength,B=Et(n.edgeElasticity)?n.edgeElasticity(R):n.edgeElasticity,U=s.idToIndex[k.sourceId],H=s.idToIndex[k.targetId],V=s.indexToGraph[U],W=s.indexToGraph[H];if(V!=W){for(var X=C0(k.sourceId,k.targetId,s),j=s.graphSet[X],K=0,w=s.layoutNodes[U];j.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],K++;for(w=s.layoutNodes[H];j.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],K++;z*=K*n.nestingFactor}k.idealLength=z,k.elasticity=B,s.layoutEdges.push(k)}return s},C0=function(e,r,n){var a=D0(e,r,0,n);return 2>a.count?0:a.graph},D0=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var u=i[s],l=a.idToIndex[u],f=a.layoutNodes[l].children;if(f.length!==0){var h=a.indexToGraph[a.idToIndex[f[0]]],p=t(e,r,h,a);if(p.count!==0)if(p.count===1){if(o++,o===2)break}else return p}}return{count:o,graph:n}},S0,L0=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},hf=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var u=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,f=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},A0=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=hf(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},M0=function(e,r,n){N0(e,r),k0(e),R0(e,r),P0(e),B0(e)},N0=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[a[o]]],u=o+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];O0(s,l,e,r)}},Fu=function(e){return-e+2*e*Math.random()},O0=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;s===0&&u===0&&(s=Fu(l),u=Fu(l));var f=I0(e,r,s,u);if(f>0)var h=a.nodeOverlap*f,p=Math.sqrt(s*s+u*u),d=h*s/p,g=h*u/p;else var m=Ai(e,s,u),w=Ai(r,-1*s,-1*u),b=w.x-m.x,T=w.y-m.y,E=b*b+T*T,p=Math.sqrt(E),h=(e.nodeRepulsion+r.nodeRepulsion)/E,d=h*b/p,g=h*T/p;e.isLocked||(e.offsetX-=d,e.offsetY-=g),r.isLocked||(r.offsetX+=d,r.offsetY+=g)}},I0=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Ai=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,u=n/r,l=o/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=i+o/2,f):0<r&&-1*l<=u&&u<=l?(f.x=a+s/2,f.y=i+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=a-s/2,f.y=i-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=a+o*r/2/n,f.y=i+o/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=a-o*r/2/n,f.y=i-o/2),f)},k0=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],s=e.idToIndex[a.targetId],u=e.layoutNodes[s],l=u.positionX-o.positionX,f=u.positionY-o.positionY;if(!(l===0&&f===0)){var h=Ai(o,l,f),p=Ai(u,-1*l,-1*f),d=p.x-h.x,g=p.y-h.y,m=Math.sqrt(d*d+g*g),w=Math.pow(a.idealLength-m,2)/a.elasticity;if(m!==0)var b=w*d/m,T=w*g/m;else var b=0,T=0;o.isLocked||(o.offsetX+=b,o.offsetY+=T),u.isLocked||(u.offsetX-=b,u.offsetY-=T)}}},R0=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],f=e.layoutNodes[e.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var h=0;h<o;h++){var p=e.layoutNodes[e.idToIndex[i[h]]];if(!p.isLocked){var d=s-p.positionX,g=u-p.positionY,m=Math.sqrt(d*d+g*g);if(m>n){var w=r.gravity*d/m,b=r.gravity*g/m;p.offsetX+=w,p.offsetY+=b}}}}},P0=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],s=e.idToIndex[o],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,h=u.offsetY,p=0;p<l.length;p++){var d=e.layoutNodes[e.idToIndex[l[p]]];d.offsetX+=f,d.offsetY+=h,n[++i]=l[p]}u.offsetX=0,u.offsetY=0}}},B0=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=F0(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,z0(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},F0=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},z0=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},zu=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,u=a[s]=a[s]||[];u.push(o)}for(var l=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var h=0;h<f.length;h++){var p=f[h];f.x1=Math.min(f.x1,p.positionX-p.width/2),f.x2=Math.max(f.x2,p.positionX+p.width/2),f.y1=Math.min(f.y1,p.positionY-p.height/2),f.y2=Math.max(f.y2,p.positionY+p.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(T,E){return E.w*E.h-T.w*T.h});for(var d=0,g=0,m=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var h=0;h<f.length;h++){var p=f[h];p.isLocked||(p.positionX+=d-f.x1,p.positionY+=g-f.y1)}d+=f.w+r.componentSpacing,m+=f.w+r.componentSpacing,w=Math.max(w,f.h),m>b&&(g+=w+r.componentSpacing,d=0,m=0,w=0)}}},G0={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function vf(t){this.options=qe({},G0,t)}vf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=sr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(ne){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),u=Math.round(s),l=Math.round(i.w/i.h*s),f=function(ie){if(ie==null)return Math.min(u,l);var oe=Math.min(u,l);oe==u?u=ie:l=ie},h=function(ie){if(ie==null)return Math.max(u,l);var oe=Math.max(u,l);oe==u?u=ie:l=ie},p=e.rows,d=e.cols!=null?e.cols:e.columns;if(p!=null&&d!=null)u=p,l=d;else if(p!=null&&d==null)u=p,l=Math.ceil(o/u);else if(p==null&&d!=null)l=d,u=Math.ceil(o/l);else if(l*u>o){var g=f(),m=h();(g-1)*m>=o?f(g-1):(m-1)*g>=o&&h(m-1)}else for(;l*u<o;){var w=f(),b=h();(b+1)*w>=o?h(b+1):f(w+1)}var T=i.w/l,E=i.h/u;if(e.condense&&(T=0,E=0),e.avoidOverlap)for(var S=0;S<a.length;S++){var A=a[S],I=A._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var v=A.layoutDimensions(e),L=e.avoidOverlapPadding,D=v.w+L,O=v.h+L;T=Math.max(T,D),E=Math.max(E,O)}for(var R={},k=function(ie,oe){return!!R["c-"+ie+"-"+oe]},z=function(ie,oe){R["c-"+ie+"-"+oe]=!0},B=0,U=0,H=function(){U++,U>=l&&(U=0,B++)},V={},W=0;W<a.length;W++){var X=a[W],j=e.position(X);if(j&&(j.row!==void 0||j.col!==void 0)){var K={row:j.row,col:j.col};if(K.col===void 0)for(K.col=0;k(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;k(K.row,K.col);)K.row++;V[X.id()]=K,z(K.row,K.col)}}var J=function(ie,oe){var ue,Z;if(ie.locked()||ie.isParent())return!1;var fe=V[ie.id()];if(fe)ue=fe.col*T+T/2+i.x1,Z=fe.row*E+E/2+i.y1;else{for(;k(B,U);)H();ue=U*T+T/2+i.x1,Z=B*E+E/2+i.y1,z(B,U),H()}return{x:ue,y:Z}};a.layoutPositions(this,e,J)}return this};var H0={ready:function(){},stop:function(){}};function vs(t){this.options=qe({},H0,t)}vs.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};vs.prototype.stop=function(){return this};var $0={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function df(t){this.options=qe({},$0,t)}df.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Et(t.positions);function a(i){if(t.positions==null)return Jp(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var q0={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function gf(t){this.options=qe({},q0,t)}gf.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=sr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var V0=[{name:"breadthfirst",impl:lf},{name:"circle",impl:ff},{name:"concentric",impl:cf},{name:"cose",impl:Xi},{name:"grid",impl:vf},{name:"null",impl:vs},{name:"preset",impl:df},{name:"random",impl:gf}];function pf(t){this.options=t,this.notifications=0}var Gu=function(){},Hu=function(){throw new Error("A headless instance can not render images")};pf.prototype={recalculateRenderedStyle:Gu,notify:function(){this.notifications++},init:Gu,isHeadless:function(){return!0},png:Hu,jpg:Hu};var ds={};ds.arrowShapeWidth=.3;ds.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,f,h,p,d,g,m){var w=d.x-h/2-m,b=d.x+h/2+m,T=d.y-h/2-m,E=d.y+h/2+m,S=w<=l&&l<=b&&T<=f&&f<=E;return S},n=function(l,f,h,p,d){var g=l*Math.cos(p)-f*Math.sin(p),m=l*Math.sin(p)+f*Math.cos(p),w=g*h,b=m*h,T=w+d.x,E=b+d.y;return{x:T,y:E}},a=function(l,f,h,p){for(var d=[],g=0;g<l.length;g+=2){var m=l[g],w=l[g+1];d.push(n(m,w,f,h,p))}return d},i=function(l){for(var f=[],h=0;h<l.length;h++){var p=l[h];f.push(p.x,p.y)}return f},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){Ge(f)&&(f=t[f]),t[l]=qe({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,d,g,m,w,b){var T=i(a(this.points,g+2*b,m,w)),E=or(p,d,T);return E},roughCollide:r,draw:function(p,d,g,m){var w=a(this.points,d,g,m);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:o},f)};s("none",{collide:Ci,roughCollide:Ci,draw:rs,spacing:tu,gap:tu}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,h,p,d){var g=a(this.points,f,h,p),m=this.controlPoint,w=n(m[0],m[1],f,h,p);e.arrowShapeImpl(this.name)(l,g,w)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,h,p,d,g,m){var w=i(a(this.points,h+2*m,p,d)),b=i(a(this.pointsTee,h+2*m,p,d)),T=or(l,f,w)||or(l,f,b);return T},draw:function(l,f,h,p,d){var g=a(this.points,f,h,p),m=a(this.pointsTee,f,h,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,h,p,d,g,m){var w=d,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2),T=i(a(this.points,h+2*m,p,d));return or(l,f,T)||b},draw:function(l,f,h,p,d){var g=a(this.pointsTr,f,h,p);e.arrowShapeImpl(this.name)(l,g,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var h=this.baseCrossLinePts.slice(),p=f/l,d=3,g=5;return h[d]=h[d]-p,h[g]=h[g]-p,h},collide:function(l,f,h,p,d,g,m){var w=i(a(this.points,h+2*m,p,d)),b=i(a(this.crossLinePts(h,g),h+2*m,p,d)),T=or(l,f,w)||or(l,f,b);return T},draw:function(l,f,h,p,d){var g=a(this.points,f,h,p),m=a(this.crossLinePts(f,d),f,h,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,h,p,d,g,m){var w=d,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2);return b},draw:function(l,f,h,p,d){e.arrowShapeImpl(this.name)(l,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ln={};Ln.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),u=r.zoom(),l=((t-a)/o-s.x)/u,f=((e-i)/o-s.y)/u;return[l,f]};Ln.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,f=i.left+i.right,h=e.width/(o+f),p=o-u,d=s-l,g=e.left+a.left+i.left,m=e.top+a.top+i.top;return this.containerBB=[g,m,p,d,h]};Ln.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ln.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Ln.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),f=(n?24:8)/u,h=(n?8:2)/u,p=(n?8:2)/u,d=1/0,g,m;r&&(o=o.interactive);function w(v,L){if(v.isNode()){if(m)return;m=v,s.push(v)}if(v.isEdge()&&(L==null||L<d))if(g){if(g.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value){for(var D=0;D<s.length;D++)if(s[D].isEdge()){s[D]=v,g=v,d=L??d;break}}}else s.push(v),g=v,d=L??d}function b(v){var L=v.outerWidth()+2*h,D=v.outerHeight()+2*h,O=L/2,R=D/2,k=v.position();if(k.x-O<=t&&t<=k.x+O&&k.y-R<=e&&e<=k.y+R){var z=i.nodeShapes[a.getNodeShape(v)];if(z.checkPoint(t,e,0,L,D,k.x,k.y))return w(v,0),!0}}function T(v){var L=v._private,D=L.rscratch,O=v.pstyle("width").pfValue,R=v.pstyle("arrow-scale").value,k=O/2+f,z=k*k,B=k*2,W=L.source,X=L.target,U;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var H=D.allpts,V=0;V+3<H.length;V+=2)if(hy(t,e,H[V],H[V+1],H[V+2],H[V+3],B)&&z>(U=yy(t,e,H[V],H[V+1],H[V+2],H[V+3])))return w(v,U),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var H=D.allpts,V=0;V+5<D.allpts.length;V+=4)if(vy(t,e,H[V],H[V+1],H[V+2],H[V+3],H[V+4],H[V+5],B)&&z>(U=py(t,e,H[V],H[V+1],H[V+2],H[V+3],H[V+4],H[V+5])))return w(v,U),!0}for(var W=W||L.source,X=X||L.target,j=a.getArrowWidth(O,R),K=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],V=0;V<K.length;V++){var J=K[V],ne=i.arrowShapes[v.pstyle(J.name+"-arrow-shape").value],ie=v.pstyle("width").pfValue;if(ne.roughCollide(t,e,j,J.angle,{x:J.x,y:J.y},ie,f)&&ne.collide(t,e,j,J.angle,{x:J.x,y:J.y},ie,f))return w(v),!0}l&&s.length>0&&(b(W),b(X))}function E(v,L,D){return Er(v,L,D)}function S(v,L){var D=v._private,O=p,R;L?R=L+"-":R="",v.boundingBox();var k=D.labelBounds[L||"main"],z=v.pstyle(R+"label").value,B=v.pstyle("text-events").strValue==="yes";if(!(!B||!z)){var U=E(D.rscratch,"labelX",L),H=E(D.rscratch,"labelY",L),V=E(D.rscratch,"labelAngle",L),W=v.pstyle(R+"text-margin-x").pfValue,X=v.pstyle(R+"text-margin-y").pfValue,j=k.x1-O-W,K=k.x2+O-W,J=k.y1-O-X,ne=k.y2+O-X;if(V){var ie=Math.cos(V),oe=Math.sin(V),ue=function(He,De){return He=He-U,De=De-H,{x:He*ie-De*oe+U,y:He*oe+De*ie+H}},Z=ue(j,J),fe=ue(j,ne),ce=ue(K,J),be=ue(K,ne),Ce=[Z.x+W,Z.y+X,ce.x+W,ce.y+X,be.x+W,be.y+X,fe.x+W,fe.y+X];if(or(t,e,Ce))return w(v),!0}else if(Wn(k,t,e))return w(v),!0}}for(var A=o.length-1;A>=0;A--){var I=o[A];I.isNode()?b(I)||S(I):T(I)||S(I)||S(I,"source")||S(I,"target")}return s};Ln.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(t,r),s=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=o,r=s,e=u,n=l;for(var f=sr({x1:t,y1:e,x2:r,y2:n}),h=0;h<a.length;h++){var p=a[h];if(p.isNode()){var d=p,g=d.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});is(f,g)&&!Ml(g,f)&&i.push(d)}else{var m=p,w=m._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!Wn(f,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!Wn(f,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var T=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,E=!0,S=0;S<T.length;S++)if(!cy(f,T[S])){E=!1;break}E&&i.push(m)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&i.push(m)}}return i};var Mi={};Mi.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",u,l,f,h,p,d,b,T;if(r?(f=e.haystackPts[0],h=e.haystackPts[1],p=e.haystackPts[2],d=e.haystackPts[3]):(f=e.arrowStartX,h=e.arrowStartY,p=e.arrowEndX,d=e.arrowEndY),b=e.midX,T=e.midY,i)u=f-e.segpts[0],l=h-e.segpts[1];else if(a||o||s||n){var g=e.allpts,m=Pt(g[0],g[2],g[4],.1),w=Pt(g[1],g[3],g[5],.1);u=f-m,l=h-w}else u=f-b,l=h-T;e.srcArrowAngle=ii(u,l);var b=e.midX,T=e.midY;if(r&&(b=(f+p)/2,T=(h+d)/2),u=p-f,l=d-h,i){var g=e.allpts;if(g.length/2%2===0){var E=g.length/2,S=E-2;u=g[E]-g[S],l=g[E+1]-g[S+1]}else{var E=g.length/2-1,S=E-2,A=E+2;u=g[E]-g[S],l=g[E+1]-g[S+1]}}else if(a||o||s){var g=e.allpts,I=e.ctrlpts,v,L,D,O;if(I.length/2%2===0){var R=g.length/2-1,k=R+2,z=k+2;v=Pt(g[R],g[k],g[z],0),L=Pt(g[R+1],g[k+1],g[z+1],0),D=Pt(g[R],g[k],g[z],1e-4),O=Pt(g[R+1],g[k+1],g[z+1],1e-4)}else{var k=g.length/2-1,R=k-2,z=k+2;v=Pt(g[R],g[k],g[z],.4999),L=Pt(g[R+1],g[k+1],g[z+1],.4999),D=Pt(g[R],g[k],g[z],.5),O=Pt(g[R+1],g[k+1],g[z+1],.5)}u=D-v,l=O-L}if(e.midtgtArrowAngle=ii(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var g=e.allpts;if(g.length/2%2!==0){var E=g.length/2-1,A=E+2;u=-(g[A]-g[E]),l=-(g[A+1]-g[E+1])}}if(e.midsrcArrowAngle=ii(u,l),i)u=p-e.segpts[e.segpts.length-2],l=d-e.segpts[e.segpts.length-1];else if(a||o||s||n){var g=e.allpts,B=g.length,m=Pt(g[B-6],g[B-4],g[B-2],.9),w=Pt(g[B-5],g[B-3],g[B-1],.9);u=p-m,l=d-w}else u=p-b,l=d-T;e.tgtArrowAngle=ii(u,l)};Mi.getArrowWidth=Mi.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Zt={};Zt.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(A,I,v,L){var D=L-I,O=v-A,R=Math.sqrt(O*O+D*D);return{x:-D/R,y:O/R}},f=t.pstyle("edge-distances").value;switch(f){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var h=this.manualEndptToPx(t.source()[0],o),p=br(h,2),d=p[0],g=p[1],m=this.manualEndptToPx(t.target()[0],s),w=br(m,2),b=w[0],T=w[1],E={x1:d,y1:g,x2:b,y2:T};a=l(d,g,b,T),i=E}else lt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Zt.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),f=o.width(),h=s.width(),p=o.height(),d=s.height(),g=r.pstyle("haystack-radius").value,m=g/2;a.haystackPts=a.allpts=[a.source.x*f*m+u.x,a.source.y*p*m+u.y,a.target.x*h*m+l.x,a.target.y*d*m+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Zt.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=Math.min(n.pfValue.length,a.pfValue.length);r.edgeType="segments",r.segpts=[];for(var o=0;o<i;o++){var s=n.pfValue[o],u=a.pfValue[o],l=1-s,f=s,h=this.findMidptPtsEtc(t,e),p=h.midptPts,d=h.vectorNormInverse,g={x:p.x1*l+p.x2*f,y:p.y1*l+p.y2*f};r.segpts.push(g.x+d.x*u,g.y+d.y*u)}};Zt.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=r,d=h;n&&(p=0,d=u);var g=l-Math.PI/2,m=g-f/2,w=g+f/2,b=l+"_"+f;p=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[o.x+Math.cos(m)*1.4*d*(p/3+1),o.y+Math.sin(m)*1.4*d*(p/3+1),o.x+Math.cos(w)*1.4*d*(p/3+1),o.y+Math.sin(w)*1.4*d*(p/3+1)]};Zt.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),d=p?p.pfValue[0]:void 0,g=r,m=h;n&&(g=0,m=d);var w=50,b={x:i.x-s/2,y:i.y-u/2},T={x:o.x-l/2,y:o.y-f/2},E={x:Math.min(b.x,T.x),y:Math.min(b.y,T.y)},S=.5,A=Math.max(S,Math.log(s*.01)),I=Math.max(S,Math.log(l*.01));a.ctrlpts=[E.x,E.y-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*A,E.x-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*I,E.y]};Zt.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Zt.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,f=s?s.pfValue[0]:void 0,h=u.value[0],p=n;i.edgeType=p?"multibezier":"bezier",i.ctrlpts=[];for(var d=0;d<l;d++){var g=(.5-e.eles.length/2+r)*o*(a?-1:1),m=void 0,w=Al(g);p&&(f=s?s.pfValue[d]:o,h=u.value[d]),n?m=f:m=f!==void 0?w*f:void 0;var b=m!==void 0?m:g,T=1-h,E=h,S=this.findMidptPtsEtc(t,e),A=S.midptPts,I=S.vectorNormInverse,v={x:A.x1*T+A.x2*E,y:A.y1*T+A.y2*E};i.ctrlpts.push(v.x+I.x*b,v.y+I.y*b)}};Zt.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",u="upward",l="auto",f=e.posPts,h=e.srcW,p=e.srcH,d=e.tgtW,g=e.tgtH,m=t.pstyle("edge-distances").value,w=m!=="node-position",b=t.pstyle("taxi-direction").value,T=b,E=t.pstyle("taxi-turn"),S=E.units==="%",A=E.pfValue,I=A<0,v=t.pstyle("taxi-turn-min-distance").pfValue,L=w?(h+d)/2:0,D=w?(p+g)/2:0,O=f.x2-f.x1,R=f.y2-f.y1,k=function(Ee,Pe){return Ee>0?Math.max(Ee-Pe,0):Math.min(Ee+Pe,0)},z=k(O,L),B=k(R,D),U=!1;T===l?b=Math.abs(z)>Math.abs(B)?a:n:T===u||T===s?(b=n,U=!0):(T===i||T===o)&&(b=a,U=!0);var H=b===n,V=H?B:z,W=H?R:O,X=Al(W),j=!1;!(U&&(S||I))&&(T===s&&W<0||T===u&&W>0||T===i&&W>0||T===o&&W<0)&&(X*=-1,V=X*Math.abs(V),j=!0);var K;if(S){var J=A<0?1+A:A;K=J*V}else{var ne=A<0?V:0;K=ne+A*X}var ie=function(Ee){return Math.abs(Ee)<v||Math.abs(Ee)>=Math.abs(V)},oe=ie(K),ue=ie(Math.abs(V)-Math.abs(K)),Z=oe||ue;if(Z&&!j)if(H){var fe=Math.abs(W)<=p/2,ce=Math.abs(O)<=d/2;if(fe){var be=(f.x1+f.x2)/2,Ce=f.y1,Fe=f.y2;r.segpts=[be,Ce,be,Fe]}else if(ce){var He=(f.y1+f.y2)/2,De=f.x1,le=f.x2;r.segpts=[De,He,le,He]}else r.segpts=[f.x1,f.y2]}else{var me=Math.abs(W)<=h/2,xe=Math.abs(R)<=g/2;if(me){var pe=(f.y1+f.y2)/2,Se=f.x1,ke=f.x2;r.segpts=[Se,pe,ke,pe]}else if(xe){var Re=(f.x1+f.x2)/2,Me=f.y1,ze=f.y2;r.segpts=[Re,Me,Re,ze]}else r.segpts=[f.x2,f.y1]}else if(H){var ye=f.y1+K+(w?p/2*X:0),F=f.x1,ee=f.x2;r.segpts=[F,ye,ee,ye]}else{var we=f.x1+K+(w?h/2*X:0),de=f.y1,ge=f.y2;r.segpts=[we,de,we,ge]}};Zt.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,f=e.tgtShape,h=!Ae(r.startX)||!Ae(r.startY),p=!Ae(r.arrowStartX)||!Ae(r.arrowStartY),d=!Ae(r.endX)||!Ae(r.endY),g=!Ae(r.arrowEndX)||!Ae(r.arrowEndY),m=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,b=m*w,T=xn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),E=T<b,S=xn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),A=S<b,I=!1;if(h||p||E){I=!0;var v={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(v.x*v.x+v.y*v.y),D={x:v.x/L,y:v.y/L},O=Math.max(i,o),R={x:r.ctrlpts[0]+D.x*2*O,y:r.ctrlpts[1]+D.y*2*O},k=l.intersectLine(n.x,n.y,i,o,R.x,R.y,0);E?(r.ctrlpts[0]=r.ctrlpts[0]+D.x*(b-T),r.ctrlpts[1]=r.ctrlpts[1]+D.y*(b-T)):(r.ctrlpts[0]=k[0]+D.x*b,r.ctrlpts[1]=k[1]+D.y*b)}if(d||g||A){I=!0;var z={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},B=Math.sqrt(z.x*z.x+z.y*z.y),U={x:z.x/B,y:z.y/B},H=Math.max(i,o),V={x:r.ctrlpts[0]+U.x*2*H,y:r.ctrlpts[1]+U.y*2*H},W=f.intersectLine(a.x,a.y,s,u,V.x,V.y,0);A?(r.ctrlpts[0]=r.ctrlpts[0]+U.x*(b-S),r.ctrlpts[1]=r.ctrlpts[1]+U.y*(b-S)):(r.ctrlpts[0]=W[0]+U.x*b,r.ctrlpts[1]=W[1]+U.y*b)}I&&this.findEndpoints(t)}};Zt.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Pt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Pt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}};Zt.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ae(e.startX)&&Ae(e.startY)&&Ae(e.endX)&&Ae(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,lt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Zt.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new Nr,get:function(v){var L=this.map.get(v[0]);return L!=null?L.get(v[1]):null},set:function(v,L){var D=this.map.get(v[0]);D==null&&(D=new Nr,this.map.set(v[0],D)),D.set(v[1],L)}},o=[],s=[],u=0;u<t.length;u++){var l=t[u],f=l._private,h=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(h==="haystack"){s.push(l);continue}var p=h==="unbundled-bezier"||h==="segments"||h==="straight"||h==="straight-triangle"||h==="taxi",d=h==="unbundled-bezier"||h==="bezier",g=f.source,m=f.target,w=g.poolIndex(),b=m.poolIndex(),T=[w,b].sort(),E=i.get(T);E==null&&(E={eles:[]},i.set(T,E),o.push(T)),E.eles.push(l),p&&(E.hasUnbundled=!0),d&&(E.hasBezier=!0)}}for(var S=function(v){var L=o[v],D=i.get(L),O=void 0;if(!D.hasUnbundled){var R=D.eles[0].parallelEdges().filter(function(ze){return ze.isBundledBezier()});ns(D.eles),R.forEach(function(ze){return D.eles.push(ze)}),D.eles.sort(function(ze,ye){return ze.poolIndex()-ye.poolIndex()})}var k=D.eles[0],z=k.source(),B=k.target();if(z.poolIndex()>B.poolIndex()){var U=z;z=B,B=U}var H=D.srcPos=z.position(),V=D.tgtPos=B.position(),W=D.srcW=z.outerWidth(),X=D.srcH=z.outerHeight(),j=D.tgtW=B.outerWidth(),K=D.tgtH=B.outerHeight(),J=D.srcShape=r.nodeShapes[e.getNodeShape(z)],ne=D.tgtShape=r.nodeShapes[e.getNodeShape(B)];D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ie=0;ie<D.eles.length;ie++){var oe=D.eles[ie],ue=oe[0]._private.rscratch,Z=oe.pstyle("curve-style").value,fe=Z==="unbundled-bezier"||Z==="segments"||Z==="taxi",ce=!z.same(oe.source());if(!D.calculatedIntersection&&z!==B&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var be=J.intersectLine(H.x,H.y,W,X,V.x,V.y,0),Ce=D.srcIntn=be,Fe=ne.intersectLine(V.x,V.y,j,K,H.x,H.y,0),He=D.tgtIntn=Fe,De=D.intersectionPts={x1:be[0],x2:Fe[0],y1:be[1],y2:Fe[1]},le=D.posPts={x1:H.x,x2:V.x,y1:H.y,y2:V.y},me=Fe[1]-be[1],xe=Fe[0]-be[0],pe=Math.sqrt(xe*xe+me*me),Se=D.vector={x:xe,y:me},ke=D.vectorNorm={x:Se.x/pe,y:Se.y/pe},Re={x:-ke.y,y:ke.x};D.nodesOverlap=!Ae(pe)||ne.checkPoint(be[0],be[1],0,j,K,V.x,V.y)||J.checkPoint(Fe[0],Fe[1],0,W,X,H.x,H.y),D.vectorNormInverse=Re,O={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:V,tgtPos:H,srcW:j,srcH:K,tgtW:W,tgtH:X,srcIntn:He,tgtIntn:Ce,srcShape:ne,tgtShape:J,posPts:{x1:le.x2,y1:le.y2,x2:le.x1,y2:le.y1},intersectionPts:{x1:De.x2,y1:De.y2,x2:De.x1,y2:De.y1},vector:{x:-Se.x,y:-Se.y},vectorNorm:{x:-ke.x,y:-ke.y},vectorNormInverse:{x:-Re.x,y:-Re.y}}}var Me=ce?O:D;ue.nodesOverlap=Me.nodesOverlap,ue.srcIntn=Me.srcIntn,ue.tgtIntn=Me.tgtIntn,a&&(z.isParent()||z.isChild()||B.isParent()||B.isChild())&&(z.parents().anySame(B)||B.parents().anySame(z)||z.same(B)&&z.isParent())?e.findCompoundLoopPoints(oe,Me,ie,fe):z===B?e.findLoopPoints(oe,Me,ie,fe):Z==="segments"?e.findSegmentsPoints(oe,Me):Z==="taxi"?e.findTaxiPoints(oe,Me):Z==="straight"||!fe&&D.eles.length%2===1&&ie===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(oe):e.findBezierPoints(oe,Me,ie,fe,ce),e.findEndpoints(oe),e.tryToCorrectInvalidPoints(oe,Me),e.checkForInvalidEdgeWarning(oe),e.storeAllpts(oe),e.storeEdgeProjections(oe),e.calculateArrowAngles(oe),e.recalculateEdgeLabelProjections(oe),e.calculateLabelAngles(oe)}},A=0;A<o.length;A++)S(A);this.findHaystackPoints(s)}};function yf(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Zt.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),yf(e.segpts)};Zt.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),yf(e.ctrlpts)};Zt.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ya={};Ya.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight();if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var s=e.pfValue[0];s=-Math.PI/2+s;var u=2*Math.max(a,i),l=[n.x+Math.cos(s)*u,n.y+Math.sin(s)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,l[0],l[1],0)}};Ya.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,h=t.pstyle("curve-style").value,p=t._private.rscratch,d=p.edgeType,g=h==="taxi",m=d==="self"||d==="compound",w=d==="bezier"||d==="multibezier"||m,b=d!=="bezier",T=d==="straight"||d==="segments",E=d==="segments",S=w||b||T,A=m||g,I=t.pstyle("source-endpoint"),v=A?"outside-to-node":I.value,L=t.pstyle("target-endpoint"),D=A?"outside-to-node":L.value;p.srcManEndpt=I,p.tgtManEndpt=L;var O,R,k,z;if(w){var B=[p.ctrlpts[0],p.ctrlpts[1]],U=b?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:B;O=U,R=B}else if(T){var H=E?p.segpts.slice(0,2):[o.x,o.y],V=E?p.segpts.slice(p.segpts.length-2):[i.x,i.y];O=V,R=H}if(D==="inside-to-node")r=[o.x,o.y];else if(L.units)r=this.manualEndptToPx(a,L);else if(D==="outside-to-line")r=p.tgtIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?k=O:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(k=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),k[0],k[1],0),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var W=a._private.rscratch,X=W.labelWidth,j=W.labelHeight,K=W.labelX,J=W.labelY,ne=X/2,ie=j/2,oe=a.pstyle("text-valign").value;oe==="top"?J-=ie:oe==="bottom"&&(J+=ie);var ue=a.pstyle("text-halign").value;ue==="left"?K-=ne:ue==="right"&&(K+=ne);var Z=Oa(k[0],k[1],[K-ne,J-ie,K+ne,J-ie,K+ne,J+ie,K-ne,J+ie],o.x,o.y);if(Z.length>0){var fe=i,ce=mn(fe,Hn(r)),be=mn(fe,Hn(Z)),Ce=ce;if(be<ce&&(r=Z,Ce=be),Z.length>2){var Fe=mn(fe,{x:Z[2],y:Z[3]});Fe<Ce&&(r=[Z[2],Z[3]])}}}var He=oi(r,O,e.arrowShapes[s].spacing(t)+l),De=oi(r,O,e.arrowShapes[s].gap(t)+l);if(p.endX=De[0],p.endY=De[1],p.arrowEndX=He[0],p.arrowEndY=He[1],v==="inside-to-node")r=[i.x,i.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(v==="outside-to-line")r=p.srcIntn;else if(v==="outside-to-node"||v==="outside-to-node-or-label"?z=R:(v==="outside-to-line"||v==="outside-to-line-or-label")&&(z=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),z[0],z[1],0),v==="outside-to-node-or-label"||v==="outside-to-line-or-label"){var le=n._private.rscratch,me=le.labelWidth,xe=le.labelHeight,pe=le.labelX,Se=le.labelY,ke=me/2,Re=xe/2,Me=n.pstyle("text-valign").value;Me==="top"?Se-=Re:Me==="bottom"&&(Se+=Re);var ze=n.pstyle("text-halign").value;ze==="left"?pe-=ke:ze==="right"&&(pe+=ke);var ye=Oa(z[0],z[1],[pe-ke,Se-Re,pe+ke,Se-Re,pe+ke,Se+Re,pe-ke,Se+Re],i.x,i.y);if(ye.length>0){var F=o,ee=mn(F,Hn(r)),we=mn(F,Hn(ye)),de=ee;if(we<ee&&(r=[ye[0],ye[1]],de=we),ye.length>2){var ge=mn(F,{x:ye[2],y:ye[3]});ge<de&&(r=[ye[2],ye[3]])}}}var Ye=oi(r,R,e.arrowShapes[u].spacing(t)+f),Ee=oi(r,R,e.arrowShapes[u].gap(t)+f);p.startX=Ee[0],p.startY=Ee[1],p.arrowStartX=Ye[0],p.arrowStartY=Ye[1],S&&(!Ae(p.startX)||!Ae(p.startY)||!Ae(p.endX)||!Ae(p.endY)?p.badLine=!0:p.badLine=!1)};Ya.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Ya.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var gs={};function U0(t,e,r){for(var n=function(l,f,h,p){return Pt(l,f,h,p)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}gs.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)U0(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};gs.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Ir={};Ir.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!an(e)){var r,n,a=t._private,i=t.width(),o=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,h=a.rscratch,p=a.rstyle;switch(l){case"left":r=u.x-i/2-s;break;case"right":r=u.x+i/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}h.labelX=r,h.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var mf=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},bf=function(e,r){var n=r.x-e.x,a=r.y-e.y;return mf(n,a)},Y0=function(e,r,n,a){var i=Na(0,a-.001,1),o=Na(0,a+.001,1),s=qn(e,r,n,i),u=qn(e,r,n,o);return bf(s,u)};Ir.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(h,p,d){Jr(r.rscratch,h,p,d),Jr(r.rstyle,h,p,d)};o("labelX",null,e.x),o("labelY",null,e.y);var s=mf(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var h=[],p=0;p+5<n.allpts.length;p+=4){var d={x:n.allpts[p],y:n.allpts[p+1]},g={x:n.allpts[p+2],y:n.allpts[p+3]},m={x:n.allpts[p+4],y:n.allpts[p+5]};h.push({p0:d,p1:g,p2:m,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,b=a.bezierProjPcts.length;function T(v,L,D,O,R){var k=xn(L,D),z=v.segments[v.segments.length-1],B={p0:L,p1:D,t0:O,t1:R,startDist:z?z.startDist+z.length:0,length:k};v.segments.push(B),v.length+=k}for(var E=0;E<h.length;E++){var S=h[E],A=h[E-1];A&&(S.startDist=A.startDist+A.length),T(S,S.p0,w[E*b],0,a.bezierProjPcts[0]);for(var I=0;I<b-1;I++)T(S,w[E*b+I],w[E*b+I+1],a.bezierProjPcts[I],a.bezierProjPcts[I+1]);T(S,w[E*b+b-1],S.p2,a.bezierProjPcts[b-1],1)}return f.cache=h},l=function(h){var p,d=h==="source";if(i[h]){var g=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),w,b=0,T=0,E=0;E<m.length;E++){for(var S=m[d?E:m.length-1-E],A=0;A<S.segments.length;A++){var I=S.segments[d?A:S.segments.length-1-A],v=E===m.length-1&&A===S.segments.length-1;if(b=T,T+=I.length,T>=g||v){w={cp:S,segment:I};break}}if(w)break}var L=w.cp,D=w.segment,O=(g-b)/D.length,R=D.t1-D.t0,k=d?D.t0+R*O:D.t1-R*O;k=Na(0,k,1),e=qn(L.p0,L.p1,L.p2,k),p=Y0(L.p0,L.p1,L.p2,k);break}case"straight":case"segments":case"haystack":{for(var z=0,B,U,H,V,W=n.allpts.length,X=0;X+3<W&&(d?(H={x:n.allpts[X],y:n.allpts[X+1]},V={x:n.allpts[X+2],y:n.allpts[X+3]}):(H={x:n.allpts[W-2-X],y:n.allpts[W-1-X]},V={x:n.allpts[W-4-X],y:n.allpts[W-3-X]}),B=xn(H,V),U=z,z+=B,!(z>=g));X+=2);var j=g-U,K=j/B;K=Na(0,K,1),e=oy(H,V,K),p=bf(H,V);break}}o("labelX",h,e.x),o("labelY",h,e.y),o("labelAutoAngle",h,p)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Ir.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Ir.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=Er(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(s.length,1),l=a.height/u,f=l*i,h=a.width,p=a.height+(u-1)*(i-1)*l;Jr(r.rstyle,"labelWidth",e,h),Jr(r.rscratch,"labelWidth",e,h),Jr(r.rstyle,"labelHeight",e,p),Jr(r.rscratch,"labelHeight",e,p),Jr(r.rscratch,"labelLineHeight",e,f)};Ir.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(j,K){return K?(Jr(r.rscratch,j,e,K),K):Er(r.rscratch,j,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="",f=a.split(`
`),h=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,d=p==="anywhere",g=[],m=/[\s\u200b]+/,w=d?"":" ",b=0;b<f.length;b++){var T=f[b],E=this.calculateLabelDimensions(t,T),S=E.width;if(d){var A=T.split("").join(l);T=A}if(S>h){for(var I=T.split(m),v="",L=0;L<I.length;L++){var D=I[L],O=v.length===0?D:v+w+D,R=this.calculateLabelDimensions(t,O),k=R.width;k<=h?v+=D+w:(v&&g.push(v),v=D+w)}v.match(/^[\s\u200b]+$/)||g.push(v)}else g.push(T)}o("labelWrapCachedLines",g),a=o("labelWrapCachedText",g.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var z=t.pstyle("text-max-width").pfValue,B="",U="",H=!1;if(this.calculateLabelDimensions(t,a).width<z)return a;for(var V=0;V<a.length;V++){var W=this.calculateLabelDimensions(t,B+a[V]+U).width;if(W>z)break;B+=a[V],V===a.length-1&&(H=!0)}return H||(B+=U),B}return a};Ir.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ir.calculateLabelDimensions=function(t,e){var r=this,n=En(e,t._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),i=a[n];if(i!=null)return i;var o=0,s=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,h=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=document.createElement("canvas"),p=this.labelCalcCanvasContext=h.getContext("2d");var d=h.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}p.font="".concat(s," ").concat(f," ").concat(u,"px ").concat(l);for(var g=0,m=0,w=e.split(`
`),b=0;b<w.length;b++){var T=w[b],E=p.measureText(T),S=Math.ceil(E.width),A=u;g=Math.max(S,g),m+=A}return g+=o,m+=o,a[n]={width:g,height:m}};Ir.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};Ir.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var wf={},$u=28,qu=!1;wf.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<$u||t.height()<$u))return qu||(lt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),qu=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var _i={};_i.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],f=l._private,h=f.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var p=s[h];p(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};_i.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};_i.recalculateRenderedStyle=function(t,e){var r=function(S){return S._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],s=o._private,u=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),!(e&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],h=f._private,p=h.rstyle,d=f.position();this.recalculateNodeLabelProjection(f),p.nodeX=d.x,p.nodeY=d.y,p.nodeW=f.pstyle("width").pfValue,p.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g],w=m._private,b=w.rstyle,T=w.rscratch;b.srcX=T.arrowStartX,b.srcY=T.arrowStartY,b.tgtX=T.arrowEndX,b.tgtY=T.arrowEndY,b.midX=T.midX,b.midY=T.midY,b.labelAngle=T.labelAngle,b.sourceLabelAngle=T.sourceLabelAngle,b.targetLabelAngle=T.targetLabelAngle}}};var Ki={};Ki.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Ki.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ki.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(of),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Ef={};[Ln,Mi,Zt,Ya,gs,Ir,wf,_i,Ki].forEach(function(t){qe(Ef,t)});var xf={};xf.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var ra={};ra.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)};ra.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||cp(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(u,l,f){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:f??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ra.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ra.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ra.load=function(){var t=this,e=t.cy.window(),r=function(F){return F.selected()},n=function(F,ee,we,de){F==null&&(F=t.cy);for(var ge=0;ge<ee.length;ge++){var Ye=ee[ge];F.emit({originalEvent:we,type:Ye,position:de})}},a=function(F){return F.shiftKey||F.metaKey||F.ctrlKey},i=function(F,ee){var we=!0;if(t.cy.hasCompoundNodes()&&F&&F.pannable())for(var de=0;ee&&de<ee.length;de++){var F=ee[de];if(F.isNode()&&F.isParent()&&!F.pannable()){we=!1;break}}else we=!0;return we},o=function(F){F[0]._private.grabbed=!0},s=function(F){F[0]._private.grabbed=!1},u=function(F){F[0]._private.rscratch.inDragLayer=!0},l=function(F){F[0]._private.rscratch.inDragLayer=!1},f=function(F){F[0]._private.rscratch.isGrabTarget=!0},h=function(F){F[0]._private.rscratch.isGrabTarget=!1},p=function(F,ee){var we=ee.addToList,de=we.has(F);!de&&F.grabbable()&&!F.locked()&&(we.merge(F),o(F))},d=function(F,ee){if(F.cy().hasCompoundNodes()&&!(ee.inDragLayer==null&&ee.addToList==null)){var we=F.descendants();ee.inDragLayer&&(we.forEach(u),we.connectedEdges().forEach(u)),ee.addToList&&p(we,ee)}},g=function(F,ee){ee=ee||{};var we=F.cy().hasCompoundNodes();ee.inDragLayer&&(F.forEach(u),F.neighborhood().stdFilter(function(de){return!we||de.isEdge()}).forEach(u)),ee.addToList&&F.forEach(function(de){p(de,ee)}),d(F,ee),b(F,{inDragLayer:ee.inDragLayer}),t.updateCachedGrabbedEles()},m=g,w=function(F){F&&(t.getCachedZSortedEles().forEach(function(ee){s(ee),l(ee),h(ee)}),t.updateCachedGrabbedEles())},b=function(F,ee){if(!(ee.inDragLayer==null&&ee.addToList==null)&&F.cy().hasCompoundNodes()){var we=F.ancestors().orphans();if(!we.same(F)){var de=we.descendants().spawnSelf().merge(we).unmerge(F).unmerge(F.descendants()),ge=de.connectedEdges();ee.inDragLayer&&(ge.forEach(u),de.forEach(u)),ee.addToList&&de.forEach(function(Ye){p(Ye,ee)})}}},T=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";E?(t.removeObserver=new MutationObserver(function(ye){for(var F=0;F<ye.length;F++){var ee=ye[F],we=ee.removedNodes;if(we)for(var de=0;de<we.length;de++){var ge=we[de];if(ge===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ye){t.destroy()});var A=Bi.default(function(){t.cy.resize()},100);E&&(t.styleObserver=new MutationObserver(A),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",A),S&&(t.resizeObserver=new ResizeObserver(A),t.resizeObserver.observe(t.container));var I=function(F,ee){for(;F!=null;)ee(F),F=F.parentNode},v=function(){t.invalidateContainerClientCoordsCache()};I(t.container,function(ye){t.registerBinding(ye,"transitionend",v),t.registerBinding(ye,"animationend",v),t.registerBinding(ye,"scroll",v)}),t.registerBinding(t.container,"contextmenu",function(ye){ye.preventDefault()});var L=function(){return t.selection[4]!==0},D=function(F){for(var ee=t.findContainerClientCoords(),we=ee[0],de=ee[1],ge=ee[2],Ye=ee[3],Ee=F.touches?F.touches:[F],Pe=!1,Ze=0;Ze<Ee.length;Ze++){var je=Ee[Ze];if(we<=je.clientX&&je.clientX<=we+ge&&de<=je.clientY&&je.clientY<=de+Ye){Pe=!0;break}}if(!Pe)return!1;for(var We=t.container,nt=F.target,Ve=nt.parentNode,Ke=!1;Ve;){if(Ve===We){Ke=!0;break}Ve=Ve.parentNode}return!!Ke};t.registerBinding(t.container,"mousedown",function(F){if(D(F)){F.preventDefault(),T(),t.hoverData.capture=!0,t.hoverData.which=F.which;var ee=t.cy,we=[F.clientX,F.clientY],de=t.projectIntoViewport(we[0],we[1]),ge=t.selection,Ye=t.findNearestElements(de[0],de[1],!0,!1),Ee=Ye[0],Pe=t.dragData.possibleDragElements;t.hoverData.mdownPos=de,t.hoverData.mdownGPos=we;var Ze=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var mt=t.hoverData.down;mt?mt.emit({originalEvent:F,type:"taphold",position:{x:de[0],y:de[1]}}):ee.emit({originalEvent:F,type:"taphold",position:{x:de[0],y:de[1]}})}},t.tapholdDuration)};if(F.which==3){t.hoverData.cxtStarted=!0;var je={originalEvent:F,type:"cxttapstart",position:{x:de[0],y:de[1]}};Ee?(Ee.activate(),Ee.emit(je),t.hoverData.down=Ee):ee.emit(je),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(F.which==1){Ee&&Ee.activate();{if(Ee!=null&&t.nodeIsGrabbable(Ee)){var We=function(mt){return{originalEvent:F,type:mt,position:{x:de[0],y:de[1]}}},nt=function(mt){mt.emit(We("grab"))};if(f(Ee),!Ee.selected())Pe=t.dragData.possibleDragElements=ee.collection(),m(Ee,{addToList:Pe}),Ee.emit(We("grabon")).emit(We("grab"));else{Pe=t.dragData.possibleDragElements=ee.collection();var Ve=ee.$(function(Ke){return Ke.isNode()&&Ke.selected()&&t.nodeIsGrabbable(Ke)});g(Ve,{addToList:Pe}),Ee.emit(We("grabon")),Ve.forEach(nt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ee,t.hoverData.downs=Ye,t.hoverData.downTime=new Date().getTime()}n(Ee,["mousedown","tapstart","vmousedown"],F,{x:de[0],y:de[1]}),Ee==null?(ge[4]=1,t.data.bgActivePosistion={x:de[0],y:de[1]},t.redrawHint("select",!0),t.redraw()):Ee.pannable()&&(ge[4]=1),Ze()}ge[0]=ge[2]=de[0],ge[1]=ge[3]=de[1]}},!1),t.registerBinding(e,"mousemove",function(F){var ee=t.hoverData.capture;if(!(!ee&&!D(F))){var we=!1,de=t.cy,ge=de.zoom(),Ye=[F.clientX,F.clientY],Ee=t.projectIntoViewport(Ye[0],Ye[1]),Pe=t.hoverData.mdownPos,Ze=t.hoverData.mdownGPos,je=t.selection,We=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(We=t.findNearestElement(Ee[0],Ee[1],!0,!1));var nt=t.hoverData.last,Ve=t.hoverData.down,Ke=[Ee[0]-je[2],Ee[1]-je[3]],mt=t.dragData.possibleDragElements,Lt;if(Ze){var kt=Ye[0]-Ze[0],Bt=kt*kt,St=Ye[1]-Ze[1],Qt=St*St,ht=Bt+Qt;t.hoverData.isOverThresholdDrag=Lt=ht>=t.desktopTapThreshold2}var wt=a(F);Lt&&(t.hoverData.tapholdCancelled=!0);var fr=function(){var cr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];cr.length===0?(cr.push(Ke[0]),cr.push(Ke[1])):(cr[0]+=Ke[0],cr[1]+=Ke[1])};we=!0,n(We,["mousemove","vmousemove","tapdrag"],F,{x:Ee[0],y:Ee[1]});var Ur=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||de.emit({originalEvent:F,type:"boxstart",position:{x:Ee[0],y:Ee[1]}}),je[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Lt){var Tr={originalEvent:F,type:"cxtdrag",position:{x:Ee[0],y:Ee[1]}};Ve?Ve.emit(Tr):de.emit(Tr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||We!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:F,type:"cxtdragout",position:{x:Ee[0],y:Ee[1]}}),t.hoverData.cxtOver=We,We&&We.emit({originalEvent:F,type:"cxtdragover",position:{x:Ee[0],y:Ee[1]}}))}}else if(t.hoverData.dragging){if(we=!0,de.panningEnabled()&&de.userPanningEnabled()){var Rr;if(t.hoverData.justStartedPan){var pr=t.hoverData.mdownPos;Rr={x:(Ee[0]-pr[0])*ge,y:(Ee[1]-pr[1])*ge},t.hoverData.justStartedPan=!1}else Rr={x:Ke[0]*ge,y:Ke[1]*ge};de.panBy(Rr),de.emit("dragpan"),t.hoverData.dragged=!0}Ee=t.projectIntoViewport(F.clientX,F.clientY)}else if(je[4]==1&&(Ve==null||Ve.pannable())){if(Lt){if(!t.hoverData.dragging&&de.boxSelectionEnabled()&&(wt||!de.panningEnabled()||!de.userPanningEnabled()))Ur();else if(!t.hoverData.selecting&&de.panningEnabled()&&de.userPanningEnabled()){var tr=i(Ve,t.hoverData.downs);tr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,je[4]=0,t.data.bgActivePosistion=Hn(Pe),t.redrawHint("select",!0),t.redraw())}Ve&&Ve.pannable()&&Ve.active()&&Ve.unactivate()}}else{if(Ve&&Ve.pannable()&&Ve.active()&&Ve.unactivate(),(!Ve||!Ve.grabbed())&&We!=nt&&(nt&&n(nt,["mouseout","tapdragout"],F,{x:Ee[0],y:Ee[1]}),We&&n(We,["mouseover","tapdragover"],F,{x:Ee[0],y:Ee[1]}),t.hoverData.last=We),Ve)if(Lt){if(de.boxSelectionEnabled()&&wt)Ve&&Ve.grabbed()&&(w(mt),Ve.emit("freeon"),mt.emit("free"),t.dragData.didDrag&&(Ve.emit("dragfreeon"),mt.emit("dragfree"))),Ur();else if(Ve&&Ve.grabbed()&&t.nodeIsDraggable(Ve)){var Rt=!t.dragData.didDrag;Rt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||g(mt,{inDragLayer:!0});var Dt={x:0,y:0};if(Ae(Ke[0])&&Ae(Ke[1])&&(Dt.x+=Ke[0],Dt.y+=Ke[1],Rt)){var Ut=t.hoverData.dragDelta;Ut&&Ae(Ut[0])&&Ae(Ut[1])&&(Dt.x+=Ut[0],Dt.y+=Ut[1])}t.hoverData.draggingEles=!0,mt.silentShift(Dt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else fr();we=!0}if(je[2]=Ee[0],je[3]=Ee[1],we)return F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),!1}},!1);var O,R,k;t.registerBinding(e,"mouseup",function(F){var ee=t.hoverData.capture;if(ee){t.hoverData.capture=!1;var we=t.cy,de=t.projectIntoViewport(F.clientX,F.clientY),ge=t.selection,Ye=t.findNearestElement(de[0],de[1],!0,!1),Ee=t.dragData.possibleDragElements,Pe=t.hoverData.down,Ze=a(F);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Pe&&Pe.unactivate(),t.hoverData.which===3){var je={originalEvent:F,type:"cxttapend",position:{x:de[0],y:de[1]}};if(Pe?Pe.emit(je):we.emit(je),!t.hoverData.cxtDragged){var We={originalEvent:F,type:"cxttap",position:{x:de[0],y:de[1]}};Pe?Pe.emit(We):we.emit(We)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(Ye,["mouseup","tapend","vmouseup"],F,{x:de[0],y:de[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(Pe,["click","tap","vclick"],F,{x:de[0],y:de[1]}),R=!1,F.timeStamp-k<=we.multiClickDebounceTime()?(O&&clearTimeout(O),R=!0,k=null,n(Pe,["dblclick","dbltap","vdblclick"],F,{x:de[0],y:de[1]})):(O=setTimeout(function(){R||n(Pe,["oneclick","onetap","voneclick"],F,{x:de[0],y:de[1]})},we.multiClickDebounceTime()),k=F.timeStamp)),Pe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(F)&&(we.$(r).unselect(["tapunselect"]),Ee.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ee=we.collection()),Ye==Pe&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ye!=null&&Ye._private.selectable&&(t.hoverData.dragging||(we.selectionType()==="additive"||Ze?Ye.selected()?Ye.unselect(["tapunselect"]):Ye.select(["tapselect"]):Ze||(we.$(r).unmerge(Ye).unselect(["tapunselect"]),Ye.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var nt=we.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));t.redrawHint("select",!0),nt.length>0&&t.redrawHint("eles",!0),we.emit({type:"boxend",originalEvent:F,position:{x:de[0],y:de[1]}});var Ve=function(Lt){return Lt.selectable()&&!Lt.selected()};we.selectionType()==="additive"||Ze||we.$(r).unmerge(nt).unselect(),nt.emit("box").stdFilter(Ve).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ge[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ke=Pe&&Pe.grabbed();w(Ee),Ke&&(Pe.emit("freeon"),Ee.emit("free"),t.dragData.didDrag&&(Pe.emit("dragfreeon"),Ee.emit("dragfree")))}}ge[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var z=function(F){if(!t.scrollingPage){var ee=t.cy,we=ee.zoom(),de=ee.pan(),ge=t.projectIntoViewport(F.clientX,F.clientY),Ye=[ge[0]*we+de.x,ge[1]*we+de.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){F.preventDefault();return}if(ee.panningEnabled()&&ee.userPanningEnabled()&&ee.zoomingEnabled()&&ee.userZoomingEnabled()){F.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Ee;F.deltaY!=null?Ee=F.deltaY/-250:F.wheelDeltaY!=null?Ee=F.wheelDeltaY/1e3:Ee=F.wheelDelta/1e3,Ee=Ee*t.wheelSensitivity;var Pe=F.deltaMode===1;Pe&&(Ee*=33);var Ze=ee.zoom()*Math.pow(10,Ee);F.type==="gesturechange"&&(Ze=t.gestureStartZoom*F.scale),ee.zoom({level:Ze,renderedPosition:{x:Ye[0],y:Ye[1]}}),ee.emit(F.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(e,"scroll",function(F){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(F){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||F.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ye){t.hasTouchStarted||z(ye)},!0),t.registerBinding(t.container,"mouseout",function(F){var ee=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseout",position:{x:ee[0],y:ee[1]}})},!1),t.registerBinding(t.container,"mouseover",function(F){var ee=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseover",position:{x:ee[0],y:ee[1]}})},!1);var B,U,H,V,W,X,j,K,J,ne,ie,oe,ue,Z=function(F,ee,we,de){return Math.sqrt((we-F)*(we-F)+(de-ee)*(de-ee))},fe=function(F,ee,we,de){return(we-F)*(we-F)+(de-ee)*(de-ee)},ce;t.registerBinding(t.container,"touchstart",ce=function(F){if(t.hasTouchStarted=!0,!!D(F)){T(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ee=t.cy,we=t.touchData.now,de=t.touchData.earlier;if(F.touches[0]){var ge=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);we[0]=ge[0],we[1]=ge[1]}if(F.touches[1]){var ge=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);we[2]=ge[0],we[3]=ge[1]}if(F.touches[2]){var ge=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);we[4]=ge[0],we[5]=ge[1]}if(F.touches[1]){t.touchData.singleTouchMoved=!0,w(t.dragData.touchDragEles);var Ye=t.findContainerClientCoords();J=Ye[0],ne=Ye[1],ie=Ye[2],oe=Ye[3],B=F.touches[0].clientX-J,U=F.touches[0].clientY-ne,H=F.touches[1].clientX-J,V=F.touches[1].clientY-ne,ue=0<=B&&B<=ie&&0<=H&&H<=ie&&0<=U&&U<=oe&&0<=V&&V<=oe;var Ee=ee.pan(),Pe=ee.zoom();W=Z(B,U,H,V),X=fe(B,U,H,V),j=[(B+H)/2,(U+V)/2],K=[(j[0]-Ee.x)/Pe,(j[1]-Ee.y)/Pe];var Ze=200,je=Ze*Ze;if(X<je&&!F.touches[2]){var We=t.findNearestElement(we[0],we[1],!0,!0),nt=t.findNearestElement(we[2],we[3],!0,!0);We&&We.isNode()?(We.activate().emit({originalEvent:F,type:"cxttapstart",position:{x:we[0],y:we[1]}}),t.touchData.start=We):nt&&nt.isNode()?(nt.activate().emit({originalEvent:F,type:"cxttapstart",position:{x:we[0],y:we[1]}}),t.touchData.start=nt):ee.emit({originalEvent:F,type:"cxttapstart",position:{x:we[0],y:we[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(F.touches[2])ee.boxSelectionEnabled()&&F.preventDefault();else if(!F.touches[1]){if(F.touches[0]){var Ve=t.findNearestElements(we[0],we[1],!0,!0),Ke=Ve[0];if(Ke!=null&&(Ke.activate(),t.touchData.start=Ke,t.touchData.starts=Ve,t.nodeIsGrabbable(Ke))){var mt=t.dragData.touchDragEles=ee.collection(),Lt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ke.selected()?(Lt=ee.$(function(ht){return ht.selected()&&t.nodeIsGrabbable(ht)}),g(Lt,{addToList:mt})):m(Ke,{addToList:mt}),f(Ke);var kt=function(wt){return{originalEvent:F,type:wt,position:{x:we[0],y:we[1]}}};Ke.emit(kt("grabon")),Lt?Lt.forEach(function(ht){ht.emit(kt("grab"))}):Ke.emit(kt("grab"))}n(Ke,["touchstart","tapstart","vmousedown"],F,{x:we[0],y:we[1]}),Ke==null&&(t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],F,{x:we[0],y:we[1]})},t.tapholdDuration)}}if(F.touches.length>=1){for(var Bt=t.touchData.startPosition=[null,null,null,null,null,null],St=0;St<we.length;St++)Bt[St]=de[St]=we[St];var Qt=F.touches[0];t.touchData.startGPosition=[Qt.clientX,Qt.clientY]}}},!1);var be;t.registerBinding(window,"touchmove",be=function(F){var ee=t.touchData.capture;if(!(!ee&&!D(F))){var we=t.selection,de=t.cy,ge=t.touchData.now,Ye=t.touchData.earlier,Ee=de.zoom();if(F.touches[0]){var Pe=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}if(F.touches[1]){var Pe=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);ge[2]=Pe[0],ge[3]=Pe[1]}if(F.touches[2]){var Pe=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);ge[4]=Pe[0],ge[5]=Pe[1]}var Ze=t.touchData.startGPosition,je;if(ee&&F.touches[0]&&Ze){for(var We=[],nt=0;nt<ge.length;nt++)We[nt]=ge[nt]-Ye[nt];var Ve=F.touches[0].clientX-Ze[0],Ke=Ve*Ve,mt=F.touches[0].clientY-Ze[1],Lt=mt*mt,kt=Ke+Lt;je=kt>=t.touchTapThreshold2}if(ee&&t.touchData.cxt){F.preventDefault();var Bt=F.touches[0].clientX-J,St=F.touches[0].clientY-ne,Qt=F.touches[1].clientX-J,ht=F.touches[1].clientY-ne,wt=fe(Bt,St,Qt,ht),fr=wt/X,Ur=150,Tr=Ur*Ur,Rr=1.5,pr=Rr*Rr;if(fr>=pr||wt>=Tr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var tr={originalEvent:F,type:"cxttapend",position:{x:ge[0],y:ge[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(tr),t.touchData.start=null):de.emit(tr)}}if(ee&&t.touchData.cxt){var tr={originalEvent:F,type:"cxtdrag",position:{x:ge[0],y:ge[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(tr):de.emit(tr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Rt=t.findNearestElement(ge[0],ge[1],!0,!0);(!t.touchData.cxtOver||Rt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:F,type:"cxtdragout",position:{x:ge[0],y:ge[1]}}),t.touchData.cxtOver=Rt,Rt&&Rt.emit({originalEvent:F,type:"cxtdragover",position:{x:ge[0],y:ge[1]}}))}else if(ee&&F.touches[2]&&de.boxSelectionEnabled())F.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||de.emit({originalEvent:F,type:"boxstart",position:{x:ge[0],y:ge[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,we[4]=1,!we||we.length===0||we[0]===void 0?(we[0]=(ge[0]+ge[2]+ge[4])/3,we[1]=(ge[1]+ge[3]+ge[5])/3,we[2]=(ge[0]+ge[2]+ge[4])/3+1,we[3]=(ge[1]+ge[3]+ge[5])/3+1):(we[2]=(ge[0]+ge[2]+ge[4])/3,we[3]=(ge[1]+ge[3]+ge[5])/3),t.redrawHint("select",!0),t.redraw();else if(ee&&F.touches[1]&&!t.touchData.didSelect&&de.zoomingEnabled()&&de.panningEnabled()&&de.userZoomingEnabled()&&de.userPanningEnabled()){F.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Dt=t.dragData.touchDragEles;if(Dt){t.redrawHint("drag",!0);for(var Ut=0;Ut<Dt.length;Ut++){var Mn=Dt[Ut]._private;Mn.grabbed=!1,Mn.rscratch.inDragLayer=!1}}var cr=t.touchData.start,Bt=F.touches[0].clientX-J,St=F.touches[0].clientY-ne,Qt=F.touches[1].clientX-J,ht=F.touches[1].clientY-ne,ia=Z(Bt,St,Qt,ht),Zi=ia/W;if(ue){var Qi=Bt-B,_a=St-U,ji=Qt-H,Yr=ht-V,Ka=(Qi+ji)/2,oa=(_a+Yr)/2,Pr=de.zoom(),Wr=Pr*Zi,hn=de.pan(),Za=K[0]*Pr+hn.x,Xr=K[1]*Pr+hn.y,Qa={x:-Wr/Pr*(Za-hn.x-Ka)+Za,y:-Wr/Pr*(Xr-hn.y-oa)+Xr};if(cr&&cr.active()){var Dt=t.dragData.touchDragEles;w(Dt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),cr.unactivate().emit("freeon"),Dt.emit("free"),t.dragData.didDrag&&(cr.emit("dragfreeon"),Dt.emit("dragfree"))}de.viewport({zoom:Wr,pan:Qa,cancelOnFailedZoom:!0}),de.emit("pinchzoom"),W=ia,B=Bt,U=St,H=Qt,V=ht,t.pinching=!0}if(F.touches[0]){var Pe=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}if(F.touches[1]){var Pe=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);ge[2]=Pe[0],ge[3]=Pe[1]}if(F.touches[2]){var Pe=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);ge[4]=Pe[0],ge[5]=Pe[1]}}else if(F.touches[0]&&!t.touchData.didSelect){var rr=t.touchData.start,Nn=t.touchData.last,Rt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Rt=t.findNearestElement(ge[0],ge[1],!0,!0)),ee&&rr!=null&&F.preventDefault(),ee&&rr!=null&&t.nodeIsDraggable(rr))if(je){var Dt=t.dragData.touchDragEles,sa=!t.dragData.didDrag;sa&&g(Dt,{inDragLayer:!0}),t.dragData.didDrag=!0;var vn={x:0,y:0};if(Ae(We[0])&&Ae(We[1])&&(vn.x+=We[0],vn.y+=We[1],sa)){t.redrawHint("eles",!0);var jt=t.touchData.dragDelta;jt&&Ae(jt[0])&&Ae(jt[1])&&(vn.x+=jt[0],vn.y+=jt[1])}t.hoverData.draggingEles=!0,Dt.silentShift(vn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ye[0]&&t.touchData.startPosition[1]==Ye[1]&&t.redrawHint("eles",!0),t.redraw()}else{var jt=t.touchData.dragDelta=t.touchData.dragDelta||[];jt.length===0?(jt.push(We[0]),jt.push(We[1])):(jt[0]+=We[0],jt[1]+=We[1])}if(n(rr||Rt,["touchmove","tapdrag","vmousemove"],F,{x:ge[0],y:ge[1]}),(!rr||!rr.grabbed())&&Rt!=Nn&&(Nn&&Nn.emit({originalEvent:F,type:"tapdragout",position:{x:ge[0],y:ge[1]}}),Rt&&Rt.emit({originalEvent:F,type:"tapdragover",position:{x:ge[0],y:ge[1]}})),t.touchData.last=Rt,ee)for(var Ut=0;Ut<ge.length;Ut++)ge[Ut]&&t.touchData.startPosition[Ut]&&je&&(t.touchData.singleTouchMoved=!0);if(ee&&(rr==null||rr.pannable())&&de.panningEnabled()&&de.userPanningEnabled()){var Ji=i(rr,t.touchData.starts);Ji&&(F.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Hn(t.touchData.startPosition)),t.swipePanning?(de.panBy({x:We[0]*Ee,y:We[1]*Ee}),de.emit("dragpan")):je&&(t.swipePanning=!0,de.panBy({x:Ve*Ee,y:mt*Ee}),de.emit("dragpan"),rr&&(rr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Pe=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Pe[0],ge[1]=Pe[1]}}for(var nt=0;nt<ge.length;nt++)Ye[nt]=ge[nt];ee&&F.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ce;t.registerBinding(e,"touchcancel",Ce=function(F){var ee=t.touchData.start;t.touchData.capture=!1,ee&&ee.unactivate()});var Fe,He,De,le;if(t.registerBinding(e,"touchend",Fe=function(F){var ee=t.touchData.start,we=t.touchData.capture;if(we)F.touches.length===0&&(t.touchData.capture=!1),F.preventDefault();else return;var de=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ge=t.cy,Ye=ge.zoom(),Ee=t.touchData.now,Pe=t.touchData.earlier;if(F.touches[0]){var Ze=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Ee[0]=Ze[0],Ee[1]=Ze[1]}if(F.touches[1]){var Ze=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);Ee[2]=Ze[0],Ee[3]=Ze[1]}if(F.touches[2]){var Ze=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);Ee[4]=Ze[0],Ee[5]=Ze[1]}ee&&ee.unactivate();var je;if(t.touchData.cxt){if(je={originalEvent:F,type:"cxttapend",position:{x:Ee[0],y:Ee[1]}},ee?ee.emit(je):ge.emit(je),!t.touchData.cxtDragged){var We={originalEvent:F,type:"cxttap",position:{x:Ee[0],y:Ee[1]}};ee?ee.emit(We):ge.emit(We)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!F.touches[2]&&ge.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var nt=ge.collection(t.getAllInBox(de[0],de[1],de[2],de[3]));de[0]=void 0,de[1]=void 0,de[2]=void 0,de[3]=void 0,de[4]=0,t.redrawHint("select",!0),ge.emit({type:"boxend",originalEvent:F,position:{x:Ee[0],y:Ee[1]}});var Ve=function(Tr){return Tr.selectable()&&!Tr.selected()};nt.emit("box").stdFilter(Ve).select().emit("boxselect"),nt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ee!=null&&ee.unactivate(),F.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!F.touches[1]){if(!F.touches[0]){if(!F.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ke=t.dragData.touchDragEles;if(ee!=null){var mt=ee._private.grabbed;w(Ke),t.redrawHint("drag",!0),t.redrawHint("eles",!0),mt&&(ee.emit("freeon"),Ke.emit("free"),t.dragData.didDrag&&(ee.emit("dragfreeon"),Ke.emit("dragfree"))),n(ee,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ee[0],y:Ee[1]}),ee.unactivate(),t.touchData.start=null}else{var Lt=t.findNearestElement(Ee[0],Ee[1],!0,!0);n(Lt,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ee[0],y:Ee[1]})}var kt=t.touchData.startPosition[0]-Ee[0],Bt=kt*kt,St=t.touchData.startPosition[1]-Ee[1],Qt=St*St,ht=Bt+Qt,wt=ht*Ye*Ye;t.touchData.singleTouchMoved||(ee||ge.$(":selected").unselect(["tapunselect"]),n(ee,["tap","vclick"],F,{x:Ee[0],y:Ee[1]}),He=!1,F.timeStamp-le<=ge.multiClickDebounceTime()?(De&&clearTimeout(De),He=!0,le=null,n(ee,["dbltap","vdblclick"],F,{x:Ee[0],y:Ee[1]})):(De=setTimeout(function(){He||n(ee,["onetap","voneclick"],F,{x:Ee[0],y:Ee[1]})},ge.multiClickDebounceTime()),le=F.timeStamp)),ee!=null&&!t.dragData.didDrag&&ee._private.selectable&&wt<t.touchTapThreshold2&&!t.pinching&&(ge.selectionType()==="single"?(ge.$(r).unmerge(ee).unselect(["tapunselect"]),ee.select(["tapselect"])):ee.selected()?ee.unselect(["tapunselect"]):ee.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var fr=0;fr<Ee.length;fr++)Pe[fr]=Ee[fr];t.dragData.didDrag=!1,F.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),F.touches.length<2&&(F.touches.length===1&&(t.touchData.startGPosition=[F.touches[0].clientX,F.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var me=[],xe=function(F){return{clientX:F.clientX,clientY:F.clientY,force:1,identifier:F.pointerId,pageX:F.pageX,pageY:F.pageY,radiusX:F.width/2,radiusY:F.height/2,screenX:F.screenX,screenY:F.screenY,target:F.target}},pe=function(F){return{event:F,touch:xe(F)}},Se=function(F){me.push(pe(F))},ke=function(F){for(var ee=0;ee<me.length;ee++){var we=me[ee];if(we.event.pointerId===F.pointerId){me.splice(ee,1);return}}},Re=function(F){var ee=me.filter(function(we){return we.event.pointerId===F.pointerId})[0];ee.event=F,ee.touch=xe(F)},Me=function(F){F.touches=me.map(function(ee){return ee.touch})},ze=function(F){return F.pointerType==="mouse"||F.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ye){ze(ye)||(ye.preventDefault(),Se(ye),Me(ye),ce(ye))}),t.registerBinding(t.container,"pointerup",function(ye){ze(ye)||(ke(ye),Me(ye),Fe(ye))}),t.registerBinding(t.container,"pointercancel",function(ye){ze(ye)||(ke(ye),Me(ye),Ce(ye))}),t.registerBinding(t.container,"pointermove",function(ye){ze(ye)||(ye.preventDefault(),Re(ye),Me(ye),be(ye))})}};var qr={};qr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,s){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,u,l){return Oa(s,u,this.points,n,a,i/2,o/2,l)},checkPoint:function(n,a,i,o,s,u,l){return Hr(n,a,this.points,u,l,o,s,[0,-1],i)}}};qr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){return by(i,o,e,r,n/2+s,a/2+s)},checkPoint:function(e,r,n,a,i,o,s){return wn(e,r,a,i,o,s,n)}}};qr.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var a=n*2,i=void 0;n<e.length/2-1?i=(n+1)*2:i=0,r[n*4]=e[a],r[n*4+1]=e[a+1];var o=e[i]-e[a],s=e[i+1]-e[a+1],u=Math.sqrt(o*o+s*s);r[n*4+2]=o/u,r[n*4+3]=s/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(f,h,p,d,g){this.renderer.nodeShapeImpl("round-polygon",f,h,p,d,g,this.points)},intersectLine:function(f,h,p,d,g,m,w){return wy(g,m,this.points,f,h,p,d)},checkPoint:function(f,h,p,d,g,m,w){return my(f,h,this.points,m,w,d,g)}}};qr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:er(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){return Nl(i,o,e,r,n,a,s)},checkPoint:function(e,r,n,a,i,o,s){var u=qa(a,i),l=u*2;return!!(Hr(e,r,this.points,o,s,a,i-l,[0,-1],n)||Hr(e,r,this.points,o,s,a-l,i,[0,-1],n)||wn(e,r,l,l,o-a/2+u,s-i/2+u,n)||wn(e,r,l,l,o+a/2-u,s-i/2+u,n)||wn(e,r,l,l,o+a/2-u,s+i/2-u,n)||wn(e,r,l,l,o-a/2+u,s+i/2-u,n))}}};qr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Rl(),points:er(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},generateCutTrianglePts:function(e,r,n,a){var i=this.cornerLength,o=r/2,s=e/2,u=n-s,l=n+s,f=a-o,h=a+o;return{topLeft:[u,f+i,u+i,f,u+i,f+i],topRight:[l-i,f,l,f+i,l-i,f+i],bottomRight:[l,h-i,l-i,h,l-i,h-i],bottomLeft:[u+i,h,u,h-i,u+i,h-i]}},intersectLine:function(e,r,n,a,i,o,s){var u=this.generateCutTrianglePts(n+2*s,a+2*s,e,r),l=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Oa(i,o,l,e,r)},checkPoint:function(e,r,n,a,i,o,s){if(Hr(e,r,this.points,o,s,a,i-2*this.cornerLength,[0,-1],n)||Hr(e,r,this.points,o,s,a-2*this.cornerLength,i,[0,-1],n))return!0;var u=this.generateCutTrianglePts(a,i,o,s);return or(e,r,u.topLeft)||or(e,r,u.topRight)||or(e,r,u.bottomRight)||or(e,r,u.bottomLeft)}}};qr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:er(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){var u=.15,l=.5,f=.85,h=this.generateBarrelBezierPts(n+2*s,a+2*s,e,r),p=function(m){var w=qn({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),b=qn({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},l),T=qn({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},f);return[m[0],m[1],w.x,w.y,b.x,b.y,T.x,T.y,m[4],m[5]]},d=[].concat(p(h.topLeft),p(h.topRight),p(h.bottomRight),p(h.bottomLeft));return Oa(i,o,d,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,s=n-o,u=n+o,l=a-i,f=a+i,h=Ro(e,r),p=h.heightOffset,d=h.widthOffset,g=h.ctrlPtOffsetPct*e,m={topLeft:[s,l+p,s+g,l,s+d,l],topRight:[u-d,l,u-g,l,u,l+p],bottomRight:[u,f-p,u-g,f,u-d,f],bottomLeft:[s+d,f,s+g,f,s,f-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,a,i,o,s){var u=Ro(a,i),l=u.heightOffset,f=u.widthOffset;if(Hr(e,r,this.points,o,s,a,i-2*l,[0,-1],n)||Hr(e,r,this.points,o,s,a-2*f,i,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(a,i,o,s),p=function(v,L,D){var O=D[4],R=D[2],k=D[0],z=D[5],B=D[1],U=Math.min(O,k),H=Math.max(O,k),V=Math.min(z,B),W=Math.max(z,B);if(U<=v&&v<=H&&V<=L&&L<=W){var X=Ey(O,R,k),j=dy(X[0],X[1],X[2],v),K=j.filter(function(J){return 0<=J&&J<=1});if(K.length>0)return K[0]}return null},d=Object.keys(h),g=0;g<d.length;g++){var m=d[g],w=h[m],b=p(e,r,w);if(b!=null){var T=w[5],E=w[3],S=w[1],A=Pt(T,E,S,b);if(w.isTop&&A<=r||w.isBottom&&r<=A)return!0}}return!1}}};qr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:er(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){var u=e-(n/2+s),l=r-(a/2+s),f=l,h=e+(n/2+s),p=tn(i,o,e,r,u,l,h,f,!1);return p.length>0?p:Nl(i,o,e,r,n,a,s)},checkPoint:function(e,r,n,a,i,o,s){var u=qa(a,i),l=2*u;if(Hr(e,r,this.points,o,s,a,i-l,[0,-1],n)||Hr(e,r,this.points,o,s,a-l,i,[0,-1],n))return!0;var f=a/2+2*n,h=i/2+2*n,p=[o-f,s-h,o-f,s,o+f,s,o+f,s-h];return!!(or(e,r,p)||wn(e,r,l,l,o+a/2-u,s+i/2-u,n)||wn(e,r,l,l,o-a/2+u,s+i/2-u,n))}}};qr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",er(3,0)),this.generateRoundPolygon("round-triangle",er(3,0)),this.generatePolygon("rectangle",er(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",er(5,0)),this.generateRoundPolygon("round-pentagon",er(5,0)),this.generatePolygon("hexagon",er(6,0)),this.generateRoundPolygon("round-hexagon",er(6,0)),this.generatePolygon("heptagon",er(7,0)),this.generateRoundPolygon("round-heptagon",er(7,0)),this.generatePolygon("octagon",er(8,0)),this.generateRoundPolygon("round-octagon",er(8,0));var n=new Array(20);{var a=ko(5,0),i=ko(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=kl(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var f=l.join("$"),h="polygon-"+f,p;return(p=this[h])?p:e.generatePolygon(h,l)}};var Wa={};Wa.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Wa.redraw=function(t){t=t||Sl();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Wa.beforeRender=function(t,e){if(!this.destroyed){e==null&&Tt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var Vu=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Wa.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Vu(t,!0,a);var i=Gr();t.render(t.renderOptions);var o=t.lastDrawTime=Gr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Vu(t,!1,a);t.skipFrame=!1,Ti(n)}};Ti(r)}};var W0=function(e){this.init(e)},Tf=W0,na=Tf.prototype;na.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];na.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!u){var l=a.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",i.insertBefore(l,i.children[0])}var f=n.getComputedStyle(r),h=f.getPropertyValue("position");h==="static"&&lt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ae(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};na.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};na.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};na.isHeadless=function(){return!1};[ds,Ef,xf,ra,qr,Wa].forEach(function(t){qe(na,t)});var Ao=1e3/60,Cf={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Bi.default(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(l,f){var h=Gr(),p=a.averageRedrawTime,d=a.lastRedrawTime,g=[],m=a.cy.extent(),w=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var b=Gr(),T=b-h,E=b-f;if(d<Ao){var S=Ao-(l?p:0);if(E>=e.deqFastCost*S)break}else if(l){if(T>=e.deqCost*d||T>=e.deqAvgCost*p)break}else if(E>=e.deqNoDrawCost*Ao)break;var A=e.deq(n,w,m);if(A.length>0)for(var I=0;I<A.length;I++)g.push(A[I]);else break}g.length>0&&(e.onDeqd(n,g),!l&&e.shouldRedraw(n,g,w,m)&&i())},s=e.priority||rs;a.beforeRender(o,s(n))}}}},X0=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ci;Qo(this,t),this.idsByKey=new Nr,this.keyForId=new Nr,this.cachesByLvl=new Nr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return jo(t,[{key:"getIdsFor",value:function(r){r==null&&Tt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new jn,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Nr,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),Uu=25,di=50,Ei=-4,$o=3,_0=7.99,K0=8,Z0=1024,Q0=1024,j0=1024,J0=.2,eb=.8,tb=10,rb=.15,nb=.1,ab=.9,ib=.9,ob=100,sb=1,$n={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ub=qt({getKey:null,doesEleInvalidateKey:Ci,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Tl,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ta=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=ub(r);qe(n,a),n.lookup=new X0(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},It=Ta.prototype;It.reasons=$n;It.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};It.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};It.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Ga.default(function(r,n){return n.reqs-r.reqs});return e};It.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};It.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(as(s*r))),n<Ei)n=Ei;else if(s>=_0||n>$o)return null;var l=Math.pow(2,n),f=e.h*l,h=e.w*l,p=o.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,p))return null;var d=u.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var g;if(f<=Uu?g=Uu:f<=di?g=di:g=Math.ceil(f/di)*di,f>j0||h>Q0)return null;var m=i.getTextureQueue(g),w=m[m.length-2],b=function(){return i.recycleTexture(g,h)||i.addTexture(g,h)};w||(w=m[m.length-1]),w||(w=b()),w.width-w.usedWidth<h&&(w=b());for(var T=function(H){return H&&H.scaledLabelShown===p},E=a&&a===$n.dequeue,S=a&&a===$n.highQuality,A=a&&a===$n.downscale,I,v=n+1;v<=$o;v++){var L=u.get(t,v);if(L){I=L;break}}var D=I&&I.level===n+1?I:null,O=function(){w.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,w.usedWidth,0,h,f)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,h,g),T(D))O();else if(T(I))if(S){for(var R=I.level;R>n;R--)D=i.getElement(t,e,r,R,$n.downscale);O()}else return i.queueElement(t,I.level-1),I;else{var k;if(!E&&!S&&!A)for(var z=n-1;z>=Ei;z--){var B=u.get(t,z);if(B){k=B;break}}if(T(k))return i.queueElement(t,n),k;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return d={x:w.usedWidth,texture:w,level:n,scale:l,width:h,height:f,scaledLabelShown:p},w.usedWidth+=Math.ceil(h+K0),w.eleCaches.push(d),u.set(t,n,d),i.checkTextureFullness(w),d};It.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};It.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=Ei;i<=$o;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var s=r.invalidate(t);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};It.checkTextureUtility=function(t){t.invalidatedWidth>=J0*t.width&&this.retireTexture(t)};It.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>eb&&t.fullnessChecks>=tb?on(r,t):t.fullnessChecks++};It.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;on(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}ns(i);var u=e.getRetiredTextureQueue(r);u.push(t)};It.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(Z0,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};It.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,ns(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),on(a,o),n.push(o),o}};It.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(s),a[i]=s}};It.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<sb&&r.size()>0;o++){var s=r.pop(),u=s.key,l=s.eles[0],f=i.hasCache(l,s.level);if(n[u]=null,f)continue;a.push(s);var h=e.getBoundingBox(l);e.getElement(l,h,t,s.level,$n.dequeue)}return a};It.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=ts,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};It.onDequeue=function(t){this.onDequeues.push(t)};It.offDequeue=function(t){on(this.onDequeues,t)};It.setupDequeueing=Cf.setupDequeueing({deqRedrawThreshold:ob,deqCost:rb,deqAvgCost:nb,deqNoDrawCost:ab,deqFastCost:ib,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(is(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var lb=1,Da=-4,Ni=2,fb=3.99,cb=50,hb=50,vb=.15,db=.1,gb=.9,pb=.9,yb=1,Yu=250,mb=4e3*4e3,bb=!0,Df=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Gr()-2*Yu,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Bi.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},hb),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=Yu?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,u){return u.reqs-s.reqs};r.layersQueue=new Ga.default(i),r.setupDequeueing()},Vt=Df.prototype,Wu=0,wb=Math.pow(2,53)-1;Vt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:Wu=++Wu%wb,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(r,r),s.translate(u,l),o};Vt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(as(o*e)),r<Da)r=Da;else if(o>=fb||r>Ni)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],h,p=n.levelIsComplete(r,t),d,g=function(){var O=function(U){if(n.validateLayersElesOrdering(U,t),n.levelIsComplete(U,t))return d=u[U],!0},R=function(U){if(!d)for(var H=r+U;Da<=H&&H<=Ni&&!O(H);H+=U);};R(1),R(-1);for(var k=f.length-1;k>=0;k--){var z=f[k];z.invalid&&on(f,z)}};if(!p)g();else return f;var m=function(){if(!h){h=sr();for(var O=0;O<t.length;O++)ly(h,t[O].boundingBox())}return h},w=function(O){O=O||{};var R=O.after;m();var k=h.w*l*(h.h*l);if(k>mb)return null;var z=n.makeLayer(h,r);if(R!=null){var B=f.indexOf(R)+1;f.splice(B,0,z)}else(O.insert===void 0||O.insert)&&f.unshift(z);return z};if(n.skipping&&!s)return null;for(var b=null,T=t.length/lb,E=!s,S=0;S<t.length;S++){var A=t[S],I=A._private.rscratch,v=I.imgLayerCaches=I.imgLayerCaches||{},L=v[r];if(L){b=L;continue}if((!b||b.eles.length>=T||!Ml(b.bb,A.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;d||E?n.queueLayer(b,A):n.drawEleInLayer(b,A,r,e),b.eles.push(A),v[r]=b}return d||(E?null:f)};Vt.getEleLevelForLayerLevel=function(t,e){return t};Vt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,bb),i.setImgSmoothing(o,!0))};Vt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length};Vt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[s+o]){this.invalidateLayer(a);break}}};Vt.updateElementsInLayers=function(t,e){for(var r=this,n=$a(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=Da;l<=Ni;l++){var f=u[l];f&&(i&&r.getEleLevelForLayerLevel(f.level)!==i.level||e(f,o,i))}};Vt.haveLayers=function(){for(var t=this,e=!1,r=Da;r<=Ni;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Vt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Gr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Vt.invalidateLayer=function(t){if(this.lastInvalidationTime=Gr(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];on(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Vt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Vt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Vt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Vt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<yb&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Vt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Vt.requestRedraw=Bi.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Vt.setupDequeueing=Cf.setupDequeueing({deqRedrawThreshold:cb,deqCost:vb,deqAvgCost:db,deqNoDrawCost:gb,deqFastCost:pb,deq:function(e,r){return e.dequeue(r)},onDeqd:rs,shouldRedraw:Tl,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Sf={},Xu;function Eb(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function xb(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function _u(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function Tb(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var u=i[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function Cb(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Sf.arrowShapeImpl=function(t){return(Xu||(Xu={polygon:Eb,"triangle-backcurve":xb,"triangle-tee":_u,"circle-triangle":Tb,"triangle-cross":_u,circle:Cb}))[t]};var kr={};kr.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)};kr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};kr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};kr.drawCachedElementPortion=function(t,e,r,n,a,i,o,s){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var f=r.getElement(e,l,n,a,i);if(f!=null){var h=s(u,e);if(h===0)return;var p=o(u,e),d=l.x1,g=l.y1,m=l.w,w=l.h,b,T,E,S,A;if(p!==0){var I=r.getRotationPoint(e);E=I.x,S=I.y,t.translate(E,S),t.rotate(p),A=u.getImgSmoothing(t),A||u.setImgSmoothing(t,!0);var v=r.getRotationOffset(e);b=v.x,T=v.y}else b=d,T=g;var L;h!==1&&(L=t.globalAlpha,t.globalAlpha=L*h),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,b,T,m,w),h!==1&&(t.globalAlpha=L),p!==0&&(t.rotate(-p),t.translate(-E,-S),A||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Db=function(){return 0},Sb=function(e,r){return e.getTextAngle(r,null)},Lb=function(e,r){return e.getTextAngle(r,"source")},Ab=function(e,r){return e.getTextAngle(r,"target")},Mb=function(e,r){return r.effectiveOpacity()},Mo=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};kr.drawCachedElement=function(t,e,r,n,a,i){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,h=s.tlbTxrCache,p=e.boundingBox(),d=i===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||is(p,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,u,r,a,d,Db,Mb),(!g||!m)&&o.drawCachedElementPortion(t,e,l,r,a,d,Sb,Mo),g&&!m&&(o.drawCachedElementPortion(t,e,f,r,a,d,Lb,Mo),o.drawCachedElementPortion(t,e,h,r,a,d,Ab,Mo)),o.drawElementOverlay(t,e)}};kr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};kr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}};kr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}};kr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var Vr={};Vr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(i&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,f=i?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=l*f,w=l*f,b=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;h==="straight-triangle"?(o.eleStrokeStyle(t,e,k),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=d,t.lineCap=g,o.eleStrokeStyle(t,e,k),o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},T=function(){a&&o.drawEdgeOverlay(t,e)},E=function(){a&&o.drawEdgeUnderlay(t,e)},S=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;o.drawArrowheads(t,e,k)},A=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var v=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue,D=e.pstyle("ghost-opacity").value,O=m*D;t.translate(v,L),b(O),S(O),t.translate(-v,-L)}E(),b(),S(),T(),A(),r&&t.translate(u.x1,u.y1)}};var Lf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,f[0],f[1],f[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};Vr.drawEdgeOverlay=Lf("overlay");Vr.drawEdgeUnderlay=Lf("underlay");Vr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var h=r.join("$"),p=a.pathCacheKey&&a.pathCacheKey===h;p?(o=e=a.pathCache,s=!0):(o=e=new Path2D,a.pathCacheKey=h,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"segments":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break}e=i,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Vr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Vr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Vr.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,p=e.pstyle("opacity").value;o===void 0&&(o=p);var d=t.globalCompositeOperation;(o!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,h,u,n,a,i),t.globalCompositeOperation=d);var g=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,g[0],g[1],g[2],o),s.colorStrokeStyle(t,g[0],g[1],g[2],o),s.drawArrowShape(e,t,f,h,u,n,a,i)}}};Vr.drawArrowShape=function(t,e,r,n,a,i,o,s){var u=this,l=this.usePaths()&&a!=="triangle-cross",f=!1,h,p=e,d={x:i,y:o},g=t.pstyle("arrow-scale").value,m=this.getArrowWidth(n,g),w=u.arrowShapes[a];if(l){var b=u.arrowPathCache=u.arrowPathCache||[],T=En(a),E=b[T];E!=null?(h=e=E,f=!0):(h=e=new Path2D,b[T]=h)}f||(e.beginPath&&e.beginPath(),l?w.draw(e,1,0,{x:0,y:0},1):w.draw(e,m,s,d,n),e.closePath&&e.closePath()),e=p,l&&(e.translate(i,o),e.rotate(s),e.scale(m,m)),(r==="filled"||r==="both")&&(l?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(w.matchEdgeWidth?n:1)/(l?m:1),e.lineJoin="miter",l?e.stroke(h):e.stroke()),l&&(e.scale(1/m,1/m),e.rotate(-s),e.translate(-i,-o))};var ps={};ps.safeDrawImage=function(t,e,r,n,a,i,o,s,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,o,s,u,l)}catch(f){lt(f)}};ps.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),s=o.x,u=o.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),h=f(r,"background-fit","value",n),p=f(r,"background-repeat","value",n),d=r.width(),g=r.height(),m=r.padding()*2,w=d+(f(r,"background-width-relative-to","value",n)==="inner"?0:m),b=g+(f(r,"background-height-relative-to","value",n)==="inner"?0:m),T=r._private.rscratch,E=f(r,"background-clip","value",n),S=E==="node",A=f(r,"background-image-opacity","value",n)*a,I=f(r,"background-image-smoothing","value",n),v=e.width||e.cachedW,L=e.height||e.cachedH;(v==null||L==null)&&(document.body.appendChild(e),v=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var D=v,O=L;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?D=f(r,"background-width","pfValue",n)*w:D=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?O=f(r,"background-height","pfValue",n)*b:O=f(r,"background-height","pfValue",n)),!(D===0||O===0)){if(h==="contain"){var R=Math.min(w/D,b/O);D*=R,O*=R}else if(h==="cover"){var R=Math.max(w/D,b/O);D*=R,O*=R}var k=s-w/2,z=f(r,"background-position-x","units",n),B=f(r,"background-position-x","pfValue",n);z==="%"?k+=(w-D)*B:k+=B;var U=f(r,"background-offset-x","units",n),H=f(r,"background-offset-x","pfValue",n);U==="%"?k+=(w-D)*H:k+=H;var V=u-b/2,W=f(r,"background-position-y","units",n),X=f(r,"background-position-y","pfValue",n);W==="%"?V+=(b-O)*X:V+=X;var j=f(r,"background-offset-y","units",n),K=f(r,"background-offset-y","pfValue",n);j==="%"?V+=(b-O)*K:V+=K,T.pathCache&&(k-=s,V-=u,s=0,u=0);var J=t.globalAlpha;t.globalAlpha=A;var ne=i.getImgSmoothing(t),ie=!1;if(I==="no"&&ne?(i.setImgSmoothing(t,!1),ie=!0):I==="yes"&&!ne&&(i.setImgSmoothing(t,!0),ie=!0),p==="no-repeat")S&&(t.save(),T.pathCache?t.clip(T.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,s,u,w,b),t.clip())),i.safeDrawImage(t,e,0,0,v,L,k,V,D,O),S&&t.restore();else{var oe=t.createPattern(e,p);t.fillStyle=oe,i.nodeShapes[i.getNodeShape(r)].draw(t,s,u,w,b),t.translate(k,V),t.fill(),t.translate(-k,-V)}t.globalAlpha=J,ie&&i.setImgSmoothing(t,ne)}};var An={};An.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(as(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};An.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,f=e.pstyle("label"),h=e.pstyle("source-label"),p=e.pstyle("target-label");if(l||(!f||!f.value)&&(!h||!h.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),a==null?(o.drawText(t,e,null,d,i),e.isEdge()&&(o.drawText(t,e,"source",d,i),o.drawText(t,e,"target",d,i))):o.drawText(t,e,a,d,i),r&&t.translate(g.x1,g.y1)};An.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};An.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function Nb(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),t.fill()}An.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=Er(a,"labelAngle",e);return o.strValue==="autorotate"?r=t.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};An.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Er(o,"labelX",r),l=Er(o,"labelY",r),f,h,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var d=r?r+"-":"",g=Er(o,"labelWidth",r),m=Er(o,"labelHeight",r),w=e.pstyle(d+"text-margin-x").pfValue,b=e.pstyle(d+"text-margin-y").pfValue,T=e.isEdge(),E=e.pstyle("text-halign").value,S=e.pstyle("text-valign").value;T&&(E="center",S="center"),u+=w,l+=b;var A;switch(n?A=this.getTextAngle(e,r):A=0,A!==0&&(f=u,h=l,t.translate(f,h),t.rotate(A),u=0,l=0),S){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var I=e.pstyle("text-background-opacity").value,v=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue;if(I>0||L>0&&v>0){var O=u-D;switch(E){case"left":O-=g;break;case"center":O-=g/2;break}var R=l-m-D,k=g+2*D,z=m+2*D;if(I>0){var B=t.fillStyle,U=e.pstyle("text-background-color").value;t.fillStyle="rgba("+U[0]+","+U[1]+","+U[2]+","+I*s+")";var H=e.pstyle("text-background-shape").strValue;H.indexOf("round")===0?Nb(t,O,R,k,z,2):t.fillRect(O,R,k,z),t.fillStyle=B}if(L>0&&v>0){var V=t.strokeStyle,W=t.lineWidth,X=e.pstyle("text-border-color").value,j=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+X[0]+","+X[1]+","+X[2]+","+v*s+")",t.lineWidth=L,t.setLineDash)switch(j){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(O,R,k,z),j==="double"){var K=L/2;t.strokeRect(O+K,R+K,k-K*2,z-K*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=W,t.strokeStyle=V}}var J=2*e.pstyle("text-outline-width").pfValue;if(J>0&&(t.lineWidth=J),e.pstyle("text-wrap").value==="wrap"){var ne=Er(o,"labelWrapCachedLines",r),ie=Er(o,"labelLineHeight",r),oe=g/2,ue=this.getLabelJustification(e);switch(ue==="auto"||(E==="left"?ue==="left"?u+=-g:ue==="center"&&(u+=-oe):E==="center"?ue==="left"?u+=-oe:ue==="right"&&(u+=oe):E==="right"&&(ue==="center"?u+=oe:ue==="right"&&(u+=g))),S){case"top":l-=(ne.length-1)*ie;break;case"center":case"bottom":l-=(ne.length-1)*ie;break}for(var Z=0;Z<ne.length;Z++)J>0&&t.strokeText(ne[Z],u,l),t.fillText(ne[Z],u,l),l+=ie}else J>0&&t.strokeText(p,u,l),t.fillText(p,u,l);A!==0&&(t.rotate(-A),t.translate(-f,-h))}}};var aa={};aa.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=e._private,f=l.rscratch,h=e.position();if(!(!Ae(h.x)||!Ae(h.y))&&!(i&&!e.visible())){var p=i?e.effectiveOpacity():1,d=o.usePaths(),g,m=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var T=e.pstyle("background-image"),E=T.value,S=new Array(E.length),A=new Array(E.length),I=0,v=0;v<E.length;v++){var L=E[v],D=S[v]=L!=null&&L!=="none";if(D){var O=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",v);I++,A[v]=o.getCachedImage(L,O,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var R=e.pstyle("background-blacken").value,k=e.pstyle("border-width").pfValue,z=e.pstyle("background-opacity").value*p,B=e.pstyle("border-color").value,U=e.pstyle("border-style").value,H=e.pstyle("border-opacity").value*p;t.lineJoin="miter";var V=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;o.eleFillStyle(t,e,pe)},W=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;o.colorStrokeStyle(t,B[0],B[1],B[2],pe)},X=e.pstyle("shape").strValue,j=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(h.x,h.y);var K=o.nodePathCache=o.nodePathCache||[],J=xl(X==="polygon"?X+","+j.join(","):X,""+u,""+s),ne=K[J];ne!=null?(g=ne,m=!0,f.pathCache=g):(g=new Path2D,K[J]=f.pathCache=g)}var ie=function(){if(!m){var pe=h;d&&(pe={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(g||t,pe.x,pe.y,s,u)}d?t.fill(g):t.fill()},oe=function(){for(var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=l.backgrounding,Re=0,Me=0;Me<A.length;Me++){var ze=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Me);if(Se&&ze==="over"||!Se&&ze==="inside"){Re++;continue}S[Me]&&A[Me].complete&&!A[Me].error&&(Re++,o.drawInscribedImage(t,A[Me],e,Me,pe))}l.backgrounding=Re!==I,ke!==l.backgrounding&&e.updateStyle(!1)},ue=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasPie(e)&&(o.drawPie(t,e,Se),pe&&(d||o.nodeShapes[o.getNodeShape(e)].draw(t,h.x,h.y,s,u)))},Z=function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Se=(R>0?R:-R)*pe,ke=R>0?0:255;R!==0&&(o.colorFillStyle(t,ke,ke,ke,Se),d?t.fill(g):t.fill())},fe=function(){if(k>0){if(t.lineWidth=k,t.lineCap="butt",t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(d?t.stroke(g):t.stroke(),U==="double"){t.lineWidth=k/3;var pe=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(g):t.stroke(),t.globalCompositeOperation=pe}t.setLineDash&&t.setLineDash([])}},ce=function(){a&&o.drawNodeOverlay(t,e,h,s,u)},be=function(){a&&o.drawNodeUnderlay(t,e,h,s,u)},Ce=function(){o.drawElementText(t,e,null,n)},Fe=e.pstyle("ghost").value==="yes";if(Fe){var He=e.pstyle("ghost-offset-x").pfValue,De=e.pstyle("ghost-offset-y").pfValue,le=e.pstyle("ghost-opacity").value,me=le*p;t.translate(He,De),V(le*z),ie(),oe(me,!0),W(le*H),fe(),ue(R!==0||k!==0),oe(me,!1),Z(me),t.translate(-He,-De)}d&&t.translate(-h.x,-h.y),be(),d&&t.translate(h.x,h.y),V(),ie(),oe(p,!0),W(),fe(),ue(R!==0||k!==0),oe(p,!1),Z(),d&&t.translate(-h.x,-h.y),Ce(),ce(),r&&t.translate(b.x1,b.y1)}};var Af=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value;if(l>0){if(a=a||n.position(),i==null||o==null){var p=n.padding();i=n.width()+2*p,o=n.height()+2*p}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[h].draw(r,a.x,a.y,i+u*2,o+u*2),r.fill()}}}};aa.drawNodeOverlay=Af("overlay");aa.drawNodeUnderlay=Af("underlay");aa.hasPie=function(t){return t=t[0],t._private.hasPie};aa.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,s=n.y,u=e.width(),l=e.height(),f=Math.min(u,l)/2,h=0,p=this.usePaths();p&&(o=0,s=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2);for(var d=1;d<=a.pieBackgroundN;d++){var g=e.pstyle("pie-"+d+"-background-size").value,m=e.pstyle("pie-"+d+"-background-color").value,w=e.pstyle("pie-"+d+"-background-opacity").value*r,b=g/100;b+h>1&&(b=1-h);var T=1.5*Math.PI+2*Math.PI*h,E=2*Math.PI*b,S=T+E;g===0||h>=1||h+b>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,f,T,S),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],w),t.fill(),h+=b)}};var lr={},Ob=100;lr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};lr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};lr.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),h=r.midpoint(),p=xn(l,h),d=xn(f,h);i=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,d))}else{var g=o?{x:0,y:0}:r.position(),m=r.paddedWidth(),w=r.paddedHeight();i=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,w))}else if(r.isEdge()){var b=r.sourceEndpoint(),T=r.targetEndpoint();i=t.createLinearGradient(b.x,b.y,T.x,T.y)}else{var E=o?{x:0,y:0}:r.position(),S=r.paddedWidth(),A=r.paddedHeight(),I=S/2,v=A/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":i=t.createLinearGradient(E.x,E.y-v,E.x,E.y+v);break;case"to-top":i=t.createLinearGradient(E.x,E.y+v,E.x,E.y-v);break;case"to-left":i=t.createLinearGradient(E.x+I,E.y,E.x-I,E.y);break;case"to-right":i=t.createLinearGradient(E.x-I,E.y,E.x+I,E.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(E.x-I,E.y-v,E.x+I,E.y+v);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(E.x-I,E.y+v,E.x+I,E.y-v);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(E.x+I,E.y-v,E.x-I,E.y+v);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(E.x+I,E.y+v,E.x-I,E.y-v);break}}if(!i)return null;for(var D=u.length===s.length,O=s.length,R=0;R<O;R++)i.addColorStop(D?u[R]:R/(O-1),"rgba("+s[R][0]+","+s[R][1]+","+s[R][2]+","+a+")");return i};lr.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};lr.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};lr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};lr.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};lr.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};lr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};lr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=a*o,l=i*o,f;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=a+"px",h.style.height=i+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)f=r.canvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";for(var p=0;p<e.BUFFER_COUNT;p++)f=r.bufferCanvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";e.textureMult=1,o<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};lr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};lr.render=function(t){t=t||Sl();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,o=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=o.cy,l=o.data,f=l.canvasNeedsRedraw,h=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,d=o.motionBlurPxRatio,g=u.hasCompoundNodes(),m=o.hoverData.draggingEles,w=!!(o.hoverData.selecting||o.touchData.selecting);p=p&&!e&&o.motionBlurEnabled&&!w;var b=p;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),p&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(b=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!h&&(f[o.NODE]=!0,f[o.SELECT_BOX]=!0);var T=u.style(),E=u.zoom(),S=a!==void 0?a:E,A=u.pan(),I={x:A.x,y:A.y},v={zoom:E,pan:{x:A.x,y:A.y}},L=o.prevViewport,D=L===void 0||v.zoom!==L.zoom||v.pan.x!==L.pan.x||v.pan.y!==L.pan.y;!D&&!(m&&!g)&&(o.motionBlurPxRatio=1),i&&(I=i),S*=s,I.x*=s,I.y*=s;var O=o.getCachedZSortedEles();function R(De,le,me,xe,pe){var Se=De.globalCompositeOperation;De.globalCompositeOperation="destination-out",o.colorFillStyle(De,255,255,255,o.motionBlurTransparency),De.fillRect(le,me,xe,pe),De.globalCompositeOperation=Se}function k(De,le){var me,xe,pe,Se;!o.clearingMotionBlur&&(De===l.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||De===l.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(me={x:A.x*d,y:A.y*d},xe=E*d,pe=o.canvasWidth*d,Se=o.canvasHeight*d):(me=I,xe=S,pe=o.canvasWidth,Se=o.canvasHeight),De.setTransform(1,0,0,1,0,0),le==="motionBlur"?R(De,0,0,pe,Se):!e&&(le===void 0||le)&&De.clearRect(0,0,pe,Se),r||(De.translate(me.x,me.y),De.scale(xe,xe)),i&&De.translate(i.x,i.y),a&&De.scale(a,a)}if(h||(o.textureDrawLastFrame=!1),h){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=u.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var z=o.data.bufferContexts[o.TEXTURE_BUFFER];z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:z,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var v=o.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:o.canvasWidth,height:o.canvasHeight};v.mpan={x:(0-v.pan.x)/v.zoom,y:(0-v.pan.y)/v.zoom}}f[o.DRAG]=!1,f[o.NODE]=!1;var B=l.contexts[o.NODE],U=o.textureCache.texture,v=o.textureCache.viewport;B.setTransform(1,0,0,1,0,0),p?R(B,0,0,v.width,v.height):B.clearRect(0,0,v.width,v.height);var H=T.core("outside-texture-bg-color").value,V=T.core("outside-texture-bg-opacity").value;o.colorFillStyle(B,H[0],H[1],H[2],V),B.fillRect(0,0,v.width,v.height);var E=u.zoom();k(B,!1),B.clearRect(v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s),B.drawImage(U,v.mpan.x,v.mpan.y,v.width/v.zoom/s,v.height/v.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var W=u.extent(),X=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),j=o.hideEdgesOnViewport&&X,K=[];if(K[o.NODE]=!f[o.NODE]&&p&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,K[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),K[o.DRAG]=!f[o.DRAG]&&p&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,K[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),f[o.NODE]||r||n||K[o.NODE]){var J=p&&!K[o.NODE]&&d!==1,B=e||(J?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:l.contexts[o.NODE]),ne=p&&!J?"motionBlur":void 0;k(B,ne),j?o.drawCachedNodes(B,O.nondrag,s,W):o.drawLayeredElements(B,O.nondrag,s,W),o.debug&&o.drawDebugPoints(B,O.nondrag),!r&&!p&&(f[o.NODE]=!1)}if(!n&&(f[o.DRAG]||r||K[o.DRAG])){var J=p&&!K[o.DRAG]&&d!==1,B=e||(J?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:l.contexts[o.DRAG]);k(B,p&&!J?"motionBlur":void 0),j?o.drawCachedNodes(B,O.drag,s,W):o.drawCachedElements(B,O.drag,s,W),o.debug&&o.drawDebugPoints(B,O.drag),!r&&!p&&(f[o.DRAG]=!1)}if(o.showFps||!n&&f[o.SELECT_BOX]&&!r){var B=e||l.contexts[o.SELECT_BOX];if(k(B),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var E=o.cy.zoom(),ie=T.core("selection-box-border-width").value/E;B.lineWidth=ie,B.fillStyle="rgba("+T.core("selection-box-color").value[0]+","+T.core("selection-box-color").value[1]+","+T.core("selection-box-color").value[2]+","+T.core("selection-box-opacity").value+")",B.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),ie>0&&(B.strokeStyle="rgba("+T.core("selection-box-border-color").value[0]+","+T.core("selection-box-border-color").value[1]+","+T.core("selection-box-border-color").value[2]+","+T.core("selection-box-opacity").value+")",B.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(l.bgActivePosistion&&!o.hoverData.selecting){var E=o.cy.zoom(),oe=l.bgActivePosistion;B.fillStyle="rgba("+T.core("active-bg-color").value[0]+","+T.core("active-bg-color").value[1]+","+T.core("active-bg-color").value[2]+","+T.core("active-bg-opacity").value+")",B.beginPath(),B.arc(oe.x,oe.y,T.core("active-bg-size").pfValue/E,0,2*Math.PI),B.fill()}var ue=o.lastRedrawTime;if(o.showFps&&ue){ue=Math.round(ue);var Z=Math.round(1e3/ue);B.setTransform(1,0,0,1,0,0),B.fillStyle="rgba(255, 0, 0, 0.75)",B.strokeStyle="rgba(255, 0, 0, 0.75)",B.lineWidth=1,B.fillText("1 frame = "+ue+" ms = "+Z+" fps",0,20);var fe=60;B.strokeRect(0,30,250,20),B.fillRect(0,30,250*Math.min(Z/fe,1),20)}r||(f[o.SELECT_BOX]=!1)}if(p&&d!==1){var ce=l.contexts[o.NODE],be=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],Ce=l.contexts[o.DRAG],Fe=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],He=function(le,me,xe){le.setTransform(1,0,0,1,0,0),xe||!b?le.clearRect(0,0,o.canvasWidth,o.canvasHeight):R(le,0,0,o.canvasWidth,o.canvasHeight);var pe=d;le.drawImage(me,0,0,o.canvasWidth*pe,o.canvasHeight*pe,0,0,o.canvasWidth,o.canvasHeight)};(f[o.NODE]||K[o.NODE])&&(He(ce,be,K[o.NODE]),f[o.NODE]=!1),(f[o.DRAG]||K[o.DRAG])&&(He(Ce,Fe,K[o.DRAG]),f[o.DRAG]=!1)}o.prevViewport=v,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),p&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!h,o.mbFrames=0,f[o.NODE]=!0,f[o.DRAG]=!0,o.redraw()},Ob)),e||u.emit("render")};var cn={};cn.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+s*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+o*i[u*2],r+s*i[u*2+1]);t.closePath()};cn.drawRoundPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2,u=os(n,a);t.beginPath&&t.beginPath();for(var l=0;l<i.length/4;l++){var f=void 0,h=void 0;l===0?f=i.length-2:f=l*4-2,h=l*4+2;var p=e+o*i[l*4],d=r+s*i[l*4+1],g=-i[f]*i[h]-i[f+1]*i[h+1],m=u/Math.tan(Math.acos(g)/2),w=p-m*i[f],b=d-m*i[f+1],T=p+m*i[h],E=d+m*i[h+1];l===0?t.moveTo(w,b):t.lineTo(w,b),t.arcTo(p,d,T,E,u)}t.closePath()};cn.drawRoundRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=qa(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+i,r-o,e+i,r,s),t.arcTo(e+i,r+o,e,r+o,s),t.arcTo(e-i,r+o,e-i,r,s),t.arcTo(e-i,r-o,e,r-o,s),t.lineTo(e,r-o),t.closePath()};cn.drawBottomRoundRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=qa(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+i,r-o),t.lineTo(e+i,r),t.arcTo(e+i,r+o,e,r+o,s),t.arcTo(e-i,r+o,e-i,r,s),t.lineTo(e-i,r-o),t.lineTo(e,r-o),t.closePath()};cn.drawCutRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=Rl();t.beginPath&&t.beginPath(),t.moveTo(e-i+s,r-o),t.lineTo(e+i-s,r-o),t.lineTo(e+i,r-o+s),t.lineTo(e+i,r+o-s),t.lineTo(e+i-s,r+o),t.lineTo(e-i+s,r+o),t.lineTo(e-i,r+o-s),t.lineTo(e-i,r-o+s),t.closePath()};cn.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,s=e-i,u=e+i,l=r-o,f=r+o,h=Ro(n,a),p=h.widthOffset,d=h.heightOffset,g=h.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,l+d),t.lineTo(s,f-d),t.quadraticCurveTo(s+g,f,s+p,f),t.lineTo(u-p,f),t.quadraticCurveTo(u-g,f,u,f-d),t.lineTo(u,l+d),t.quadraticCurveTo(u-g,l,u-p,l),t.lineTo(s+p,l),t.quadraticCurveTo(s+g,l,s,l+d),t.closePath()};var Ku=Math.sin(0),Zu=Math.cos(0),qo={},Vo={},Mf=Math.PI/40;for(var zn=0*Math.PI;zn<2*Math.PI;zn+=Mf)qo[zn]=Math.sin(zn),Vo[zn]=Math.cos(zn);cn.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Mf)i=e-s*qo[l]*Ku+s*Vo[l]*Zu,o=r+u*Vo[l]*Ku+u*qo[l]*Zu,l===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var Xa={};Xa.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Xa.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],s=Ae(t.maxWidth)||Ae(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,l=t.scale;else if(s){var f=1/0,h=1/0;Ae(t.maxWidth)&&(f=l*t.maxWidth/i),Ae(t.maxHeight)&&(h=l*t.maxHeight/o),l=Math.min(f,h),i*=l,o*=l}s||(i*=u,o*=u,l*=u);var p=document.createElement("canvas");p.width=i,p.height=o,p.style.width=i+"px",p.style.height=o+"px";var d=p.getContext("2d");if(i>0&&o>0){d.clearRect(0,0,i,o),d.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,g),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var m=e.pan(),w={x:m.x*l,y:m.y*l};l*=e.zoom(),d.translate(w.x,w.y),d.scale(l,l),this.drawElements(d,g),d.scale(1/l,1/l),d.translate(-w.x,-w.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,i,o),d.fill())}return p};function Ib(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Qu(t){var e=t.indexOf(",");return t.substr(e+1)}function Nf(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Jn(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return Ib(Qu(n()),r);case"base64":return Qu(n());case"base64uri":default:return n()}}Xa.png=function(t){return Nf(t,this.bufferCanvasImage(t),"image/png")};Xa.jpg=function(t){return Nf(t,this.bufferCanvasImage(t),"image/jpeg")};var Of={};Of.nodeShapeImpl=function(t,e,r,n,a,i,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var kb=If,st=If.prototype;st.CANVAS_LAYERS=3;st.SELECT_BOX=0;st.DRAG=1;st.NODE=2;st.BUFFER_COUNT=3;st.TEXTURE_BUFFER=0;st.MOTIONBLUR_BUFFER_NODE=1;st.MOTIONBLUR_BUFFER_DRAG=2;function If(t){var e=this;e.data={canvases:new Array(st.CANVAS_LAYERS),contexts:new Array(st.CANVAS_LAYERS),canvasNeedsRedraw:new Array(st.CANVAS_LAYERS),bufferCanvases:new Array(st.BUFFER_COUNT),bufferContexts:new Array(st.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style[r]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};dp()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<st.CANVAS_LAYERS;s++){var u=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=u.getContext("2d"),Object.keys(o).forEach(function(ue){u.style[ue]=o[ue]}),u.style.position="absolute",u.setAttribute("data-id","layer"+s),u.style.zIndex=String(st.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[st.NODE].setAttribute("data-id","layer"+st.NODE+"-node"),e.data.canvases[st.SELECT_BOX].setAttribute("data-id","layer"+st.SELECT_BOX+"-selectbox"),e.data.canvases[st.DRAG].setAttribute("data-id","layer"+st.DRAG+"-drag");for(var s=0;s<st.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var l=sr(),f=function(Z){return{x:(Z.x1+Z.x2)/2,y:(Z.y1+Z.y2)/2}},h=function(Z){return{x:-Z.w/2,y:-Z.h/2}},p=function(Z){var fe=Z[0]._private,ce=fe.oldBackgroundTimestamp===fe.backgroundTimestamp;return!ce},d=function(Z){return Z[0]._private.nodeKey},g=function(Z){return Z[0]._private.labelStyleKey},m=function(Z){return Z[0]._private.sourceLabelStyleKey},w=function(Z){return Z[0]._private.targetLabelStyleKey},b=function(Z,fe,ce,be,Ce){return e.drawElement(Z,fe,ce,!1,!1,Ce)},T=function(Z,fe,ce,be,Ce){return e.drawElementText(Z,fe,ce,be,"main",Ce)},E=function(Z,fe,ce,be,Ce){return e.drawElementText(Z,fe,ce,be,"source",Ce)},S=function(Z,fe,ce,be,Ce){return e.drawElementText(Z,fe,ce,be,"target",Ce)},A=function(Z){return Z.boundingBox(),Z[0]._private.bodyBounds},I=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.main||l},v=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.source||l},L=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.target||l},D=function(Z,fe){return fe},O=function(Z){return f(A(Z))},R=function(Z,fe,ce){var be=Z?Z+"-":"";return{x:fe.x+ce.pstyle(be+"text-margin-x").pfValue,y:fe.y+ce.pstyle(be+"text-margin-y").pfValue}},k=function(Z,fe,ce){var be=Z[0]._private.rscratch;return{x:be[fe],y:be[ce]}},z=function(Z){return R("",k(Z,"labelX","labelY"),Z)},B=function(Z){return R("source",k(Z,"sourceLabelX","sourceLabelY"),Z)},U=function(Z){return R("target",k(Z,"targetLabelX","targetLabelY"),Z)},H=function(Z){return h(A(Z))},V=function(Z){return h(v(Z))},W=function(Z){return h(L(Z))},X=function(Z){var fe=I(Z),ce=h(I(Z));if(Z.isNode()){switch(Z.pstyle("text-halign").value){case"left":ce.x=-fe.w;break;case"right":ce.x=0;break}switch(Z.pstyle("text-valign").value){case"top":ce.y=-fe.h;break;case"bottom":ce.y=0;break}}return ce},j=e.data.eleTxrCache=new Ta(e,{getKey:d,doesEleInvalidateKey:p,drawElement:b,getBoundingBox:A,getRotationPoint:O,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),K=e.data.lblTxrCache=new Ta(e,{getKey:g,drawElement:T,getBoundingBox:I,getRotationPoint:z,getRotationOffset:X,isVisible:D}),J=e.data.slbTxrCache=new Ta(e,{getKey:m,drawElement:E,getBoundingBox:v,getRotationPoint:B,getRotationOffset:V,isVisible:D}),ne=e.data.tlbTxrCache=new Ta(e,{getKey:w,drawElement:S,getBoundingBox:L,getRotationPoint:U,getRotationOffset:W,isVisible:D}),ie=e.data.lyrTxrCache=new Df(e);e.onUpdateEleCalcs(function(Z,fe){j.invalidateElements(fe),K.invalidateElements(fe),J.invalidateElements(fe),ne.invalidateElements(fe),ie.invalidateElements(fe);for(var ce=0;ce<fe.length;ce++){var be=fe[ce]._private;be.oldBackgroundTimestamp=be.backgroundTimestamp}});var oe=function(Z){for(var fe=0;fe<Z.length;fe++)ie.enqueueElementRefinement(Z[fe].ele)};j.onDequeue(oe),K.onDequeue(oe),J.onDequeue(oe),ne.onDequeue(oe)}st.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[st.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[st.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[st.SELECT_BOX]=e;break}};var Rb=typeof Path2D<"u";st.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};st.usePaths=function(){return Rb&&this.pathsEnabled};st.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};st.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};st.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":Ot(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[Sf,kr,Vr,ps,An,aa,lr,cn,Xa,Of].forEach(function(t){qe(st,t)});var Pb=[{name:"null",impl:pf},{name:"base",impl:Tf},{name:"canvas",impl:kb}],Bb=[{type:"layout",extensions:V0},{type:"renderer",extensions:Pb}],kf={},Rf={};function Pf(t,e,r){var n=r,a=function(L){lt("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Pa.prototype[e])return a(e);Pa.prototype[e]=r}else if(t==="collection"){if($t.prototype[e])return a(e);$t.prototype[e]=r}else if(t==="layout"){for(var i=function(L){this.options=L,r.call(this,L),ot(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=r.prototype.stop;o.stop=function(){var v=this.options;if(v&&v.animate){var L=this.animations;if(L)for(var D=0;D<L.length;D++)L[D].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(L){return L._private.cy},p={addEventFields:function(L,D){D.layout=L,D.cy=h(L),D.target=L},bubble:function(){return!0},parent:function(L){return h(L)}};qe(o,{createEmitter:function(){return this._private.emitter=new qi(p,this),this},emitter:function(){return this._private.emitter},on:function(L,D){return this.emitter().on(L,D),this},one:function(L,D){return this.emitter().one(L,D),this},once:function(L,D){return this.emitter().one(L,D),this},removeListener:function(L,D){return this.emitter().removeListener(L,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,D){return this.emitter().emit(L,D),this}}),ft.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=Bf("renderer","base"),g=d.prototype,m=r,w=r.prototype,b=function(){d.apply(this,arguments),m.apply(this,arguments)},T=b.prototype;for(var E in g){var S=g[E],A=w[E]!=null;if(A)return a(E);T[E]=S}for(var I in w)T[I]=w[I];g.clientFunctions.forEach(function(v){T[v]=T[v]||function(){Tt("Renderer does not implement `renderer."+v+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Tt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return yl({map:kf,keys:[t,e],value:n})}function Bf(t,e){return ml({map:kf,keys:[t,e]})}function Fb(t,e,r,n,a){return yl({map:Rf,keys:[t,e,r,n],value:a})}function zb(t,e,r,n){return ml({map:Rf,keys:[t,e,r,n]})}var Uo=function(){if(arguments.length===2)return Bf.apply(null,arguments);if(arguments.length===3)return Pf.apply(null,arguments);if(arguments.length===4)return zb.apply(null,arguments);if(arguments.length===5)return Fb.apply(null,arguments);Tt("Invalid extension access syntax")};Pa.prototype.extension=Uo;Bb.forEach(function(t){t.extensions.forEach(function(e){Pf(t.type,e.name,e.impl)})});var Ff=function t(){if(!(this instanceof t))return new t;this.length=0},Dn=Ff.prototype;Dn.instanceString=function(){return"stylesheet"};Dn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Dn.css=function(t,e){var r=this.length-1;if(Ge(t))this[r].properties.push({name:t,value:e});else if(ot(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var u=Wt.properties[o]||Wt.properties[Fi(o)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Dn.style=Dn.css;Dn.generateStyle=function(t){var e=new Wt(t);return this.appendToStyle(e)};Dn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var Gb="3.27.0",Sn=function(e){if(e===void 0&&(e={}),ot(e))return new Pa(e);if(Ge(e))return Uo.apply(Uo,arguments)};Sn.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Sn),t.apply(null,e),this};Sn.warnings=function(t){return Cl(t)};Sn.version=Gb;Sn.stylesheet=Sn.Stylesheet=Ff;var Hb=Sn;const ba=Wo(Hb);var zf={exports:{}},No={exports:{}},Oo={exports:{}},ju;function $b(){return ju||(ju=1,function(t,e){(function(n,a){t.exports=a()})(zr,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=26)}([function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,n,a){var i=a(2),o=a(8),s=a(9);function u(f,h,p){i.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=h}u.prototype=Object.create(i.prototype);for(var l in i)u[l]=i[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,h){for(var p=this.getOtherEnd(f),d=h.getGraphManager().getRoot();;){if(p.getOwner()==h)return p;if(p.getOwner()==d)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function i(o){this.vGraphObject=o}r.exports=i},function(r,n,a){var i=a(2),o=a(10),s=a(13),u=a(0),l=a(16),f=a(4);function h(d,g,m,w){m==null&&w==null&&(w=g),i.call(this,w),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=d,m!=null&&g!=null?this.rect=new s(g.x,g.y,m.width,m.height):this.rect=new s}h.prototype=Object.create(i.prototype);for(var p in i)h[p]=i[p];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(d){this.rect.width=d},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(d){this.rect.height=d},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(d,g){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=g.width,this.rect.height=g.height},h.prototype.setCenter=function(d,g){this.rect.x=d-this.rect.width/2,this.rect.y=g-this.rect.height/2},h.prototype.setLocation=function(d,g){this.rect.x=d,this.rect.y=g},h.prototype.moveBy=function(d,g){this.rect.x+=d,this.rect.y+=g},h.prototype.getEdgeListToNode=function(d){var g=[],m=this;return m.edges.forEach(function(w){if(w.target==d){if(w.source!=m)throw"Incorrect edge source!";g.push(w)}}),g},h.prototype.getEdgesBetween=function(d){var g=[],m=this;return m.edges.forEach(function(w){if(!(w.source==m||w.target==m))throw"Incorrect edge source and/or target";(w.target==d||w.source==d)&&g.push(w)}),g},h.prototype.getNeighborsList=function(){var d=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)d.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";d.add(m.source)}}),d},h.prototype.withChildren=function(){var d=new Set,g,m;if(d.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)g=w[b],m=g.withChildren(),m.forEach(function(T){d.add(T)});return d},h.prototype.getNoOfChildren=function(){var d=0,g;if(this.child==null)d=1;else for(var m=this.child.getNodes(),w=0;w<m.length;w++)g=m[w],d+=g.getNoOfChildren();return d==0&&(d=1),d},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var d,g,m=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;d=u.WORLD_CENTER_X+l.nextDouble()*(w-m)+m;var b=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_Y+l.nextDouble()*(T-b)+b,this.rect.x=d,this.rect.y=g},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var g=d.getRight()-d.getLeft(),m=d.getBottom()-d.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(d){var g=this.rect.x;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=this.rect.y;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var w=new f(g,m),b=d.inverseTransformPoint(w);this.setLocation(b.x,b.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,a){function i(o,s){o==null&&s==null?(this.x=0,this.y=0):(this.x=o,this.y=s)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=i},function(r,n,a){var i=a(2),o=a(10),s=a(0),u=a(6),l=a(3),f=a(1),h=a(13),p=a(12),d=a(11);function g(w,b,T){i.call(this,T),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}g.prototype=Object.create(i.prototype);for(var m in i)g[m]=i[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(w,b,T){if(b==null&&T==null){var E=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(E)>-1)throw"Node already in graph!";return E.owner=this,this.getNodes().push(E),E}else{var S=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(b.owner==T.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=T.owner?null:(S.source=b,S.target=T,S.isInterGraph=!1,this.getEdges().push(S),b.edges.push(S),T!=b&&T.edges.push(S),S)}},g.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=b.edges.slice(),E,S=T.length,A=0;A<S;A++)E=T[A],E.isInterGraph?this.graphManager.remove(E):E.source.owner.remove(E);var I=this.nodes.indexOf(b);if(I==-1)throw"Node not in owner node list!";this.nodes.splice(I,1)}else if(w instanceof f){var E=w;if(E==null)throw"Edge is null!";if(!(E.source!=null&&E.target!=null))throw"Source and/or target is null!";if(!(E.source.owner!=null&&E.target.owner!=null&&E.source.owner==this&&E.target.owner==this))throw"Source and/or target owner is invalid!";var v=E.source.edges.indexOf(E),L=E.target.edges.indexOf(E);if(!(v>-1&&L>-1))throw"Source and/or target doesn't know this edge!";E.source.edges.splice(v,1),E.target!=E.source&&E.target.edges.splice(L,1);var I=E.source.owner.getEdges().indexOf(E);if(I==-1)throw"Not in owner's edge list!";E.source.owner.getEdges().splice(I,1)}},g.prototype.updateLeftTop=function(){for(var w=o.MAX_VALUE,b=o.MAX_VALUE,T,E,S,A=this.getNodes(),I=A.length,v=0;v<I;v++){var L=A[v];T=L.getTop(),E=L.getLeft(),w>T&&(w=T),b>E&&(b=E)}return w==o.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?S=A[0].getParent().paddingLeft:S=this.margin,this.left=b-S,this.top=w-S,new p(this.left,this.top))},g.prototype.updateBounds=function(w){for(var b=o.MAX_VALUE,T=-o.MAX_VALUE,E=o.MAX_VALUE,S=-o.MAX_VALUE,A,I,v,L,D,O=this.nodes,R=O.length,k=0;k<R;k++){var z=O[k];w&&z.child!=null&&z.updateBounds(),A=z.getLeft(),I=z.getRight(),v=z.getTop(),L=z.getBottom(),b>A&&(b=A),T<I&&(T=I),E>v&&(E=v),S<L&&(S=L)}var B=new h(b,E,T-b,S-E);b==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),O[0].getParent().paddingLeft!=null?D=O[0].getParent().paddingLeft:D=this.margin,this.left=B.x-D,this.right=B.x+B.width+D,this.top=B.y-D,this.bottom=B.y+B.height+D},g.calculateBounds=function(w){for(var b=o.MAX_VALUE,T=-o.MAX_VALUE,E=o.MAX_VALUE,S=-o.MAX_VALUE,A,I,v,L,D=w.length,O=0;O<D;O++){var R=w[O];A=R.getLeft(),I=R.getRight(),v=R.getTop(),L=R.getBottom(),b>A&&(b=A),T<I&&(T=I),E>v&&(E=v),S<L&&(S=L)}var k=new h(b,E,T-b,S-E);return k},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,T=b.length,E=0;E<T;E++){var S=b[E];w+=S.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new d,T=new Set,E=this.nodes[0],S,A,I=E.withChildren();for(I.forEach(function(k){b.push(k),T.add(k)});b.length!==0;){E=b.shift(),S=E.getEdges();for(var v=S.length,L=0;L<v;L++){var D=S[L];if(A=D.getOtherEndInGraph(E,this),A!=null&&!T.has(A)){var O=A.withChildren();O.forEach(function(k){b.push(k),T.add(k)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var R=0;T.forEach(function(k){k.owner==w&&R++}),R==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,a){var i,o=a(1);function s(u){i=a(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),f=this.add(u,l);return this.setRootGraph(f),this.rootGraph},s.prototype.add=function(u,l,f,h,p){if(f==null&&h==null&&p==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{p=f,h=l,f=u;var d=h.getOwner(),g=p.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==g)return f.isInterGraph=!1,d.add(f,h,p);if(f.isInterGraph=!0,f.source=h,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},s.prototype.remove=function(u){if(u instanceof i){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(l.getEdges());for(var h,p=f.length,d=0;d<p;d++)h=f[d],l.remove(h);var g=[];g=g.concat(l.getNodes());var m;p=g.length;for(var d=0;d<p;d++)m=g[d],l.remove(m);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof o){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var w=h.source.edges.indexOf(h);if(h.source.edges.splice(w,1),w=h.target.edges.indexOf(h),h.target.edges.splice(w,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var w=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),f=l.length,h=0;h<f;h++)u=u.concat(l[h].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var f=0;f<l.length;f++)u=u.concat(l[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var f=u.getOwner(),h;do{if(h=f.getParent(),h==null)break;if(h==l)return!0;if(f=h.getOwner(),f==null)break}while(!0);f=l.getOwner();do{if(h=f.getParent(),h==null)break;if(h==u)return!0;if(f=h.getOwner(),f==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,f,h,p,d=this.getAllEdges(),g=d.length,m=0;m<g;m++){if(u=d[m],l=u.source,f=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=f,l==f){u.lca=l.getOwner();continue}for(h=l.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==h){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var h=l.getOwner();do{if(h==null)break;if(h==f)return h;h=h.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var f,h=u.getNodes(),p=h.length,d=0;d<p;d++)f=h[d],f.inclusionTreeDepth=l,f.child!=null&&this.calcInclusionTreeDepths(f.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,f=0;f<l;f++)if(u=this.edges[f],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=s},function(r,n,a){var i=a(0);function o(){}for(var s in i)o[s]=i[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o},function(r,n,a){var i=a(12);function o(){}o.calcSeparationAmount=function(s,u,l,f){if(!s.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,h),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var p=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(p=1);var d=p*l[0],g=l[1]/p;l[0]<g?g=l[0]:d=l[1],l[0]=-1*h[0]*(g/2+f),l[1]=-1*h[1]*(d/2+f)},o.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(s,u,l){var f=s.getCenterX(),h=s.getCenterY(),p=u.getCenterX(),d=u.getCenterY();if(s.intersects(u))return l[0]=f,l[1]=h,l[2]=p,l[3]=d,!0;var g=s.getX(),m=s.getY(),w=s.getRight(),b=s.getX(),T=s.getBottom(),E=s.getRight(),S=s.getWidthHalf(),A=s.getHeightHalf(),I=u.getX(),v=u.getY(),L=u.getRight(),D=u.getX(),O=u.getBottom(),R=u.getRight(),k=u.getWidthHalf(),z=u.getHeightHalf(),B=!1,U=!1;if(f===p){if(h>d)return l[0]=f,l[1]=m,l[2]=p,l[3]=O,!1;if(h<d)return l[0]=f,l[1]=T,l[2]=p,l[3]=v,!1}else if(h===d){if(f>p)return l[0]=g,l[1]=h,l[2]=L,l[3]=d,!1;if(f<p)return l[0]=w,l[1]=h,l[2]=I,l[3]=d,!1}else{var H=s.height/s.width,V=u.height/u.width,W=(d-h)/(p-f),X=void 0,j=void 0,K=void 0,J=void 0,ne=void 0,ie=void 0;if(-H===W?f>p?(l[0]=b,l[1]=T,B=!0):(l[0]=w,l[1]=m,B=!0):H===W&&(f>p?(l[0]=g,l[1]=m,B=!0):(l[0]=E,l[1]=T,B=!0)),-V===W?p>f?(l[2]=D,l[3]=O,U=!0):(l[2]=L,l[3]=v,U=!0):V===W&&(p>f?(l[2]=I,l[3]=v,U=!0):(l[2]=R,l[3]=O,U=!0)),B&&U)return!1;if(f>p?h>d?(X=this.getCardinalDirection(H,W,4),j=this.getCardinalDirection(V,W,2)):(X=this.getCardinalDirection(-H,W,3),j=this.getCardinalDirection(-V,W,1)):h>d?(X=this.getCardinalDirection(-H,W,1),j=this.getCardinalDirection(-V,W,3)):(X=this.getCardinalDirection(H,W,2),j=this.getCardinalDirection(V,W,4)),!B)switch(X){case 1:J=m,K=f+-A/W,l[0]=K,l[1]=J;break;case 2:K=E,J=h+S*W,l[0]=K,l[1]=J;break;case 3:J=T,K=f+A/W,l[0]=K,l[1]=J;break;case 4:K=b,J=h+-S*W,l[0]=K,l[1]=J;break}if(!U)switch(j){case 1:ie=v,ne=p+-z/W,l[2]=ne,l[3]=ie;break;case 2:ne=R,ie=d+k*W,l[2]=ne,l[3]=ie;break;case 3:ie=O,ne=p+z/W,l[2]=ne,l[3]=ie;break;case 4:ne=D,ie=d+-k*W,l[2]=ne,l[3]=ie;break}}return!1},o.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},o.getIntersection=function(s,u,l,f){if(f==null)return this.getIntersection2(s,u,l);var h=s.x,p=s.y,d=u.x,g=u.y,m=l.x,w=l.y,b=f.x,T=f.y,E=void 0,S=void 0,A=void 0,I=void 0,v=void 0,L=void 0,D=void 0,O=void 0,R=void 0;return A=g-p,v=h-d,D=d*p-h*g,I=T-w,L=m-b,O=b*w-m*T,R=A*L-I*v,R===0?null:(E=(v*O-L*D)/R,S=(I*D-A*O)/R,new i(E,S))},o.angleOfVector=function(s,u,l,f){var h=void 0;return s!==l?(h=Math.atan((f-u)/(l-s)),l<s?h+=Math.PI:f<u&&(h+=this.TWO_PI)):f<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},o.doIntersect=function(s,u,l,f){var h=s.x,p=s.y,d=u.x,g=u.y,m=l.x,w=l.y,b=f.x,T=f.y,E=(d-h)*(T-w)-(b-m)*(g-p);if(E===0)return!1;var S=((T-w)*(b-h)+(m-b)*(T-p))/E,A=((p-g)*(b-h)+(d-h)*(T-p))/E;return 0<S&&S<1&&0<A&&A<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o},function(r,n,a){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=i},function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,n,a){var i=function(){function h(p,d){for(var g=0;g<d.length;g++){var m=d[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,d,g){return d&&h(p.prototype,d),g&&h(p,g),p}}();function o(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var s=function(p){return{value:p,next:null,prev:null}},u=function(p,d,g,m){return p!==null?p.next=d:m.head=d,g!==null?g.prev=d:m.tail=d,d.prev=p,d.next=g,m.length++,d},l=function(p,d){var g=p.prev,m=p.next;return g!==null?g.next=m:d.head=m,m!==null?m.prev=g:d.tail=g,p.prev=p.next=null,d.length--,p},f=function(){function h(p){var d=this;o(this,h),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return d.push(g)})}return i(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,g){return u(g.prev,s(d),g,this)}},{key:"insertAfter",value:function(d,g){return u(g,s(d),g.next,this)}},{key:"insertNodeBefore",value:function(d,g){return u(g.prev,d,g,this)}},{key:"insertNodeAfter",value:function(d,g){return u(g,d,g.next,this)}},{key:"push",value:function(d){return u(this.tail,s(d),null,this)}},{key:"unshift",value:function(d){return u(null,s(d),this.head,this)}},{key:"remove",value:function(d){return l(d,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var g=1,m=this.head;g<d;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(d,g){if(d<=this.length()){for(var m=1,w=this.head;m<d;)w=w.next,m++;w.value=g}}}]),h}();r.exports=f},function(r,n,a){function i(o,s,u){this.x=null,this.y=null,o==null&&s==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof s=="number"&&u==null?(this.x=o,this.y=s):o.constructor.name=="Point"&&s==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,s,u){o.constructor.name=="Point"&&s==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof s=="number"&&u==null&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},i.prototype.move=function(o,s){this.x=o,this.y=s},i.prototype.translate=function(o,s){this.x+=o,this.y+=s},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var s=o;return this.x==s.x&&this.y==s.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,n,a){function i(o,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&s!=null&&u!=null&&l!=null&&(this.x=o,this.y=s,this.width=u,this.height=l)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return s==null&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var u=typeof s>"u"?"undefined":i(s);return s==null||u!="object"&&u!="function"},r.exports=o},function(r,n,a){function i(m){if(Array.isArray(m)){for(var w=0,b=Array(m.length);w<m.length;w++)b[w]=m[w];return b}else return Array.from(m)}var o=a(0),s=a(6),u=a(3),l=a(1),f=a(5),h=a(4),p=a(17),d=a(27);function g(m){d.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(d.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new s(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new f(null,this.graphManager,m)},g.prototype.newNode=function(m){return new u(this.graphManager,m)},g.prototype.newEdge=function(m){return new l(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),o.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),w=0;w<m.length;w++)m[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof u){var w=m;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),T=0;T<b.length;T++)update(b[T]);if(w.vGraphObject!=null){var E=w.vGraphObject;E.update(w)}}else if(m instanceof l){var S=m;if(S.vGraphObject!=null){var A=S.vGraphObject;A.update(S)}}else if(m instanceof f){var I=m;if(I.vGraphObject!=null){var v=I.vGraphObject;v.update(I)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new h(0,0));else{var w=new p,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(m.x),w.setWorldOrgY(m.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var T=this.getAllNodes(),E,S=0;S<T.length;S++)E=T[S],E.transform(w)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,T=m.getNodes(),E=0;E<T.length;E++)w=T[E],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],w=!0,b=this.graphManager.getRoot().getNodes(),T=!0,E=0;E<b.length;E++)b[E].getChild()!=null&&(T=!1);if(!T)return m;var S=new Set,A=[],I=new Map,v=[];for(v=v.concat(b);v.length>0&&w;){for(A.push(v[0]);A.length>0&&w;){var L=A[0];A.splice(0,1),S.add(L);for(var D=L.getEdges(),E=0;E<D.length;E++){var O=D[E].getOtherEnd(L);if(I.get(L)!=O)if(!S.has(O))A.push(O),I.set(O,L);else{w=!1;break}}}if(!w)m=[];else{var R=[].concat(i(S));m.push(R);for(var E=0;E<R.length;E++){var k=R[E],z=v.indexOf(k);z>-1&&v.splice(z,1)}S=new Set,I=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var w=[],b=m.source,T=this.graphManager.calcLowestCommonAncestor(m.source,m.target),E=0;E<m.bendpoints.length;E++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),T.add(S);var A=this.newEdge(null);this.graphManager.add(A,b,S),w.add(S),b=S}var A=this.newEdge(null);return this.graphManager.add(A,b,m.target),this.edgeToDummyNodes.set(m,w),m.isInterGraph()?this.graphManager.remove(m):T.remove(m),w},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(i(this.edgeToDummyNodes.keys())).concat(m);for(var w=0;w<m.length;w++){var b=m[w];if(b.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(b),E=0;E<T.length;E++){var S=T[E],A=new h(S.getCenterX(),S.getCenterY()),I=b.bendpoints.get(E);I.x=A.x,I.y=A.y,S.getOwner().remove(S)}this.graphManager.add(b,b.source,b.target)}}},g.transform=function(m,w,b,T){if(b!=null&&T!=null){var E=w;if(m<=50){var S=w/b;E-=(w-S)/50*(50-m)}else{var A=w*T;E+=(A-w)/50*(m-50)}return E}else{var I,v;return m<=50?(I=9*w/500,v=w/10):(I=9*w/50,v=-8*w),I*m+v}},g.findCenterOfTree=function(m){var w=[];w=w.concat(m);var b=[],T=new Map,E=!1,S=null;(w.length==1||w.length==2)&&(E=!0,S=w[0]);for(var A=0;A<w.length;A++){var I=w[A],v=I.getNeighborsList().size;T.set(I,I.getNeighborsList().size),v==1&&b.push(I)}var L=[];for(L=L.concat(b);!E;){var D=[];D=D.concat(L),L=[];for(var A=0;A<w.length;A++){var I=w[A],O=w.indexOf(I);O>=0&&w.splice(O,1);var R=I.getNeighborsList();R.forEach(function(B){if(b.indexOf(B)<0){var U=T.get(B),H=U-1;H==1&&L.push(B),T.set(B,H)}})}b=b.concat(L),(w.length==1||w.length==2)&&(E=!0,S=w[0])}return S},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,n,a){var i=a(4);function o(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},o.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},o.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},o.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},o.prototype.inverseTransformPoint=function(s){var u=new i(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},r.exports=o},function(r,n,a){function i(d){if(Array.isArray(d)){for(var g=0,m=Array(d.length);g<d.length;g++)m[g]=d[g];return m}else return Array.from(d)}var o=a(15),s=a(7),u=a(0),l=a(8),f=a(9);function h(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}h.prototype=Object.create(o.prototype);for(var p in o)h[p]=o[p];h.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var d,g,m,w,b,T,E=this.getGraphManager().getAllEdges(),S=0;S<E.length;S++)d=E[S],d.idealLength=this.idealEdgeLength,d.isInterGraph&&(m=d.getSource(),w=d.getTarget(),b=d.getSourceInLca().getEstimatedSize(),T=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=b+T-2*u.SIMPLE_NODE_SIZE),g=d.getLca().getInclusionTreeDepth(),d.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*g))},h.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),g,m=0;m<d.length;m++)g=d[m],this.calcSpringForce(g,g.idealLength)},h.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,w,b,T,E=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),S=new Set,m=0;m<E.length;m++)b=E[m],this.calculateRepulsionForceOfANode(b,S,d,g),S.add(b);else for(m=0;m<E.length;m++)for(b=E[m],w=m+1;w<E.length;w++)T=E[w],b.getOwner()==T.getOwner()&&this.calcRepulsionForce(b,T)},h.prototype.calcGravitationalForces=function(){for(var d,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)d=g[m],this.calcGravitationalForce(d)},h.prototype.moveNodes=function(){for(var d=this.getAllNodes(),g,m=0;m<d.length;m++)g=d[m],g.move()},h.prototype.calcSpringForce=function(d,g){var m=d.getSource(),w=d.getTarget(),b,T,E,S;if(this.uniformLeafNodeSizes&&m.getChild()==null&&w.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;b=d.getLength(),b!=0&&(T=this.springConstant*(b-g),E=T*(d.lengthX/b),S=T*(d.lengthY/b),m.springForceX+=E,m.springForceY+=S,w.springForceX-=E,w.springForceY-=S)},h.prototype.calcRepulsionForce=function(d,g){var m=d.getRect(),w=g.getRect(),b=new Array(2),T=new Array(4),E,S,A,I,v,L,D;if(m.intersects(w)){l.calcSeparationAmount(m,w,b,s.DEFAULT_EDGE_LENGTH/2),L=2*b[0],D=2*b[1];var O=d.noOfChildren*g.noOfChildren/(d.noOfChildren+g.noOfChildren);d.repulsionForceX-=O*L,d.repulsionForceY-=O*D,g.repulsionForceX+=O*L,g.repulsionForceY+=O*D}else this.uniformLeafNodeSizes&&d.getChild()==null&&g.getChild()==null?(E=w.getCenterX()-m.getCenterX(),S=w.getCenterY()-m.getCenterY()):(l.getIntersection(m,w,T),E=T[2]-T[0],S=T[3]-T[1]),Math.abs(E)<s.MIN_REPULSION_DIST&&(E=f.sign(E)*s.MIN_REPULSION_DIST),Math.abs(S)<s.MIN_REPULSION_DIST&&(S=f.sign(S)*s.MIN_REPULSION_DIST),A=E*E+S*S,I=Math.sqrt(A),v=this.repulsionConstant*d.noOfChildren*g.noOfChildren/A,L=v*E/I,D=v*S/I,d.repulsionForceX-=L,d.repulsionForceY-=D,g.repulsionForceX+=L,g.repulsionForceY+=D},h.prototype.calcGravitationalForce=function(d){var g,m,w,b,T,E,S,A;g=d.getOwner(),m=(g.getRight()+g.getLeft())/2,w=(g.getTop()+g.getBottom())/2,b=d.getCenterX()-m,T=d.getCenterY()-w,E=Math.abs(b)+d.getWidth()/2,S=Math.abs(T)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(A=g.getEstimatedSize()*this.gravityRangeFactor,(E>A||S>A)&&(d.gravitationForceX=-this.gravityConstant*b,d.gravitationForceY=-this.gravityConstant*T)):(A=g.getEstimatedSize()*this.compoundGravityRangeFactor,(E>A||S>A)&&(d.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},h.prototype.isConverged=function(){var d,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||g},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)d=g[m],d.noOfChildren=d.getNoOfChildren()},h.prototype.calcGrid=function(d){var g=0,m=0;g=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var w=new Array(g),b=0;b<g;b++)w[b]=new Array(m);for(var b=0;b<g;b++)for(var T=0;T<m;T++)w[b][T]=new Array;return w},h.prototype.addNodeToGrid=function(d,g,m){var w=0,b=0,T=0,E=0;w=parseInt(Math.floor((d.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((d.getRect().width+d.getRect().x-g)/this.repulsionRange)),T=parseInt(Math.floor((d.getRect().y-m)/this.repulsionRange)),E=parseInt(Math.floor((d.getRect().height+d.getRect().y-m)/this.repulsionRange));for(var S=w;S<=b;S++)for(var A=T;A<=E;A++)this.grid[S][A].push(d),d.setGridCoordinates(w,b,T,E)},h.prototype.updateGrid=function(){var d,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<m.length;d++)g=m[d],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(d,g,m,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&m||w){var b=new Set;d.surrounding=new Array;for(var T,E=this.grid,S=d.startX-1;S<d.finishX+2;S++)for(var A=d.startY-1;A<d.finishY+2;A++)if(!(S<0||A<0||S>=E.length||A>=E[0].length)){for(var I=0;I<E[S][A].length;I++)if(T=E[S][A][I],!(d.getOwner()!=T.getOwner()||d==T)&&!g.has(T)&&!b.has(T)){var v=Math.abs(d.getCenterX()-T.getCenterX())-(d.getWidth()/2+T.getWidth()/2),L=Math.abs(d.getCenterY()-T.getCenterY())-(d.getHeight()/2+T.getHeight()/2);v<=this.repulsionRange&&L<=this.repulsionRange&&b.add(T)}}d.surrounding=[].concat(i(b))}for(S=0;S<d.surrounding.length;S++)this.calcRepulsionForce(d,d.surrounding[S])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,a){var i=a(1),o=a(7);function s(l,f,h){i.call(this,l,f,h),this.idealLength=o.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];r.exports=s},function(r,n,a){var i=a(3);function o(u,l,f,h){i.call(this,u,l,f,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];o.prototype.setGridCoordinates=function(u,l,f,h){this.startX=u,this.finishX=l,this.startY=f,this.finishY=h},r.exports=o},function(r,n,a){function i(o,s){this.width=0,this.height=0,o!==null&&s!==null&&(this.height=s,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},r.exports=i},function(r,n,a){var i=a(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,u){var l=i.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},o.prototype.contains=function(s){return i.createID(s),this.map[s]!=null},o.prototype.get=function(s){var u=i.createID(s);return this.map[u]},o.prototype.keySet=function(){return this.keys},r.exports=o},function(r,n,a){var i=a(14);function o(){this.set={}}o.prototype.add=function(s){var u=i.createID(s);this.contains(u)||(this.set[u]=s)},o.prototype.remove=function(s){delete this.set[i.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[i.createID(s)]==s},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,f=0;f<l;f++)s.push(this.set[u[f]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var f=s[l];this.add(f)}},r.exports=o},function(r,n,a){var i=function(){function l(f,h){for(var p=0;p<h.length;p++){var d=h[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}();function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=a(11),u=function(){function l(f,h){o(this,l),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof s?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return i(l,[{key:"_quicksort",value:function(h,p,d){if(p<d){var g=this._partition(h,p,d);this._quicksort(h,p,g),this._quicksort(h,g+1,d)}}},{key:"_partition",value:function(h,p,d){for(var g=this._get(h,p),m=p,w=d;;){for(;this.compareFunction(g,this._get(h,w));)w--;for(;this.compareFunction(this._get(h,m),g);)m++;if(m<w)this._swap(h,m,w),m++,w--;else return w}}},{key:"_get",value:function(h,p){return h instanceof s?h.get_object_at(p):h[p]}},{key:"_set",value:function(h,p,d){h instanceof s?h.set_object_at(p,d):h[p]=d}},{key:"_swap",value:function(h,p,d){var g=this._get(h,p);this._set(h,p,this._get(h,d)),this._set(h,d,g)}},{key:"_defaultCompareFunction",value:function(h,p){return p>h}}]),l}();r.exports=u},function(r,n,a){var i=function(){function u(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&u(l.prototype,f),h&&u(l,h),l}}();function o(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=l,this.sequence2=f,this.match_score=h,this.mismatch_penalty=p,this.gap_penalty=d,this.iMax=l.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var d=1;d<this.jMax;d++){var g=void 0;this.sequence1[p-1]===this.sequence2[d-1]?g=this.grid[p-1][d-1]+this.match_score:g=this.grid[p-1][d-1]+this.mismatch_penalty;var m=this.grid[p-1][d]+this.gap_penalty,w=this.grid[p][d-1]+this.gap_penalty,b=[g,m,w],T=this.arrayAllMaxIndexes(b);this.grid[p][d]=b[T[0]],this.tracebackGrid[p][d]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var h=f[0],p=this.tracebackGrid[h.pos[0]][h.pos[1]];p[0]&&f.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),p[1]&&f.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),p[2]&&f.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,h){for(var p=[],d=-1;(d=f.indexOf(h,d+1))!==-1;)p.push(d);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=s},function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(7),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(4),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(24),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(5),i.LEdge=a(1),i.LGraphManager=a(6),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(25),r.exports=i},function(r,n,a){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(s,u){this.listeners.push({event:s,callback:u})},o.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var f=this.listeners[l];f.event===s&&f.callback===u&&this.listeners.splice(l,1)}},o.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var f=this.listeners[l];s===f.event&&f.callback(u)}},r.exports=i}])})}(Oo)),Oo.exports}var Ju;function qb(){return Ju||(Ju=1,function(t,e){(function(n,a){t.exports=a($b())})(zr,function(r){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=7)}([function(n,a){n.exports=r},function(n,a,i){var o=i(0).FDLayoutConstants;function s(){}for(var u in o)s[u]=o[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,a,i){var o=i(0).FDLayoutEdge;function s(l,f,h){o.call(this,l,f,h)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).LGraph;function s(l,f,h){o.call(this,l,f,h)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).LGraphManager;function s(l){o.call(this,l)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).FDLayoutNode,s=i(0).IMath;function u(f,h,p,d){o.call(this,f,h,p,d)}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(f,h){for(var p=this.getChild().getNodes(),d,g=0;g<p.length;g++)d=p[g],d.getChild()==null?(d.moveBy(f,h),d.displacementX+=f,d.displacementY+=h):d.propogateDisplacementToChildren(f,h)},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,a,i){var o=i(0).FDLayout,s=i(4),u=i(3),l=i(5),f=i(2),h=i(1),p=i(0).FDLayoutConstants,d=i(0).LayoutConstants,g=i(0).Point,m=i(0).PointD,w=i(0).Layout,b=i(0).Integer,T=i(0).IGeometry,E=i(0).LGraph,S=i(0).Transform;function A(){o.call(this),this.toBeTiled={}}A.prototype=Object.create(o.prototype);for(var I in o)A[I]=o[I];A.prototype.newGraphManager=function(){var v=new s(this);return this.graphManager=v,v},A.prototype.newGraph=function(v){return new u(null,this.graphManager,v)},A.prototype.newNode=function(v){return new l(this.graphManager,v)},A.prototype.newEdge=function(v){return new f(null,null,v)},A.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var v=d.DEFAULT_CREATE_BENDS_AS_NEEDED;return v&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(k){return L.has(k)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var v=this.getFlatForest();if(v.length>0)this.positionNodesRadially(v);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(O){return L.has(O)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(R){return v.has(R)});this.graphManager.setAllNodesToApplyGravitation(L),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,O=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,O),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var v=this.graphManager.getAllNodes(),L={},D=0;D<v.length;D++){var O=v[D].rect,R=v[D].id;L[R]={id:R,x:O.getCenterX(),y:O.getCenterY(),w:O.width,h:O.height}}return L},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var v=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!v;)v=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var v=[],L,D=this.graphManager.getGraphs(),O=D.length,R;for(R=0;R<O;R++)L=D[R],L.updateConnected(),L.isConnected||(v=v.concat(L.getNodes()));return v},A.prototype.createBendpoints=function(){var v=[];v=v.concat(this.graphManager.getAllEdges());var L=new Set,D;for(D=0;D<v.length;D++){var O=v[D];if(!L.has(O)){var R=O.getSource(),k=O.getTarget();if(R==k)O.getBendpoints().push(new m),O.getBendpoints().push(new m),this.createDummyNodesForBendpoints(O),L.add(O);else{var z=[];if(z=z.concat(R.getEdgeListToNode(k)),z=z.concat(k.getEdgeListToNode(R)),!L.has(z[0])){if(z.length>1){var B;for(B=0;B<z.length;B++){var U=z[B];U.getBendpoints().push(new m),this.createDummyNodesForBendpoints(U)}}z.forEach(function(H){L.add(H)})}}}if(L.size==v.length)break}},A.prototype.positionNodesRadially=function(v){for(var L=new g(0,0),D=Math.ceil(Math.sqrt(v.length)),O=0,R=0,k=0,z=new m(0,0),B=0;B<v.length;B++){B%D==0&&(k=0,R=O,B!=0&&(R+=h.DEFAULT_COMPONENT_SEPERATION),O=0);var U=v[B],H=w.findCenterOfTree(U);L.x=k,L.y=R,z=A.radialLayout(U,H,L),z.y>O&&(O=Math.floor(z.y)),k=Math.floor(z.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(d.WORLD_CENTER_X-z.x/2,d.WORLD_CENTER_Y-z.y/2))},A.radialLayout=function(v,L,D){var O=Math.max(this.maxDiagonalInTree(v),h.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(L,null,0,359,0,O);var R=E.calculateBounds(v),k=new S;k.setDeviceOrgX(R.getMinX()),k.setDeviceOrgY(R.getMinY()),k.setWorldOrgX(D.x),k.setWorldOrgY(D.y);for(var z=0;z<v.length;z++){var B=v[z];B.transform(k)}var U=new m(R.getMaxX(),R.getMaxY());return k.inverseTransformPoint(U)},A.branchRadialLayout=function(v,L,D,O,R,k){var z=(O-D+1)/2;z<0&&(z+=180);var B=(z+D)%360,U=B*T.TWO_PI/360,H=R*Math.cos(U),V=R*Math.sin(U);v.setCenter(H,V);var W=[];W=W.concat(v.getEdges());var X=W.length;L!=null&&X--;for(var j=0,K=W.length,J,ne=v.getEdgesBetween(L);ne.length>1;){var ie=ne[0];ne.splice(0,1);var oe=W.indexOf(ie);oe>=0&&W.splice(oe,1),K--,X--}L!=null?J=(W.indexOf(ne[0])+1)%K:J=0;for(var ue=Math.abs(O-D)/X,Z=J;j!=X;Z=++Z%K){var fe=W[Z].getOtherEnd(v);if(fe!=L){var ce=(D+j*ue)%360,be=(ce+ue)%360;A.branchRadialLayout(fe,v,ce,be,R+k,k),j++}}},A.maxDiagonalInTree=function(v){for(var L=b.MIN_VALUE,D=0;D<v.length;D++){var O=v[D],R=O.getDiagonal();R>L&&(L=R)}return L},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var v=this,L={};this.memberGroups={},this.idToDummyNode={};for(var D=[],O=this.graphManager.getAllNodes(),R=0;R<O.length;R++){var k=O[R],z=k.getParent();this.getNodeDegreeWithChildren(k)===0&&(z.id==null||!this.getToBeTiled(z))&&D.push(k)}for(var R=0;R<D.length;R++){var k=D[R],B=k.getParent().id;typeof L[B]>"u"&&(L[B]=[]),L[B]=L[B].concat(k)}Object.keys(L).forEach(function(U){if(L[U].length>1){var H="DummyCompound_"+U;v.memberGroups[H]=L[U];var V=L[U][0].getParent(),W=new l(v.graphManager);W.id=H,W.paddingLeft=V.paddingLeft||0,W.paddingRight=V.paddingRight||0,W.paddingBottom=V.paddingBottom||0,W.paddingTop=V.paddingTop||0,v.idToDummyNode[H]=W;var X=v.getGraphManager().add(v.newGraph(),W),j=V.getChild();j.add(W);for(var K=0;K<L[U].length;K++){var J=L[U][K];j.remove(J),X.add(J)}}})},A.prototype.clearCompounds=function(){var v={},L={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)L[this.compoundOrder[D].id]=this.compoundOrder[D],v[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(v,L)},A.prototype.clearZeroDegreeMembers=function(){var v=this,L=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var O=v.idToDummyNode[D];L[D]=v.tileNodes(v.memberGroups[D],O.paddingLeft+O.paddingRight),O.rect.width=L[D].width,O.rect.height=L[D].height})},A.prototype.repopulateCompounds=function(){for(var v=this.compoundOrder.length-1;v>=0;v--){var L=this.compoundOrder[v],D=L.id,O=L.paddingLeft,R=L.paddingTop;this.adjustLocations(this.tiledMemberPack[D],L.rect.x,L.rect.y,O,R)}},A.prototype.repopulateZeroDegreeMembers=function(){var v=this,L=this.tiledZeroDegreePack;Object.keys(L).forEach(function(D){var O=v.idToDummyNode[D],R=O.paddingLeft,k=O.paddingTop;v.adjustLocations(L[D],O.rect.x,O.rect.y,R,k)})},A.prototype.getToBeTiled=function(v){var L=v.id;if(this.toBeTiled[L]!=null)return this.toBeTiled[L];var D=v.getChild();if(D==null)return this.toBeTiled[L]=!1,!1;for(var O=D.getNodes(),R=0;R<O.length;R++){var k=O[R];if(this.getNodeDegree(k)>0)return this.toBeTiled[L]=!1,!1;if(k.getChild()==null){this.toBeTiled[k.id]=!1;continue}if(!this.getToBeTiled(k))return this.toBeTiled[L]=!1,!1}return this.toBeTiled[L]=!0,!0},A.prototype.getNodeDegree=function(v){v.id;for(var L=v.getEdges(),D=0,O=0;O<L.length;O++){var R=L[O];R.getSource().id!==R.getTarget().id&&(D=D+1)}return D},A.prototype.getNodeDegreeWithChildren=function(v){var L=this.getNodeDegree(v);if(v.getChild()==null)return L;for(var D=v.getChild().getNodes(),O=0;O<D.length;O++){var R=D[O];L+=this.getNodeDegreeWithChildren(R)}return L},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(v){for(var L=0;L<v.length;L++){var D=v[L];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},A.prototype.adjustLocations=function(v,L,D,O,R){L+=O,D+=R;for(var k=L,z=0;z<v.rows.length;z++){var B=v.rows[z];L=k;for(var U=0,H=0;H<B.length;H++){var V=B[H];V.rect.x=L,V.rect.y=D,L+=V.rect.width+v.horizontalPadding,V.rect.height>U&&(U=V.rect.height)}D+=U+v.verticalPadding}},A.prototype.tileCompoundMembers=function(v,L){var D=this;this.tiledMemberPack=[],Object.keys(v).forEach(function(O){var R=L[O];D.tiledMemberPack[O]=D.tileNodes(v[O],R.paddingLeft+R.paddingRight),R.rect.width=D.tiledMemberPack[O].width,R.rect.height=D.tiledMemberPack[O].height})},A.prototype.tileNodes=function(v,L){var D=h.TILING_PADDING_VERTICAL,O=h.TILING_PADDING_HORIZONTAL,R={rows:[],rowWidth:[],rowHeight:[],width:0,height:L,verticalPadding:D,horizontalPadding:O};v.sort(function(B,U){return B.rect.width*B.rect.height>U.rect.width*U.rect.height?-1:B.rect.width*B.rect.height<U.rect.width*U.rect.height?1:0});for(var k=0;k<v.length;k++){var z=v[k];R.rows.length==0?this.insertNodeToRow(R,z,0,L):this.canAddHorizontal(R,z.rect.width,z.rect.height)?this.insertNodeToRow(R,z,this.getShortestRowIndex(R),L):this.insertNodeToRow(R,z,R.rows.length,L),this.shiftToLastRow(R)}return R},A.prototype.insertNodeToRow=function(v,L,D,O){var R=O;if(D==v.rows.length){var k=[];v.rows.push(k),v.rowWidth.push(R),v.rowHeight.push(0)}var z=v.rowWidth[D]+L.rect.width;v.rows[D].length>0&&(z+=v.horizontalPadding),v.rowWidth[D]=z,v.width<z&&(v.width=z);var B=L.rect.height;D>0&&(B+=v.verticalPadding);var U=0;B>v.rowHeight[D]&&(U=v.rowHeight[D],v.rowHeight[D]=B,U=v.rowHeight[D]-U),v.height+=U,v.rows[D].push(L)},A.prototype.getShortestRowIndex=function(v){for(var L=-1,D=Number.MAX_VALUE,O=0;O<v.rows.length;O++)v.rowWidth[O]<D&&(L=O,D=v.rowWidth[O]);return L},A.prototype.getLongestRowIndex=function(v){for(var L=-1,D=Number.MIN_VALUE,O=0;O<v.rows.length;O++)v.rowWidth[O]>D&&(L=O,D=v.rowWidth[O]);return L},A.prototype.canAddHorizontal=function(v,L,D){var O=this.getShortestRowIndex(v);if(O<0)return!0;var R=v.rowWidth[O];if(R+v.horizontalPadding+L<=v.width)return!0;var k=0;v.rowHeight[O]<D&&O>0&&(k=D+v.verticalPadding-v.rowHeight[O]);var z;v.width-R>=L+v.horizontalPadding?z=(v.height+k)/(R+L+v.horizontalPadding):z=(v.height+k)/v.width,k=D+v.verticalPadding;var B;return v.width<L?B=(v.height+k)/L:B=(v.height+k)/v.width,B<1&&(B=1/B),z<1&&(z=1/z),z<B},A.prototype.shiftToLastRow=function(v){var L=this.getLongestRowIndex(v),D=v.rowWidth.length-1,O=v.rows[L],R=O[O.length-1],k=R.width+v.horizontalPadding;if(v.width-v.rowWidth[D]>k&&L!=D){O.splice(-1,1),v.rows[D].push(R),v.rowWidth[L]=v.rowWidth[L]-k,v.rowWidth[D]=v.rowWidth[D]+k,v.width=v.rowWidth[instance.getLongestRowIndex(v)];for(var z=Number.MIN_VALUE,B=0;B<O.length;B++)O[B].height>z&&(z=O[B].height);L>0&&(z+=v.verticalPadding);var U=v.rowHeight[L]+v.rowHeight[D];v.rowHeight[L]=z,v.rowHeight[D]<R.height+v.verticalPadding&&(v.rowHeight[D]=R.height+v.verticalPadding);var H=v.rowHeight[L]+v.rowHeight[D];v.height+=H-U,this.shiftToLastRow(v)}},A.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var v=[],L=!0,D;L;){var O=this.graphManager.getAllNodes(),R=[];L=!1;for(var k=0;k<O.length;k++)D=O[k],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(R.push([D,D.getEdges()[0],D.getOwner()]),L=!0);if(L==!0){for(var z=[],B=0;B<R.length;B++)R[B][0].getEdges().length==1&&(z.push(R[B]),R[B][0].getOwner().remove(R[B][0]));v.push(z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=v},A.prototype.growTree=function(v){for(var L=v.length,D=v[L-1],O,R=0;R<D.length;R++)O=D[R],this.findPlaceforPrunedNode(O),O[2].add(O[0]),O[2].add(O[1],O[1].source,O[1].target);v.splice(v.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(v){var L,D,O=v[0];O==v[1].source?D=v[1].target:D=v[1].source;var R=D.startX,k=D.finishX,z=D.startY,B=D.finishY,U=0,H=0,V=0,W=0,X=[U,V,H,W];if(z>0)for(var j=R;j<=k;j++)X[0]+=this.grid[j][z-1].length+this.grid[j][z].length-1;if(k<this.grid.length-1)for(var j=z;j<=B;j++)X[1]+=this.grid[k+1][j].length+this.grid[k][j].length-1;if(B<this.grid[0].length-1)for(var j=R;j<=k;j++)X[2]+=this.grid[j][B+1].length+this.grid[j][B].length-1;if(R>0)for(var j=z;j<=B;j++)X[3]+=this.grid[R-1][j].length+this.grid[R][j].length-1;for(var K=b.MAX_VALUE,J,ne,ie=0;ie<X.length;ie++)X[ie]<K?(K=X[ie],J=1,ne=ie):X[ie]==K&&J++;if(J==3&&K==0)X[0]==0&&X[1]==0&&X[2]==0?L=1:X[0]==0&&X[1]==0&&X[3]==0?L=0:X[0]==0&&X[2]==0&&X[3]==0?L=3:X[1]==0&&X[2]==0&&X[3]==0&&(L=2);else if(J==2&&K==0){var oe=Math.floor(Math.random()*2);X[0]==0&&X[1]==0?oe==0?L=0:L=1:X[0]==0&&X[2]==0?oe==0?L=0:L=2:X[0]==0&&X[3]==0?oe==0?L=0:L=3:X[1]==0&&X[2]==0?oe==0?L=1:L=2:X[1]==0&&X[3]==0?oe==0?L=1:L=3:oe==0?L=2:L=3}else if(J==4&&K==0){var oe=Math.floor(Math.random()*4);L=oe}else L=ne;L==0?O.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-p.DEFAULT_EDGE_LENGTH-O.getHeight()/2):L==1?O.setCenter(D.getCenterX()+D.getWidth()/2+p.DEFAULT_EDGE_LENGTH+O.getWidth()/2,D.getCenterY()):L==2?O.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+p.DEFAULT_EDGE_LENGTH+O.getHeight()/2):O.setCenter(D.getCenterX()-D.getWidth()/2-p.DEFAULT_EDGE_LENGTH-O.getWidth()/2,D.getCenterY())},n.exports=A},function(n,a,i){var o={};o.layoutBase=i(0),o.CoSEConstants=i(1),o.CoSEEdge=i(2),o.CoSEGraph=i(3),o.CoSEGraphManager=i(4),o.CoSELayout=i(6),o.CoSENode=i(5),n.exports=o}])})}(No)),No.exports}(function(t,e){(function(n,a){t.exports=a(qb())})(zr,function(r){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=1)}([function(n,a){n.exports=r},function(n,a,i){var o=i(0).layoutBase.LayoutConstants,s=i(0).layoutBase.FDLayoutConstants,u=i(0).CoSEConstants,l=i(0).CoSELayout,f=i(0).CoSENode,h=i(0).layoutBase.PointD,p=i(0).layoutBase.DimensionD,d={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(T,E){var S={};for(var A in T)S[A]=T[A];for(var A in E)S[A]=E[A];return S}function m(T){this.options=g(d,T),w(this.options)}var w=function(E){E.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=E.nodeRepulsion),E.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=E.idealEdgeLength),E.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=E.edgeElasticity),E.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.quality=="draft"?o.QUALITY=0:E.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!E.randomize,u.ANIMATE=s.ANIMATE=o.ANIMATE=E.animate,u.TILE=E.tile,u.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal};m.prototype.run=function(){var T,E,S=this.options;this.idToLNode={};var A=this.layout=new l,I=this;I.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var v=A.newGraphManager();this.gm=v;var L=this.options.eles.nodes(),D=this.options.eles.edges();this.root=v.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(L),A);for(var O=0;O<D.length;O++){var R=D[O],k=this.idToLNode[R.data("source")],z=this.idToLNode[R.data("target")];if(k!==z&&k.getEdgesBetween(z).length==0){var B=v.add(A.newEdge(),k,z);B.id=R.id()}}var U=function(W,X){typeof W=="number"&&(W=X);var j=W.data("id"),K=I.idToLNode[j];return{x:K.getRect().getCenterX(),y:K.getRect().getCenterY()}},H=function V(){for(var W=function(){S.fit&&S.cy.fit(S.eles,S.padding),T||(T=!0,I.cy.one("layoutready",S.ready),I.cy.trigger({type:"layoutready",layout:I}))},X=I.options.refresh,j,K=0;K<X&&!j;K++)j=I.stopped||I.layout.tick();if(j){A.checkLayoutSuccess()&&!A.isSubLayout&&A.doPostLayout(),A.tilingPostLayout&&A.tilingPostLayout(),A.isLayoutFinished=!0,I.options.eles.nodes().positions(U),W(),I.cy.one("layoutstop",I.options.stop),I.cy.trigger({type:"layoutstop",layout:I}),E&&cancelAnimationFrame(E),T=!1;return}var J=I.layout.getPositionsData();S.eles.nodes().positions(function(ne,ie){if(typeof ne=="number"&&(ne=ie),!ne.isParent()){for(var oe=ne.id(),ue=J[oe],Z=ne;ue==null&&(ue=J[Z.data("parent")]||J["DummyCompound_"+Z.data("parent")],J[oe]=ue,Z=Z.parent()[0],Z!=null););return ue!=null?{x:ue.x,y:ue.y}:{x:ne.position("x"),y:ne.position("y")}}}),W(),E=requestAnimationFrame(V)};return A.addListener("layoutstarted",function(){I.options.animate==="during"&&(E=requestAnimationFrame(H))}),A.runLayout(),this.options.animate!=="during"&&(I.options.eles.nodes().not(":parent").layoutPositions(I,I.options,U),T=!1),this},m.prototype.getTopMostNodes=function(T){for(var E={},S=0;S<T.length;S++)E[T[S].id()]=!0;var A=T.filter(function(I,v){typeof I=="number"&&(I=v);for(var L=I.parent()[0];L!=null;){if(E[L.id()])return!1;L=L.parent()[0]}return!0});return A},m.prototype.processChildrenList=function(T,E,S){for(var A=E.length,I=0;I<A;I++){var v=E[I],L=v.children(),D,O=v.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(v.outerWidth()!=null&&v.outerHeight()!=null?D=T.add(new f(S.graphManager,new h(v.position("x")-O.w/2,v.position("y")-O.h/2),new p(parseFloat(O.w),parseFloat(O.h)))):D=T.add(new f(this.graphManager)),D.id=v.data("id"),D.paddingLeft=parseInt(v.css("padding")),D.paddingTop=parseInt(v.css("padding")),D.paddingRight=parseInt(v.css("padding")),D.paddingBottom=parseInt(v.css("padding")),this.options.nodeDimensionsIncludeLabels&&v.isParent()){var R=v.boundingBox({includeLabels:!0,includeNodes:!1}).w,k=v.boundingBox({includeLabels:!0,includeNodes:!1}).h,z=v.css("text-halign");D.labelWidth=R,D.labelHeight=k,D.labelPos=z}if(this.idToLNode[v.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),L!=null&&L.length>0){var B;B=S.getGraphManager().add(S.newGraph(),D),this.processChildrenList(B,L,S)}}},m.prototype.stop=function(){return this.stopped=!0,this};var b=function(E){E("layout","cose-bilkent",m)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})})(zf);var Vb=zf.exports;const Ub=Wo(Vb);var Gf={exports:{}},Io={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var el;function Yb(){return el||(el=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:zr,function(e,r){var n=[],a=Object.getPrototypeOf,i=n.slice,o=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},s=n.push,u=n.indexOf,l={},f=l.toString,h=l.hasOwnProperty,p=h.toString,d=p.call(Object),g={},m=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},w=function(y){return y!=null&&y===y.window},b=e.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function E(c,y,x){x=x||b;var C,M,N=x.createElement("script");if(N.text=c,y)for(C in T)M=y[C]||y.getAttribute&&y.getAttribute(C),M&&N.setAttribute(C,M);x.head.appendChild(N).parentNode.removeChild(N)}function S(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?l[f.call(c)]||"object":typeof c}var A="3.7.1",I=/HTML$/i,v=function(c,y){return new v.fn.init(c,y)};v.fn=v.prototype={jquery:A,constructor:v,length:0,toArray:function(){return i.call(this)},get:function(c){return c==null?i.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var y=v.merge(this.constructor(),c);return y.prevObject=this,y},each:function(c){return v.each(this,c)},map:function(c){return this.pushStack(v.map(this,function(y,x){return c.call(y,x,y)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(v.grep(this,function(c,y){return(y+1)%2}))},odd:function(){return this.pushStack(v.grep(this,function(c,y){return y%2}))},eq:function(c){var y=this.length,x=+c+(c<0?y:0);return this.pushStack(x>=0&&x<y?[this[x]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},v.extend=v.fn.extend=function(){var c,y,x,C,M,N,P=arguments[0]||{},Y=1,q=arguments.length,Q=!1;for(typeof P=="boolean"&&(Q=P,P=arguments[Y]||{},Y++),typeof P!="object"&&!m(P)&&(P={}),Y===q&&(P=this,Y--);Y<q;Y++)if((c=arguments[Y])!=null)for(y in c)C=c[y],!(y==="__proto__"||P===C)&&(Q&&C&&(v.isPlainObject(C)||(M=Array.isArray(C)))?(x=P[y],M&&!Array.isArray(x)?N=[]:!M&&!v.isPlainObject(x)?N={}:N=x,M=!1,P[y]=v.extend(Q,N,C)):C!==void 0&&(P[y]=C));return P},v.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var y,x;return!c||f.call(c)!=="[object Object]"?!1:(y=a(c),y?(x=h.call(y,"constructor")&&y.constructor,typeof x=="function"&&p.call(x)===d):!0)},isEmptyObject:function(c){var y;for(y in c)return!1;return!0},globalEval:function(c,y,x){E(c,{nonce:y&&y.nonce},x)},each:function(c,y){var x,C=0;if(L(c))for(x=c.length;C<x&&y.call(c[C],C,c[C])!==!1;C++);else for(C in c)if(y.call(c[C],C,c[C])===!1)break;return c},text:function(c){var y,x="",C=0,M=c.nodeType;if(!M)for(;y=c[C++];)x+=v.text(y);return M===1||M===11?c.textContent:M===9?c.documentElement.textContent:M===3||M===4?c.nodeValue:x},makeArray:function(c,y){var x=y||[];return c!=null&&(L(Object(c))?v.merge(x,typeof c=="string"?[c]:c):s.call(x,c)),x},inArray:function(c,y,x){return y==null?-1:u.call(y,c,x)},isXMLDoc:function(c){var y=c&&c.namespaceURI,x=c&&(c.ownerDocument||c).documentElement;return!I.test(y||x&&x.nodeName||"HTML")},merge:function(c,y){for(var x=+y.length,C=0,M=c.length;C<x;C++)c[M++]=y[C];return c.length=M,c},grep:function(c,y,x){for(var C,M=[],N=0,P=c.length,Y=!x;N<P;N++)C=!y(c[N],N),C!==Y&&M.push(c[N]);return M},map:function(c,y,x){var C,M,N=0,P=[];if(L(c))for(C=c.length;N<C;N++)M=y(c[N],N,x),M!=null&&P.push(M);else for(N in c)M=y(c[N],N,x),M!=null&&P.push(M);return o(P)},guid:1,support:g}),typeof Symbol=="function"&&(v.fn[Symbol.iterator]=n[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,y){l["[object "+y+"]"]=y.toLowerCase()});function L(c){var y=!!c&&"length"in c&&c.length,x=S(c);return m(c)||w(c)?!1:x==="array"||y===0||typeof y=="number"&&y>0&&y-1 in c}function D(c,y){return c.nodeName&&c.nodeName.toLowerCase()===y.toLowerCase()}var O=n.pop,R=n.sort,k=n.splice,z="[\\x20\\t\\r\\n\\f]",B=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g");v.contains=function(c,y){var x=y&&y.parentNode;return c===x||!!(x&&x.nodeType===1&&(c.contains?c.contains(x):c.compareDocumentPosition&&c.compareDocumentPosition(x)&16))};var U=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function H(c,y){return y?c==="\0"?"":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}v.escapeSelector=function(c){return(c+"").replace(U,H)};var V=b,W=s;(function(){var c,y,x,C,M,N=W,P,Y,q,Q,se,ve=v.expando,re=0,Te=0,Xe=ei(),rt=ei(),Qe=ei(),Ft=ei(),At=function(G,_){return G===_&&(M=!0),0},Cr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dr="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",tt="\\["+z+"*("+Dr+")(?:"+z+"*([*^$|!~]?=)"+z+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Dr+"))|)"+z+"*\\]",pn=":("+Dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+tt+")*)|.*)\\)|)",at=new RegExp(z+"+","g"),xt=new RegExp("^"+z+"*,"+z+"*"),ca=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),lo=new RegExp(z+"|>"),Sr=new RegExp(pn),ha=new RegExp("^"+Dr+"$"),Lr={ID:new RegExp("^#("+Dr+")"),CLASS:new RegExp("^\\.("+Dr+")"),TAG:new RegExp("^("+Dr+"|[*])"),ATTR:new RegExp("^"+tt),PSEUDO:new RegExp("^"+pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+Cr+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},_r=/^(?:input|select|textarea|button)$/i,Kr=/^h\d$/i,hr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fo=/[+~]/,Br=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),Fr=function(G,_){var te="0x"+G.slice(1)-65536;return _||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,te&1023|56320))},cc=function(){Zr()},hc=ri(function(G){return G.disabled===!0&&D(G,"fieldset")},{dir:"parentNode",next:"legend"});function vc(){try{return P.activeElement}catch{}}try{N.apply(n=i.call(V.childNodes),V.childNodes),n[V.childNodes.length].nodeType}catch{N={apply:function(_,te){W.apply(_,i.call(te))},call:function(_){W.apply(_,i.call(arguments,1))}}}function ct(G,_,te,ae){var he,Le,Ne,Be,Oe,Je,Ue,_e=_&&_.ownerDocument,et=_?_.nodeType:9;if(te=te||[],typeof G!="string"||!G||et!==1&&et!==9&&et!==11)return te;if(!ae&&(Zr(_),_=_||P,q)){if(et!==11&&(Oe=hr.exec(G)))if(he=Oe[1]){if(et===9)if(Ne=_.getElementById(he)){if(Ne.id===he)return N.call(te,Ne),te}else return te;else if(_e&&(Ne=_e.getElementById(he))&&ct.contains(_,Ne)&&Ne.id===he)return N.call(te,Ne),te}else{if(Oe[2])return N.apply(te,_.getElementsByTagName(G)),te;if((he=Oe[3])&&_.getElementsByClassName)return N.apply(te,_.getElementsByClassName(he)),te}if(!Ft[G+" "]&&(!Q||!Q.test(G))){if(Ue=G,_e=_,et===1&&(lo.test(G)||ca.test(G))){for(_e=fo.test(G)&&co(_.parentNode)||_,(_e!=_||!g.scope)&&((Be=_.getAttribute("id"))?Be=v.escapeSelector(Be):_.setAttribute("id",Be=ve)),Je=va(G),Le=Je.length;Le--;)Je[Le]=(Be?"#"+Be:":scope")+" "+ti(Je[Le]);Ue=Je.join(",")}try{return N.apply(te,_e.querySelectorAll(Ue)),te}catch{Ft(G,!0)}finally{Be===ve&&_.removeAttribute("id")}}}return Ps(G.replace(B,"$1"),_,te,ae)}function ei(){var G=[];function _(te,ae){return G.push(te+" ")>y.cacheLength&&delete _[G.shift()],_[te+" "]=ae}return _}function mr(G){return G[ve]=!0,G}function In(G){var _=P.createElement("fieldset");try{return!!G(_)}catch{return!1}finally{_.parentNode&&_.parentNode.removeChild(_),_=null}}function dc(G){return function(_){return D(_,"input")&&_.type===G}}function gc(G){return function(_){return(D(_,"input")||D(_,"button"))&&_.type===G}}function ks(G){return function(_){return"form"in _?_.parentNode&&_.disabled===!1?"label"in _?"label"in _.parentNode?_.parentNode.disabled===G:_.disabled===G:_.isDisabled===G||_.isDisabled!==!G&&hc(_)===G:_.disabled===G:"label"in _?_.disabled===G:!1}}function yn(G){return mr(function(_){return _=+_,mr(function(te,ae){for(var he,Le=G([],te.length,_),Ne=Le.length;Ne--;)te[he=Le[Ne]]&&(te[he]=!(ae[he]=te[he]))})})}function co(G){return G&&typeof G.getElementsByTagName<"u"&&G}function Zr(G){var _,te=G?G.ownerDocument||G:V;return te==P||te.nodeType!==9||!te.documentElement||(P=te,Y=P.documentElement,q=!v.isXMLDoc(P),se=Y.matches||Y.webkitMatchesSelector||Y.msMatchesSelector,Y.msMatchesSelector&&V!=P&&(_=P.defaultView)&&_.top!==_&&_.addEventListener("unload",cc),g.getById=In(function(ae){return Y.appendChild(ae).id=v.expando,!P.getElementsByName||!P.getElementsByName(v.expando).length}),g.disconnectedMatch=In(function(ae){return se.call(ae,"*")}),g.scope=In(function(){return P.querySelectorAll(":scope")}),g.cssHas=In(function(){try{return P.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(y.filter.ID=function(ae){var he=ae.replace(Br,Fr);return function(Le){return Le.getAttribute("id")===he}},y.find.ID=function(ae,he){if(typeof he.getElementById<"u"&&q){var Le=he.getElementById(ae);return Le?[Le]:[]}}):(y.filter.ID=function(ae){var he=ae.replace(Br,Fr);return function(Le){var Ne=typeof Le.getAttributeNode<"u"&&Le.getAttributeNode("id");return Ne&&Ne.value===he}},y.find.ID=function(ae,he){if(typeof he.getElementById<"u"&&q){var Le,Ne,Be,Oe=he.getElementById(ae);if(Oe){if(Le=Oe.getAttributeNode("id"),Le&&Le.value===ae)return[Oe];for(Be=he.getElementsByName(ae),Ne=0;Oe=Be[Ne++];)if(Le=Oe.getAttributeNode("id"),Le&&Le.value===ae)return[Oe]}return[]}}),y.find.TAG=function(ae,he){return typeof he.getElementsByTagName<"u"?he.getElementsByTagName(ae):he.querySelectorAll(ae)},y.find.CLASS=function(ae,he){if(typeof he.getElementsByClassName<"u"&&q)return he.getElementsByClassName(ae)},Q=[],In(function(ae){var he;Y.appendChild(ae).innerHTML="<a id='"+ve+"' href='' disabled='disabled'></a><select id='"+ve+"-\r\\' disabled='disabled'><option selected=''></option></select>",ae.querySelectorAll("[selected]").length||Q.push("\\["+z+"*(?:value|"+Cr+")"),ae.querySelectorAll("[id~="+ve+"-]").length||Q.push("~="),ae.querySelectorAll("a#"+ve+"+*").length||Q.push(".#.+[+~]"),ae.querySelectorAll(":checked").length||Q.push(":checked"),he=P.createElement("input"),he.setAttribute("type","hidden"),ae.appendChild(he).setAttribute("name","D"),Y.appendChild(ae).disabled=!0,ae.querySelectorAll(":disabled").length!==2&&Q.push(":enabled",":disabled"),he=P.createElement("input"),he.setAttribute("name",""),ae.appendChild(he),ae.querySelectorAll("[name='']").length||Q.push("\\["+z+"*name"+z+"*="+z+`*(?:''|"")`)}),g.cssHas||Q.push(":has"),Q=Q.length&&new RegExp(Q.join("|")),At=function(ae,he){if(ae===he)return M=!0,0;var Le=!ae.compareDocumentPosition-!he.compareDocumentPosition;return Le||(Le=(ae.ownerDocument||ae)==(he.ownerDocument||he)?ae.compareDocumentPosition(he):1,Le&1||!g.sortDetached&&he.compareDocumentPosition(ae)===Le?ae===P||ae.ownerDocument==V&&ct.contains(V,ae)?-1:he===P||he.ownerDocument==V&&ct.contains(V,he)?1:C?u.call(C,ae)-u.call(C,he):0:Le&4?-1:1)}),P}ct.matches=function(G,_){return ct(G,null,null,_)},ct.matchesSelector=function(G,_){if(Zr(G),q&&!Ft[_+" "]&&(!Q||!Q.test(_)))try{var te=se.call(G,_);if(te||g.disconnectedMatch||G.document&&G.document.nodeType!==11)return te}catch{Ft(_,!0)}return ct(_,P,null,[G]).length>0},ct.contains=function(G,_){return(G.ownerDocument||G)!=P&&Zr(G),v.contains(G,_)},ct.attr=function(G,_){(G.ownerDocument||G)!=P&&Zr(G);var te=y.attrHandle[_.toLowerCase()],ae=te&&h.call(y.attrHandle,_.toLowerCase())?te(G,_,!q):void 0;return ae!==void 0?ae:G.getAttribute(_)},ct.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},v.uniqueSort=function(G){var _,te=[],ae=0,he=0;if(M=!g.sortStable,C=!g.sortStable&&i.call(G,0),R.call(G,At),M){for(;_=G[he++];)_===G[he]&&(ae=te.push(he));for(;ae--;)k.call(G,te[ae],1)}return C=null,G},v.fn.uniqueSort=function(){return this.pushStack(v.uniqueSort(i.apply(this)))},y=v.expr={cacheLength:50,createPseudo:mr,match:Lr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Br,Fr),G[3]=(G[3]||G[4]||G[5]||"").replace(Br,Fr),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||ct.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&ct.error(G[0]),G},PSEUDO:function(G){var _,te=!G[6]&&G[2];return Lr.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":te&&Sr.test(te)&&(_=va(te,!0))&&(_=te.indexOf(")",te.length-_)-te.length)&&(G[0]=G[0].slice(0,_),G[2]=te.slice(0,_)),G.slice(0,3))}},filter:{TAG:function(G){var _=G.replace(Br,Fr).toLowerCase();return G==="*"?function(){return!0}:function(te){return D(te,_)}},CLASS:function(G){var _=Xe[G+" "];return _||(_=new RegExp("(^|"+z+")"+G+"("+z+"|$)"))&&Xe(G,function(te){return _.test(typeof te.className=="string"&&te.className||typeof te.getAttribute<"u"&&te.getAttribute("class")||"")})},ATTR:function(G,_,te){return function(ae){var he=ct.attr(ae,G);return he==null?_==="!=":_?(he+="",_==="="?he===te:_==="!="?he!==te:_==="^="?te&&he.indexOf(te)===0:_==="*="?te&&he.indexOf(te)>-1:_==="$="?te&&he.slice(-te.length)===te:_==="~="?(" "+he.replace(at," ")+" ").indexOf(te)>-1:_==="|="?he===te||he.slice(0,te.length+1)===te+"-":!1):!0}},CHILD:function(G,_,te,ae,he){var Le=G.slice(0,3)!=="nth",Ne=G.slice(-4)!=="last",Be=_==="of-type";return ae===1&&he===0?function(Oe){return!!Oe.parentNode}:function(Oe,Je,Ue){var _e,et,$e,gt,ar,Yt=Le!==Ne?"nextSibling":"previousSibling",vr=Oe.parentNode,Ar=Be&&Oe.nodeName.toLowerCase(),kn=!Ue&&!Be,Jt=!1;if(vr){if(Le){for(;Yt;){for($e=Oe;$e=$e[Yt];)if(Be?D($e,Ar):$e.nodeType===1)return!1;ar=Yt=G==="only"&&!ar&&"nextSibling"}return!0}if(ar=[Ne?vr.firstChild:vr.lastChild],Ne&&kn){for(et=vr[ve]||(vr[ve]={}),_e=et[G]||[],gt=_e[0]===re&&_e[1],Jt=gt&&_e[2],$e=gt&&vr.childNodes[gt];$e=++gt&&$e&&$e[Yt]||(Jt=gt=0)||ar.pop();)if($e.nodeType===1&&++Jt&&$e===Oe){et[G]=[re,gt,Jt];break}}else if(kn&&(et=Oe[ve]||(Oe[ve]={}),_e=et[G]||[],gt=_e[0]===re&&_e[1],Jt=gt),Jt===!1)for(;($e=++gt&&$e&&$e[Yt]||(Jt=gt=0)||ar.pop())&&!((Be?D($e,Ar):$e.nodeType===1)&&++Jt&&(kn&&(et=$e[ve]||($e[ve]={}),et[G]=[re,Jt]),$e===Oe)););return Jt-=he,Jt===ae||Jt%ae===0&&Jt/ae>=0}}},PSEUDO:function(G,_){var te,ae=y.pseudos[G]||y.setFilters[G.toLowerCase()]||ct.error("unsupported pseudo: "+G);return ae[ve]?ae(_):ae.length>1?(te=[G,G,"",_],y.setFilters.hasOwnProperty(G.toLowerCase())?mr(function(he,Le){for(var Ne,Be=ae(he,_),Oe=Be.length;Oe--;)Ne=u.call(he,Be[Oe]),he[Ne]=!(Le[Ne]=Be[Oe])}):function(he){return ae(he,0,te)}):ae}},pseudos:{not:mr(function(G){var _=[],te=[],ae=po(G.replace(B,"$1"));return ae[ve]?mr(function(he,Le,Ne,Be){for(var Oe,Je=ae(he,null,Be,[]),Ue=he.length;Ue--;)(Oe=Je[Ue])&&(he[Ue]=!(Le[Ue]=Oe))}):function(he,Le,Ne){return _[0]=he,ae(_,null,Ne,te),_[0]=null,!te.pop()}}),has:mr(function(G){return function(_){return ct(G,_).length>0}}),contains:mr(function(G){return G=G.replace(Br,Fr),function(_){return(_.textContent||v.text(_)).indexOf(G)>-1}}),lang:mr(function(G){return ha.test(G||"")||ct.error("unsupported lang: "+G),G=G.replace(Br,Fr).toLowerCase(),function(_){var te;do if(te=q?_.lang:_.getAttribute("xml:lang")||_.getAttribute("lang"))return te=te.toLowerCase(),te===G||te.indexOf(G+"-")===0;while((_=_.parentNode)&&_.nodeType===1);return!1}}),target:function(G){var _=e.location&&e.location.hash;return _&&_.slice(1)===G.id},root:function(G){return G===Y},focus:function(G){return G===vc()&&P.hasFocus()&&!!(G.type||G.href||~G.tabIndex)},enabled:ks(!1),disabled:ks(!0),checked:function(G){return D(G,"input")&&!!G.checked||D(G,"option")&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!y.pseudos.empty(G)},header:function(G){return Kr.test(G.nodeName)},input:function(G){return _r.test(G.nodeName)},button:function(G){return D(G,"input")&&G.type==="button"||D(G,"button")},text:function(G){var _;return D(G,"input")&&G.type==="text"&&((_=G.getAttribute("type"))==null||_.toLowerCase()==="text")},first:yn(function(){return[0]}),last:yn(function(G,_){return[_-1]}),eq:yn(function(G,_,te){return[te<0?te+_:te]}),even:yn(function(G,_){for(var te=0;te<_;te+=2)G.push(te);return G}),odd:yn(function(G,_){for(var te=1;te<_;te+=2)G.push(te);return G}),lt:yn(function(G,_,te){var ae;for(te<0?ae=te+_:te>_?ae=_:ae=te;--ae>=0;)G.push(ae);return G}),gt:yn(function(G,_,te){for(var ae=te<0?te+_:te;++ae<_;)G.push(ae);return G})}},y.pseudos.nth=y.pseudos.eq;for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[c]=dc(c);for(c in{submit:!0,reset:!0})y.pseudos[c]=gc(c);function Rs(){}Rs.prototype=y.filters=y.pseudos,y.setFilters=new Rs;function va(G,_){var te,ae,he,Le,Ne,Be,Oe,Je=rt[G+" "];if(Je)return _?0:Je.slice(0);for(Ne=G,Be=[],Oe=y.preFilter;Ne;){(!te||(ae=xt.exec(Ne)))&&(ae&&(Ne=Ne.slice(ae[0].length)||Ne),Be.push(he=[])),te=!1,(ae=ca.exec(Ne))&&(te=ae.shift(),he.push({value:te,type:ae[0].replace(B," ")}),Ne=Ne.slice(te.length));for(Le in y.filter)(ae=Lr[Le].exec(Ne))&&(!Oe[Le]||(ae=Oe[Le](ae)))&&(te=ae.shift(),he.push({value:te,type:Le,matches:ae}),Ne=Ne.slice(te.length));if(!te)break}return _?Ne.length:Ne?ct.error(G):rt(G,Be).slice(0)}function ti(G){for(var _=0,te=G.length,ae="";_<te;_++)ae+=G[_].value;return ae}function ri(G,_,te){var ae=_.dir,he=_.next,Le=he||ae,Ne=te&&Le==="parentNode",Be=Te++;return _.first?function(Oe,Je,Ue){for(;Oe=Oe[ae];)if(Oe.nodeType===1||Ne)return G(Oe,Je,Ue);return!1}:function(Oe,Je,Ue){var _e,et,$e=[re,Be];if(Ue){for(;Oe=Oe[ae];)if((Oe.nodeType===1||Ne)&&G(Oe,Je,Ue))return!0}else for(;Oe=Oe[ae];)if(Oe.nodeType===1||Ne)if(et=Oe[ve]||(Oe[ve]={}),he&&D(Oe,he))Oe=Oe[ae]||Oe;else{if((_e=et[Le])&&_e[0]===re&&_e[1]===Be)return $e[2]=_e[2];if(et[Le]=$e,$e[2]=G(Oe,Je,Ue))return!0}return!1}}function ho(G){return G.length>1?function(_,te,ae){for(var he=G.length;he--;)if(!G[he](_,te,ae))return!1;return!0}:G[0]}function pc(G,_,te){for(var ae=0,he=_.length;ae<he;ae++)ct(G,_[ae],te);return te}function ni(G,_,te,ae,he){for(var Le,Ne=[],Be=0,Oe=G.length,Je=_!=null;Be<Oe;Be++)(Le=G[Be])&&(!te||te(Le,ae,he))&&(Ne.push(Le),Je&&_.push(Be));return Ne}function vo(G,_,te,ae,he,Le){return ae&&!ae[ve]&&(ae=vo(ae)),he&&!he[ve]&&(he=vo(he,Le)),mr(function(Ne,Be,Oe,Je){var Ue,_e,et,$e,gt=[],ar=[],Yt=Be.length,vr=Ne||pc(_||"*",Oe.nodeType?[Oe]:Oe,[]),Ar=G&&(Ne||!_)?ni(vr,gt,G,Oe,Je):vr;if(te?($e=he||(Ne?G:Yt||ae)?[]:Be,te(Ar,$e,Oe,Je)):$e=Ar,ae)for(Ue=ni($e,ar),ae(Ue,[],Oe,Je),_e=Ue.length;_e--;)(et=Ue[_e])&&($e[ar[_e]]=!(Ar[ar[_e]]=et));if(Ne){if(he||G){if(he){for(Ue=[],_e=$e.length;_e--;)(et=$e[_e])&&Ue.push(Ar[_e]=et);he(null,$e=[],Ue,Je)}for(_e=$e.length;_e--;)(et=$e[_e])&&(Ue=he?u.call(Ne,et):gt[_e])>-1&&(Ne[Ue]=!(Be[Ue]=et))}}else $e=ni($e===Be?$e.splice(Yt,$e.length):$e),he?he(null,Be,$e,Je):N.apply(Be,$e)})}function go(G){for(var _,te,ae,he=G.length,Le=y.relative[G[0].type],Ne=Le||y.relative[" "],Be=Le?1:0,Oe=ri(function(_e){return _e===_},Ne,!0),Je=ri(function(_e){return u.call(_,_e)>-1},Ne,!0),Ue=[function(_e,et,$e){var gt=!Le&&($e||et!=x)||((_=et).nodeType?Oe(_e,et,$e):Je(_e,et,$e));return _=null,gt}];Be<he;Be++)if(te=y.relative[G[Be].type])Ue=[ri(ho(Ue),te)];else{if(te=y.filter[G[Be].type].apply(null,G[Be].matches),te[ve]){for(ae=++Be;ae<he&&!y.relative[G[ae].type];ae++);return vo(Be>1&&ho(Ue),Be>1&&ti(G.slice(0,Be-1).concat({value:G[Be-2].type===" "?"*":""})).replace(B,"$1"),te,Be<ae&&go(G.slice(Be,ae)),ae<he&&go(G=G.slice(ae)),ae<he&&ti(G))}Ue.push(te)}return ho(Ue)}function yc(G,_){var te=_.length>0,ae=G.length>0,he=function(Le,Ne,Be,Oe,Je){var Ue,_e,et,$e=0,gt="0",ar=Le&&[],Yt=[],vr=x,Ar=Le||ae&&y.find.TAG("*",Je),kn=re+=vr==null?1:Math.random()||.1,Jt=Ar.length;for(Je&&(x=Ne==P||Ne||Je);gt!==Jt&&(Ue=Ar[gt])!=null;gt++){if(ae&&Ue){for(_e=0,!Ne&&Ue.ownerDocument!=P&&(Zr(Ue),Be=!q);et=G[_e++];)if(et(Ue,Ne||P,Be)){N.call(Oe,Ue);break}Je&&(re=kn)}te&&((Ue=!et&&Ue)&&$e--,Le&&ar.push(Ue))}if($e+=gt,te&&gt!==$e){for(_e=0;et=_[_e++];)et(ar,Yt,Ne,Be);if(Le){if($e>0)for(;gt--;)ar[gt]||Yt[gt]||(Yt[gt]=O.call(Oe));Yt=ni(Yt)}N.apply(Oe,Yt),Je&&!Le&&Yt.length>0&&$e+_.length>1&&v.uniqueSort(Oe)}return Je&&(re=kn,x=vr),ar};return te?mr(he):he}function po(G,_){var te,ae=[],he=[],Le=Qe[G+" "];if(!Le){for(_||(_=va(G)),te=_.length;te--;)Le=go(_[te]),Le[ve]?ae.push(Le):he.push(Le);Le=Qe(G,yc(he,ae)),Le.selector=G}return Le}function Ps(G,_,te,ae){var he,Le,Ne,Be,Oe,Je=typeof G=="function"&&G,Ue=!ae&&va(G=Je.selector||G);if(te=te||[],Ue.length===1){if(Le=Ue[0]=Ue[0].slice(0),Le.length>2&&(Ne=Le[0]).type==="ID"&&_.nodeType===9&&q&&y.relative[Le[1].type]){if(_=(y.find.ID(Ne.matches[0].replace(Br,Fr),_)||[])[0],_)Je&&(_=_.parentNode);else return te;G=G.slice(Le.shift().value.length)}for(he=Lr.needsContext.test(G)?0:Le.length;he--&&(Ne=Le[he],!y.relative[Be=Ne.type]);)if((Oe=y.find[Be])&&(ae=Oe(Ne.matches[0].replace(Br,Fr),fo.test(Le[0].type)&&co(_.parentNode)||_))){if(Le.splice(he,1),G=ae.length&&ti(Le),!G)return N.apply(te,ae),te;break}}return(Je||po(G,Ue))(ae,_,!q,te,!_||fo.test(G)&&co(_.parentNode)||_),te}g.sortStable=ve.split("").sort(At).join("")===ve,Zr(),g.sortDetached=In(function(G){return G.compareDocumentPosition(P.createElement("fieldset"))&1}),v.find=ct,v.expr[":"]=v.expr.pseudos,v.unique=v.uniqueSort,ct.compile=po,ct.select=Ps,ct.setDocument=Zr,ct.tokenize=va,ct.escape=v.escapeSelector,ct.getText=v.text,ct.isXML=v.isXMLDoc,ct.selectors=v.expr,ct.support=v.support,ct.uniqueSort=v.uniqueSort})();var X=function(c,y,x){for(var C=[],M=x!==void 0;(c=c[y])&&c.nodeType!==9;)if(c.nodeType===1){if(M&&v(c).is(x))break;C.push(c)}return C},j=function(c,y){for(var x=[];c;c=c.nextSibling)c.nodeType===1&&c!==y&&x.push(c);return x},K=v.expr.match.needsContext,J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ne(c,y,x){return m(y)?v.grep(c,function(C,M){return!!y.call(C,M,C)!==x}):y.nodeType?v.grep(c,function(C){return C===y!==x}):typeof y!="string"?v.grep(c,function(C){return u.call(y,C)>-1!==x}):v.filter(y,c,x)}v.filter=function(c,y,x){var C=y[0];return x&&(c=":not("+c+")"),y.length===1&&C.nodeType===1?v.find.matchesSelector(C,c)?[C]:[]:v.find.matches(c,v.grep(y,function(M){return M.nodeType===1}))},v.fn.extend({find:function(c){var y,x,C=this.length,M=this;if(typeof c!="string")return this.pushStack(v(c).filter(function(){for(y=0;y<C;y++)if(v.contains(M[y],this))return!0}));for(x=this.pushStack([]),y=0;y<C;y++)v.find(c,M[y],x);return C>1?v.uniqueSort(x):x},filter:function(c){return this.pushStack(ne(this,c||[],!1))},not:function(c){return this.pushStack(ne(this,c||[],!0))},is:function(c){return!!ne(this,typeof c=="string"&&K.test(c)?v(c):c||[],!1).length}});var ie,oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ue=v.fn.init=function(c,y,x){var C,M;if(!c)return this;if(x=x||ie,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?C=[null,c,null]:C=oe.exec(c),C&&(C[1]||!y))if(C[1]){if(y=y instanceof v?y[0]:y,v.merge(this,v.parseHTML(C[1],y&&y.nodeType?y.ownerDocument||y:b,!0)),J.test(C[1])&&v.isPlainObject(y))for(C in y)m(this[C])?this[C](y[C]):this.attr(C,y[C]);return this}else return M=b.getElementById(C[2]),M&&(this[0]=M,this.length=1),this;else return!y||y.jquery?(y||x).find(c):this.constructor(y).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(m(c))return x.ready!==void 0?x.ready(c):c(v)}return v.makeArray(c,this)};ue.prototype=v.fn,ie=v(b);var Z=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(c){var y=v(c,this),x=y.length;return this.filter(function(){for(var C=0;C<x;C++)if(v.contains(this,y[C]))return!0})},closest:function(c,y){var x,C=0,M=this.length,N=[],P=typeof c!="string"&&v(c);if(!K.test(c)){for(;C<M;C++)for(x=this[C];x&&x!==y;x=x.parentNode)if(x.nodeType<11&&(P?P.index(x)>-1:x.nodeType===1&&v.find.matchesSelector(x,c))){N.push(x);break}}return this.pushStack(N.length>1?v.uniqueSort(N):N)},index:function(c){return c?typeof c=="string"?u.call(v(c),this[0]):u.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,y){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(c,y))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function ce(c,y){for(;(c=c[y])&&c.nodeType!==1;);return c}v.each({parent:function(c){var y=c.parentNode;return y&&y.nodeType!==11?y:null},parents:function(c){return X(c,"parentNode")},parentsUntil:function(c,y,x){return X(c,"parentNode",x)},next:function(c){return ce(c,"nextSibling")},prev:function(c){return ce(c,"previousSibling")},nextAll:function(c){return X(c,"nextSibling")},prevAll:function(c){return X(c,"previousSibling")},nextUntil:function(c,y,x){return X(c,"nextSibling",x)},prevUntil:function(c,y,x){return X(c,"previousSibling",x)},siblings:function(c){return j((c.parentNode||{}).firstChild,c)},children:function(c){return j(c.firstChild)},contents:function(c){return c.contentDocument!=null&&a(c.contentDocument)?c.contentDocument:(D(c,"template")&&(c=c.content||c),v.merge([],c.childNodes))}},function(c,y){v.fn[c]=function(x,C){var M=v.map(this,y,x);return c.slice(-5)!=="Until"&&(C=x),C&&typeof C=="string"&&(M=v.filter(C,M)),this.length>1&&(fe[c]||v.uniqueSort(M),Z.test(c)&&M.reverse()),this.pushStack(M)}});var be=/[^\x20\t\r\n\f]+/g;function Ce(c){var y={};return v.each(c.match(be)||[],function(x,C){y[C]=!0}),y}v.Callbacks=function(c){c=typeof c=="string"?Ce(c):v.extend({},c);var y,x,C,M,N=[],P=[],Y=-1,q=function(){for(M=M||c.once,C=y=!0;P.length;Y=-1)for(x=P.shift();++Y<N.length;)N[Y].apply(x[0],x[1])===!1&&c.stopOnFalse&&(Y=N.length,x=!1);c.memory||(x=!1),y=!1,M&&(x?N=[]:N="")},Q={add:function(){return N&&(x&&!y&&(Y=N.length-1,P.push(x)),function se(ve){v.each(ve,function(re,Te){m(Te)?(!c.unique||!Q.has(Te))&&N.push(Te):Te&&Te.length&&S(Te)!=="string"&&se(Te)})}(arguments),x&&!y&&q()),this},remove:function(){return v.each(arguments,function(se,ve){for(var re;(re=v.inArray(ve,N,re))>-1;)N.splice(re,1),re<=Y&&Y--}),this},has:function(se){return se?v.inArray(se,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return M=P=[],N=x="",this},disabled:function(){return!N},lock:function(){return M=P=[],!x&&!y&&(N=x=""),this},locked:function(){return!!M},fireWith:function(se,ve){return M||(ve=ve||[],ve=[se,ve.slice?ve.slice():ve],P.push(ve),y||q()),this},fire:function(){return Q.fireWith(this,arguments),this},fired:function(){return!!C}};return Q};function Fe(c){return c}function He(c){throw c}function De(c,y,x,C){var M;try{c&&m(M=c.promise)?M.call(c).done(y).fail(x):c&&m(M=c.then)?M.call(c,y,x):y.apply(void 0,[c].slice(C))}catch(N){x.apply(void 0,[N])}}v.extend({Deferred:function(c){var y=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],x="pending",C={state:function(){return x},always:function(){return M.done(arguments).fail(arguments),this},catch:function(N){return C.then(null,N)},pipe:function(){var N=arguments;return v.Deferred(function(P){v.each(y,function(Y,q){var Q=m(N[q[4]])&&N[q[4]];M[q[1]](function(){var se=Q&&Q.apply(this,arguments);se&&m(se.promise)?se.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[q[0]+"With"](this,Q?[se]:arguments)})}),N=null}).promise()},then:function(N,P,Y){var q=0;function Q(se,ve,re,Te){return function(){var Xe=this,rt=arguments,Qe=function(){var At,Cr;if(!(se<q)){if(At=re.apply(Xe,rt),At===ve.promise())throw new TypeError("Thenable self-resolution");Cr=At&&(typeof At=="object"||typeof At=="function")&&At.then,m(Cr)?Te?Cr.call(At,Q(q,ve,Fe,Te),Q(q,ve,He,Te)):(q++,Cr.call(At,Q(q,ve,Fe,Te),Q(q,ve,He,Te),Q(q,ve,Fe,ve.notifyWith))):(re!==Fe&&(Xe=void 0,rt=[At]),(Te||ve.resolveWith)(Xe,rt))}},Ft=Te?Qe:function(){try{Qe()}catch(At){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(At,Ft.error),se+1>=q&&(re!==He&&(Xe=void 0,rt=[At]),ve.rejectWith(Xe,rt))}};se?Ft():(v.Deferred.getErrorHook?Ft.error=v.Deferred.getErrorHook():v.Deferred.getStackHook&&(Ft.error=v.Deferred.getStackHook()),e.setTimeout(Ft))}}return v.Deferred(function(se){y[0][3].add(Q(0,se,m(Y)?Y:Fe,se.notifyWith)),y[1][3].add(Q(0,se,m(N)?N:Fe)),y[2][3].add(Q(0,se,m(P)?P:He))}).promise()},promise:function(N){return N!=null?v.extend(N,C):C}},M={};return v.each(y,function(N,P){var Y=P[2],q=P[5];C[P[1]]=Y.add,q&&Y.add(function(){x=q},y[3-N][2].disable,y[3-N][3].disable,y[0][2].lock,y[0][3].lock),Y.add(P[3].fire),M[P[0]]=function(){return M[P[0]+"With"](this===M?void 0:this,arguments),this},M[P[0]+"With"]=Y.fireWith}),C.promise(M),c&&c.call(M,M),M},when:function(c){var y=arguments.length,x=y,C=Array(x),M=i.call(arguments),N=v.Deferred(),P=function(Y){return function(q){C[Y]=this,M[Y]=arguments.length>1?i.call(arguments):q,--y||N.resolveWith(C,M)}};if(y<=1&&(De(c,N.done(P(x)).resolve,N.reject,!y),N.state()==="pending"||m(M[x]&&M[x].then)))return N.then();for(;x--;)De(M[x],P(x),N.reject);return N.promise()}});var le=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(c,y){e.console&&e.console.warn&&c&&le.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,y)},v.readyException=function(c){e.setTimeout(function(){throw c})};var me=v.Deferred();v.fn.ready=function(c){return me.then(c).catch(function(y){v.readyException(y)}),this},v.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--v.readyWait:v.isReady)||(v.isReady=!0,!(c!==!0&&--v.readyWait>0)&&me.resolveWith(b,[v]))}}),v.ready.then=me.then;function xe(){b.removeEventListener("DOMContentLoaded",xe),e.removeEventListener("load",xe),v.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(v.ready):(b.addEventListener("DOMContentLoaded",xe),e.addEventListener("load",xe));var pe=function(c,y,x,C,M,N,P){var Y=0,q=c.length,Q=x==null;if(S(x)==="object"){M=!0;for(Y in x)pe(c,y,Y,x[Y],!0,N,P)}else if(C!==void 0&&(M=!0,m(C)||(P=!0),Q&&(P?(y.call(c,C),y=null):(Q=y,y=function(se,ve,re){return Q.call(v(se),re)})),y))for(;Y<q;Y++)y(c[Y],x,P?C:C.call(c[Y],Y,y(c[Y],x)));return M?c:Q?y.call(c):q?y(c[0],x):N},Se=/^-ms-/,ke=/-([a-z])/g;function Re(c,y){return y.toUpperCase()}function Me(c){return c.replace(Se,"ms-").replace(ke,Re)}var ze=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function ye(){this.expando=v.expando+ye.uid++}ye.uid=1,ye.prototype={cache:function(c){var y=c[this.expando];return y||(y={},ze(c)&&(c.nodeType?c[this.expando]=y:Object.defineProperty(c,this.expando,{value:y,configurable:!0}))),y},set:function(c,y,x){var C,M=this.cache(c);if(typeof y=="string")M[Me(y)]=x;else for(C in y)M[Me(C)]=y[C];return M},get:function(c,y){return y===void 0?this.cache(c):c[this.expando]&&c[this.expando][Me(y)]},access:function(c,y,x){return y===void 0||y&&typeof y=="string"&&x===void 0?this.get(c,y):(this.set(c,y,x),x!==void 0?x:y)},remove:function(c,y){var x,C=c[this.expando];if(C!==void 0){if(y!==void 0)for(Array.isArray(y)?y=y.map(Me):(y=Me(y),y=y in C?[y]:y.match(be)||[]),x=y.length;x--;)delete C[y[x]];(y===void 0||v.isEmptyObject(C))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var y=c[this.expando];return y!==void 0&&!v.isEmptyObject(y)}};var F=new ye,ee=new ye,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function ge(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:we.test(c)?JSON.parse(c):c}function Ye(c,y,x){var C;if(x===void 0&&c.nodeType===1)if(C="data-"+y.replace(de,"-$&").toLowerCase(),x=c.getAttribute(C),typeof x=="string"){try{x=ge(x)}catch{}ee.set(c,y,x)}else x=void 0;return x}v.extend({hasData:function(c){return ee.hasData(c)||F.hasData(c)},data:function(c,y,x){return ee.access(c,y,x)},removeData:function(c,y){ee.remove(c,y)},_data:function(c,y,x){return F.access(c,y,x)},_removeData:function(c,y){F.remove(c,y)}}),v.fn.extend({data:function(c,y){var x,C,M,N=this[0],P=N&&N.attributes;if(c===void 0){if(this.length&&(M=ee.get(N),N.nodeType===1&&!F.get(N,"hasDataAttrs"))){for(x=P.length;x--;)P[x]&&(C=P[x].name,C.indexOf("data-")===0&&(C=Me(C.slice(5)),Ye(N,C,M[C])));F.set(N,"hasDataAttrs",!0)}return M}return typeof c=="object"?this.each(function(){ee.set(this,c)}):pe(this,function(Y){var q;if(N&&Y===void 0)return q=ee.get(N,c),q!==void 0||(q=Ye(N,c),q!==void 0)?q:void 0;this.each(function(){ee.set(this,c,Y)})},null,y,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){ee.remove(this,c)})}}),v.extend({queue:function(c,y,x){var C;if(c)return y=(y||"fx")+"queue",C=F.get(c,y),x&&(!C||Array.isArray(x)?C=F.access(c,y,v.makeArray(x)):C.push(x)),C||[]},dequeue:function(c,y){y=y||"fx";var x=v.queue(c,y),C=x.length,M=x.shift(),N=v._queueHooks(c,y),P=function(){v.dequeue(c,y)};M==="inprogress"&&(M=x.shift(),C--),M&&(y==="fx"&&x.unshift("inprogress"),delete N.stop,M.call(c,P,N)),!C&&N&&N.empty.fire()},_queueHooks:function(c,y){var x=y+"queueHooks";return F.get(c,x)||F.access(c,x,{empty:v.Callbacks("once memory").add(function(){F.remove(c,[y+"queue",x])})})}}),v.fn.extend({queue:function(c,y){var x=2;return typeof c!="string"&&(y=c,c="fx",x--),arguments.length<x?v.queue(this[0],c):y===void 0?this:this.each(function(){var C=v.queue(this,c,y);v._queueHooks(this,c),c==="fx"&&C[0]!=="inprogress"&&v.dequeue(this,c)})},dequeue:function(c){return this.each(function(){v.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,y){var x,C=1,M=v.Deferred(),N=this,P=this.length,Y=function(){--C||M.resolveWith(N,[N])};for(typeof c!="string"&&(y=c,c=void 0),c=c||"fx";P--;)x=F.get(N[P],c+"queueHooks"),x&&x.empty&&(C++,x.empty.add(Y));return Y(),M.promise(y)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],je=b.documentElement,We=function(c){return v.contains(c.ownerDocument,c)},nt={composed:!0};je.getRootNode&&(We=function(c){return v.contains(c.ownerDocument,c)||c.getRootNode(nt)===c.ownerDocument});var Ve=function(c,y){return c=y||c,c.style.display==="none"||c.style.display===""&&We(c)&&v.css(c,"display")==="none"};function Ke(c,y,x,C){var M,N,P=20,Y=C?function(){return C.cur()}:function(){return v.css(c,y,"")},q=Y(),Q=x&&x[3]||(v.cssNumber[y]?"":"px"),se=c.nodeType&&(v.cssNumber[y]||Q!=="px"&&+q)&&Pe.exec(v.css(c,y));if(se&&se[3]!==Q){for(q=q/2,Q=Q||se[3],se=+q||1;P--;)v.style(c,y,se+Q),(1-N)*(1-(N=Y()/q||.5))<=0&&(P=0),se=se/N;se=se*2,v.style(c,y,se+Q),x=x||[]}return x&&(se=+se||+q||0,M=x[1]?se+(x[1]+1)*x[2]:+x[2],C&&(C.unit=Q,C.start=se,C.end=M)),M}var mt={};function Lt(c){var y,x=c.ownerDocument,C=c.nodeName,M=mt[C];return M||(y=x.body.appendChild(x.createElement(C)),M=v.css(y,"display"),y.parentNode.removeChild(y),M==="none"&&(M="block"),mt[C]=M,M)}function kt(c,y){for(var x,C,M=[],N=0,P=c.length;N<P;N++)C=c[N],C.style&&(x=C.style.display,y?(x==="none"&&(M[N]=F.get(C,"display")||null,M[N]||(C.style.display="")),C.style.display===""&&Ve(C)&&(M[N]=Lt(C))):x!=="none"&&(M[N]="none",F.set(C,"display",x)));for(N=0;N<P;N++)M[N]!=null&&(c[N].style.display=M[N]);return c}v.fn.extend({show:function(){return kt(this,!0)},hide:function(){return kt(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){Ve(this)?v(this).show():v(this).hide()})}});var Bt=/^(?:checkbox|radio)$/i,St=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=b.createDocumentFragment(),y=c.appendChild(b.createElement("div")),x=b.createElement("input");x.setAttribute("type","radio"),x.setAttribute("checked","checked"),x.setAttribute("name","t"),y.appendChild(x),g.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",g.option=!!y.lastChild})();var ht={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td,g.option||(ht.optgroup=ht.option=[1,"<select multiple='multiple'>","</select>"]);function wt(c,y){var x;return typeof c.getElementsByTagName<"u"?x=c.getElementsByTagName(y||"*"):typeof c.querySelectorAll<"u"?x=c.querySelectorAll(y||"*"):x=[],y===void 0||y&&D(c,y)?v.merge([c],x):x}function fr(c,y){for(var x=0,C=c.length;x<C;x++)F.set(c[x],"globalEval",!y||F.get(y[x],"globalEval"))}var Ur=/<|&#?\w+;/;function Tr(c,y,x,C,M){for(var N,P,Y,q,Q,se,ve=y.createDocumentFragment(),re=[],Te=0,Xe=c.length;Te<Xe;Te++)if(N=c[Te],N||N===0)if(S(N)==="object")v.merge(re,N.nodeType?[N]:N);else if(!Ur.test(N))re.push(y.createTextNode(N));else{for(P=P||ve.appendChild(y.createElement("div")),Y=(St.exec(N)||["",""])[1].toLowerCase(),q=ht[Y]||ht._default,P.innerHTML=q[1]+v.htmlPrefilter(N)+q[2],se=q[0];se--;)P=P.lastChild;v.merge(re,P.childNodes),P=ve.firstChild,P.textContent=""}for(ve.textContent="",Te=0;N=re[Te++];){if(C&&v.inArray(N,C)>-1){M&&M.push(N);continue}if(Q=We(N),P=wt(ve.appendChild(N),"script"),Q&&fr(P),x)for(se=0;N=P[se++];)Qt.test(N.type||"")&&x.push(N)}return ve}var Rr=/^([^.]*)(?:\.(.+)|)/;function pr(){return!0}function tr(){return!1}function Rt(c,y,x,C,M,N){var P,Y;if(typeof y=="object"){typeof x!="string"&&(C=C||x,x=void 0);for(Y in y)Rt(c,Y,x,C,y[Y],N);return c}if(C==null&&M==null?(M=x,C=x=void 0):M==null&&(typeof x=="string"?(M=C,C=void 0):(M=C,C=x,x=void 0)),M===!1)M=tr;else if(!M)return c;return N===1&&(P=M,M=function(q){return v().off(q),P.apply(this,arguments)},M.guid=P.guid||(P.guid=v.guid++)),c.each(function(){v.event.add(this,y,M,C,x)})}v.event={global:{},add:function(c,y,x,C,M){var N,P,Y,q,Q,se,ve,re,Te,Xe,rt,Qe=F.get(c);if(ze(c))for(x.handler&&(N=x,x=N.handler,M=N.selector),M&&v.find.matchesSelector(je,M),x.guid||(x.guid=v.guid++),(q=Qe.events)||(q=Qe.events=Object.create(null)),(P=Qe.handle)||(P=Qe.handle=function(Ft){return typeof v<"u"&&v.event.triggered!==Ft.type?v.event.dispatch.apply(c,arguments):void 0}),y=(y||"").match(be)||[""],Q=y.length;Q--;)Y=Rr.exec(y[Q])||[],Te=rt=Y[1],Xe=(Y[2]||"").split(".").sort(),Te&&(ve=v.event.special[Te]||{},Te=(M?ve.delegateType:ve.bindType)||Te,ve=v.event.special[Te]||{},se=v.extend({type:Te,origType:rt,data:C,handler:x,guid:x.guid,selector:M,needsContext:M&&v.expr.match.needsContext.test(M),namespace:Xe.join(".")},N),(re=q[Te])||(re=q[Te]=[],re.delegateCount=0,(!ve.setup||ve.setup.call(c,C,Xe,P)===!1)&&c.addEventListener&&c.addEventListener(Te,P)),ve.add&&(ve.add.call(c,se),se.handler.guid||(se.handler.guid=x.guid)),M?re.splice(re.delegateCount++,0,se):re.push(se),v.event.global[Te]=!0)},remove:function(c,y,x,C,M){var N,P,Y,q,Q,se,ve,re,Te,Xe,rt,Qe=F.hasData(c)&&F.get(c);if(!(!Qe||!(q=Qe.events))){for(y=(y||"").match(be)||[""],Q=y.length;Q--;){if(Y=Rr.exec(y[Q])||[],Te=rt=Y[1],Xe=(Y[2]||"").split(".").sort(),!Te){for(Te in q)v.event.remove(c,Te+y[Q],x,C,!0);continue}for(ve=v.event.special[Te]||{},Te=(C?ve.delegateType:ve.bindType)||Te,re=q[Te]||[],Y=Y[2]&&new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=N=re.length;N--;)se=re[N],(M||rt===se.origType)&&(!x||x.guid===se.guid)&&(!Y||Y.test(se.namespace))&&(!C||C===se.selector||C==="**"&&se.selector)&&(re.splice(N,1),se.selector&&re.delegateCount--,ve.remove&&ve.remove.call(c,se));P&&!re.length&&((!ve.teardown||ve.teardown.call(c,Xe,Qe.handle)===!1)&&v.removeEvent(c,Te,Qe.handle),delete q[Te])}v.isEmptyObject(q)&&F.remove(c,"handle events")}},dispatch:function(c){var y,x,C,M,N,P,Y=new Array(arguments.length),q=v.event.fix(c),Q=(F.get(this,"events")||Object.create(null))[q.type]||[],se=v.event.special[q.type]||{};for(Y[0]=q,y=1;y<arguments.length;y++)Y[y]=arguments[y];if(q.delegateTarget=this,!(se.preDispatch&&se.preDispatch.call(this,q)===!1)){for(P=v.event.handlers.call(this,q,Q),y=0;(M=P[y++])&&!q.isPropagationStopped();)for(q.currentTarget=M.elem,x=0;(N=M.handlers[x++])&&!q.isImmediatePropagationStopped();)(!q.rnamespace||N.namespace===!1||q.rnamespace.test(N.namespace))&&(q.handleObj=N,q.data=N.data,C=((v.event.special[N.origType]||{}).handle||N.handler).apply(M.elem,Y),C!==void 0&&(q.result=C)===!1&&(q.preventDefault(),q.stopPropagation()));return se.postDispatch&&se.postDispatch.call(this,q),q.result}},handlers:function(c,y){var x,C,M,N,P,Y=[],q=y.delegateCount,Q=c.target;if(q&&Q.nodeType&&!(c.type==="click"&&c.button>=1)){for(;Q!==this;Q=Q.parentNode||this)if(Q.nodeType===1&&!(c.type==="click"&&Q.disabled===!0)){for(N=[],P={},x=0;x<q;x++)C=y[x],M=C.selector+" ",P[M]===void 0&&(P[M]=C.needsContext?v(M,this).index(Q)>-1:v.find(M,this,null,[Q]).length),P[M]&&N.push(C);N.length&&Y.push({elem:Q,handlers:N})}}return Q=this,q<y.length&&Y.push({elem:Q,handlers:y.slice(q)}),Y},addProp:function(c,y){Object.defineProperty(v.Event.prototype,c,{enumerable:!0,configurable:!0,get:m(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(x){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:x})}})},fix:function(c){return c[v.expando]?c:new v.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var y=this||c;return Bt.test(y.type)&&y.click&&D(y,"input")&&Dt(y,"click",!0),!1},trigger:function(c){var y=this||c;return Bt.test(y.type)&&y.click&&D(y,"input")&&Dt(y,"click"),!0},_default:function(c){var y=c.target;return Bt.test(y.type)&&y.click&&D(y,"input")&&F.get(y,"click")||D(y,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Dt(c,y,x){if(!x){F.get(c,y)===void 0&&v.event.add(c,y,pr);return}F.set(c,y,!1),v.event.add(c,y,{namespace:!1,handler:function(C){var M,N=F.get(this,y);if(C.isTrigger&1&&this[y]){if(N)(v.event.special[y]||{}).delegateType&&C.stopPropagation();else if(N=i.call(arguments),F.set(this,y,N),this[y](),M=F.get(this,y),F.set(this,y,!1),N!==M)return C.stopImmediatePropagation(),C.preventDefault(),M}else N&&(F.set(this,y,v.event.trigger(N[0],N.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=pr)}})}v.removeEvent=function(c,y,x){c.removeEventListener&&c.removeEventListener(y,x)},v.Event=function(c,y){if(!(this instanceof v.Event))return new v.Event(c,y);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?pr:tr,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,y&&v.extend(this,y),this.timeStamp=c&&c.timeStamp||Date.now(),this[v.expando]=!0},v.Event.prototype={constructor:v.Event,isDefaultPrevented:tr,isPropagationStopped:tr,isImmediatePropagationStopped:tr,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=pr,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=pr,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=pr,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},v.event.addProp),v.each({focus:"focusin",blur:"focusout"},function(c,y){function x(C){if(b.documentMode){var M=F.get(this,"handle"),N=v.event.fix(C);N.type=C.type==="focusin"?"focus":"blur",N.isSimulated=!0,M(C),N.target===N.currentTarget&&M(N)}else v.event.simulate(y,C.target,v.event.fix(C))}v.event.special[c]={setup:function(){var C;if(Dt(this,c,!0),b.documentMode)C=F.get(this,y),C||this.addEventListener(y,x),F.set(this,y,(C||0)+1);else return!1},trigger:function(){return Dt(this,c),!0},teardown:function(){var C;if(b.documentMode)C=F.get(this,y)-1,C?F.set(this,y,C):(this.removeEventListener(y,x),F.remove(this,y));else return!1},_default:function(C){return F.get(C.target,c)},delegateType:y},v.event.special[y]={setup:function(){var C=this.ownerDocument||this.document||this,M=b.documentMode?this:C,N=F.get(M,y);N||(b.documentMode?this.addEventListener(y,x):C.addEventListener(c,x,!0)),F.set(M,y,(N||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,M=b.documentMode?this:C,N=F.get(M,y)-1;N?F.set(M,y,N):(b.documentMode?this.removeEventListener(y,x):C.removeEventListener(c,x,!0),F.remove(M,y))}}}),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,y){v.event.special[c]={delegateType:y,bindType:y,handle:function(x){var C,M=this,N=x.relatedTarget,P=x.handleObj;return(!N||N!==M&&!v.contains(M,N))&&(x.type=P.origType,C=P.handler.apply(this,arguments),x.type=y),C}}}),v.fn.extend({on:function(c,y,x,C){return Rt(this,c,y,x,C)},one:function(c,y,x,C){return Rt(this,c,y,x,C,1)},off:function(c,y,x){var C,M;if(c&&c.preventDefault&&c.handleObj)return C=c.handleObj,v(c.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(typeof c=="object"){for(M in c)this.off(M,y,c[M]);return this}return(y===!1||typeof y=="function")&&(x=y,y=void 0),x===!1&&(x=tr),this.each(function(){v.event.remove(this,c,x,y)})}});var Ut=/<script|<style|<link/i,Mn=/checked\s*(?:[^=]|=\s*.checked.)/i,cr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ia(c,y){return D(c,"table")&&D(y.nodeType!==11?y:y.firstChild,"tr")&&v(c).children("tbody")[0]||c}function Zi(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function Qi(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function _a(c,y){var x,C,M,N,P,Y,q;if(y.nodeType===1){if(F.hasData(c)&&(N=F.get(c),q=N.events,q)){F.remove(y,"handle events");for(M in q)for(x=0,C=q[M].length;x<C;x++)v.event.add(y,M,q[M][x])}ee.hasData(c)&&(P=ee.access(c),Y=v.extend({},P),ee.set(y,Y))}}function ji(c,y){var x=y.nodeName.toLowerCase();x==="input"&&Bt.test(c.type)?y.checked=c.checked:(x==="input"||x==="textarea")&&(y.defaultValue=c.defaultValue)}function Yr(c,y,x,C){y=o(y);var M,N,P,Y,q,Q,se=0,ve=c.length,re=ve-1,Te=y[0],Xe=m(Te);if(Xe||ve>1&&typeof Te=="string"&&!g.checkClone&&Mn.test(Te))return c.each(function(rt){var Qe=c.eq(rt);Xe&&(y[0]=Te.call(this,rt,Qe.html())),Yr(Qe,y,x,C)});if(ve&&(M=Tr(y,c[0].ownerDocument,!1,c,C),N=M.firstChild,M.childNodes.length===1&&(M=N),N||C)){for(P=v.map(wt(M,"script"),Zi),Y=P.length;se<ve;se++)q=M,se!==re&&(q=v.clone(q,!0,!0),Y&&v.merge(P,wt(q,"script"))),x.call(c[se],q,se);if(Y)for(Q=P[P.length-1].ownerDocument,v.map(P,Qi),se=0;se<Y;se++)q=P[se],Qt.test(q.type||"")&&!F.access(q,"globalEval")&&v.contains(Q,q)&&(q.src&&(q.type||"").toLowerCase()!=="module"?v._evalUrl&&!q.noModule&&v._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},Q):E(q.textContent.replace(cr,""),q,Q))}return c}function Ka(c,y,x){for(var C,M=y?v.filter(y,c):c,N=0;(C=M[N])!=null;N++)!x&&C.nodeType===1&&v.cleanData(wt(C)),C.parentNode&&(x&&We(C)&&fr(wt(C,"script")),C.parentNode.removeChild(C));return c}v.extend({htmlPrefilter:function(c){return c},clone:function(c,y,x){var C,M,N,P,Y=c.cloneNode(!0),q=We(c);if(!g.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!v.isXMLDoc(c))for(P=wt(Y),N=wt(c),C=0,M=N.length;C<M;C++)ji(N[C],P[C]);if(y)if(x)for(N=N||wt(c),P=P||wt(Y),C=0,M=N.length;C<M;C++)_a(N[C],P[C]);else _a(c,Y);return P=wt(Y,"script"),P.length>0&&fr(P,!q&&wt(c,"script")),Y},cleanData:function(c){for(var y,x,C,M=v.event.special,N=0;(x=c[N])!==void 0;N++)if(ze(x)){if(y=x[F.expando]){if(y.events)for(C in y.events)M[C]?v.event.remove(x,C):v.removeEvent(x,C,y.handle);x[F.expando]=void 0}x[ee.expando]&&(x[ee.expando]=void 0)}}}),v.fn.extend({detach:function(c){return Ka(this,c,!0)},remove:function(c){return Ka(this,c)},text:function(c){return pe(this,function(y){return y===void 0?v.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=y)})},null,c,arguments.length)},append:function(){return Yr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=ia(this,c);y.appendChild(c)}})},prepend:function(){return Yr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=ia(this,c);y.insertBefore(c,y.firstChild)}})},before:function(){return Yr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Yr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,y=0;(c=this[y])!=null;y++)c.nodeType===1&&(v.cleanData(wt(c,!1)),c.textContent="");return this},clone:function(c,y){return c=c??!1,y=y??c,this.map(function(){return v.clone(this,c,y)})},html:function(c){return pe(this,function(y){var x=this[0]||{},C=0,M=this.length;if(y===void 0&&x.nodeType===1)return x.innerHTML;if(typeof y=="string"&&!Ut.test(y)&&!ht[(St.exec(y)||["",""])[1].toLowerCase()]){y=v.htmlPrefilter(y);try{for(;C<M;C++)x=this[C]||{},x.nodeType===1&&(v.cleanData(wt(x,!1)),x.innerHTML=y);x=0}catch{}}x&&this.empty().append(y)},null,c,arguments.length)},replaceWith:function(){var c=[];return Yr(this,arguments,function(y){var x=this.parentNode;v.inArray(this,c)<0&&(v.cleanData(wt(this)),x&&x.replaceChild(y,this))},c)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,y){v.fn[c]=function(x){for(var C,M=[],N=v(x),P=N.length-1,Y=0;Y<=P;Y++)C=Y===P?this:this.clone(!0),v(N[Y])[y](C),s.apply(M,C.get());return this.pushStack(M)}});var oa=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),Pr=/^--/,Wr=function(c){var y=c.ownerDocument.defaultView;return(!y||!y.opener)&&(y=e),y.getComputedStyle(c)},hn=function(c,y,x){var C,M,N={};for(M in y)N[M]=c.style[M],c.style[M]=y[M];C=x.call(c);for(M in y)c.style[M]=N[M];return C},Za=new RegExp(Ze.join("|"),"i");(function(){function c(){if(Q){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Q.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",je.appendChild(q).appendChild(Q);var se=e.getComputedStyle(Q);x=se.top!=="1%",Y=y(se.marginLeft)===12,Q.style.right="60%",N=y(se.right)===36,C=y(se.width)===36,Q.style.position="absolute",M=y(Q.offsetWidth/3)===12,je.removeChild(q),Q=null}}function y(se){return Math.round(parseFloat(se))}var x,C,M,N,P,Y,q=b.createElement("div"),Q=b.createElement("div");Q.style&&(Q.style.backgroundClip="content-box",Q.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Q.style.backgroundClip==="content-box",v.extend(g,{boxSizingReliable:function(){return c(),C},pixelBoxStyles:function(){return c(),N},pixelPosition:function(){return c(),x},reliableMarginLeft:function(){return c(),Y},scrollboxSize:function(){return c(),M},reliableTrDimensions:function(){var se,ve,re,Te;return P==null&&(se=b.createElement("table"),ve=b.createElement("tr"),re=b.createElement("div"),se.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ve.style.cssText="box-sizing:content-box;border:1px solid",ve.style.height="1px",re.style.height="9px",re.style.display="block",je.appendChild(se).appendChild(ve).appendChild(re),Te=e.getComputedStyle(ve),P=parseInt(Te.height,10)+parseInt(Te.borderTopWidth,10)+parseInt(Te.borderBottomWidth,10)===ve.offsetHeight,je.removeChild(se)),P}}))})();function Xr(c,y,x){var C,M,N,P,Y=Pr.test(y),q=c.style;return x=x||Wr(c),x&&(P=x.getPropertyValue(y)||x[y],Y&&P&&(P=P.replace(B,"$1")||void 0),P===""&&!We(c)&&(P=v.style(c,y)),!g.pixelBoxStyles()&&oa.test(P)&&Za.test(y)&&(C=q.width,M=q.minWidth,N=q.maxWidth,q.minWidth=q.maxWidth=q.width=P,P=x.width,q.width=C,q.minWidth=M,q.maxWidth=N)),P!==void 0?P+"":P}function Qa(c,y){return{get:function(){if(c()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var rr=["Webkit","Moz","ms"],Nn=b.createElement("div").style,sa={};function vn(c){for(var y=c[0].toUpperCase()+c.slice(1),x=rr.length;x--;)if(c=rr[x]+y,c in Nn)return c}function jt(c){var y=v.cssProps[c]||sa[c];return y||(c in Nn?c:sa[c]=vn(c)||c)}var Ji=/^(none|table(?!-c[ea]).+)/,$f={position:"absolute",visibility:"hidden",display:"block"},ms={letterSpacing:"0",fontWeight:"400"};function bs(c,y,x){var C=Pe.exec(y);return C?Math.max(0,C[2]-(x||0))+(C[3]||"px"):y}function eo(c,y,x,C,M,N){var P=y==="width"?1:0,Y=0,q=0,Q=0;if(x===(C?"border":"content"))return 0;for(;P<4;P+=2)x==="margin"&&(Q+=v.css(c,x+Ze[P],!0,M)),C?(x==="content"&&(q-=v.css(c,"padding"+Ze[P],!0,M)),x!=="margin"&&(q-=v.css(c,"border"+Ze[P]+"Width",!0,M))):(q+=v.css(c,"padding"+Ze[P],!0,M),x!=="padding"?q+=v.css(c,"border"+Ze[P]+"Width",!0,M):Y+=v.css(c,"border"+Ze[P]+"Width",!0,M));return!C&&N>=0&&(q+=Math.max(0,Math.ceil(c["offset"+y[0].toUpperCase()+y.slice(1)]-N-q-Y-.5))||0),q+Q}function ws(c,y,x){var C=Wr(c),M=!g.boxSizingReliable()||x,N=M&&v.css(c,"boxSizing",!1,C)==="border-box",P=N,Y=Xr(c,y,C),q="offset"+y[0].toUpperCase()+y.slice(1);if(oa.test(Y)){if(!x)return Y;Y="auto"}return(!g.boxSizingReliable()&&N||!g.reliableTrDimensions()&&D(c,"tr")||Y==="auto"||!parseFloat(Y)&&v.css(c,"display",!1,C)==="inline")&&c.getClientRects().length&&(N=v.css(c,"boxSizing",!1,C)==="border-box",P=q in c,P&&(Y=c[q])),Y=parseFloat(Y)||0,Y+eo(c,y,x||(N?"border":"content"),P,C,Y)+"px"}v.extend({cssHooks:{opacity:{get:function(c,y){if(y){var x=Xr(c,"opacity");return x===""?"1":x}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,y,x,C){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var M,N,P,Y=Me(y),q=Pr.test(y),Q=c.style;if(q||(y=jt(Y)),P=v.cssHooks[y]||v.cssHooks[Y],x!==void 0){if(N=typeof x,N==="string"&&(M=Pe.exec(x))&&M[1]&&(x=Ke(c,y,M),N="number"),x==null||x!==x)return;N==="number"&&!q&&(x+=M&&M[3]||(v.cssNumber[Y]?"":"px")),!g.clearCloneStyle&&x===""&&y.indexOf("background")===0&&(Q[y]="inherit"),(!P||!("set"in P)||(x=P.set(c,x,C))!==void 0)&&(q?Q.setProperty(y,x):Q[y]=x)}else return P&&"get"in P&&(M=P.get(c,!1,C))!==void 0?M:Q[y]}},css:function(c,y,x,C){var M,N,P,Y=Me(y),q=Pr.test(y);return q||(y=jt(Y)),P=v.cssHooks[y]||v.cssHooks[Y],P&&"get"in P&&(M=P.get(c,!0,x)),M===void 0&&(M=Xr(c,y,C)),M==="normal"&&y in ms&&(M=ms[y]),x===""||x?(N=parseFloat(M),x===!0||isFinite(N)?N||0:M):M}}),v.each(["height","width"],function(c,y){v.cssHooks[y]={get:function(x,C,M){if(C)return Ji.test(v.css(x,"display"))&&(!x.getClientRects().length||!x.getBoundingClientRect().width)?hn(x,$f,function(){return ws(x,y,M)}):ws(x,y,M)},set:function(x,C,M){var N,P=Wr(x),Y=!g.scrollboxSize()&&P.position==="absolute",q=Y||M,Q=q&&v.css(x,"boxSizing",!1,P)==="border-box",se=M?eo(x,y,M,Q,P):0;return Q&&Y&&(se-=Math.ceil(x["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(P[y])-eo(x,y,"border",!1,P)-.5)),se&&(N=Pe.exec(C))&&(N[3]||"px")!=="px"&&(x.style[y]=C,C=v.css(x,y)),bs(x,C,se)}}}),v.cssHooks.marginLeft=Qa(g.reliableMarginLeft,function(c,y){if(y)return(parseFloat(Xr(c,"marginLeft"))||c.getBoundingClientRect().left-hn(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(c,y){v.cssHooks[c+y]={expand:function(x){for(var C=0,M={},N=typeof x=="string"?x.split(" "):[x];C<4;C++)M[c+Ze[C]+y]=N[C]||N[C-2]||N[0];return M}},c!=="margin"&&(v.cssHooks[c+y].set=bs)}),v.fn.extend({css:function(c,y){return pe(this,function(x,C,M){var N,P,Y={},q=0;if(Array.isArray(C)){for(N=Wr(x),P=C.length;q<P;q++)Y[C[q]]=v.css(x,C[q],!1,N);return Y}return M!==void 0?v.style(x,C,M):v.css(x,C)},c,y,arguments.length>1)}});function nr(c,y,x,C,M){return new nr.prototype.init(c,y,x,C,M)}v.Tween=nr,nr.prototype={constructor:nr,init:function(c,y,x,C,M,N){this.elem=c,this.prop=x,this.easing=M||v.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=C,this.unit=N||(v.cssNumber[x]?"":"px")},cur:function(){var c=nr.propHooks[this.prop];return c&&c.get?c.get(this):nr.propHooks._default.get(this)},run:function(c){var y,x=nr.propHooks[this.prop];return this.options.duration?this.pos=y=v.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=y=c,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),x&&x.set?x.set(this):nr.propHooks._default.set(this),this}},nr.prototype.init.prototype=nr.prototype,nr.propHooks={_default:{get:function(c){var y;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(y=v.css(c.elem,c.prop,""),!y||y==="auto"?0:y)},set:function(c){v.fx.step[c.prop]?v.fx.step[c.prop](c):c.elem.nodeType===1&&(v.cssHooks[c.prop]||c.elem.style[jt(c.prop)]!=null)?v.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},nr.propHooks.scrollTop=nr.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},v.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},v.fx=nr.prototype.init,v.fx.step={};var On,ja,qf=/^(?:toggle|show|hide)$/,Vf=/queueHooks$/;function to(){ja&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(to):e.setTimeout(to,v.fx.interval),v.fx.tick())}function Es(){return e.setTimeout(function(){On=void 0}),On=Date.now()}function Ja(c,y){var x,C=0,M={height:c};for(y=y?1:0;C<4;C+=2-y)x=Ze[C],M["margin"+x]=M["padding"+x]=c;return y&&(M.opacity=M.width=c),M}function xs(c,y,x){for(var C,M=(yr.tweeners[y]||[]).concat(yr.tweeners["*"]),N=0,P=M.length;N<P;N++)if(C=M[N].call(x,y,c))return C}function Uf(c,y,x){var C,M,N,P,Y,q,Q,se,ve="width"in y||"height"in y,re=this,Te={},Xe=c.style,rt=c.nodeType&&Ve(c),Qe=F.get(c,"fxshow");x.queue||(P=v._queueHooks(c,"fx"),P.unqueued==null&&(P.unqueued=0,Y=P.empty.fire,P.empty.fire=function(){P.unqueued||Y()}),P.unqueued++,re.always(function(){re.always(function(){P.unqueued--,v.queue(c,"fx").length||P.empty.fire()})}));for(C in y)if(M=y[C],qf.test(M)){if(delete y[C],N=N||M==="toggle",M===(rt?"hide":"show"))if(M==="show"&&Qe&&Qe[C]!==void 0)rt=!0;else continue;Te[C]=Qe&&Qe[C]||v.style(c,C)}if(q=!v.isEmptyObject(y),!(!q&&v.isEmptyObject(Te))){ve&&c.nodeType===1&&(x.overflow=[Xe.overflow,Xe.overflowX,Xe.overflowY],Q=Qe&&Qe.display,Q==null&&(Q=F.get(c,"display")),se=v.css(c,"display"),se==="none"&&(Q?se=Q:(kt([c],!0),Q=c.style.display||Q,se=v.css(c,"display"),kt([c]))),(se==="inline"||se==="inline-block"&&Q!=null)&&v.css(c,"float")==="none"&&(q||(re.done(function(){Xe.display=Q}),Q==null&&(se=Xe.display,Q=se==="none"?"":se)),Xe.display="inline-block")),x.overflow&&(Xe.overflow="hidden",re.always(function(){Xe.overflow=x.overflow[0],Xe.overflowX=x.overflow[1],Xe.overflowY=x.overflow[2]})),q=!1;for(C in Te)q||(Qe?"hidden"in Qe&&(rt=Qe.hidden):Qe=F.access(c,"fxshow",{display:Q}),N&&(Qe.hidden=!rt),rt&&kt([c],!0),re.done(function(){rt||kt([c]),F.remove(c,"fxshow");for(C in Te)v.style(c,C,Te[C])})),q=xs(rt?Qe[C]:0,C,re),C in Qe||(Qe[C]=q.start,rt&&(q.end=q.start,q.start=0))}}function Yf(c,y){var x,C,M,N,P;for(x in c)if(C=Me(x),M=y[C],N=c[x],Array.isArray(N)&&(M=N[1],N=c[x]=N[0]),x!==C&&(c[C]=N,delete c[x]),P=v.cssHooks[C],P&&"expand"in P){N=P.expand(N),delete c[C];for(x in N)x in c||(c[x]=N[x],y[x]=M)}else y[C]=M}function yr(c,y,x){var C,M,N=0,P=yr.prefilters.length,Y=v.Deferred().always(function(){delete q.elem}),q=function(){if(M)return!1;for(var ve=On||Es(),re=Math.max(0,Q.startTime+Q.duration-ve),Te=re/Q.duration||0,Xe=1-Te,rt=0,Qe=Q.tweens.length;rt<Qe;rt++)Q.tweens[rt].run(Xe);return Y.notifyWith(c,[Q,Xe,re]),Xe<1&&Qe?re:(Qe||Y.notifyWith(c,[Q,1,0]),Y.resolveWith(c,[Q]),!1)},Q=Y.promise({elem:c,props:v.extend({},y),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},x),originalProperties:y,originalOptions:x,startTime:On||Es(),duration:x.duration,tweens:[],createTween:function(ve,re){var Te=v.Tween(c,Q.opts,ve,re,Q.opts.specialEasing[ve]||Q.opts.easing);return Q.tweens.push(Te),Te},stop:function(ve){var re=0,Te=ve?Q.tweens.length:0;if(M)return this;for(M=!0;re<Te;re++)Q.tweens[re].run(1);return ve?(Y.notifyWith(c,[Q,1,0]),Y.resolveWith(c,[Q,ve])):Y.rejectWith(c,[Q,ve]),this}}),se=Q.props;for(Yf(se,Q.opts.specialEasing);N<P;N++)if(C=yr.prefilters[N].call(Q,c,se,Q.opts),C)return m(C.stop)&&(v._queueHooks(Q.elem,Q.opts.queue).stop=C.stop.bind(C)),C;return v.map(se,xs,Q),m(Q.opts.start)&&Q.opts.start.call(c,Q),Q.progress(Q.opts.progress).done(Q.opts.done,Q.opts.complete).fail(Q.opts.fail).always(Q.opts.always),v.fx.timer(v.extend(q,{elem:c,anim:Q,queue:Q.opts.queue})),Q}v.Animation=v.extend(yr,{tweeners:{"*":[function(c,y){var x=this.createTween(c,y);return Ke(x.elem,c,Pe.exec(y),x),x}]},tweener:function(c,y){m(c)?(y=c,c=["*"]):c=c.match(be);for(var x,C=0,M=c.length;C<M;C++)x=c[C],yr.tweeners[x]=yr.tweeners[x]||[],yr.tweeners[x].unshift(y)},prefilters:[Uf],prefilter:function(c,y){y?yr.prefilters.unshift(c):yr.prefilters.push(c)}}),v.speed=function(c,y,x){var C=c&&typeof c=="object"?v.extend({},c):{complete:x||!x&&y||m(c)&&c,duration:c,easing:x&&y||y&&!m(y)&&y};return v.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in v.fx.speeds?C.duration=v.fx.speeds[C.duration]:C.duration=v.fx.speeds._default),(C.queue==null||C.queue===!0)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){m(C.old)&&C.old.call(this),C.queue&&v.dequeue(this,C.queue)},C},v.fn.extend({fadeTo:function(c,y,x,C){return this.filter(Ve).css("opacity",0).show().end().animate({opacity:y},c,x,C)},animate:function(c,y,x,C){var M=v.isEmptyObject(c),N=v.speed(y,x,C),P=function(){var Y=yr(this,v.extend({},c),N);(M||F.get(this,"finish"))&&Y.stop(!0)};return P.finish=P,M||N.queue===!1?this.each(P):this.queue(N.queue,P)},stop:function(c,y,x){var C=function(M){var N=M.stop;delete M.stop,N(x)};return typeof c!="string"&&(x=y,y=c,c=void 0),y&&this.queue(c||"fx",[]),this.each(function(){var M=!0,N=c!=null&&c+"queueHooks",P=v.timers,Y=F.get(this);if(N)Y[N]&&Y[N].stop&&C(Y[N]);else for(N in Y)Y[N]&&Y[N].stop&&Vf.test(N)&&C(Y[N]);for(N=P.length;N--;)P[N].elem===this&&(c==null||P[N].queue===c)&&(P[N].anim.stop(x),M=!1,P.splice(N,1));(M||!x)&&v.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var y,x=F.get(this),C=x[c+"queue"],M=x[c+"queueHooks"],N=v.timers,P=C?C.length:0;for(x.finish=!0,v.queue(this,c,[]),M&&M.stop&&M.stop.call(this,!0),y=N.length;y--;)N[y].elem===this&&N[y].queue===c&&(N[y].anim.stop(!0),N.splice(y,1));for(y=0;y<P;y++)C[y]&&C[y].finish&&C[y].finish.call(this);delete x.finish})}}),v.each(["toggle","show","hide"],function(c,y){var x=v.fn[y];v.fn[y]=function(C,M,N){return C==null||typeof C=="boolean"?x.apply(this,arguments):this.animate(Ja(y,!0),C,M,N)}}),v.each({slideDown:Ja("show"),slideUp:Ja("hide"),slideToggle:Ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,y){v.fn[c]=function(x,C,M){return this.animate(y,x,C,M)}}),v.timers=[],v.fx.tick=function(){var c,y=0,x=v.timers;for(On=Date.now();y<x.length;y++)c=x[y],!c()&&x[y]===c&&x.splice(y--,1);x.length||v.fx.stop(),On=void 0},v.fx.timer=function(c){v.timers.push(c),v.fx.start()},v.fx.interval=13,v.fx.start=function(){ja||(ja=!0,to())},v.fx.stop=function(){ja=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(c,y){return c=v.fx&&v.fx.speeds[c]||c,y=y||"fx",this.queue(y,function(x,C){var M=e.setTimeout(x,c);C.stop=function(){e.clearTimeout(M)}})},function(){var c=b.createElement("input"),y=b.createElement("select"),x=y.appendChild(b.createElement("option"));c.type="checkbox",g.checkOn=c.value!=="",g.optSelected=x.selected,c=b.createElement("input"),c.value="t",c.type="radio",g.radioValue=c.value==="t"}();var Ts,ua=v.expr.attrHandle;v.fn.extend({attr:function(c,y){return pe(this,v.attr,c,y,arguments.length>1)},removeAttr:function(c){return this.each(function(){v.removeAttr(this,c)})}}),v.extend({attr:function(c,y,x){var C,M,N=c.nodeType;if(!(N===3||N===8||N===2)){if(typeof c.getAttribute>"u")return v.prop(c,y,x);if((N!==1||!v.isXMLDoc(c))&&(M=v.attrHooks[y.toLowerCase()]||(v.expr.match.bool.test(y)?Ts:void 0)),x!==void 0){if(x===null){v.removeAttr(c,y);return}return M&&"set"in M&&(C=M.set(c,x,y))!==void 0?C:(c.setAttribute(y,x+""),x)}return M&&"get"in M&&(C=M.get(c,y))!==null?C:(C=v.find.attr(c,y),C??void 0)}},attrHooks:{type:{set:function(c,y){if(!g.radioValue&&y==="radio"&&D(c,"input")){var x=c.value;return c.setAttribute("type",y),x&&(c.value=x),y}}}},removeAttr:function(c,y){var x,C=0,M=y&&y.match(be);if(M&&c.nodeType===1)for(;x=M[C++];)c.removeAttribute(x)}}),Ts={set:function(c,y,x){return y===!1?v.removeAttr(c,x):c.setAttribute(x,x),x}},v.each(v.expr.match.bool.source.match(/\w+/g),function(c,y){var x=ua[y]||v.find.attr;ua[y]=function(C,M,N){var P,Y,q=M.toLowerCase();return N||(Y=ua[q],ua[q]=P,P=x(C,M,N)!=null?q:null,ua[q]=Y),P}});var Wf=/^(?:input|select|textarea|button)$/i,Xf=/^(?:a|area)$/i;v.fn.extend({prop:function(c,y){return pe(this,v.prop,c,y,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[v.propFix[c]||c]})}}),v.extend({prop:function(c,y,x){var C,M,N=c.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!v.isXMLDoc(c))&&(y=v.propFix[y]||y,M=v.propHooks[y]),x!==void 0?M&&"set"in M&&(C=M.set(c,x,y))!==void 0?C:c[y]=x:M&&"get"in M&&(C=M.get(c,y))!==null?C:c[y]},propHooks:{tabIndex:{get:function(c){var y=v.find.attr(c,"tabindex");return y?parseInt(y,10):Wf.test(c.nodeName)||Xf.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(v.propHooks.selected={get:function(c){var y=c.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function(c){var y=c.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function dn(c){var y=c.match(be)||[];return y.join(" ")}function gn(c){return c.getAttribute&&c.getAttribute("class")||""}function ro(c){return Array.isArray(c)?c:typeof c=="string"?c.match(be)||[]:[]}v.fn.extend({addClass:function(c){var y,x,C,M,N,P;return m(c)?this.each(function(Y){v(this).addClass(c.call(this,Y,gn(this)))}):(y=ro(c),y.length?this.each(function(){if(C=gn(this),x=this.nodeType===1&&" "+dn(C)+" ",x){for(N=0;N<y.length;N++)M=y[N],x.indexOf(" "+M+" ")<0&&(x+=M+" ");P=dn(x),C!==P&&this.setAttribute("class",P)}}):this)},removeClass:function(c){var y,x,C,M,N,P;return m(c)?this.each(function(Y){v(this).removeClass(c.call(this,Y,gn(this)))}):arguments.length?(y=ro(c),y.length?this.each(function(){if(C=gn(this),x=this.nodeType===1&&" "+dn(C)+" ",x){for(N=0;N<y.length;N++)for(M=y[N];x.indexOf(" "+M+" ")>-1;)x=x.replace(" "+M+" "," ");P=dn(x),C!==P&&this.setAttribute("class",P)}}):this):this.attr("class","")},toggleClass:function(c,y){var x,C,M,N,P=typeof c,Y=P==="string"||Array.isArray(c);return m(c)?this.each(function(q){v(this).toggleClass(c.call(this,q,gn(this),y),y)}):typeof y=="boolean"&&Y?y?this.addClass(c):this.removeClass(c):(x=ro(c),this.each(function(){if(Y)for(N=v(this),M=0;M<x.length;M++)C=x[M],N.hasClass(C)?N.removeClass(C):N.addClass(C);else(c===void 0||P==="boolean")&&(C=gn(this),C&&F.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||c===!1?"":F.get(this,"__className__")||""))}))},hasClass:function(c){var y,x,C=0;for(y=" "+c+" ";x=this[C++];)if(x.nodeType===1&&(" "+dn(gn(x))+" ").indexOf(y)>-1)return!0;return!1}});var _f=/\r/g;v.fn.extend({val:function(c){var y,x,C,M=this[0];return arguments.length?(C=m(c),this.each(function(N){var P;this.nodeType===1&&(C?P=c.call(this,N,v(this).val()):P=c,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=v.map(P,function(Y){return Y==null?"":Y+""})),y=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],(!y||!("set"in y)||y.set(this,P,"value")===void 0)&&(this.value=P))})):M?(y=v.valHooks[M.type]||v.valHooks[M.nodeName.toLowerCase()],y&&"get"in y&&(x=y.get(M,"value"))!==void 0?x:(x=M.value,typeof x=="string"?x.replace(_f,""):x??"")):void 0}}),v.extend({valHooks:{option:{get:function(c){var y=v.find.attr(c,"value");return y??dn(v.text(c))}},select:{get:function(c){var y,x,C,M=c.options,N=c.selectedIndex,P=c.type==="select-one",Y=P?null:[],q=P?N+1:M.length;for(N<0?C=q:C=P?N:0;C<q;C++)if(x=M[C],(x.selected||C===N)&&!x.disabled&&(!x.parentNode.disabled||!D(x.parentNode,"optgroup"))){if(y=v(x).val(),P)return y;Y.push(y)}return Y},set:function(c,y){for(var x,C,M=c.options,N=v.makeArray(y),P=M.length;P--;)C=M[P],(C.selected=v.inArray(v.valHooks.option.get(C),N)>-1)&&(x=!0);return x||(c.selectedIndex=-1),N}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(c,y){if(Array.isArray(y))return c.checked=v.inArray(v(c).val(),y)>-1}},g.checkOn||(v.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})});var la=e.location,Cs={guid:Date.now()},no=/\?/;v.parseXML=function(c){var y,x;if(!c||typeof c!="string")return null;try{y=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return x=y&&y.getElementsByTagName("parsererror")[0],(!y||x)&&v.error("Invalid XML: "+(x?v.map(x.childNodes,function(C){return C.textContent}).join(`
`):c)),y};var Ds=/^(?:focusinfocus|focusoutblur)$/,Ss=function(c){c.stopPropagation()};v.extend(v.event,{trigger:function(c,y,x,C){var M,N,P,Y,q,Q,se,ve,re=[x||b],Te=h.call(c,"type")?c.type:c,Xe=h.call(c,"namespace")?c.namespace.split("."):[];if(N=ve=P=x=x||b,!(x.nodeType===3||x.nodeType===8)&&!Ds.test(Te+v.event.triggered)&&(Te.indexOf(".")>-1&&(Xe=Te.split("."),Te=Xe.shift(),Xe.sort()),q=Te.indexOf(":")<0&&"on"+Te,c=c[v.expando]?c:new v.Event(Te,typeof c=="object"&&c),c.isTrigger=C?2:3,c.namespace=Xe.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Xe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=x),y=y==null?[c]:v.makeArray(y,[c]),se=v.event.special[Te]||{},!(!C&&se.trigger&&se.trigger.apply(x,y)===!1))){if(!C&&!se.noBubble&&!w(x)){for(Y=se.delegateType||Te,Ds.test(Y+Te)||(N=N.parentNode);N;N=N.parentNode)re.push(N),P=N;P===(x.ownerDocument||b)&&re.push(P.defaultView||P.parentWindow||e)}for(M=0;(N=re[M++])&&!c.isPropagationStopped();)ve=N,c.type=M>1?Y:se.bindType||Te,Q=(F.get(N,"events")||Object.create(null))[c.type]&&F.get(N,"handle"),Q&&Q.apply(N,y),Q=q&&N[q],Q&&Q.apply&&ze(N)&&(c.result=Q.apply(N,y),c.result===!1&&c.preventDefault());return c.type=Te,!C&&!c.isDefaultPrevented()&&(!se._default||se._default.apply(re.pop(),y)===!1)&&ze(x)&&q&&m(x[Te])&&!w(x)&&(P=x[q],P&&(x[q]=null),v.event.triggered=Te,c.isPropagationStopped()&&ve.addEventListener(Te,Ss),x[Te](),c.isPropagationStopped()&&ve.removeEventListener(Te,Ss),v.event.triggered=void 0,P&&(x[q]=P)),c.result}},simulate:function(c,y,x){var C=v.extend(new v.Event,x,{type:c,isSimulated:!0});v.event.trigger(C,null,y)}}),v.fn.extend({trigger:function(c,y){return this.each(function(){v.event.trigger(c,y,this)})},triggerHandler:function(c,y){var x=this[0];if(x)return v.event.trigger(c,y,x,!0)}});var Kf=/\[\]$/,Ls=/\r?\n/g,Zf=/^(?:submit|button|image|reset|file)$/i,Qf=/^(?:input|select|textarea|keygen)/i;function ao(c,y,x,C){var M;if(Array.isArray(y))v.each(y,function(N,P){x||Kf.test(c)?C(c,P):ao(c+"["+(typeof P=="object"&&P!=null?N:"")+"]",P,x,C)});else if(!x&&S(y)==="object")for(M in y)ao(c+"["+M+"]",y[M],x,C);else C(c,y)}v.param=function(c,y){var x,C=[],M=function(N,P){var Y=m(P)?P():P;C[C.length]=encodeURIComponent(N)+"="+encodeURIComponent(Y??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!v.isPlainObject(c))v.each(c,function(){M(this.name,this.value)});else for(x in c)ao(x,c[x],y,M);return C.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=v.prop(this,"elements");return c?v.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!v(this).is(":disabled")&&Qf.test(this.nodeName)&&!Zf.test(c)&&(this.checked||!Bt.test(c))}).map(function(c,y){var x=v(this).val();return x==null?null:Array.isArray(x)?v.map(x,function(C){return{name:y.name,value:C.replace(Ls,`\r
`)}}):{name:y.name,value:x.replace(Ls,`\r
`)}}).get()}});var jf=/%20/g,Jf=/#.*$/,ec=/([?&])_=[^&]*/,tc=/^(.*?):[ \t]*([^\r\n]*)$/mg,rc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nc=/^(?:GET|HEAD)$/,ac=/^\/\//,As={},io={},Ms="*/".concat("*"),oo=b.createElement("a");oo.href=la.href;function Ns(c){return function(y,x){typeof y!="string"&&(x=y,y="*");var C,M=0,N=y.toLowerCase().match(be)||[];if(m(x))for(;C=N[M++];)C[0]==="+"?(C=C.slice(1)||"*",(c[C]=c[C]||[]).unshift(x)):(c[C]=c[C]||[]).push(x)}}function Os(c,y,x,C){var M={},N=c===io;function P(Y){var q;return M[Y]=!0,v.each(c[Y]||[],function(Q,se){var ve=se(y,x,C);if(typeof ve=="string"&&!N&&!M[ve])return y.dataTypes.unshift(ve),P(ve),!1;if(N)return!(q=ve)}),q}return P(y.dataTypes[0])||!M["*"]&&P("*")}function so(c,y){var x,C,M=v.ajaxSettings.flatOptions||{};for(x in y)y[x]!==void 0&&((M[x]?c:C||(C={}))[x]=y[x]);return C&&v.extend(!0,c,C),c}function ic(c,y,x){for(var C,M,N,P,Y=c.contents,q=c.dataTypes;q[0]==="*";)q.shift(),C===void 0&&(C=c.mimeType||y.getResponseHeader("Content-Type"));if(C){for(M in Y)if(Y[M]&&Y[M].test(C)){q.unshift(M);break}}if(q[0]in x)N=q[0];else{for(M in x){if(!q[0]||c.converters[M+" "+q[0]]){N=M;break}P||(P=M)}N=N||P}if(N)return N!==q[0]&&q.unshift(N),x[N]}function oc(c,y,x,C){var M,N,P,Y,q,Q={},se=c.dataTypes.slice();if(se[1])for(P in c.converters)Q[P.toLowerCase()]=c.converters[P];for(N=se.shift();N;)if(c.responseFields[N]&&(x[c.responseFields[N]]=y),!q&&C&&c.dataFilter&&(y=c.dataFilter(y,c.dataType)),q=N,N=se.shift(),N){if(N==="*")N=q;else if(q!=="*"&&q!==N){if(P=Q[q+" "+N]||Q["* "+N],!P){for(M in Q)if(Y=M.split(" "),Y[1]===N&&(P=Q[q+" "+Y[0]]||Q["* "+Y[0]],P)){P===!0?P=Q[M]:Q[M]!==!0&&(N=Y[0],se.unshift(Y[1]));break}}if(P!==!0)if(P&&c.throws)y=P(y);else try{y=P(y)}catch(ve){return{state:"parsererror",error:P?ve:"No conversion from "+q+" to "+N}}}}return{state:"success",data:y}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:la.href,type:"GET",isLocal:rc.test(la.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ms,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,y){return y?so(so(c,v.ajaxSettings),y):so(v.ajaxSettings,c)},ajaxPrefilter:Ns(As),ajaxTransport:Ns(io),ajax:function(c,y){typeof c=="object"&&(y=c,c=void 0),y=y||{};var x,C,M,N,P,Y,q,Q,se,ve,re=v.ajaxSetup({},y),Te=re.context||re,Xe=re.context&&(Te.nodeType||Te.jquery)?v(Te):v.event,rt=v.Deferred(),Qe=v.Callbacks("once memory"),Ft=re.statusCode||{},At={},Cr={},Dr="canceled",tt={readyState:0,getResponseHeader:function(at){var xt;if(q){if(!N)for(N={};xt=tc.exec(M);)N[xt[1].toLowerCase()+" "]=(N[xt[1].toLowerCase()+" "]||[]).concat(xt[2]);xt=N[at.toLowerCase()+" "]}return xt==null?null:xt.join(", ")},getAllResponseHeaders:function(){return q?M:null},setRequestHeader:function(at,xt){return q==null&&(at=Cr[at.toLowerCase()]=Cr[at.toLowerCase()]||at,At[at]=xt),this},overrideMimeType:function(at){return q==null&&(re.mimeType=at),this},statusCode:function(at){var xt;if(at)if(q)tt.always(at[tt.status]);else for(xt in at)Ft[xt]=[Ft[xt],at[xt]];return this},abort:function(at){var xt=at||Dr;return x&&x.abort(xt),pn(0,xt),this}};if(rt.promise(tt),re.url=((c||re.url||la.href)+"").replace(ac,la.protocol+"//"),re.type=y.method||y.type||re.method||re.type,re.dataTypes=(re.dataType||"*").toLowerCase().match(be)||[""],re.crossDomain==null){Y=b.createElement("a");try{Y.href=re.url,Y.href=Y.href,re.crossDomain=oo.protocol+"//"+oo.host!=Y.protocol+"//"+Y.host}catch{re.crossDomain=!0}}if(re.data&&re.processData&&typeof re.data!="string"&&(re.data=v.param(re.data,re.traditional)),Os(As,re,y,tt),q)return tt;Q=v.event&&re.global,Q&&v.active++===0&&v.event.trigger("ajaxStart"),re.type=re.type.toUpperCase(),re.hasContent=!nc.test(re.type),C=re.url.replace(Jf,""),re.hasContent?re.data&&re.processData&&(re.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(re.data=re.data.replace(jf,"+")):(ve=re.url.slice(C.length),re.data&&(re.processData||typeof re.data=="string")&&(C+=(no.test(C)?"&":"?")+re.data,delete re.data),re.cache===!1&&(C=C.replace(ec,"$1"),ve=(no.test(C)?"&":"?")+"_="+Cs.guid+++ve),re.url=C+ve),re.ifModified&&(v.lastModified[C]&&tt.setRequestHeader("If-Modified-Since",v.lastModified[C]),v.etag[C]&&tt.setRequestHeader("If-None-Match",v.etag[C])),(re.data&&re.hasContent&&re.contentType!==!1||y.contentType)&&tt.setRequestHeader("Content-Type",re.contentType),tt.setRequestHeader("Accept",re.dataTypes[0]&&re.accepts[re.dataTypes[0]]?re.accepts[re.dataTypes[0]]+(re.dataTypes[0]!=="*"?", "+Ms+"; q=0.01":""):re.accepts["*"]);for(se in re.headers)tt.setRequestHeader(se,re.headers[se]);if(re.beforeSend&&(re.beforeSend.call(Te,tt,re)===!1||q))return tt.abort();if(Dr="abort",Qe.add(re.complete),tt.done(re.success),tt.fail(re.error),x=Os(io,re,y,tt),!x)pn(-1,"No Transport");else{if(tt.readyState=1,Q&&Xe.trigger("ajaxSend",[tt,re]),q)return tt;re.async&&re.timeout>0&&(P=e.setTimeout(function(){tt.abort("timeout")},re.timeout));try{q=!1,x.send(At,pn)}catch(at){if(q)throw at;pn(-1,at)}}function pn(at,xt,ca,lo){var Sr,ha,Lr,_r,Kr,hr=xt;q||(q=!0,P&&e.clearTimeout(P),x=void 0,M=lo||"",tt.readyState=at>0?4:0,Sr=at>=200&&at<300||at===304,ca&&(_r=ic(re,tt,ca)),!Sr&&v.inArray("script",re.dataTypes)>-1&&v.inArray("json",re.dataTypes)<0&&(re.converters["text script"]=function(){}),_r=oc(re,_r,tt,Sr),Sr?(re.ifModified&&(Kr=tt.getResponseHeader("Last-Modified"),Kr&&(v.lastModified[C]=Kr),Kr=tt.getResponseHeader("etag"),Kr&&(v.etag[C]=Kr)),at===204||re.type==="HEAD"?hr="nocontent":at===304?hr="notmodified":(hr=_r.state,ha=_r.data,Lr=_r.error,Sr=!Lr)):(Lr=hr,(at||!hr)&&(hr="error",at<0&&(at=0))),tt.status=at,tt.statusText=(xt||hr)+"",Sr?rt.resolveWith(Te,[ha,hr,tt]):rt.rejectWith(Te,[tt,hr,Lr]),tt.statusCode(Ft),Ft=void 0,Q&&Xe.trigger(Sr?"ajaxSuccess":"ajaxError",[tt,re,Sr?ha:Lr]),Qe.fireWith(Te,[tt,hr]),Q&&(Xe.trigger("ajaxComplete",[tt,re]),--v.active||v.event.trigger("ajaxStop")))}return tt},getJSON:function(c,y,x){return v.get(c,y,x,"json")},getScript:function(c,y){return v.get(c,void 0,y,"script")}}),v.each(["get","post"],function(c,y){v[y]=function(x,C,M,N){return m(C)&&(N=N||M,M=C,C=void 0),v.ajax(v.extend({url:x,type:y,dataType:N,data:C,success:M},v.isPlainObject(x)&&x))}}),v.ajaxPrefilter(function(c){var y;for(y in c.headers)y.toLowerCase()==="content-type"&&(c.contentType=c.headers[y]||"")}),v._evalUrl=function(c,y,x){return v.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){v.globalEval(C,y,x)}})},v.fn.extend({wrapAll:function(c){var y;return this[0]&&(m(c)&&(c=c.call(this[0])),y=v(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this)),this},wrapInner:function(c){return m(c)?this.each(function(y){v(this).wrapInner(c.call(this,y))}):this.each(function(){var y=v(this),x=y.contents();x.length?x.wrapAll(c):y.append(c)})},wrap:function(c){var y=m(c);return this.each(function(x){v(this).wrapAll(y?c.call(this,x):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(c){return!v.expr.pseudos.visible(c)},v.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var sc={0:200,1223:204},fa=v.ajaxSettings.xhr();g.cors=!!fa&&"withCredentials"in fa,g.ajax=fa=!!fa,v.ajaxTransport(function(c){var y,x;if(g.cors||fa&&!c.crossDomain)return{send:function(C,M){var N,P=c.xhr();if(P.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(N in c.xhrFields)P[N]=c.xhrFields[N];c.mimeType&&P.overrideMimeType&&P.overrideMimeType(c.mimeType),!c.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest");for(N in C)P.setRequestHeader(N,C[N]);y=function(Y){return function(){y&&(y=x=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,Y==="abort"?P.abort():Y==="error"?typeof P.status!="number"?M(0,"error"):M(P.status,P.statusText):M(sc[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=y(),x=P.onerror=P.ontimeout=y("error"),P.onabort!==void 0?P.onabort=x:P.onreadystatechange=function(){P.readyState===4&&e.setTimeout(function(){y&&x()})},y=y("abort");try{P.send(c.hasContent&&c.data||null)}catch(Y){if(y)throw Y}},abort:function(){y&&y()}}}),v.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return v.globalEval(c),c}}}),v.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),v.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var y,x;return{send:function(C,M){y=v("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",x=function(N){y.remove(),x=null,N&&M(N.type==="error"?404:200,N.type)}),b.head.appendChild(y[0])},abort:function(){x&&x()}}}});var Is=[],uo=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Is.pop()||v.expando+"_"+Cs.guid++;return this[c]=!0,c}}),v.ajaxPrefilter("json jsonp",function(c,y,x){var C,M,N,P=c.jsonp!==!1&&(uo.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&uo.test(c.data)&&"data");if(P||c.dataTypes[0]==="jsonp")return C=c.jsonpCallback=m(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,P?c[P]=c[P].replace(uo,"$1"+C):c.jsonp!==!1&&(c.url+=(no.test(c.url)?"&":"?")+c.jsonp+"="+C),c.converters["script json"]=function(){return N||v.error(C+" was not called"),N[0]},c.dataTypes[0]="json",M=e[C],e[C]=function(){N=arguments},x.always(function(){M===void 0?v(e).removeProp(C):e[C]=M,c[C]&&(c.jsonpCallback=y.jsonpCallback,Is.push(C)),N&&m(M)&&M(N[0]),N=M=void 0}),"script"}),g.createHTMLDocument=function(){var c=b.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),v.parseHTML=function(c,y,x){if(typeof c!="string")return[];typeof y=="boolean"&&(x=y,y=!1);var C,M,N;return y||(g.createHTMLDocument?(y=b.implementation.createHTMLDocument(""),C=y.createElement("base"),C.href=b.location.href,y.head.appendChild(C)):y=b),M=J.exec(c),N=!x&&[],M?[y.createElement(M[1])]:(M=Tr([c],y,N),N&&N.length&&v(N).remove(),v.merge([],M.childNodes))},v.fn.load=function(c,y,x){var C,M,N,P=this,Y=c.indexOf(" ");return Y>-1&&(C=dn(c.slice(Y)),c=c.slice(0,Y)),m(y)?(x=y,y=void 0):y&&typeof y=="object"&&(M="POST"),P.length>0&&v.ajax({url:c,type:M||"GET",dataType:"html",data:y}).done(function(q){N=arguments,P.html(C?v("<div>").append(v.parseHTML(q)).find(C):q)}).always(x&&function(q,Q){P.each(function(){x.apply(this,N||[q.responseText,Q,q])})}),this},v.expr.pseudos.animated=function(c){return v.grep(v.timers,function(y){return c===y.elem}).length},v.offset={setOffset:function(c,y,x){var C,M,N,P,Y,q,Q,se=v.css(c,"position"),ve=v(c),re={};se==="static"&&(c.style.position="relative"),Y=ve.offset(),N=v.css(c,"top"),q=v.css(c,"left"),Q=(se==="absolute"||se==="fixed")&&(N+q).indexOf("auto")>-1,Q?(C=ve.position(),P=C.top,M=C.left):(P=parseFloat(N)||0,M=parseFloat(q)||0),m(y)&&(y=y.call(c,x,v.extend({},Y))),y.top!=null&&(re.top=y.top-Y.top+P),y.left!=null&&(re.left=y.left-Y.left+M),"using"in y?y.using.call(c,re):ve.css(re)}},v.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(M){v.offset.setOffset(this,c,M)});var y,x,C=this[0];if(C)return C.getClientRects().length?(y=C.getBoundingClientRect(),x=C.ownerDocument.defaultView,{top:y.top+x.pageYOffset,left:y.left+x.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,y,x,C=this[0],M={top:0,left:0};if(v.css(C,"position")==="fixed")y=C.getBoundingClientRect();else{for(y=this.offset(),x=C.ownerDocument,c=C.offsetParent||x.documentElement;c&&(c===x.body||c===x.documentElement)&&v.css(c,"position")==="static";)c=c.parentNode;c&&c!==C&&c.nodeType===1&&(M=v(c).offset(),M.top+=v.css(c,"borderTopWidth",!0),M.left+=v.css(c,"borderLeftWidth",!0))}return{top:y.top-M.top-v.css(C,"marginTop",!0),left:y.left-M.left-v.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&v.css(c,"position")==="static";)c=c.offsetParent;return c||je})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,y){var x=y==="pageYOffset";v.fn[c]=function(C){return pe(this,function(M,N,P){var Y;if(w(M)?Y=M:M.nodeType===9&&(Y=M.defaultView),P===void 0)return Y?Y[y]:M[N];Y?Y.scrollTo(x?Y.pageXOffset:P,x?P:Y.pageYOffset):M[N]=P},c,C,arguments.length)}}),v.each(["top","left"],function(c,y){v.cssHooks[y]=Qa(g.pixelPosition,function(x,C){if(C)return C=Xr(x,y),oa.test(C)?v(x).position()[y]+"px":C})}),v.each({Height:"height",Width:"width"},function(c,y){v.each({padding:"inner"+c,content:y,"":"outer"+c},function(x,C){v.fn[C]=function(M,N){var P=arguments.length&&(x||typeof M!="boolean"),Y=x||(M===!0||N===!0?"margin":"border");return pe(this,function(q,Q,se){var ve;return w(q)?C.indexOf("outer")===0?q["inner"+c]:q.document.documentElement["client"+c]:q.nodeType===9?(ve=q.documentElement,Math.max(q.body["scroll"+c],ve["scroll"+c],q.body["offset"+c],ve["offset"+c],ve["client"+c])):se===void 0?v.css(q,Q,Y):v.style(q,Q,se,Y)},y,P?M:void 0,P)}})}),v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,y){v.fn[y]=function(x){return this.on(y,x)}}),v.fn.extend({bind:function(c,y,x){return this.on(c,null,y,x)},unbind:function(c,y){return this.off(c,null,y)},delegate:function(c,y,x,C){return this.on(y,c,x,C)},undelegate:function(c,y,x){return arguments.length===1?this.off(c,"**"):this.off(y,c||"**",x)},hover:function(c,y){return this.on("mouseenter",c).on("mouseleave",y||c)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,y){v.fn[y]=function(x,C){return arguments.length>0?this.on(y,null,x,C):this.trigger(y)}});var uc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;v.proxy=function(c,y){var x,C,M;if(typeof y=="string"&&(x=c[y],y=c,c=x),!!m(c))return C=i.call(arguments,2),M=function(){return c.apply(y||this,C.concat(i.call(arguments)))},M.guid=c.guid=c.guid||v.guid++,M},v.holdReady=function(c){c?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=D,v.isFunction=m,v.isWindow=w,v.camelCase=Me,v.type=S,v.now=Date.now,v.isNumeric=function(c){var y=v.type(c);return(y==="number"||y==="string")&&!isNaN(c-parseFloat(c))},v.trim=function(c){return c==null?"":(c+"").replace(uc,"$1")};var lc=e.jQuery,fc=e.$;return v.noConflict=function(c){return e.$===v&&(e.$=fc),c&&e.jQuery===v&&(e.jQuery=lc),v},typeof r>"u"&&(e.jQuery=e.$=v),v})}(Io)),Io.exports}/*!
Copyright (c) The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the Software), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/(function(t){(function(){var e=function(a,i){!a||!i||(i.fn.cyPanzoom=i.fn.cytoscapePanzoom=function(o){return n.apply(this,[o,a,i]),this},a("core","panzoom",function(o){return n.apply(this,[o,a,i]),this}))},r={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},n=function(a,i,o){var s=this,u=o.extend(!0,{},r,a),l=a,f={destroy:function(){var h=o(s.container()),p=h.find(".cy-panzoom");p.data("winbdgs").forEach(function(d){o(window).unbind(d.evt,d.fn)}),p.data("cybdgs").forEach(function(d){s.off(d.evt,d.fn)}),p.remove()},init:function(){return o(s.container()).each(function(){var h=o(this);h.cytoscape=i;var p=[],d=o(window),g=function(le,me){p.push({evt:le,fn:me}),d.bind(le,me)},m=function(le,me){for(var xe=0;xe<p.length;xe++){var pe=p[xe];if(pe.evt===le&&pe.fn===me){p.splice(xe,1);break}}d.unbind(le,me)},w=[],b=function(le,me){w.push({evt:le,fn:me}),s.on(le,me)},T=o('<div class="cy-panzoom"></div>');h.prepend(T),T.css("position","absolute"),T.data("winbdgs",p),T.data("cybdgs",w),u.zoomOnly&&T.addClass("cy-panzoom-zoom-only");var E=o('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+u.zoomInIcon+'"></span></div>');T.append(E);var S=o('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+u.zoomOutIcon+'"></span></div>');T.append(S);var A=o('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+u.resetIcon+'"></span></div>');T.append(A);var I=o('<div class="cy-panzoom-slider"></div>');T.append(I),I.append('<div class="cy-panzoom-slider-background"></div>');var v=o('<div class="cy-panzoom-slider-handle"><span class="icon '+u.sliderHandleIcon+'"></span></div>');I.append(v);var L=o('<div class="cy-panzoom-no-zoom-tick"></div>');I.append(L);var D=o('<div class="cy-panzoom-panner"></div>');T.append(D);var O=o('<div class="cy-panzoom-panner-handle"></div>');D.append(O);var R=o('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),k=o('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),z=o('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),B=o('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(R).append(k).append(z).append(B);var U=o('<div class="cy-panzoom-pan-indicator"></div>');D.append(U);function H(le){var me={x:le.originalEvent.pageX-D.offset().left-D.width()/2,y:le.originalEvent.pageY-D.offset().top-D.height()/2},xe=u.panDragAreaSize,pe=Math.sqrt(me.x*me.x+me.y*me.y),Se=Math.min(pe/xe,1);if(pe<u.panInactiveArea)return{x:NaN,y:NaN};me={x:me.x/pe,y:me.y/pe},Se=Math.max(u.panMinPercentSpeed,Se);var ke={x:-1*me.x*(Se*u.panDistance),y:-1*me.y*(Se*u.panDistance)};return ke}function V(){clearInterval(ue),m("mousemove",Z),U.hide()}function W(le){var me=le,xe=Math.sqrt(me.x*me.x+me.y*me.y),pe={x:-1*me.x/xe,y:-1*me.y/xe},Se=D.width(),ke=D.height(),Re=xe/u.panDistance,Me=Math.max(u.panIndicatorMinOpacity,Re),ze=255-Math.round(Me*255);U.show().css({left:Se/2*pe.x+Se/2,top:ke/2*pe.y+ke/2,background:"rgb("+ze+", "+ze+", "+ze+")"})}function X(){s.pan(),s.zoom(),ne=h.width()/2,ie=h.height()/2}var j=!1;function K(){j=!0,X()}function J(){j=!1}var ne,ie;function oe(le){j||X(),s.zoom({level:le,renderedPosition:{x:ne,y:ie}})}var ue,Z=function(le){le.stopPropagation(),le.preventDefault(),clearInterval(ue);var me=H(le);if(isNaN(me.x)||isNaN(me.y)){U.hide();return}W(me),ue=setInterval(function(){s.panBy(me)},u.panSpeed)};O.bind("mousedown",function(le){Z(le),g("mousemove",Z)}),O.bind("mouseup",function(){V()}),g("mouseup blur",function(){V()}),I.bind("mousedown",function(){return!1});var fe=!1,ce=2;function be(le,me){me===void 0&&(me=0);var xe=ce,pe=0+xe,Se=I.height()-v.height()-2*xe,ke=le.pageY-I.offset().top-me;ke<pe&&(ke=pe),ke>Se&&(ke=Se);var Re=1-(ke-pe)/(Se-pe);v.css("top",ke);var Me=u.minZoom,ze=u.maxZoom,ye=Math.log(Me)/Math.log(ze),F=(1-ye)*Re+ye,ee=Math.pow(ze,F);ee<Me?ee=Me:ee>ze&&(ee=ze),oe(ee)}var Ce,Fe;v.bind("mousedown",Ce=function(le){var me=le.target===v[0]?le.offsetY:0;fe=!0,K(),v.addClass("active");var xe=0;return g("mousemove",Fe=function(pe){var Se=+new Date;if(Se>xe+10)xe=Se;else return!1;return be(pe,me),!1}),g("mouseup",function(){m("mousemove",Fe),fe=!1,v.removeClass("active"),J()}),!1}),I.bind("mousedown",function(le){le.target!==v[0]&&(Ce(le),be(le))});function He(){var le=s.zoom(),me=u.minZoom,xe=u.maxZoom,pe=Math.log(me)/Math.log(xe),Se=Math.log(le)/Math.log(xe),ke=1-(Se-pe)/(1-pe),Re=ce,Me=I.height()-v.height()-2*ce,ze=ke*(Me-Re);ze<Re&&(ze=Re),ze>Me&&(ze=Me),v.css("top",ze)}He(),b("zoom",function(){fe||He()}),function(){var le=1,me=u.minZoom,xe=u.maxZoom,pe=Math.log(me)/Math.log(xe),Se=Math.log(le)/Math.log(xe),ke=1-(Se-pe)/(1-pe);if(ke>1||ke<0){L.hide();return}var Re=ce,Me=I.height()-v.height()-2*ce,ze=ke*(Me-Re);ze<Re&&(ze=Re),ze>Me&&(ze=Me),L.css("top",ze)}();function De(le,me){var xe;le.bind("mousedown",function(pe){if(pe.preventDefault(),pe.stopPropagation(),pe.button==0){var Se=function(){var ke=s.zoom(),Re=s.zoom()*me;Re<u.minZoom&&(Re=u.minZoom),Re>u.maxZoom&&(Re=u.maxZoom),!(Re==u.maxZoom&&ke==u.maxZoom||Re==u.minZoom&&ke==u.minZoom)&&oe(Re)};return K(),Se(),xe=setInterval(Se,u.zoomDelay),!1}}),g("mouseup blur",function(){clearInterval(xe),J()})}De(E,1+u.zoomFactor),De(S,1-u.zoomFactor),A.bind("mousedown",function(le){if(le.button==0){var me=u.fitSelector?s.elements(u.fitSelector):s.elements();if(me.size()===0)s.reset();else{var xe=typeof u.animateOnFit=="function"?u.animateOnFit.call():u.animateOnFit;xe?s.animate({fit:{eles:me,padding:u.fitPadding}},{duration:u.fitAnimationDuration}):s.fit(me,u.fitPadding)}return!1}})})}};return f[l]?f[l].apply(this,Array.prototype.slice.call(arguments,1)):typeof l=="object"||!l?f.init.apply(this,arguments):(o.error("No such function `"+l+"` for jquery.cytoscapePanzoom"),o(this))};t.exports&&(t.exports=function(a,i){e(a,i||Yb())}),typeof cytoscape<"u"&&typeof jQuery<"u"&&e(cytoscape,jQuery)})()})(Gf);var Wb=Gf.exports;const Xb=Wo(Wb);var _b=500;function Kb(t){t===void 0&&(t=_b);var e=null;return this.on("click",function(r){e&&e===r.target?(e=null,r.preventDefault(),r.stopPropagation(),r.target.emit("dblclick",[r])):(e=r.target,setTimeout(function(){e&&e===r.target&&(e=null,r.target.emit("dblclick:timeout",[r]))},t))}),this}function Hf(t){if(t){var e="dblclick";t("core",e,Kb)}}typeof window.cytoscape<"u"&&Hf(window.cytoscape);$(document).ready(function(){Qb()});var Gt,ys,en,ir,Yo=[];const Zb="#777777";function Qb(){$("#cy").length!==0&&(ba.use(Hf),ba.use(Ub),ba.use(Xb),ys=$("#cy"),Gt=ba({container:document.getElementById("cy"),wheelSensitivity:.5,style:ba.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":$("#cy").parent().css("color"),"border-width":3,color:$("#cy").css("color"),"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":$("#cy").css("background-color"),"text-border-color":$("#cy").css("background-color"),"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:$("#cy").css("color"),"text-background-color":$("#cy").css("background-color"),"text-border-color":$("#cy").css("background-color"),"text-border-width":3,"text-border-opacity":1})}),Gt.panzoom({maxZoom:2,minZoom:.3}),Gt.minZoom(.3),Gt.maxZoom(2),Gt.dblclick(),jb())}function jb(){fetch(ys.data("url")).then(t=>t.json()).then(t=>{Jb(t)})}function Jb(t){for(en in t.entities){let e={group:"nodes",data:{id:t.entities[en].id,name:t.entities[en].name,image:t.entities[en].image,link:t.entities[en].link}};Yo.push(e)}for(ir in t.relations){let e={group:"edges",data:{source:t.relations[ir].source,target:t.relations[ir].target,name:t.relations[ir].text,colour:t.relations[ir].colour,attitude:t.relations[ir].attitude,shape:t.relations[ir].shape,edit_url:t.relations[ir].edit_url}};e.data.coluor||(e.data.coluor=Zb),e.data.attitude||(e.data.attitude=0),e.data.attitude=a1(e.data.attitude),Yo.push(e)}e1()}function e1(){Gt.add(Yo),Gt.nodes().forEach(function(t){t.connectedEdges().length==0&&t1(t)}),r1(),n1(),i1()}function t1(t){t.hide()}function r1(){Gt.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function n1(){Gt.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),Gt.nodes().on("mouseover",function(t){en=Gt.getElementById(t.target.id()),en.addClass("node-hover")}),Gt.nodes().on("mouseout",function(){en.removeClass("node-hover")}),Gt.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),Gt.edges().on("mouseover",function(t){ir=Gt.getElementById(t.target.id()),ir.style("label",ir._private.data.name),ir.style("overlay-opacity",.1)}),Gt.edges().on("mouseout",function(){ir.style("label",""),ir.style("overlay-opacity",0)})}function a1(t){return(t+100)/100*2+2}async function i1(){let t=!0;for(;t;)Gt.nodes(":backgrounding").length==0?t=!1:await sleep(300);$("#spinner").hide(),ys.show()}
