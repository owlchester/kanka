import{g as Fl}from"./_commonjsHelpers-Cpj98o6Y.js";function Ot(t){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bn(t,e,r){return e&&lh(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zt(t,e){return ch(t)||dh(t,e)||Ss(t,e)||gh()}function Gl(t){return fh(t)||hh(t)||Ss(t)||vh()}function fh(t){if(Array.isArray(t))return us(t)}function ch(t){if(Array.isArray(t))return t}function hh(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dh(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Ss(t,e){if(t){if(typeof t=="string")return us(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return us(t,e)}}function us(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ss(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var Mt=typeof window>"u"?null:window,vu=Mt?Mt.navigator:null;Mt&&Mt.document;var ph=Ot(""),Ul=Ot({}),yh=Ot(function(){}),mh=typeof HTMLElement>"u"?"undefined":Ot(HTMLElement),ii=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},_e=function(e){return e!=null&&Ot(e)==ph},Ct=function(e){return e!=null&&Ot(e)===yh},mt=function(e){return!mr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ft=function(e){return e!=null&&Ot(e)===Ul&&!mt(e)&&e.constructor===Object},bh=function(e){return e!=null&&Ot(e)===Ul},Pe=function(e){return e!=null&&Ot(e)===Ot(1)&&!isNaN(e)},wh=function(e){return Pe(e)&&Math.floor(e)===e},Ji=function(e){if(mh!=="undefined")return e!=null&&e instanceof HTMLElement},mr=function(e){return oi(e)||Vl(e)},oi=function(e){return ii(e)==="collection"&&e._private.single},Vl=function(e){return ii(e)==="collection"&&!e._private.single},As=function(e){return ii(e)==="core"},Hl=function(e){return ii(e)==="stylesheet"},xh=function(e){return ii(e)==="event"},hn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Eh=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Th=function(e){return ft(e)&&Pe(e.x1)&&Pe(e.x2)&&Pe(e.y1)&&Pe(e.y2)},Ch=function(e){return bh(e)&&Ct(e.then)},Dh=function(){return vu&&vu.userAgent.match(/msie|trident|edge/i)},$a=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,u=r.apply(i,o),l=a.cache;return(s=l[u])||(s=l[u]=e.apply(i,o)),s};return n.cache={},n},Ls=$a(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),co=$a(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),_l=$a(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),gu=function(e){return hn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},It="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Sh="rgb[a]?\\(("+It+"[%]?)\\s*,\\s*("+It+"[%]?)\\s*,\\s*("+It+"[%]?)(?:\\s*,\\s*("+It+"))?\\)",Ah="rgb[a]?\\((?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)(?:\\s*,\\s*(?:"+It+"))?\\)",Lh="hsl[a]?\\(("+It+")\\s*,\\s*("+It+"[%])\\s*,\\s*("+It+"[%])(?:\\s*,\\s*("+It+"))?\\)",Rh="hsl[a]?\\((?:"+It+")\\s*,\\s*(?:"+It+"[%])\\s*,\\s*(?:"+It+"[%])(?:\\s*,\\s*(?:"+It+"))?\\)",Ph="\\#[0-9a-fA-F]{3}",Mh="\\#[0-9a-fA-F]{6}",ql=function(e,r){return e<r?-1:e>r?1:0},Ih=function(e,r){return-1*ql(e,r)},Ye=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},Oh=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},Nh=function(e){var r,n,a,i,o,s,u,l;function f(g,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?g+(m-g)*6*w:w<1/2?m:w<2/3?g+(m-g)*(2/3-w)*6:g}var c=new RegExp("^"+Lh+"$").exec(e);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(c[2]),a<0||a>100||(a=a/100,i=parseFloat(c[3]),i<0||i>100)||(i=i/100,o=c[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=u=l=Math.round(i*255);else{var p=i<.5?i*(1+a):i+a-i*a,v=2*i-p;s=Math.round(255*f(v,p,n+1/3)),u=Math.round(255*f(v,p,n)),l=Math.round(255*f(v,p,n-1/3))}r=[s,u,l,o]}return r},kh=function(e){var r,n=new RegExp("^"+Sh+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},Bh=function(e){return Fh[e.toLowerCase()]},Wl=function(e){return(mt(e)?e:null)||Bh(e)||Oh(e)||kh(e)||Nh(e)},Fh={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Yl=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ft(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},Xl=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ft(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function zh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nn=zh,Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Uh=typeof Ga=="object"&&Ga&&Ga.Object===Object&&Ga,Vh=Uh,Hh=typeof self=="object"&&self&&self.Object===Object&&self,_h=Vh||Hh||Function("return this")(),ho=_h,qh=function(){return ho.Date.now()},Yo=qh,Wh=/\s/;function Yh(t){for(var e=t.length;e--&&Wh.test(t.charAt(e)););return e}var Xh=Yh,$h=/^\s+/;function Kh(t){return t&&t.slice(0,Xh(t)+1).replace($h,"")}var Zh=Kh,Qh=ho.Symbol,oa=Qh,$l=Object.prototype,jh=$l.hasOwnProperty,Jh=$l.toString,Ia=oa?oa.toStringTag:void 0;function ed(t){var e=jh.call(t,Ia),r=t[Ia];try{t[Ia]=void 0;var n=!0}catch{}var a=Jh.call(t);return n&&(e?t[Ia]=r:delete t[Ia]),a}var td=ed,rd=Object.prototype,nd=rd.toString;function ad(t){return nd.call(t)}var id=ad,od="[object Null]",sd="[object Undefined]",pu=oa?oa.toStringTag:void 0;function ud(t){return t==null?t===void 0?sd:od:pu&&pu in Object(t)?td(t):id(t)}var Kl=ud;function ld(t){return t!=null&&typeof t=="object"}var fd=ld,cd="[object Symbol]";function hd(t){return typeof t=="symbol"||fd(t)&&Kl(t)==cd}var si=hd,yu=NaN,dd=/^[-+]0x[0-9a-f]+$/i,vd=/^0b[01]+$/i,gd=/^0o[0-7]+$/i,pd=parseInt;function yd(t){if(typeof t=="number")return t;if(si(t))return yu;if(Nn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Nn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zh(t);var r=vd.test(t);return r||gd.test(t)?pd(t.slice(2),r?2:8):dd.test(t)?yu:+t}var mu=yd,md="Expected a function",bd=Math.max,wd=Math.min;function xd(t,e,r){var n,a,i,o,s,u,l=0,f=!1,c=!1,p=!0;if(typeof t!="function")throw new TypeError(md);e=mu(e)||0,Nn(r)&&(f=!!r.leading,c="maxWait"in r,i=c?bd(mu(r.maxWait)||0,e):i,p="trailing"in r?!!r.trailing:p);function v(M){var d=n,A=a;return n=a=void 0,l=M,o=t.apply(A,d),o}function g(M){return l=M,s=setTimeout(b,e),f?v(M):o}function m(M){var d=M-u,A=M-l,D=e-d;return c?wd(D,i-A):D}function w(M){var d=M-u,A=M-l;return u===void 0||d>=e||d<0||c&&A>=i}function b(){var M=Yo();if(w(M))return E(M);s=setTimeout(b,m(M))}function E(M){return s=void 0,p&&n?v(M):(n=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function S(){return s===void 0?o:E(Yo())}function L(){var M=Yo(),d=w(M);if(n=arguments,a=this,u=M,d){if(s===void 0)return g(u);if(c)return clearTimeout(s),s=setTimeout(b,e),v(u)}return s===void 0&&(s=setTimeout(b,e)),o}return L.cancel=x,L.flush=S,L}var ui=xd,Xo=Mt?Mt.performance:null,Zl=Xo&&Xo.now?function(){return Xo.now()}:function(){return Date.now()},Ed=function(){if(Mt){if(Mt.requestAnimationFrame)return function(t){Mt.requestAnimationFrame(t)};if(Mt.mozRequestAnimationFrame)return function(t){Mt.mozRequestAnimationFrame(t)};if(Mt.webkitRequestAnimationFrame)return function(t){Mt.webkitRequestAnimationFrame(t)};if(Mt.msRequestAnimationFrame)return function(t){Mt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Zl())},1e3/60)}}(),eo=function(e){return Ed(e)},$r=Zl,Jn=9261,Ql=65599,Ua=5381,jl=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jn,n=r,a;a=e.next(),!a.done;)n=n*Ql+a.value|0;return n},Ka=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jn;return r*Ql+e|0},Za=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ua;return(r<<5)+r+e|0},Td=function(e,r){return e*2097152+r},an=function(e){return e[0]*2097152+e[1]},Si=function(e,r){return[Ka(e[0],r[0]),Za(e[1],r[1])]},Cd=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return jl(o,r)},dn=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return jl(o,r)},Jl=function(){return Dd(arguments)},Dd=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=dn(a):r=dn(a,r)}return r},bu=!0,Sd=console.warn!=null,Ad=console.trace!=null,Rs=Number.MAX_SAFE_INTEGER||9007199254740991,ef=function(){return!0},to=function(){return!1},wu=function(){return 0},Ps=function(){},Tt=function(e){throw new Error(e)},tf=function(e){if(e!==void 0)bu=!!e;else return bu},vt=function(e){tf()&&(Sd?console.warn(e):(console.log(e),Ad&&console.trace()))},Ld=function(e){return Ye({},e)},Ur=function(e){return e==null?e:mt(e)?e.slice():ft(e)?Ld(e):e},Rd=function(e){return e.slice()},rf=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Pd={},nf=function(){return Pd},Gt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n==null?void 0:n[o];a[o]=s===void 0?e[o]:s}return a}},vn=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},Ms=function(e){e.splice(0,e.length)},Md=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Rr=function(e,r,n){return n&&(r=_l(n,r)),e[r]},sn=function(e,r,n,a){n&&(r=_l(n,r)),e[r]=a},Id=function(){function t(){mn(this,t),this._obj={}}return bn(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Vr=typeof Map<"u"?Map:Id,Od="undefined",Nd=function(){function t(e){if(mn(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return bn(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),fa=(typeof Set>"u"?"undefined":Ot(Set))!==Od?Set:Nd,vo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!As(e)){Tt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Tt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new fa,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),u=e.zoom();i.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];mt(r.classes)?l=r.classes:_e(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,c=l.length;f<c;f++){var p=l[f];!p||p===""||i.classes.add(p)}this.createEmitter();var v=r.style||r.css;v&&(vt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v)),(n===void 0||n)&&this.restore()},xu=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;ft(n)&&!mr(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!Ct(a)?a:i,a=Ct(a)?a:function(){};for(var s=this._private.cy,u=n=_e(n)?this.filter(n):n,l=[],f=[],c={},p={},v={},g=0,m,w=this.byGroup(),b=w.nodes,E=w.edges,x=0;x<u.length;x++){var S=u[x],L=S.id();S.isNode()&&(l.unshift(S),e.bfs&&(v[L]=!0,f.push(S)),p[L]=0)}for(var M=function(){var B=e.bfs?l.shift():l.pop(),F=B.id();if(e.dfs){if(v[F])return"continue";v[F]=!0,f.push(B)}var U=p[F],V=c[F],_=V!=null?V.source():null,q=V!=null?V.target():null,Y=V==null?void 0:B.same(_)?q[0]:_[0],Q=void 0;if(Q=a(B,V,Y,g++,U),Q===!0)return m=B,"break";if(Q===!1)return"break";for(var $=B.connectedEdges().filter(function(he){return(!i||he.source().same(B))&&E.has(he)}),K=0;K<$.length;K++){var ie=$[K],ue=ie.connectedNodes().filter(function(he){return!he.same(B)&&b.has(he)}),fe=ue.id();ue.length!==0&&!v[fe]&&(ue=ue[0],l.push(ue),e.bfs&&(v[fe]=!0,f.push(ue)),c[fe]=ie,p[fe]=p[F]+1)}};l.length!==0;){var d=M();if(d!=="continue"&&d==="break")break}for(var A=s.collection(),D=0;D<f.length;D++){var P=f[D],O=c[P.id()];O!=null&&A.push(O),A.push(P)}return{path:s.collection(A),found:s.collection(m)}}},Qa={breadthFirstSearch:xu({bfs:!0}),depthFirstSearch:xu({dfs:!0})};Qa.bfs=Qa.breadthFirstSearch;Qa.dfs=Qa.depthFirstSearch;var kd=Gh(function(t,e){(function(){var r,n,a,i,o,s,u,l,f,c,p,v,g,m,w;a=Math.floor,c=Math.min,n=function(b,E){return b<E?-1:b>E?1:0},f=function(b,E,x,S,L){var M;if(x==null&&(x=0),L==null&&(L=n),x<0)throw new Error("lo must be non-negative");for(S==null&&(S=b.length);x<S;)M=a((x+S)/2),L(E,b[M])<0?S=M:x=M+1;return[].splice.apply(b,[x,x-x].concat(E)),E},s=function(b,E,x){return x==null&&(x=n),b.push(E),m(b,0,b.length-1,x)},o=function(b,E){var x,S;return E==null&&(E=n),x=b.pop(),b.length?(S=b[0],b[0]=x,w(b,0,E)):S=x,S},l=function(b,E,x){var S;return x==null&&(x=n),S=b[0],b[0]=E,w(b,0,x),S},u=function(b,E,x){var S;return x==null&&(x=n),b.length&&x(b[0],E)<0&&(S=[b[0],E],E=S[0],b[0]=S[1],w(b,0,x)),E},i=function(b,E){var x,S,L,M,d,A;for(E==null&&(E=n),M=(function(){A=[];for(var D=0,P=a(b.length/2);0<=P?D<P:D>P;0<=P?D++:D--)A.push(D);return A}).apply(this).reverse(),d=[],S=0,L=M.length;S<L;S++)x=M[S],d.push(w(b,x,E));return d},g=function(b,E,x){var S;if(x==null&&(x=n),S=b.indexOf(E),S!==-1)return m(b,0,S,x),w(b,S,x)},p=function(b,E,x){var S,L,M,d,A;if(x==null&&(x=n),L=b.slice(0,E),!L.length)return L;for(i(L,x),A=b.slice(E),M=0,d=A.length;M<d;M++)S=A[M],u(L,S,x);return L.sort(x).reverse()},v=function(b,E,x){var S,L,M,d,A,D,P,O,N;if(x==null&&(x=n),E*10<=b.length){if(M=b.slice(0,E).sort(x),!M.length)return M;for(L=M[M.length-1],P=b.slice(E),d=0,D=P.length;d<D;d++)S=P[d],x(S,L)<0&&(f(M,S,0,null,x),M.pop(),L=M[M.length-1]);return M}for(i(b,x),N=[],A=0,O=c(E,b.length);0<=O?A<O:A>O;0<=O?++A:--A)N.push(o(b,x));return N},m=function(b,E,x,S){var L,M,d;for(S==null&&(S=n),L=b[x];x>E;){if(d=x-1>>1,M=b[d],S(L,M)<0){b[x]=M,x=d;continue}break}return b[x]=L},w=function(b,E,x){var S,L,M,d,A;for(x==null&&(x=n),L=b.length,A=E,M=b[E],S=2*E+1;S<L;)d=S+1,d<L&&!(x(b[S],b[d])<0)&&(S=d),b[E]=b[S],E=S,S=2*E+1;return b[E]=M,m(b,A,E,x)},r=function(){b.push=s,b.pop=o,b.replace=l,b.pushpop=u,b.heapify=i,b.updateItem=g,b.nlargest=p,b.nsmallest=v;function b(E){this.cmp=E??n,this.nodes=[]}return b.prototype.push=function(E){return s(this.nodes,E,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},b.prototype.replace=function(E){return l(this.nodes,E,this.cmp)},b.prototype.pushpop=function(E){return u(this.nodes,E,this.cmp)},b.prototype.heapify=function(){return i(this.nodes,this.cmp)},b.prototype.updateItem=function(E){return g(this.nodes,E,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var E;return E=new b,E.nodes=this.nodes.slice(0),E},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,E){return t.exports=E()}(this,function(){return r})}).call(Ga)}),li=kd,Bd=Gt({root:null,weight:function(e){return 1},directed:!1}),Fd={dijkstra:function(e){if(!ft(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Bd(e),a=n.root,i=n.weight,o=n.directed,s=this,u=i,l=_e(a)?this.filter(a)[0]:a[0],f={},c={},p={},v=this.byGroup(),g=v.nodes,m=v.edges;m.unmergeBy(function(U){return U.isLoop()});for(var w=function(V){return f[V.id()]},b=function(V,_){f[V.id()]=_,E.updateItem(V)},E=new li(function(U,V){return w(U)-w(V)}),x=0;x<g.length;x++){var S=g[x];f[S.id()]=S.same(l)?0:1/0,E.push(S)}for(var L=function(V,_){for(var q=(o?V.edgesTo(_):V.edgesWith(_)).intersect(m),Y=1/0,Q,$=0;$<q.length;$++){var K=q[$],ie=u(K);(ie<Y||!Q)&&(Y=ie,Q=K)}return{edge:Q,dist:Y}};E.size()>0;){var M=E.pop(),d=w(M),A=M.id();if(p[A]=d,d!==1/0)for(var D=M.neighborhood().intersect(g),P=0;P<D.length;P++){var O=D[P],N=O.id(),B=L(M,O),F=d+B.dist;F<w(O)&&(b(O,F),c[N]={node:M,edge:B.edge})}}return{distanceTo:function(V){var _=_e(V)?g.filter(V)[0]:V[0];return p[_.id()]},pathTo:function(V){var _=_e(V)?g.filter(V)[0]:V[0],q=[],Y=_,Q=Y.id();if(_.length>0)for(q.unshift(_);c[Q];){var $=c[Q];q.unshift($.edge),q.unshift($.node),Y=$.node,Q=Y.id()}return s.spawn(q)}}}},zd={kruskal:function(e){e=e||function(x){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,u=function(S){for(var L=0;L<o.length;L++){var M=o[L];if(M.has(S))return L}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var f=a.sort(function(x,S){return e(x)-e(S)}),c=0;c<f.length;c++){var p=f[c],v=p.source()[0],g=p.target()[0],m=u(v),w=u(g),b=o[m],E=o[w];m!==w&&(s.merge(p),b.merge(E),o.splice(w,1))}return s}},Gd=Gt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Ud={aStar:function(e){var r=this.cy(),n=Gd(e),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),f=i.id(),c={},p={},v={},g=new li(function(Q,$){return p[Q.id()]-p[$.id()]}),m=new fa,w={},b={},E=function($,K){g.push($),m.add(K)},x,S,L=function(){x=g.pop(),S=x.id(),m.delete(S)},M=function($){return m.has($)};E(a,l),c[l]=0,p[l]=o(a);for(var d=0;g.size()>0;){if(L(),d++,S===f){for(var A=[],D=i,P=f,O=b[P];A.unshift(D),O!=null&&A.unshift(O),D=w[P],D!=null;)P=D.id(),O=b[P];return{found:!0,distance:c[S],path:this.spawn(A),steps:d}}v[S]=!0;for(var N=x._private.edges,B=0;B<N.length;B++){var F=N[B];if(this.hasElementWithId(F.id())&&!(s&&F.data("source")!==S)){var U=F.source(),V=F.target(),_=U.id()!==S?U:V,q=_.id();if(this.hasElementWithId(q)&&!v[q]){var Y=c[S]+u(F);if(!M(q)){c[q]=Y,p[q]=Y+o(_),E(_,q),w[q]=x,b[q]=F;continue}Y<c[q]&&(c[q]=Y,p[q]=Y+o(_),w[q]=x,b[q]=F)}}}}return{found:!1,distance:void 0,path:void 0,steps:d}}},Vd=Gt({weight:function(e){return 1},directed:!1}),Hd={floydWarshall:function(e){for(var r=this.cy(),n=Vd(e),a=n.weight,i=n.directed,o=a,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,c=f*f,p=function(ie){return u.indexOf(ie)},v=function(ie){return u[ie]},g=new Array(c),m=0;m<c;m++){var w=m%f,b=(m-w)/f;b===w?g[m]=0:g[m]=1/0}for(var E=new Array(c),x=new Array(c),S=0;S<l.length;S++){var L=l[S],M=L.source()[0],d=L.target()[0];if(M!==d){var A=p(M),D=p(d),P=A*f+D,O=o(L);if(g[P]>O&&(g[P]=O,E[P]=D,x[P]=L),!i){var N=D*f+A;!i&&g[N]>O&&(g[N]=O,E[N]=A,x[N]=L)}}}for(var B=0;B<f;B++)for(var F=0;F<f;F++)for(var U=F*f+B,V=0;V<f;V++){var _=F*f+V,q=B*f+V;g[U]+g[q]<g[_]&&(g[_]=g[U]+g[q],E[_]=E[U])}var Y=function(ie){return(_e(ie)?r.filter(ie):ie)[0]},Q=function(ie){return p(Y(ie))},$={distance:function(ie,ue){var fe=Q(ie),he=Q(ue);return g[fe*f+he]},path:function(ie,ue){var fe=Q(ie),he=Q(ue),ye=v(fe);if(fe===he)return ye.collection();if(E[fe*f+he]==null)return r.collection();var be=r.collection(),te=fe,j;for(be.merge(ye);fe!==he;)te=fe,fe=E[fe*f+he],j=x[te*f+fe],be.merge(j),be.merge(v(fe));return be}};return $}},_d=Gt({weight:function(e){return 1},directed:!1,root:null}),qd={bellmanFord:function(e){var r=this,n=_d(e),a=n.weight,i=n.directed,o=n.root,s=a,u=this,l=this.cy(),f=this.byGroup(),c=f.edges,p=f.nodes,v=p.length,g=new Vr,m=!1,w=[];o=l.collection(o)[0],c.unmergeBy(function(Ue){return Ue.isLoop()});for(var b=c.length,E=function(we){var Te=g.get(we.id());return Te||(Te={},g.set(we.id(),Te)),Te},x=function(we){return(_e(we)?l.$(we):we)[0]},S=function(we){return E(x(we)).dist},L=function(we){for(var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Oe=x(we),Fe=[],Me=Oe;;){if(Me==null)return r.spawn();var Ie=E(Me),Xe=Ie.edge,xe=Ie.pred;if(Fe.unshift(Me[0]),Me.same(Te)&&Fe.length>0)break;Xe!=null&&Fe.unshift(Xe),Me=xe}return u.spawn(Fe)},M=0;M<v;M++){var d=p[M],A=E(d);d.same(o)?A.dist=0:A.dist=1/0,A.pred=null,A.edge=null}for(var D=!1,P=function(we,Te,Oe,Fe,Me,Ie){var Xe=Fe.dist+Ie;Xe<Me.dist&&!Oe.same(Fe.edge)&&(Me.dist=Xe,Me.pred=we,Me.edge=Oe,D=!0)},O=1;O<v;O++){D=!1;for(var N=0;N<b;N++){var B=c[N],F=B.source(),U=B.target(),V=s(B),_=E(F),q=E(U);P(F,U,B,_,q,V),i||P(U,F,B,q,_,V)}if(!D)break}if(D)for(var Y=[],Q=0;Q<b;Q++){var $=c[Q],K=$.source(),ie=$.target(),ue=s($),fe=E(K).dist,he=E(ie).dist;if(fe+ue<he||!i&&he+ue<fe)if(m||(vt("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var ye=[];fe+ue<he&&ye.push(K),!i&&he+ue<fe&&ye.push(ie);for(var be=ye.length,te=0;te<be;te++){var j=ye[te],se=[j];se.push(E(j).edge);for(var me=E(j).pred;se.indexOf(me)===-1;)se.push(me),se.push(E(me).edge),me=E(me).pred;se=se.slice(se.indexOf(me));for(var Ae=se[0].id(),Be=0,Re=2;Re<se.length;Re+=2)se[Re].id()<Ae&&(Ae=se[Re].id(),Be=Re);se=se.slice(Be).concat(se.slice(0,Be)),se.push(se[0]);var Le=se.map(function(Ue){return Ue.id()}).join(",");Y.indexOf(Le)===-1&&(w.push(u.spawn(se)),Y.push(Le))}}else break}return{distanceTo:S,pathTo:L,hasNegativeWeightCycle:m,negativeWeightCycles:w}}},Wd=Math.sqrt(2),Yd=function(e,r,n){n.length===0&&Tt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],s=r[i],u=r[o],l=n,f=l.length-1;f>=0;f--){var c=l[f],p=c[1],v=c[2];(r[p]===s&&r[v]===u||r[p]===u&&r[v]===s)&&l.splice(f,1)}for(var g=0;g<l.length;g++){var m=l[g];m[1]===u?(l[g]=m.slice(),l[g][1]=s):m[2]===u&&(l[g]=m.slice(),l[g][2]=s)}for(var w=0;w<r.length;w++)r[w]===u&&(r[w]=s);return l},$o=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=Yd(i,e,r),n--}return r},Xd={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(q){return q.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/Wd);if(i<2){Tt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<o;f++){var c=a[f];l.push([f,n.indexOf(c.source()),n.indexOf(c.target())])}for(var p=1/0,v=[],g=new Array(i),m=new Array(i),w=new Array(i),b=function(Y,Q){for(var $=0;$<i;$++)Q[$]=Y[$]},E=0;E<=s;E++){for(var x=0;x<i;x++)m[x]=x;var S=$o(m,l.slice(),i,u),L=S.slice();b(m,w);var M=$o(m,S,u,2),d=$o(w,L,u,2);M.length<=d.length&&M.length<p?(p=M.length,v=M,b(m,g)):d.length<=M.length&&d.length<p&&(p=d.length,v=d,b(w,g))}for(var A=this.spawn(v.map(function(q){return a[q[0]]})),D=this.spawn(),P=this.spawn(),O=g[0],N=0;N<g.length;N++){var B=g[N],F=n[N];B===O?D.merge(F):P.merge(F)}var U=function(Y){var Q=e.spawn();return Y.forEach(function($){Q.merge($),$.connectedEdges().forEach(function(K){e.contains(K)&&!A.contains(K)&&Q.merge(K)})}),Q},V=[U(D),U(P)],_={cut:A,components:V,partition1:D,partition2:P};return _}},$d=function(e){return{x:e.x,y:e.y}},go=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},af=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},ea=function(e){return{x:e[0],y:e[1]}},Kd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},Zd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},Qd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a+=s,i++)}return a/i},jd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];o?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}i&&e.sort(function(p,v){return p-v});var f=e.length,c=Math.floor(f/2);return f%2!==0?e[c+1+s]:(e[c-1+s]+e[c+s])/2},Jd=function(e){return Math.PI*e/180},Ai=function(e,r){return Math.atan2(r,e)-Math.PI/2},Is=Math.log2||function(t){return Math.log(t)/Math.log(2)},of=function(e){return e>0?1:e<0?-1:0},kn=function(e,r){return Math.sqrt(Rn(e,r))},Rn=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},ev=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Ft=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},ra=function(e,r,n,a){return{x:Ft(e.x,r.x,n.x,a),y:Ft(e.y,r.y,n.y,a)}},tv=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=kn(e,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+s.x*a,y:e.y+s.y*a}},ja=function(e,r,n){return Math.max(e,Math.min(n,r))},hr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},rv=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},nv=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},av=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},sf=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},iv=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ui=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Vi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=zt(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Eu=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Os=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},sa=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},ov=function(e,r){return sa(e,r.x,r.y)},uf=function(e,r){return sa(e,r.x1,r.y1)&&sa(e,r.x2,r.y2)},lf=function(e,r,n,a,i,o,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?Bn(i,o):u,f=i/2,c=o/2;l=Math.min(l,f,c);var p=l!==f,v=l!==c,g;if(p){var m=n-f+l-s,w=a-c-s,b=n+f-l+s,E=w;if(g=ln(e,r,n,a,m,w,b,E,!1),g.length>0)return g}if(v){var x=n+f+s,S=a-c+l-s,L=x,M=a+c-l+s;if(g=ln(e,r,n,a,x,S,L,M,!1),g.length>0)return g}if(p){var d=n-f+l-s,A=a+c+s,D=n+f-l+s,P=A;if(g=ln(e,r,n,a,d,A,D,P,!1),g.length>0)return g}if(v){var O=n-f-s,N=a-c+l-s,B=O,F=a+c-l+s;if(g=ln(e,r,n,a,O,N,B,F,!1),g.length>0)return g}var U;{var V=n-f+l,_=a-c+l;if(U=Va(e,r,n,a,V,_,l+s),U.length>0&&U[0]<=V&&U[1]<=_)return[U[0],U[1]]}{var q=n+f-l,Y=a-c+l;if(U=Va(e,r,n,a,q,Y,l+s),U.length>0&&U[0]>=q&&U[1]<=Y)return[U[0],U[1]]}{var Q=n+f-l,$=a+c-l;if(U=Va(e,r,n,a,Q,$,l+s),U.length>0&&U[0]>=Q&&U[1]>=$)return[U[0],U[1]]}{var K=n-f+l,ie=a+c-l;if(U=Va(e,r,n,a,K,ie,l+s),U.length>0&&U[0]<=K&&U[1]>=ie)return[U[0],U[1]]}return[]},sv=function(e,r,n,a,i,o,s){var u=s,l=Math.min(n,i),f=Math.max(n,i),c=Math.min(a,o),p=Math.max(a,o);return l-u<=e&&e<=f+u&&c-u<=r&&r<=p+u},uv=function(e,r,n,a,i,o,s,u,l){var f={x1:Math.min(n,s,i)-l,x2:Math.max(n,s,i)+l,y1:Math.min(a,u,o)-l,y2:Math.max(a,u,o)+l};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},lv=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),s=2*e,u=(-r+o)/s,l=(-r-o)/s;return[u,l]},fv=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var s,u,l,f,c,p,v,g;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,i[1]=0,v=r/3,s>0){c=l+Math.sqrt(s),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),p=l-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-v+c+p,v+=(c+p)/2,i[4]=i[2]=-v,v=Math.sqrt(3)*(-p+c)/2,i[3]=v,i[5]=-v;return}if(i[5]=i[3]=0,s===0){g=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-v+2*g,i[4]=i[2]=-(g+v);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),g=2*Math.sqrt(u),i[0]=-v+g*Math.cos(f/3),i[2]=-v+g*Math.cos((f+2*Math.PI)/3),i[4]=-v+g*Math.cos((f+4*Math.PI)/3)},cv=function(e,r,n,a,i,o,s,u){var l=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,c=1*3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,p=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,v=[];fv(l,f,c,p,v);for(var g=1e-7,m=[],w=0;w<6;w+=2)Math.abs(v[w+1])<g&&v[w]>=0&&v[w]<=1&&m.push(v[w]);m.push(1),m.push(0);for(var b=-1,E,x,S,L=0;L<m.length;L++)E=Math.pow(1-m[L],2)*n+2*(1-m[L])*m[L]*i+m[L]*m[L]*s,x=Math.pow(1-m[L],2)*a+2*(1-m[L])*m[L]*o+m[L]*m[L]*u,S=Math.pow(E-e,2)+Math.pow(x-r,2),b>=0?S<b&&(b=S):b=S;return b},hv=function(e,r,n,a,i,o){var s=[e-n,r-a],u=[i-n,o-a],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],c=s[0]*u[0]+s[1]*u[1],p=c*c/l;return c<0?f:p>l?(e-i)*(e-i)+(r-o)*(r-o):f-p},cr=function(e,r,n){for(var a,i,o,s,u,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)u=(e-a)/(o-a)*(s-i)+i,u>r&&l++;else continue;return l%2!==0},Kr=function(e,r,n,a,i,o,s,u,l){var f=new Array(n.length),c;u[0]!=null?(c=Math.atan(u[1]/u[0]),u[0]<0?c=c+Math.PI/2:c=-c-Math.PI/2):c=u;for(var p=Math.cos(-c),v=Math.sin(-c),g=0;g<f.length/2;g++)f[g*2]=o/2*(n[g*2]*p-n[g*2+1]*v),f[g*2+1]=s/2*(n[g*2+1]*p+n[g*2]*v),f[g*2]+=a,f[g*2+1]+=i;var m;if(l>0){var w=no(f,-l);m=ro(w)}else m=f;return cr(e,r,m)},dv=function(e,r,n,a,i,o,s,u){for(var l=new Array(n.length*2),f=0;f<u.length;f++){var c=u[f];l[f*4+0]=c.startX,l[f*4+1]=c.startY,l[f*4+2]=c.stopX,l[f*4+3]=c.stopY;var p=Math.pow(c.cx-e,2)+Math.pow(c.cy-r,2);if(p<=Math.pow(c.radius,2))return!0}return cr(e,r,l)},ro=function(e){for(var r=new Array(e.length/2),n,a,i,o,s,u,l,f,c=0;c<e.length/4;c++){n=e[c*4],a=e[c*4+1],i=e[c*4+2],o=e[c*4+3],c<e.length/4-1?(s=e[(c+1)*4],u=e[(c+1)*4+1],l=e[(c+1)*4+2],f=e[(c+1)*4+3]):(s=e[0],u=e[1],l=e[2],f=e[3]);var p=ln(n,a,i,o,s,u,l,f,!0);r[c*2]=p[0],r[c*2+1]=p[1]}return r},no=function(e,r){for(var n=new Array(e.length*2),a,i,o,s,u=0;u<e.length/2;u++){a=e[u*2],i=e[u*2+1],u<e.length/2-1?(o=e[(u+1)*2],s=e[(u+1)*2+1]):(o=e[0],s=e[1]);var l=s-i,f=-(o-a),c=Math.sqrt(l*l+f*f),p=l/c,v=f/c;n[u*4]=a+p*r,n[u*4+1]=i+v*r,n[u*4+2]=o+p*r,n[u*4+3]=s+v*r}return n},vv=function(e,r,n,a,i,o){var s=n-e,u=a-r;s/=i,u/=o;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var c=f/l;return[(n-e)*c+e,(a-r)*c+r]},On=function(e,r,n,a,i,o,s){return e-=i,r-=o,e/=n/2+s,r/=a/2+s,e*e+r*r<=1},Va=function(e,r,n,a,i,o,s){var u=[n-e,a-r],l=[e-i,r-o],f=u[0]*u[0]+u[1]*u[1],c=2*(l[0]*u[0]+l[1]*u[1]),p=l[0]*l[0]+l[1]*l[1]-s*s,v=c*c-4*f*p;if(v<0)return[];var g=(-c+Math.sqrt(v))/(2*f),m=(-c-Math.sqrt(v))/(2*f),w=Math.min(g,m),b=Math.max(g,m),E=[];if(w>=0&&w<=1&&E.push(w),b>=0&&b<=1&&E.push(b),E.length===0)return[];var x=E[0]*u[0]+e,S=E[0]*u[1]+r;if(E.length>1){if(E[0]==E[1])return[x,S];var L=E[1]*u[0]+e,M=E[1]*u[1]+r;return[x,S,L,M]}else return[x,S]},Ko=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},ln=function(e,r,n,a,i,o,s,u,l){var f=e-i,c=n-e,p=s-i,v=r-o,g=a-r,m=u-o,w=p*v-m*f,b=c*v-g*f,E=m*c-p*g;if(E!==0){var x=w/E,S=b/E,L=.001,M=0-L,d=1+L;return M<=x&&x<=d&&M<=S&&S<=d?[e+x*c,r+x*g]:l?[e+x*c,r+x*g]:[]}else return w===0||b===0?Ko(e,n,s)===s?[s,u]:Ko(e,n,i)===i?[i,o]:Ko(i,s,n)===n?[n,a]:[]:[]},Ja=function(e,r,n,a,i,o,s,u){var l=[],f,c=new Array(n.length),p=!0;o==null&&(p=!1);var v;if(p){for(var g=0;g<c.length/2;g++)c[g*2]=n[g*2]*o+a,c[g*2+1]=n[g*2+1]*s+i;if(u>0){var m=no(c,-u);v=ro(m)}else v=c}else v=n;for(var w,b,E,x,S=0;S<v.length/2;S++)w=v[S*2],b=v[S*2+1],S<v.length/2-1?(E=v[(S+1)*2],x=v[(S+1)*2+1]):(E=v[0],x=v[1]),f=ln(e,r,a,i,w,b,E,x),f.length!==0&&l.push(f[0],f[1]);return l},gv=function(e,r,n,a,i,o,s,u,l){var f=[],c,p=new Array(n.length*2);l.forEach(function(E,x){x===0?(p[p.length-2]=E.startX,p[p.length-1]=E.startY):(p[x*4-2]=E.startX,p[x*4-1]=E.startY),p[x*4]=E.stopX,p[x*4+1]=E.stopY,c=Va(e,r,a,i,E.cx,E.cy,E.radius),c.length!==0&&f.push(c[0],c[1])});for(var v=0;v<p.length/4;v++)c=ln(e,r,a,i,p[v*4],p[v*4+1],p[v*4+2],p[v*4+3],!1),c.length!==0&&f.push(c[0],c[1]);if(f.length>2){for(var g=[f[0],f[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-r,2),w=1;w<f.length/2;w++){var b=Math.pow(f[w*2]-e,2)+Math.pow(f[w*2+1]-r,2);b<=m&&(g[0]=f[w*2],g[1]=f[w*2+1],m=b)}return g}return f},Li=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},ar=function(e,r){var n=ls(e,r);return n=ff(n),n},ff=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);for(var f=2/(s-i),c=2/(u-o),p=0;p<a;p++)r=e[2*p]=e[2*p]*f,n=e[2*p+1]=e[2*p+1]*c,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var v=0;v<a;v++)n=e[2*v+1]=e[2*v+1]+(-1-o);return e},ls=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,s=0;s<e;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},Bn=function(e,r){return Math.min(e/4,r/4,8)},cf=function(e,r){return Math.min(e/10,r/10,8)},Ns=function(){return 8},pv=function(e,r,n){return[e-2*r+n,2*(r-e),e]},fs=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},yv=Gt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),mv={pageRank:function(e){for(var r=yv(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,c=l.length,p=c*c,v=f.length,g=new Array(p),m=new Array(c),w=(1-n)/c,b=0;b<c;b++){for(var E=0;E<c;E++){var x=b*c+E;g[x]=0}m[b]=0}for(var S=0;S<v;S++){var L=f[S],M=L.data("source"),d=L.data("target");if(M!==d){var A=l.indexOfId(M),D=l.indexOfId(d),P=o(L),O=D*c+A;g[O]+=P,m[A]+=P}}for(var N=1/c+w,B=0;B<c;B++)if(m[B]===0)for(var F=0;F<c;F++){var U=F*c+B;g[U]=N}else for(var V=0;V<c;V++){var _=V*c+B;g[_]=g[_]/m[B]+w}for(var q=new Array(c),Y=new Array(c),Q,$=0;$<c;$++)q[$]=1;for(var K=0;K<i;K++){for(var ie=0;ie<c;ie++)Y[ie]=0;for(var ue=0;ue<c;ue++)for(var fe=0;fe<c;fe++){var he=ue*c+fe;Y[ue]+=g[he]*q[fe]}ev(Y),Q=q,q=Y,Y=Q;for(var ye=0,be=0;be<c;be++){var te=Q[be]-q[be];ye+=te*te}if(ye<a)break}var j={rank:function(me){return me=s.collection(me)[0],q[l.indexOf(me)]}};return j}},Tu=Gt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),na={degreeCentralityNormalized:function(e){e=Tu(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var f={},c={},p=0,v=0,g=0;g<a;g++){var m=n[g],w=m.id();e.root=m;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),v<b.outdegree&&(v=b.outdegree),f[w]=b.indegree,c[w]=b.outdegree}return{indegree:function(x){return p==0?0:(_e(x)&&(x=r.filter(x)),f[x.id()]/p)},outdegree:function(x){return v===0?0:(_e(x)&&(x=r.filter(x)),c[x.id()]/v)}}}else{for(var i={},o=0,s=0;s<a;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);o<l.degree&&(o=l.degree),i[u.id()]=l.degree}return{degree:function(x){return o===0?0:(_e(x)&&(x=r.filter(x)),i[x.id()]/o)}}}},degreeCentrality:function(e){e=Tu(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,s=a.directed,u=a.alpha;if(i=r.collection(i)[0],s){for(var v=i.connectedEdges(),g=v.filter(function(M){return M.target().same(i)&&n.has(M)}),m=v.filter(function(M){return M.source().same(i)&&n.has(M)}),w=g.length,b=m.length,E=0,x=0,S=0;S<g.length;S++)E+=o(g[S]);for(var L=0;L<m.length;L++)x+=o(m[L]);return{indegree:Math.pow(w,1-u)*Math.pow(E,u),outdegree:Math.pow(b,1-u)*Math.pow(x,u)}}else{for(var l=i.connectedEdges().intersection(n),f=l.length,c=0,p=0;p<l.length;p++)c+=o(l[p]);return{degree:Math.pow(f,1-u)*Math.pow(c,u)}}}};na.dc=na.degreeCentrality;na.dcn=na.degreeCentralityNormalised=na.degreeCentralityNormalized;var Cu=Gt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),aa={closenessCentralityNormalized:function(e){for(var r=Cu(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),c=0;c<l.length;c++){for(var p=0,v=l[c],g=0;g<l.length;g++)if(c!==g){var m=f.distance(v,l[g]);n?p+=1/m:p+=m}n||(p=1/p),u<p&&(u=p),s[v.id()]=p}return{closeness:function(b){return u==0?0:(_e(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var r=Cu(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),f=0;f<l.length;f++){var c=l[f];if(!c.same(n)){var p=s.distanceTo(c);o?u+=1/p:u+=p}}return o?u:1/u}};aa.cc=aa.closenessCentrality;aa.ccn=aa.closenessCentralityNormalised=aa.closenessCentralityNormalized;var bv=Gt({weight:null,directed:!1}),cs={betweennessCentrality:function(e){for(var r=bv(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),u={},l={},f=0,c={set:function(x,S){l[x]=S,S>f&&(f=S)},get:function(x){return l[x]}},p=0;p<s.length;p++){var v=s[p],g=v.id();n?u[g]=v.outgoers().nodes():u[g]=v.openNeighborhood().nodes(),c.set(g,0)}for(var m=function(x){for(var S=s[x].id(),L=[],M={},d={},A={},D=new li(function(fe,he){return A[fe]-A[he]}),P=0;P<s.length;P++){var O=s[P].id();M[O]=[],d[O]=0,A[O]=1/0}for(d[S]=1,A[S]=0,D.push(S);!D.empty();){var N=D.pop();if(L.push(N),i)for(var B=0;B<u[N].length;B++){var F=u[N][B],U=o.getElementById(N),V=void 0;U.edgesTo(F).length>0?V=U.edgesTo(F)[0]:V=F.edgesTo(U)[0];var _=a(V);F=F.id(),A[F]>A[N]+_&&(A[F]=A[N]+_,D.nodes.indexOf(F)<0?D.push(F):D.updateItem(F),d[F]=0,M[F]=[]),A[F]==A[N]+_&&(d[F]=d[F]+d[N],M[F].push(N))}else for(var q=0;q<u[N].length;q++){var Y=u[N][q].id();A[Y]==1/0&&(D.push(Y),A[Y]=A[N]+1),A[Y]==A[N]+1&&(d[Y]=d[Y]+d[N],M[Y].push(N))}}for(var Q={},$=0;$<s.length;$++)Q[s[$].id()]=0;for(;L.length>0;){for(var K=L.pop(),ie=0;ie<M[K].length;ie++){var ue=M[K][ie];Q[ue]=Q[ue]+d[ue]/d[K]*(1+Q[K])}K!=s[x].id()&&c.set(K,c.get(K)+Q[K])}},w=0;w<s.length;w++)m(w);var b={betweenness:function(x){var S=o.collection(x).id();return c.get(S)},betweennessNormalized:function(x){if(f==0)return 0;var S=o.collection(x).id();return c.get(S)/f}};return b.betweennessNormalised=b.betweennessNormalized,b}};cs.bc=cs.betweennessCentrality;var wv=Gt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),xv=function(e){return wv(e)},Ev=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},Tv=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},hf=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},Cv=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+s]*r[s*n+u]}return a},Dv=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=Cv(e,a,r);return e},Sv=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return hf(a,r),a},Av=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},Lv=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],u=0;u<r;u++)Math.round(e[o*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&i.push(a.collection(s))}return i},Rv=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Pv=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Rv(e[r],e[n])&&e.splice(n,1);return e},Du=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=xv(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),c,p=0;p<l;p++)f[p]=0;for(var v=0;v<n.length;v++){var g=n[v],m=o[g.source().id()],w=o[g.target().id()],b=Ev(g,i.attributes);f[m*u+w]+=b,f[w*u+m]+=b}Tv(f,u,i.multFactor),hf(f,u);for(var E=!0,x=0;E&&x<i.maxIterations;)E=!1,c=Dv(f,u,i.expandFactor),f=Sv(c,u,i.inflateFactor),Av(f,c,l,4)||(E=!0),x++;var S=Lv(f,u,r,a);return S=Pv(S),S},Mv={markovClustering:Du,mcl:Du},Iv=function(e){return e},df=function(e,r){return Math.abs(r-e)},Su=function(e,r,n){return e+df(r,n)},Au=function(e,r,n){return e+Math.pow(n-r,2)},Ov=function(e){return Math.sqrt(e)},Nv=function(e,r,n){return Math.max(e,df(r,n))},Oa=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Iv,s=a,u,l,f=0;f<e;f++)u=r(f),l=n(f),s=i(s,u,l);return o(s)},ua={euclidean:function(e,r,n){return e>=2?Oa(e,r,n,0,Au,Ov):Oa(e,r,n,0,Su)},squaredEuclidean:function(e,r,n){return Oa(e,r,n,0,Au)},manhattan:function(e,r,n){return Oa(e,r,n,0,Su)},max:function(e,r,n){return Oa(e,r,n,-1/0,Nv)}};ua["squared-euclidean"]=ua.squaredEuclidean;ua.squaredeuclidean=ua.squaredEuclidean;function po(t,e,r,n,a,i){var o;return Ct(t)?o=t:o=ua[t]||ua.euclidean,e===0&&Ct(t)?o(a,i):o(e,r,n,a,i)}var kv=Gt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ks=function(e){return kv(e)},ao=function(e,r,n,a,i){var o=i!=="kMedoids",s=o?function(c){return n[c]}:function(c){return a[c](n)},u=function(p){return a[p](r)},l=n,f=r;return po(e,a.length,s,u,l,f)},Zo=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),u=null,l=0;l<a;l++)i[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var c=0;c<a;c++)u[c]=Math.random()*(o[c]-i[c])+i[c];s[f]=u}return s},vf=function(e,r,n,a,i){for(var o=1/0,s=0,u=0;u<r.length;u++){var l=ao(n,e,r[u],a,i);l<o&&(o=l,s=u)}return s},gf=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},Bv=function(e,r,n){return Math.abs(r-e)<=n},Fv=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},zv=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},Lu=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];zv(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},Ru=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=ao("manhattan",r[i],e,n,"kMedoids");return a},Gv=function(e){var r=this.cy(),n=this.nodes(),a=null,i=ks(e),o=new Array(i.k),s={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=Zo(n,i.k,i.attributes)):Ot(i.testCentroids)==="object"?u=i.testCentroids:u=Zo(n,i.k,i.attributes):u=Zo(n,i.k,i.attributes);for(var l=!0,f=0;l&&f<i.maxIterations;){for(var c=0;c<n.length;c++)a=n[c],s[a.id()]=vf(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var p=0;p<i.k;p++){var v=gf(p,n,s);if(v.length!==0){for(var g=i.attributes.length,m=u[p],w=new Array(g),b=new Array(g),E=0;E<g;E++){b[E]=0;for(var x=0;x<v.length;x++)a=v[x],b[E]+=i.attributes[E](a);w[E]=b[E]/v.length,Bv(w[E],m[E],i.sensitivityThreshold)||(l=!0)}u[p]=w,o[p]=r.collection(v)}}f++}return o},Uv=function(e){var r=this.cy(),n=this.nodes(),a=null,i=ks(e),o=new Array(i.k),s,u={},l,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Ot(i.testCentroids)==="object"?s=i.testCentroids:s=Lu(n,i.k)):s=Lu(n,i.k);for(var c=!0,p=0;c&&p<i.maxIterations;){for(var v=0;v<n.length;v++)a=n[v],u[a.id()]=vf(a,s,i.distance,i.attributes,"kMedoids");c=!1;for(var g=0;g<s.length;g++){var m=gf(g,n,u);if(m.length!==0){f[g]=Ru(s[g],m,i.attributes);for(var w=0;w<m.length;w++)l=Ru(m[w],m,i.attributes),l<f[g]&&(f[g]=l,s[g]=m[w],c=!0);o[g]=r.collection(m)}}p++}return o},Vv=function(e,r,n,a,i){for(var o,s,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var f=0;f<e.length;f++)for(var c=0;c<i.attributes.length;c++){o=0,s=0;for(var p=0;p<r.length;p++)o+=a[p][f]*i.attributes[c](r[p]),s+=a[p][f];e[f][c]=o/s}},Hv=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,u,l,f=2/(i.m-1),c=0;c<n.length;c++)for(var p=0;p<a.length;p++){s=0;for(var v=0;v<n.length;v++)u=ao(i.distance,a[p],n[c],i.attributes,"cmeans"),l=ao(i.distance,a[p],n[v],i.attributes,"cmeans"),s+=Math.pow(u/l,f);e[p][c]=1/s}},_v=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);i[u].push(e[l])}for(var c=0;c<i.length;c++)i[c]=a.collection(i[c]);return i},Pu=function(e){var r=this.cy(),n=this.nodes(),a=ks(e),i,o,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(a.k);for(var p=0;p<n.length;p++){for(var v=0,g=0;g<a.k;g++)s[p][g]=Math.random(),v+=s[p][g];for(var m=0;m<a.k;m++)s[p][m]=s[p][m]/v}o=new Array(a.k);for(var w=0;w<a.k;w++)o[w]=new Array(a.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(a.k);for(var E=!0,x=0;E&&x<a.maxIterations;)E=!1,Vv(o,n,s,l,a),Hv(s,u,o,n,a),Fv(s,u,a.sensitivityThreshold)||(E=!0),x++;return i=_v(n,s,a,r),{clusters:i,degreeOfMembership:s}},qv={kMeans:Gv,kMedoids:Uv,fuzzyCMeans:Pu,fcm:Pu},Wv=Gt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Yv={single:"min",complete:"max"},Xv=function(e){var r=Wv(e),n=Yv[r.linkage];return n!=null&&(r.linkage=n),r},Mu=function(e,r,n,a,i){for(var o=0,s=1/0,u,l=i.attributes,f=function(D,P){return po(i.distance,l.length,function(O){return l[O](D)},function(O){return l[O](P)},D,P)},c=0;c<e.length;c++){var p=e[c].key,v=n[p][a[p]];v<s&&(o=p,s=v)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=r[o],m=r[a[o]],w;i.mode==="dendrogram"?w={left:g,right:m,key:g.key}:w={value:g.value.concat(m.value),key:g.key},e[g.index]=w,e.splice(m.index,1),r[g.key]=w;for(var b=0;b<e.length;b++){var E=e[b];g.key===E.key?u=1/0:i.linkage==="min"?(u=n[g.key][E.key],n[g.key][E.key]>n[m.key][E.key]&&(u=n[m.key][E.key])):i.linkage==="max"?(u=n[g.key][E.key],n[g.key][E.key]<n[m.key][E.key]&&(u=n[m.key][E.key])):i.linkage==="mean"?u=(n[g.key][E.key]*g.size+n[m.key][E.key]*m.size)/(g.size+m.size):i.mode==="dendrogram"?u=f(E.value,g.value):u=f(E.value[0],g.value[0]),n[g.key][E.key]=n[E.key][g.key]=u}for(var x=0;x<e.length;x++){var S=e[x].key;if(a[S]===g.key||a[S]===m.key){for(var L=S,M=0;M<e.length;M++){var d=e[M].key;n[S][d]<n[S][L]&&(L=d)}a[S]=L}e[x].index=x}return g.key=m.key=g.index=m.index=null,!0},Ri=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},$v=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},Kv=function t(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&Ri(e.left,a),e.right&&Ri(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Ri(e.left,a),e.right&&Ri(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},Iu=function(e){for(var r=this.cy(),n=this.nodes(),a=Xv(e),i=a.attributes,o=function(x,S){return po(a.distance,i.length,function(L){return i[L](x)},function(L){return i[L](S)},x,S)},s=[],u=[],l=[],f=[],c=0;c<n.length;c++){var p={value:a.mode==="dendrogram"?n[c]:[n[c]],key:c,index:c};s[c]=p,f[c]=p,u[c]=[],l[c]=0}for(var v=0;v<s.length;v++)for(var g=0;g<=v;g++){var m=void 0;a.mode==="dendrogram"?m=v===g?1/0:o(s[v].value,s[g].value):m=v===g?1/0:o(s[v].value[0],s[g].value[0]),u[v][g]=m,u[g][v]=m,m<u[v][l[v]]&&(l[v]=g)}for(var w=Mu(s,f,u,l,a);w;)w=Mu(s,f,u,l,a);var b;return a.mode==="dendrogram"?(b=Kv(s[0],a.dendrogramDepth,r),a.addDendrogram&&$v(s[0],r)):(b=new Array(s.length),s.forEach(function(E,x){E.key=E.index=null,b[x]=r.collection(E.value)})),b},Zv={hierarchicalClustering:Iu,hca:Iu},Qv=Gt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),jv=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Tt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Pe(n)||Tt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Qv(e)},Jv=function(e,r,n,a){var i=function(s,u){return a[u](s)};return-po(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},eg=function(e,r){var n=null;return r==="median"?n=jd(e):r==="mean"?n=Qd(e):r==="min"?n=Kd(e):r==="max"?n=Zd(e):n=r,n},tg=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},Ou=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*e+l]>s&&(o=l,s=r[i*e+l])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},rg=function(e,r,n){for(var a=Ou(e,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var u=-1,l=-1/0,f=0;f<o.length;f++){for(var c=0,p=0;p<o.length;p++)c+=r[o[p]*e+o[f]];c>l&&(u=f,l=c)}n[i]=o[u]}return a=Ou(e,r,n),a},Nu=function(e){for(var r=this.cy(),n=this.nodes(),a=jv(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,u,l,f,c,p;s=n.length,u=s*s,l=new Array(u);for(var v=0;v<u;v++)l[v]=-1/0;for(var g=0;g<s;g++)for(var m=0;m<s;m++)g!==m&&(l[g*s+m]=Jv(a.distance,n[g],n[m],a.attributes));f=eg(l,a.preference);for(var w=0;w<s;w++)l[w*s+w]=f;c=new Array(u);for(var b=0;b<u;b++)c[b]=0;p=new Array(u);for(var E=0;E<u;E++)p[E]=0;for(var x=new Array(s),S=new Array(s),L=new Array(s),M=0;M<s;M++)x[M]=0,S[M]=0,L[M]=0;for(var d=new Array(s*a.minIterations),A=0;A<d.length;A++)d[A]=0;var D;for(D=0;D<a.maxIterations;D++){for(var P=0;P<s;P++){for(var O=-1/0,N=-1/0,B=-1,F=0,U=0;U<s;U++)x[U]=c[P*s+U],F=p[P*s+U]+l[P*s+U],F>=O?(N=O,O=F,B=U):F>N&&(N=F);for(var V=0;V<s;V++)c[P*s+V]=(1-a.damping)*(l[P*s+V]-O)+a.damping*x[V];c[P*s+B]=(1-a.damping)*(l[P*s+B]-N)+a.damping*x[B]}for(var _=0;_<s;_++){for(var q=0,Y=0;Y<s;Y++)x[Y]=p[Y*s+_],S[Y]=Math.max(0,c[Y*s+_]),q+=S[Y];q-=S[_],S[_]=c[_*s+_],q+=S[_];for(var Q=0;Q<s;Q++)p[Q*s+_]=(1-a.damping)*Math.min(0,q-S[Q])+a.damping*x[Q];p[_*s+_]=(1-a.damping)*(q-S[_])+a.damping*x[_]}for(var $=0,K=0;K<s;K++){var ie=p[K*s+K]+c[K*s+K]>0?1:0;d[D%a.minIterations*s+K]=ie,$+=ie}if($>0&&(D>=a.minIterations-1||D==a.maxIterations-1)){for(var ue=0,fe=0;fe<s;fe++){L[fe]=0;for(var he=0;he<a.minIterations;he++)L[fe]+=d[he*s+fe];(L[fe]===0||L[fe]===a.minIterations)&&ue++}if(ue===s)break}}for(var ye=tg(s,c,p),be=rg(s,l,ye),te={},j=0;j<ye.length;j++)te[ye[j]]=[];for(var se=0;se<n.length;se++){var me=i[n[se].id()],Ae=be[me];Ae!=null&&te[Ae].push(n[se])}for(var Be=new Array(ye.length),Re=0;Re<ye.length;Re++)Be[Re]=r.collection(te[ye[Re]]);return Be},ng={affinityPropagation:Nu,ap:Nu},ag=Gt({root:void 0,directed:!1}),ig={hierholzer:function(e){if(!ft(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=ag(e),a=n.root,i=n.directed,o=this,s=!1,u,l,f;a&&(f=_e(a)?this.filter(a)[0].id():a[0].id());var c={},p={};i?o.forEach(function(E){var x=E.id();if(E.isNode()){var S=E.indegree(!0),L=E.outdegree(!0),M=S-L,d=L-S;M==1?u?s=!0:u=x:d==1?l?s=!0:l=x:(d>1||M>1)&&(s=!0),c[x]=[],E.outgoers().forEach(function(A){A.isEdge()&&c[x].push(A.id())})}else p[x]=[void 0,E.target().id()]}):o.forEach(function(E){var x=E.id();if(E.isNode()){var S=E.degree(!0);S%2&&(u?l?s=!0:l=x:u=x),c[x]=[],E.connectedEdges().forEach(function(L){return c[x].push(L.id())})}else p[x]=[E.source().id(),E.target().id()]});var v={found:!1,trail:void 0};if(s)return v;if(l&&u)if(i){if(f&&l!=f)return v;f=l}else{if(f&&l!=f&&u!=f)return v;f||(f=l)}else f||(f=o[0].id());var g=function(x){for(var S=x,L=[x],M,d,A;c[S].length;)M=c[S].shift(),d=p[M][0],A=p[M][1],S!=A?(c[A]=c[A].filter(function(D){return D!=M}),S=A):!i&&S!=d&&(c[d]=c[d].filter(function(D){return D!=M}),S=d),L.unshift(M),L.unshift(S);return L},m=[],w=[];for(w=g(f);w.length!=1;)c[w[0]].length==0?(m.unshift(o.getElementById(w.shift())),m.unshift(o.getElementById(w.shift()))):w=g(w.shift()).concat(w);m.unshift(o.getElementById(w.shift()));for(var b in c)if(c[b].length)return v;return v.found=!0,v.trail=this.spawn(m,!0),v}},Pi=function(){var e=this,r={},n=0,a=0,i=[],o=[],s={},u=function(p,v){for(var g=o.length-1,m=[],w=e.spawn();o[g].x!=p||o[g].y!=v;)m.push(o.pop().edge),g--;m.push(o.pop().edge),m.forEach(function(b){var E=b.connectedNodes().intersection(e);w.merge(b),E.forEach(function(x){var S=x.id(),L=x.connectedEdges().intersection(e);w.merge(x),r[S].cutVertex?w.merge(L.filter(function(M){return M.isLoop()})):w.merge(L)})}),i.push(w)},l=function c(p,v,g){p===g&&(a+=1),r[v]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(v).connectedEdges().intersection(e);if(m.size()===0)i.push(e.spawn(e.getElementById(v)));else{var w,b,E,x;m.forEach(function(S){w=S.source().id(),b=S.target().id(),E=w===v?b:w,E!==g&&(x=S.id(),s[x]||(s[x]=!0,o.push({x:v,y:E,edge:S})),E in r?r[v].low=Math.min(r[v].low,r[E].id):(c(p,E,v),r[v].low=Math.min(r[v].low,r[E].low),r[v].id<=r[E].low&&(r[v].cutVertex=!0,u(v,E))))})}};e.forEach(function(c){if(c.isNode()){var p=c.id();p in r||(a=0,l(p,p),r[p].cutVertex=a>1)}});var f=Object.keys(r).filter(function(c){return r[c].cutVertex}).map(function(c){return e.getElementById(c)});return{cut:e.spawn(f),components:i}},og={hopcroftTarjanBiconnected:Pi,htbc:Pi,htb:Pi,hopcroftTarjanBiconnectedComponents:Pi},Mi=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),s=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var f=e.getElementById(l).connectedEdges().intersection(e);if(f.forEach(function(m){var w=m.target().id();w!==l&&(w in r||u(w),r[w].explored||(r[l].low=Math.min(r[l].low,r[w].low)))}),r[l].index===r[l].low){for(var c=e.spawn();;){var p=i.pop();if(c.merge(e.getElementById(p)),r[p].low=r[l].index,r[p].explored=!0,p===l)break}var v=c.edgesWith(c),g=c.merge(v);a.push(g),o=o.difference(g)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:o,components:a}},sg={tarjanStronglyConnected:Mi,tsc:Mi,tscc:Mi,tarjanStronglyConnectedComponents:Mi},pf={};[Qa,Fd,zd,Ud,Hd,qd,Xd,mv,na,aa,cs,Mv,qv,Zv,ng,ig,og,sg].forEach(function(t){Ye(pf,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var yf=0,mf=1,bf=2,Zr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=yf,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Zr.prototype={fulfill:function(e){return ku(this,mf,"fulfillValue",e)},reject:function(e){return ku(this,bf,"rejectReason",e)},then:function(e,r){var n=this,a=new Zr;return n.onFulfilled.push(Fu(e,a,"fulfill")),n.onRejected.push(Fu(r,a,"reject")),wf(n),a.proxy}};var ku=function(e,r,n,a){return e.state===yf&&(e.state=r,e[n]=a,wf(e)),e},wf=function(e){e.state===mf?Bu(e,"onFulfilled",e.fulfillValue):e.state===bf&&Bu(e,"onRejected",e.rejectReason)},Bu=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Fu=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}ug(r,i)}}},ug=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ot(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Zr.all=function(t){return new Zr(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,l){n[u]=l,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(c){i(s,c)},function(c){r(c)});else{var f=u;i(s,f)}})(o)})};Zr.resolve=function(t){return new Zr(function(e,r){e(t)})};Zr.reject=function(t){return new Zr(function(e,r){r(t)})};var ca=typeof Promise<"u"?Promise:Zr,hs=function(e,r,n){var a=As(e),i=!a,o=this._private=Ye({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Ct(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Fn=hs.prototype;Ye(Fn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),mr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,f){var c=e[l];c!=null&&(e[l]=e[f],e[f]=c)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[a]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new ca(function(a,i){n.push(function(){a()})})}});Fn.complete=Fn.completed;Fn.run=Fn.play;Fn.running=Fn.playing;var lg={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,u=!i,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=Ye({},r,n);var c=Object.keys(r).length===0;if(c)return new hs(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var p=r.renderedPosition,v=s.pan(),g=s.zoom();r.position=af(p,g,v)}if(u&&r.panBy!=null){var m=r.panBy,w=s.pan();r.pan={x:w.x+m.x,y:w.y+m.y}}var b=r.center||r.centre;if(u&&b!=null){var E=s.getCenterPan(b.eles,r.zoom);E!=null&&(r.pan=E)}if(u&&r.fit!=null){var x=r.fit,S=s.getFitViewport(x.eles||x.boundingBox,x.padding);S!=null&&(r.pan=S.pan,r.zoom=S.zoom)}if(u&&ft(r.zoom)){var L=s.getZoomedViewport(r.zoom);L!=null?(L.zoomed&&(r.zoom=L.zoom),L.panned&&(r.pan=L.pan)):r.zoom=null}return new hs(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Ye({},r,n));for(var u=0;u<o.length;u++){var l=o[u],f=l.animated()&&(r.queue===void 0||r.queue),c=l.animation(r,f?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],f=l._private,c=f.animation.current,p=0;p<c.length;p++){var v=c[p],g=v._private;n&&(g.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},fg=Array.isArray,yo=fg,cg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hg=/^\w*$/;function dg(t,e){if(yo(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||si(t)?!0:hg.test(t)||!cg.test(t)||e!=null&&t in Object(e)}var vg=dg,gg="[object AsyncFunction]",pg="[object Function]",yg="[object GeneratorFunction]",mg="[object Proxy]";function bg(t){if(!Nn(t))return!1;var e=Kl(t);return e==pg||e==yg||e==gg||e==mg}var wg=bg,xg=ho["__core-js_shared__"],Qo=xg,zu=function(){var t=/[^.]+$/.exec(Qo&&Qo.keys&&Qo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Eg(t){return!!zu&&zu in t}var Tg=Eg,Cg=Function.prototype,Dg=Cg.toString;function Sg(t){if(t!=null){try{return Dg.call(t)}catch{}try{return t+""}catch{}}return""}var Ag=Sg,Lg=/[\\^$.*+?()[\]{}|]/g,Rg=/^\[object .+?Constructor\]$/,Pg=Function.prototype,Mg=Object.prototype,Ig=Pg.toString,Og=Mg.hasOwnProperty,Ng=RegExp("^"+Ig.call(Og).replace(Lg,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kg(t){if(!Nn(t)||Tg(t))return!1;var e=wg(t)?Ng:Rg;return e.test(Ag(t))}var Bg=kg;function Fg(t,e){return t==null?void 0:t[e]}var zg=Fg;function Gg(t,e){var r=zg(t,e);return Bg(r)?r:void 0}var Bs=Gg,Ug=Bs(Object,"create"),ei=Ug;function Vg(){this.__data__=ei?ei(null):{},this.size=0}var Hg=Vg;function _g(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qg=_g,Wg="__lodash_hash_undefined__",Yg=Object.prototype,Xg=Yg.hasOwnProperty;function $g(t){var e=this.__data__;if(ei){var r=e[t];return r===Wg?void 0:r}return Xg.call(e,t)?e[t]:void 0}var Kg=$g,Zg=Object.prototype,Qg=Zg.hasOwnProperty;function jg(t){var e=this.__data__;return ei?e[t]!==void 0:Qg.call(e,t)}var Jg=jg,ep="__lodash_hash_undefined__";function tp(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ei&&e===void 0?ep:e,this}var rp=tp;function ha(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ha.prototype.clear=Hg;ha.prototype.delete=qg;ha.prototype.get=Kg;ha.prototype.has=Jg;ha.prototype.set=rp;var Gu=ha;function np(){this.__data__=[],this.size=0}var ap=np;function ip(t,e){return t===e||t!==t&&e!==e}var xf=ip;function op(t,e){for(var r=t.length;r--;)if(xf(t[r][0],e))return r;return-1}var mo=op,sp=Array.prototype,up=sp.splice;function lp(t){var e=this.__data__,r=mo(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():up.call(e,r,1),--this.size,!0}var fp=lp;function cp(t){var e=this.__data__,r=mo(e,t);return r<0?void 0:e[r][1]}var hp=cp;function dp(t){return mo(this.__data__,t)>-1}var vp=dp;function gp(t,e){var r=this.__data__,n=mo(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var pp=gp;function da(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}da.prototype.clear=ap;da.prototype.delete=fp;da.prototype.get=hp;da.prototype.has=vp;da.prototype.set=pp;var yp=da,mp=Bs(ho,"Map"),bp=mp;function wp(){this.size=0,this.__data__={hash:new Gu,map:new(bp||yp),string:new Gu}}var xp=wp;function Ep(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Tp=Ep;function Cp(t,e){var r=t.__data__;return Tp(e)?r[typeof e=="string"?"string":"hash"]:r.map}var bo=Cp;function Dp(t){var e=bo(this,t).delete(t);return this.size-=e?1:0,e}var Sp=Dp;function Ap(t){return bo(this,t).get(t)}var Lp=Ap;function Rp(t){return bo(this,t).has(t)}var Pp=Rp;function Mp(t,e){var r=bo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Ip=Mp;function va(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}va.prototype.clear=xp;va.prototype.delete=Sp;va.prototype.get=Lp;va.prototype.has=Pp;va.prototype.set=Ip;var Ef=va,Op="Expected a function";function Fs(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Op);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Fs.Cache||Ef),r}Fs.Cache=Ef;var Np=Fs,kp=500;function Bp(t){var e=Np(t,function(n){return r.size===kp&&r.clear(),n}),r=e.cache;return e}var Fp=Bp,zp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gp=/\\(\\)?/g,Up=Fp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zp,function(r,n,a,i){e.push(a?i.replace(Gp,"$1"):n||r)}),e}),Tf=Up;function Vp(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Cf=Vp,Uu=oa?oa.prototype:void 0,Vu=Uu?Uu.toString:void 0;function Df(t){if(typeof t=="string")return t;if(yo(t))return Cf(t,Df)+"";if(si(t))return Vu?Vu.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Hp=Df;function _p(t){return t==null?"":Hp(t)}var Sf=_p;function qp(t,e){return yo(t)?t:vg(t,e)?[t]:Tf(Sf(t))}var Af=qp;function Wp(t){if(typeof t=="string"||si(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zs=Wp;function Yp(t,e){e=Af(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[zs(e[r++])];return r&&r==n?t:void 0}var Xp=Yp;function $p(t,e,r){var n=t==null?void 0:Xp(t,e);return n===void 0?r:n}var Kp=$p,Zp=function(){try{var t=Bs(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Hu=Zp;function Qp(t,e,r){e=="__proto__"&&Hu?Hu(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var jp=Qp,Jp=Object.prototype,ey=Jp.hasOwnProperty;function ty(t,e,r){var n=t[e];(!(ey.call(t,e)&&xf(n,r))||r===void 0&&!(e in t))&&jp(t,e,r)}var ry=ty,ny=9007199254740991,ay=/^(?:0|[1-9]\d*)$/;function iy(t,e){var r=typeof t;return e=e??ny,!!e&&(r=="number"||r!="symbol"&&ay.test(t))&&t>-1&&t%1==0&&t<e}var oy=iy;function sy(t,e,r,n){if(!Nn(t))return t;e=Af(e,t);for(var a=-1,i=e.length,o=i-1,s=t;s!=null&&++a<i;){var u=zs(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=o){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=Nn(f)?f:oy(e[a+1])?[]:{})}ry(s,u,l),s=s[u]}return t}var uy=sy;function ly(t,e,r){return t==null?t:uy(t,e,r)}var fy=ly;function cy(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var hy=cy;function dy(t){return yo(t)?Cf(t,zs):si(t)?[t]:hy(Tf(Sf(t)))}var vy=dy,gy={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Ye({},r,e),function(a,i){var o=e,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(_e(a)){var c=a.indexOf(".")!==-1,p=c&&vy(a);if(o.allowGetting&&i===void 0){var v;return f&&(o.beforeGet(f),p&&f._private[o.field][a]===void 0?v=Kp(f._private[o.field],p):v=f._private[o.field][a]),v}else if(o.allowSetting&&i!==void 0){var g=!o.immutableKeys[a];if(g){var m=zl({},a,i);o.beforeSet(s,m);for(var w=0,b=l.length;w<b;w++){var E=l[w];o.canSet(E)&&(p&&f._private[o.field][a]===void 0?fy(E._private[o.field],p,i):E._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&ft(a)){var x=a,S,L,M=Object.keys(x);o.beforeSet(s,x);for(var d=0;d<M.length;d++){S=M[d],L=x[S];var A=!o.immutableKeys[S];if(A)for(var D=0;D<l.length;D++){var P=l[D];o.canSet(P)&&(P._private[o.field][S]=L)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Ct(a)){var O=a;s.on(o.bindingEvent,O)}else if(o.allowGetting&&a===void 0){var N;return f&&(o.beforeGet(f),N=f._private[o.field]),N}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ye({},r,e),function(a){var i=e,o=this,s=o.length!==void 0,u=s?o:[o];if(_e(a)){for(var l=a.split(/\s+/),f=l.length,c=0;c<f;c++){var p=l[c];if(!hn(p)){var v=!i.immutableKeys[p];if(v)for(var g=0,m=u.length;g<m;g++)u[g]._private[i.field][p]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var w=0,b=u.length;w<b;w++)for(var E=u[w]._private[i.field],x=Object.keys(E),S=0;S<x.length;S++){var L=x[S],M=!i.immutableKeys[L];M&&(E[L]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},py={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new ca(function(s,u){var l=function(v){i.off.apply(i,c),s(v)},f=o.concat([l]),c=f.concat([]);i.on.apply(i,f)})}}},dt={};[lg,gy,py].forEach(function(t){Ye(dt,t)});var yy={animate:dt.animate(),animation:dt.animation(),animated:dt.animated(),clearQueue:dt.clearQueue(),delay:dt.delay(),delayAnimation:dt.delayAnimation(),stop:dt.stop()},Hi={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(g){return n.push(g)}),n}else mt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new fa(e),o=0;o<r.length;o++){for(var s=r[o],u=s._private,l=u.classes,f=!1,c=0;c<e.length;c++){var p=e[c],v=l.has(p);if(!v){f=!0;break}}f||(f=l.size!==e.length),f&&(u.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){mt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,f=!1,c=0;c<e.length;c++){var p=e[c],v=l.has(p),g=!1;r||a&&!v?(l.add(p),g=!0):(!r||a&&v)&&(l.delete(p),g=!0),!f&&g&&(i.push(u),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Hi.className=Hi.classNames=Hi.classes;var lt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:It,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};lt.variable="(?:[\\w-.]|(?:\\\\"+lt.metaChar+"))+";lt.className="(?:[\\w-]|(?:\\\\"+lt.metaChar+"))+";lt.value=lt.string+"|"+lt.number;lt.id=lt.variable;(function(){var t,e,r;for(t=lt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],lt.comparatorOp+="|@"+e;for(t=lt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(lt.comparatorOp+="|\\!"+e)})();var yt=function(){return{checks:[]}},ze={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},ds=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Ih(t.selector,e.selector)}),my=function(){for(var t={},e,r=0;r<ds.length;r++)e=ds[r],t[e.selector]=e.matches;return t}(),by=function(e,r){return my[e](r)},wy="("+ds.map(function(t){return t.selector}).join("|")+")",Xn=function(e){return e.replace(new RegExp("\\\\("+lt.metaChar+")","g"),function(r,n){return n})},on=function(e,r,n){e[e.length-1]=n},vs=[{name:"group",query:!0,regex:"("+lt.group+")",populate:function(e,r,n){var a=zt(n,1),i=a[0];r.checks.push({type:ze.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:wy,populate:function(e,r,n){var a=zt(n,1),i=a[0];r.checks.push({type:ze.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+lt.id+")",populate:function(e,r,n){var a=zt(n,1),i=a[0];r.checks.push({type:ze.ID,value:Xn(i)})}},{name:"className",query:!0,regex:"\\.("+lt.className+")",populate:function(e,r,n){var a=zt(n,1),i=a[0];r.checks.push({type:ze.CLASS,value:Xn(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+lt.variable+")\\s*\\]",populate:function(e,r,n){var a=zt(n,1),i=a[0];r.checks.push({type:ze.DATA_EXIST,field:Xn(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+lt.variable+")\\s*("+lt.comparatorOp+")\\s*("+lt.value+")\\s*\\]",populate:function(e,r,n){var a=zt(n,3),i=a[0],o=a[1],s=a[2],u=new RegExp("^"+lt.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:ze.DATA_COMPARE,field:Xn(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+lt.boolOp+")\\s*("+lt.variable+")\\s*\\]",populate:function(e,r,n){var a=zt(n,2),i=a[0],o=a[1];r.checks.push({type:ze.DATA_BOOL,field:Xn(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+lt.meta+")\\s*("+lt.comparatorOp+")\\s*("+lt.number+")\\s*\\]\\]",populate:function(e,r,n){var a=zt(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:ze.META_COMPARE,field:Xn(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:lt.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=yt();return s}},{name:"directedEdge",separator:!0,regex:lt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=r,i=yt();return n.checks.push({type:ze.DIRECTED_EDGE,source:a,target:i}),on(e,r,n),e.edgeCount++,i}else{var o=yt(),s=r,u=yt();return o.checks.push({type:ze.NODE_SOURCE,source:s,target:u}),on(e,r,o),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:lt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=r,i=yt();return n.checks.push({type:ze.UNDIRECTED_EDGE,nodes:[a,i]}),on(e,r,n),e.edgeCount++,i}else{var o=yt(),s=r,u=yt();return o.checks.push({type:ze.NODE_NEIGHBOR,node:s,neighbor:u}),on(e,r,o),u}}},{name:"child",separator:!0,regex:lt.child,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=yt(),i=e[e.length-1];return n.checks.push({type:ze.CHILD,parent:i,child:a}),on(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=yt(),s=e[e.length-1],u=yt(),l=yt(),f=yt(),c=yt();return o.checks.push({type:ze.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ze.TRUE}],c.checks.push({type:ze.TRUE}),u.checks.push({type:ze.PARENT,parent:c,child:f}),on(e,s,o),e.currentSubject=l,e.compoundCount++,f}else{var p=yt(),v=yt(),g=[{type:ze.PARENT,parent:p,child:v}];return p.checks=r.checks,r.checks=g,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:lt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=yt(),a=yt(),i=e[e.length-1];return n.checks.push({type:ze.DESCENDANT,ancestor:i,descendant:a}),on(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=yt(),s=e[e.length-1],u=yt(),l=yt(),f=yt(),c=yt();return o.checks.push({type:ze.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ze.TRUE}],c.checks.push({type:ze.TRUE}),u.checks.push({type:ze.ANCESTOR,ancestor:c,descendant:f}),on(e,s,o),e.currentSubject=l,e.compoundCount++,f}else{var p=yt(),v=yt(),g=[{type:ze.ANCESTOR,ancestor:p,descendant:v}];return p.checks=r.checks,r.checks=g,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:lt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return vt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===ze.DIRECTED_EDGE?a.type=ze.NODE_TARGET:i===ze.UNDIRECTED_EDGE&&(a.type=ze.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];vs.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var xy=function(e){for(var r,n,a,i=0;i<vs.length;i++){var o=vs[i],s=o.name,u=e.match(o.regexObj);if(u!=null){n=u,r=o,a=s;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},Ey=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},Ty=function(e){var r=this,n=r.inputText=e,a=r[0]=yt();for(r.length=1,n=Ey(n);;){var i=xy(n);if(i.expr==null)return vt("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return vt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return vt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&vt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Cy=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},r=function(f){return _e(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},a=function(f,c){var p=f.type,v=f.value;switch(p){case ze.GROUP:{var g=e(v);return g.substring(0,g.length-1)}case ze.DATA_COMPARE:{var m=f.field,w=f.operator;return"["+m+n(e(w))+r(v)+"]"}case ze.DATA_BOOL:{var b=f.operator,E=f.field;return"["+e(b)+E+"]"}case ze.DATA_EXIST:{var x=f.field;return"["+x+"]"}case ze.META_COMPARE:{var S=f.operator,L=f.field;return"[["+L+n(e(S))+r(v)+"]]"}case ze.STATE:return v;case ze.ID:return"#"+v;case ze.CLASS:return"."+v;case ze.PARENT:case ze.CHILD:return i(f.parent,c)+n(">")+i(f.child,c);case ze.ANCESTOR:case ze.DESCENDANT:return i(f.ancestor,c)+" "+i(f.descendant,c);case ze.COMPOUND_SPLIT:{var M=i(f.left,c),d=i(f.subject,c),A=i(f.right,c);return M+(M.length>0?" ":"")+d+A}case ze.TRUE:return""}},i=function(f,c){return f.checks.reduce(function(p,v,g){return p+(c===f&&g===0?"$":"")+a(v,c)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=i(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Dy={parse:Ty,toString:Cy},Lf=function(e,r,n){var a,i=_e(e),o=Pe(e),s=_e(n),u,l,f=!1,c=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),c=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(i||s||f)&&(u=!i&&!o?"":""+e,l=""+n),f&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":p=!0,a=e>n;break;case">=":p=!0,a=e>=n;break;case"<":p=!0,a=e<n;break;case"<=":p=!0,a=e<=n;break;default:a=!1;break}return c&&(e!=null||!p)&&(a=!a),a},Sy=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Ay=function(e){return e!==void 0},Gs=function(e,r){return e.data(r)},Ly=function(e,r){return e[r]()},At=[],Et=function(e,r){return e.checks.every(function(n){return At[n.type](n,r)})};At[ze.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};At[ze.STATE]=function(t,e){var r=t.value;return by(r,e)};At[ze.ID]=function(t,e){var r=t.value;return e.id()===r};At[ze.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};At[ze.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Lf(Ly(e,r),n,a)};At[ze.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Lf(Gs(e,r),n,a)};At[ze.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Sy(Gs(e,r),n)};At[ze.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Ay(Gs(e,r))};At[ze.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Et(r,a)&&Et(n,i)||Et(n,a)&&Et(r,i)};At[ze.NODE_NEIGHBOR]=function(t,e){return Et(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Et(t.neighbor,r)})};At[ze.DIRECTED_EDGE]=function(t,e){return Et(t.source,e.source())&&Et(t.target,e.target())};At[ze.NODE_SOURCE]=function(t,e){return Et(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Et(t.target,r)})};At[ze.NODE_TARGET]=function(t,e){return Et(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Et(t.source,r)})};At[ze.CHILD]=function(t,e){return Et(t.child,e)&&Et(t.parent,e.parent())};At[ze.PARENT]=function(t,e){return Et(t.parent,e)&&e.children().some(function(r){return Et(t.child,r)})};At[ze.DESCENDANT]=function(t,e){return Et(t.descendant,e)&&e.ancestors().some(function(r){return Et(t.ancestor,r)})};At[ze.ANCESTOR]=function(t,e){return Et(t.ancestor,e)&&e.descendants().some(function(r){return Et(t.descendant,r)})};At[ze.COMPOUND_SPLIT]=function(t,e){return Et(t.subject,e)&&Et(t.left,e)&&Et(t.right,e)};At[ze.TRUE]=function(){return!0};At[ze.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};At[ze.FILTER]=function(t,e){var r=t.value;return r(e)};var Ry=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ze.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(Et(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Py=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Et(a,e))return!0}return!1},My={matches:Py,filter:Ry},gn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||_e(e)&&e.match(/^\s*$/)||(mr(e)?this.addQuery({checks:[{type:ze.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:ze.FILTER,value:e}]}):_e(e)?this.parse(e)||(this.invalid=!0):Tt("A selector must be created from a string; found "))},pn=gn.prototype;[Dy,My].forEach(function(t){return Ye(pn,t)});pn.text=function(){return this.inputText};pn.size=function(){return this.length};pn.eq=function(t){return this[t]};pn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};pn.addQuery=function(t){this[this.length++]=t};pn.selector=pn.toString;var fn={allAre:function(e){var r=new gn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new gn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};fn.allAreNeighbours=fn.allAreNeighbors;fn.has=fn.contains;fn.equal=fn.equals=fn.same;var Cr=function(e,r){return function(a,i,o,s){var u=a,l=this,f;if(u==null?f="":mr(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var c=l[0]._private,p=c.traversalCache=c.traversalCache||{},v=p[r]=p[r]||[],g=dn(f),m=v[g];return m||(v[g]=e.call(l,a,i,o,s))}else return e.call(l,a,i,o,s)}},la={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Cr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Us(t,e,r,n){for(var a=[],i=new fa,o=t.cy(),s=o.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):s&&n(a,i,l)}for(;a.length>0;){var f=a.shift();e(f),i.add(f.id()),s&&n(a,i,f)}return t}function Rf(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}la.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Us(this,t,e,Rf)};function Pf(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}la.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Us(this,t,e,Pf)};function Iy(t,e,r){Pf(t,e,r),Rf(t,e,r)}la.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Us(this,t,e,Iy)};la.ancestors=la.parents;var ti,Mf;ti=Mf={data:dt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:dt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:dt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:dt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:dt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ti.attr=ti.data;ti.removeAttr=ti.removeData;var Oy=Mf,wo={};function jo(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!e&&s.isLoop()||(n+=t(a,s))}return n}else return}}Ye(wo,{degree:jo(function(t,e){return e.source().same(e.target())?2:1}),indegree:jo(function(t,e){return e.target().same(t)?1:0}),outdegree:jo(function(t,e){return e.source().same(t)?1:0})});function $n(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}Ye(wo,{minDegree:$n("degree",function(t,e){return t<e}),maxDegree:$n("degree",function(t,e){return t>e}),minIndegree:$n("indegree",function(t,e){return t<e}),maxIndegree:$n("indegree",function(t,e){return t>e}),minOutdegree:$n("outdegree",function(t,e){return t<e}),maxOutdegree:$n("outdegree",function(t,e){return t>e})});Ye(wo,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var Mr,If,Of=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},_u={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Of(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Mr=If={position:dt.data(_u),silentPosition:dt.data(Ye({},_u,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Of(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(ft(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(ft(e)?(a={x:Pe(e.x)?e.x:0,y:Pe(e.y)?e.y:0},n=r):_e(e)&&Pe(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+a.x,y:u.y+a.y};n?s.silentPosition(l):s.position(l)}}i.endBatch()}return this},silentShift:function(e,r){return ft(e)?this.shift(e,!0):_e(e)&&Pe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=ft(e)?e:void 0,u=s!==void 0||r!==void 0&&_e(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(e,(r-o[e])/i):s!==void 0&&f.position(af(s,i,o))}else{var c=n.position();return s=go(c,i,o),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=ft(e)?e:void 0,o=i!==void 0||r!==void 0&&_e(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,c=f&&f.length>0,p=c;c&&(f=f[0]);var v=p?f.position():{x:0,y:0};r!==void 0?l.position(e,r+v[e]):i!==void 0&&l.position({x:i.x+v.x,y:i.y+v.y})}else{var g=n.position(),m=s?n.parent():null,w=m&&m.length>0,b=w;w&&(m=m[0]);var E=b?m.position():{x:0,y:0};return i={x:g.x-E.x,y:g.y-E.y},e===void 0?i:i[e]}else if(!o)return;return this}};Mr.modelPosition=Mr.point=Mr.position;Mr.modelPositions=Mr.points=Mr.positions;Mr.renderedPoint=Mr.renderedPosition;Mr.relativePoint=Mr.relativePosition;var Ny=If,ia,wn;ia=wn={};wn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,s=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:u,w:o-i,h:u-s}};wn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};wn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},c=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),p=s.position;(c.w===0||c.h===0)&&(c={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},c.x1=p.x-c.w/2,c.x2=p.x+c.w/2,c.y1=p.y-c.h/2,c.y2=p.y+c.h/2);function v(D,P,O){var N=0,B=0,F=P+O;return D>0&&F>0&&(N=P/F*D,B=O/F*D),{biasDiff:N,biasComplementDiff:B}}function g(D,P,O,N){if(O.units==="%")switch(N){case"width":return D>0?O.pfValue*D:0;case"height":return P>0?O.pfValue*P:0;case"average":return D>0&&P>0?O.pfValue*(D+P)/2:0;case"min":return D>0&&P>0?D>P?O.pfValue*P:O.pfValue*D:0;case"max":return D>0&&P>0?D>P?O.pfValue*D:O.pfValue*P:0;default:return 0}else return O.units==="px"?O.pfValue:0}var m=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(m=m*100/f.width.val);var w=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(w=w*100/f.width.val);var b=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var E=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(E=E*100/f.height.val);var x=v(f.width.val-c.w,m,w),S=x.biasDiff,L=x.biasComplementDiff,M=v(f.height.val-c.h,b,E),d=M.biasDiff,A=M.biasComplementDiff;s.autoPadding=g(c.w,c.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(c.w,f.width.val),p.x=(-S+c.x1+c.x2+L)/2,s.autoHeight=Math.max(c.h,f.height.val),p.y=(-d+c.y1+c.y2+A)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var Tr=function(e){return e===1/0||e===-1/0?0:e},Lr=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Pn=function(e,r){return r==null?e:Lr(e,r.x1,r.y1,r.x2,r.y2)},Na=function(e,r,n){return Rr(e,r,n)},Ii=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var f=a.arrowBounds=a.arrowBounds||{},c=f[n]=f[n]||{};c.x1=u-o,c.y1=l-o,c.x2=u+o,c.y2=l+o,c.w=c.x2-c.x1,c.h=c.y2-c.y1,Ui(c,1),Lr(e,c.x1,c.y1,c.x2,c.y2)}}},Jo=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=Na(o,"labelWidth",n),c=Na(o,"labelHeight",n),p=Na(o,"labelX",n),v=Na(o,"labelY",n),g=r.pstyle(a+"text-margin-x").pfValue,m=r.pstyle(a+"text-margin-y").pfValue,w=r.isEdge(),b=r.pstyle(a+"text-rotation"),E=r.pstyle("text-outline-width").pfValue,x=r.pstyle("text-border-width").pfValue,S=x/2,L=r.pstyle("text-background-padding").pfValue,M=2,d=c,A=f,D=A/2,P=d/2,O,N,B,F;if(w)O=p-D,N=p+D,B=v-P,F=v+P;else{switch(u.value){case"left":O=p-A,N=p;break;case"center":O=p-D,N=p+D;break;case"right":O=p,N=p+A;break}switch(l.value){case"top":B=v-d,F=v;break;case"center":B=v-P,F=v+P;break;case"bottom":B=v,F=v+d;break}}var U=g-Math.max(E,S)-L-M,V=g+Math.max(E,S)+L+M,_=m-Math.max(E,S)-L-M,q=m+Math.max(E,S)+L+M;O+=U,N+=V,B+=_,F+=q;var Y=n||"main",Q=i.labelBounds,$=Q[Y]=Q[Y]||{};$.x1=O,$.y1=B,$.x2=N,$.y2=F,$.w=N-O,$.h=F-B,$.leftPad=U,$.rightPad=V,$.topPad=_,$.botPad=q;var K=w&&b.strValue==="autorotate",ie=b.pfValue!=null&&b.pfValue!==0;if(K||ie){var ue=K?Na(i.rstyle,"labelAngle",n):b.pfValue,fe=Math.cos(ue),he=Math.sin(ue),ye=(O+N)/2,be=(B+F)/2;if(!w){switch(u.value){case"left":ye=N;break;case"right":ye=O;break}switch(l.value){case"top":be=F;break;case"bottom":be=B;break}}var te=function(Ue,we){return Ue=Ue-ye,we=we-be,{x:Ue*fe-we*he+ye,y:Ue*he+we*fe+be}},j=te(O,B),se=te(O,F),me=te(N,B),Ae=te(N,F);O=Math.min(j.x,se.x,me.x,Ae.x),N=Math.max(j.x,se.x,me.x,Ae.x),B=Math.min(j.y,se.y,me.y,Ae.y),F=Math.max(j.y,se.y,me.y,Ae.y)}var Be=Y+"Rot",Re=Q[Be]=Q[Be]||{};Re.x1=O,Re.y1=B,Re.x2=N,Re.y2=F,Re.w=N-O,Re.h=F-B,Lr(e,O,B,N,F),Lr(i.labelBounds.all,O,B,N,F)}return e}},ky=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,s=a+i,u=(e.w+s*2)/e.w,l=(e.h+s*2)/e.h,f=0,c=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(e.w+s*2.4)/e.w,c=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(e.w+s*2.4)/e.w:o==="star"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.6)/e.h,c=-s/3.8):o==="triangle"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.4)/e.h,c=-s/1.4):o==="vee"&&(u=(e.w+s*4.4)/e.w,l=(e.h+s*3.8)/e.h,c=-s*.5);var p=e.h*l-e.h,v=e.w*u-e.w;if(Vi(e,[Math.ceil(p/2),Math.ceil(v/2)]),f!=0||c!==0){var g=av(e,f,c);sf(e,g)}}}},By=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=hr(),s=e._private,u=e.isNode(),l=e.isEdge(),f,c,p,v,g,m,w=s.rstyle,b=u&&a?e.pstyle("bounds-expansion").pfValue:[0],E=function(Le){return Le.pstyle("display").value!=="none"},x=!a||E(e)&&(!l||E(e.source())&&E(e.target()));if(x){var S=0,L=0;a&&r.includeOverlays&&(S=e.pstyle("overlay-opacity").value,S!==0&&(L=e.pstyle("overlay-padding").value));var M=0,d=0;a&&r.includeUnderlays&&(M=e.pstyle("underlay-opacity").value,M!==0&&(d=e.pstyle("underlay-padding").value));var A=Math.max(L,d),D=0,P=0;if(a&&(D=e.pstyle("width").pfValue,P=D/2),u&&r.includeNodes){var O=e.position();g=O.x,m=O.y;var N=e.outerWidth(),B=N/2,F=e.outerHeight(),U=F/2;f=g-B,c=g+B,p=m-U,v=m+U,Lr(o,f,p,c,v),a&&r.includeOutlines&&ky(o,e)}else if(l&&r.includeEdges)if(a&&!i){var V=e.pstyle("curve-style").strValue;if(f=Math.min(w.srcX,w.midX,w.tgtX),c=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),v=Math.max(w.srcY,w.midY,w.tgtY),f-=P,c+=P,p-=P,v+=P,Lr(o,f,p,c,v),V==="haystack"){var _=w.haystackPts;if(_&&_.length===2){if(f=_[0].x,p=_[0].y,c=_[1].x,v=_[1].y,f>c){var q=f;f=c,c=q}if(p>v){var Y=p;p=v,v=Y}Lr(o,f-P,p-P,c+P,v+P)}}else if(V==="bezier"||V==="unbundled-bezier"||V.endsWith("segments")||V.endsWith("taxi")){var Q;switch(V){case"bezier":case"unbundled-bezier":Q=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":Q=w.linePts;break}if(Q!=null)for(var $=0;$<Q.length;$++){var K=Q[$];f=K.x-P,c=K.x+P,p=K.y-P,v=K.y+P,Lr(o,f,p,c,v)}}}else{var ie=e.source(),ue=ie.position(),fe=e.target(),he=fe.position();if(f=ue.x,c=he.x,p=ue.y,v=he.y,f>c){var ye=f;f=c,c=ye}if(p>v){var be=p;p=v,v=be}f-=P,c+=P,p-=P,v+=P,Lr(o,f,p,c,v)}if(a&&r.includeEdges&&l&&(Ii(o,e,"mid-source"),Ii(o,e,"mid-target"),Ii(o,e,"source"),Ii(o,e,"target")),a){var te=e.pstyle("ghost").value==="yes";if(te){var j=e.pstyle("ghost-offset-x").pfValue,se=e.pstyle("ghost-offset-y").pfValue;Lr(o,o.x1+j,o.y1+se,o.x2+j,o.y2+se)}}var me=s.bodyBounds=s.bodyBounds||{};Eu(me,o),Vi(me,b),Ui(me,1),a&&(f=o.x1,c=o.x2,p=o.y1,v=o.y2,Lr(o,f-A,p-A,c+A,v+A));var Ae=s.overlayBounds=s.overlayBounds||{};Eu(Ae,o),Vi(Ae,b),Ui(Ae,1);var Be=s.labelBounds=s.labelBounds||{};Be.all!=null?nv(Be.all):Be.all=hr(),a&&r.includeLabels&&(r.includeMainLabels&&Jo(o,e,null),l&&(r.includeSourceLabels&&Jo(o,e,"source"),r.includeTargetLabels&&Jo(o,e,"target")))}return o.x1=Tr(o.x1),o.y1=Tr(o.y1),o.x2=Tr(o.x2),o.y2=Tr(o.y2),o.w=Tr(o.x2-o.x1),o.h=Tr(o.y2-o.y1),o.w>0&&o.h>0&&x&&(Vi(o,b),Ui(o,1)),o},Nf=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},kf=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return Cd([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},qu=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?Wu:Nf(r),s=o===Wu,u=kf(e),l=n.bbCachePosKey===u,f=r.useCache&&l,c=function(m){return m._private.bbCache==null||m._private.styleDirty},p=!f||c(e)||i&&(c(e.source())||c(e.target()));if(p?(l||e.recalculateRenderedStyle(f),a=By(e,ri),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!s){var v=e.isNode();a=hr(),(r.includeNodes&&v||r.includeEdges&&!v)&&(r.includeOverlays?Pn(a,n.overlayBounds):Pn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Pn(a,n.labelBounds.all):(r.includeMainLabels&&Pn(a,n.labelBounds.mainRot),r.includeSourceLabels&&Pn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Pn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},ri={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Wu=Nf(ri),Yu=Gt(ri);wn.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=ri:t=Yu(t),e=qu(this[0],t);else{e=hr(),t=t||ri;var r=Yu(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],u=s._private,l=kf(s),f=u.bbCachePosKey===l,c=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var v=n[p];Pn(e,qu(v,r))}}return e.x1=Tr(e.x1),e.y1=Tr(e.y1),e.x2=Tr(e.x2),e.y2=Tr(e.y2),e.w=Tr(e.x2-e.x1),e.h=Tr(e.y2-e.y1),e};wn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};wn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),ft(t)){var i=t;t=function(){return i}}var o=function(f,c){return f._private.bbAtOldPos=t(f,c)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=rv(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};ia.boundingbox=ia.bb=ia.boundingBox;ia.renderedBoundingbox=ia.renderedBoundingBox;var Fy=wn,Ha,fi;Ha=fi={};var Bf=function(e){e.uppercaseName=gu(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=gu(e.outerName),Ha[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Ha["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},Ha["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Ha["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Bf({name:"width"});Bf({name:"height"});fi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};fi.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};fi.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var zy=fi,Gy=function(e,r){if(e.isEdge())return r(e)},Uy=function(e,r){if(e.isEdge()){var n=e.cy();return go(r(e),n.zoom(),n.pan())}},Vy=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return go(o,i,a)})}},Hy=function(e){return e.renderer().getControlPoints(e)},_y=function(e){return e.renderer().getSegmentPoints(e)},qy=function(e){return e.renderer().getSourceEndpoint(e)},Wy=function(e){return e.renderer().getTargetEndpoint(e)},Yy=function(e){return e.renderer().getEdgeMidpoint(e)},Xu={controlPoints:{get:Hy,mult:!0},segmentPoints:{get:_y,mult:!0},sourceEndpoint:{get:qy},targetEndpoint:{get:Wy},midpoint:{get:Yy}},Xy=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},$y=Object.keys(Xu).reduce(function(t,e){var r=Xu[e],n=Xy(e);return t[e]=function(){return Gy(this,r.get)},r.mult?t[n]=function(){return Vy(this,r.get)}:t[n]=function(){return Uy(this,r.get)},t},{}),Ky=Ye({},Ny,Fy,zy,$y);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Ff=function(e,r){this.recycle(e,r)};function ka(){return!1}function Oi(){return!0}Ff.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ka,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Oi:ka):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Oi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Oi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Oi,this.stopPropagation()},isDefaultPrevented:ka,isPropagationStopped:ka,isImmediatePropagationStopped:ka};var zf=/^([^.]+)(\.(?:[^.]+))?$/,Zy=".*",Gf={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},$u=Object.keys(Gf),Qy={};function xo(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qy,e=arguments.length>1?arguments[1]:void 0,r=0;r<$u.length;r++){var n=$u[r];this[n]=t[n]||Gf[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var yn=xo.prototype,Uf=function(e,r,n,a,i,o,s){Ct(a)&&(i=a,a=null),s&&(o==null?o=s:o=Ye({},o,s));for(var u=mt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!hn(f)){var c=f.match(zf);if(c){var p=c[1],v=c[2]?c[2]:null,g=r(e,f,p,v,a,i,o);if(g===!1)break}}}},Ku=function(e,r){return e.addEventFields(e.context,r),new Ff(r.type,r)},jy=function(e,r,n){if(xh(n)){r(e,n);return}else if(ft(n)){r(e,Ku(e,n));return}for(var a=mt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!hn(o)){var s=o.match(zf);if(s){var u=s[1],l=s[2]?s[2]:null,f=Ku(e,{type:u,namespace:l,target:e.context});r(e,f)}}}};yn.on=yn.addListener=function(t,e,r,n,a){return Uf(this,function(i,o,s,u,l,f,c){Ct(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:u,qualifier:l,conf:c})},t,e,r,n,a),this};yn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};yn.removeListener=yn.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=Rd(this.listeners));for(var i=this.listeners,o=function(l){var f=i[l];Uf(a,function(c,p,v,g,m,w){if((f.type===v||t==="*")&&(!g&&f.namespace!==".*"||f.namespace===g)&&(!m||c.qualifierCompare(f.qualifier,m))&&(!w||f.callback===w))return i.splice(l,1),!1},t,e,r,n)},s=i.length-1;s>=0;s--)o(s);return this};yn.removeAllListeners=function(){return this.removeListener("*")};yn.emit=yn.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,mt(e)||(e=[e]),jy(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(f){var c=n[f];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===Zy)&&i.eventMatches(i.context,c,o)){var p=[o];e!=null&&Md(p,e),i.beforeEmit(i.context,c,o),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(m){return m!==c}));var v=i.callbackContext(i.context,c,o),g=c.callback.apply(v,p);i.afterEmit(i.context,c,o),g===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)s(u);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var Jy={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&oi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ni=function(e){return _e(e)?new gn(e):e},Vf={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new xo(Jy,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=Ni(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=Ni(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=Ni(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=Ni(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};dt.eventAliasesOn(Vf);var Hf={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(_e(e)||mr(e))return new gn(e).filter(this);if(Ct(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){_e(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(_e(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,s=o?a:i,u=o?i:a,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(u,l){for(var f=0;f<u.length;f++){var c=u[f],p=c._private.data.id,v=l.hasElementWithId(p);v||n.push(c)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;_e(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=e,u=function(f,c,p){for(var v=0;v<f.length;v++){var g=f[v],m=g._private.data.id,w=c.hasElementWithId(m);w?i.merge(g):p.push(g)}};return u(o,s,n),u(s,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&_e(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var s=e[o],u=s._private.data.id,l=!i.has(u);if(l){var f=this.length++;this[f]=s,i.set(u,{ele:s,index:f})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,i.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&_e(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(s)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?e.apply(r,[s,o,i]):e(s,o,i);u>n&&(n=u,a=s)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?e.apply(r,[s,o,i]):e(s,o,i);u<n&&(n=u,a=s)}return{value:n,ele:a}}},ht=Hf;ht.u=ht["|"]=ht["+"]=ht.union=ht.or=ht.add;ht["\\"]=ht["!"]=ht["-"]=ht.difference=ht.relativeComplement=ht.subtract=ht.not;ht.n=ht["&"]=ht["."]=ht.and=ht.intersection=ht.intersect;ht["^"]=ht["(+)"]=ht["(-)"]=ht.symmetricDifference=ht.symdiff=ht.xor;ht.fnFilter=ht.filterFn=ht.stdFilter=ht.filter;ht.complement=ht.abscomp=ht.absoluteComplement;var em={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},_f=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(f){var c=f.pstyle("z-compound-depth");return c.value==="auto"?a?f.zDepth():0:c.value==="bottom"?-1:c.value==="top"?Rs:0}var o=i(e)-i(r);if(o!==0)return o;function s(f){var c=f.pstyle("z-index-compare");return c.value==="auto"&&f.isNode()?1:0}var u=s(e)-s(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},io={forEach:function(e,r){if(Ct(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(_f)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Rs-1}else{var i=r.source,o=r.target,s=i.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};io.each=io.forEach;var tm=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ot(Symbol))!=e&&Ot(Symbol.iterator)!=e;r&&(io[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return zl({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};tm();var rm=Gt({nodeDimensionsIncludeLabels:!1}),_i={layoutDimensions:function(e){e=rm(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(L){return!L.isParent()}),i=this.cy(),o=r.eles,s=function(M){return M.id()},u=$a(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(M,d,A){var D={x:d.x1+d.w/2,y:d.y1+d.h/2},P={x:(A.x-D.x)*M,y:(A.y-D.y)*M};return{x:D.x+P.x,y:D.y+P.y}},f=r.spacingFactor&&r.spacingFactor!==1,c=function(){if(!f)return null;for(var M=hr(),d=0;d<a.length;d++){var A=a[d],D=u(A,d);iv(M,D.x,D.y)}return M},p=c(),v=$a(function(L,M){var d=u(L,M);if(f){var A=Math.abs(r.spacingFactor);d=l(A,p,d)}return r.transform!=null&&(d=r.transform(L,d)),d},s);if(r.animate){for(var g=0;g<a.length;g++){var m=a[g],w=v(m,g),b=r.animateFilter==null||r.animateFilter(m,g);if(b){var E=m.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else m.position(w)}if(r.fit){var x=i.animation({fit:{boundingBox:o.boundingBoxAt(v),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(x)}else if(r.zoom!==void 0&&r.pan!==void 0){var S=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}e.animations.forEach(function(L){return L.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),ca.all(e.animations.map(function(L){return L.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(v),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ye({},e,{eles:this}))}};_i.createLayout=_i.makeLayout=_i.layout;function qf(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Eo(t,e){return t=dn(t),function(n){return qf(t,e,n)}}function To(t,e){t=dn(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return qf(t,r,a)}}var Wt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(ft(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(_e(e))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function es(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Vs(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!e(i))return!1;if(i.isNode())return!o||es(i,n);var u=s.source,l=s.target;return r(u)&&(!o||es(u,r))&&(u===l||r(l)&&(!o||es(l,r)))}}}var ga=Eo("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Wt.takesUpSpace=To("takesUpSpace",Vs({ok:ga}));var nm=Eo("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&ga(t)}),am=Eo("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&ga(t)});Wt.interactive=To("interactive",Vs({ok:nm,parentOk:am,edgeOkViaNode:ga}));Wt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var im=Eo("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&ga(t)}),om=ga;Wt.visible=To("visible",Vs({ok:im,edgeOkViaNode:om}));Wt.hidden=function(){var t=this[0];if(t)return!t.visible()};Wt.isBundledBezier=To("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Wt.bypass=Wt.css=Wt.style;Wt.renderedCss=Wt.renderedStyle;Wt.removeBypass=Wt.removeCss=Wt.removeStyle;Wt.pstyle=Wt.parsedStyle;var cn={};function Zu(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Ct(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&mt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(u);if(c!==void 0&&(l=c,!c))return this}l&&(u._private[t.field]=t.value,f&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),o&&p.emit(o)}return this}}function pa(t){cn[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},cn[t.on]=Zu({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),cn[t.off]=Zu({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}pa({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});pa({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});pa({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});pa({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});cn.deselect=cn.unselect;cn.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};pa({field:"active",on:"activate",off:"unactivate"});pa({field:"pannable",on:"panify",off:"unpanify"});cn.inactive=function(){var t=this[0];if(t)return!t._private.active};var Jt={},Qu=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var c=l[f],p=c.source(),v=c.target();if(e.noIncomingEdges&&v===s&&p!==s||e.noOutgoingEdges&&p===s&&v!==s){u=!0;break}}u||i.push(s)}}return this.spawn(i,!0).filter(n)}},ju=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),c=l.target();e.outgoing&&f===o?(a.push(l),a.push(c)):e.incoming&&c===o&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(r)}},Ju=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],f=l.id();i[f]||(i[f]=!0,a.push(l),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Jt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ye(Jt,{roots:Qu({noIncomingEdges:!0}),leaves:Qu({noOutgoingEdges:!0}),outgoers:Cr(ju({outgoing:!0}),"outgoers"),successors:Ju({outgoing:!0}),incomers:Cr(ju({incoming:!0}),"incomers"),predecessors:Ju({incoming:!0})});Ye(Jt,{neighborhood:Cr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],u=s.source(),l=s.target(),f=a===u?l:u;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Jt.neighbourhood=Jt.neighborhood;Jt.closedNeighbourhood=Jt.closedNeighborhood;Jt.openNeighbourhood=Jt.openNeighborhood;Ye(Jt,{source:Cr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Cr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:el({attr:"source"}),targets:el({attr:"target"})});function el(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Ye(Jt,{edgesWith:Cr(tl(),"edgesWith"),edgesTo:Cr(tl({thisIsSrc:!0}),"edgesTo")});function tl(t){return function(r){var n=[],a=this._private.cy,i=t||{};_e(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,c=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),p=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),v=c||p;v&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!c||i.thisIsTgt&&!p)||n.push(l))}return this.spawn(n,!0)}}Ye(Jt,{connectedEdges:Cr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Cr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Cr(rl(),"parallelEdges"),codirectedEdges:Cr(rl({codirected:!0}),"codirectedEdges")});function rl(t){var e={codirected:!1};return t=Ye({},e,t),function(n){for(var a=[],i=this.edges(),o=t,s=0;s<i.length;s++)for(var u=i[s],l=u._private,f=l.source,c=f._private.data.id,p=l.data.target,v=f._private.edges,g=0;g<v.length;g++){var m=v[g],w=m._private.data,b=w.target,E=w.source,x=b===p&&E===c,S=c===b&&p===E;(o.codirected&&x||!o.codirected&&(x||S))&&a.push(m)}return this.spawn(a,!0).filter(n)}}Ye(Jt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var s=function(f,c){a.merge(f),i.unmerge(f),c.merge(f)};if(i.empty())return r.spawn();var u=function(){var f=n.collection();o.push(f);var c=i[0];s(c,f),r.bfs({directed:!1,roots:c,visit:function(v){return s(v,f)}}),f.forEach(function(p){p.connectedEdges().forEach(function(v){r.has(v)&&f.has(v.source())&&f.has(v.target())&&f.merge(v)})})};do u();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Jt.componentsOf=Jt.components;var Yt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Tt("A collection must have a reference to the core");return}var i=new Vr,o=!1;if(!r)r=[];else if(r.length>0&&ft(r[0])&&!oi(r[0])){o=!0;for(var s=[],u=new fa,l=0,f=r.length;l<f;l++){var c=r[l];c.data==null&&(c.data={});var p=c.data;if(p.id==null)p.id=rf();else if(e.hasElementWithId(p.id)||u.has(p.id))continue;var v=new vo(e,c,!1);s.push(v),u.add(p.id)}r=s}this.length=0;for(var g=0,m=r.length;g<m;g++){var w=r[g][0];if(w!=null){var b=w._private.data.id;(!n||!i.has(b))&&(n&&i.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(E){this.lazyMap=E},rebuildMap:function(){for(var x=this.lazyMap=new Vr,S=this.eles,L=0;L<S.length;L++){var M=S[L];x.set(M.id(),{index:L,ele:M})}}},n&&(this._private.map=i),o&&!a&&this.restore()},xt=vo.prototype=Yt.prototype=Object.create(Array.prototype);xt.instanceString=function(){return"collection"};xt.spawn=function(t,e){return new Yt(this.cy(),t,e)};xt.spawnSelf=function(){return this.spawn(this)};xt.cy=function(){return this._private.cy};xt.renderer=function(){return this._private.cy.renderer()};xt.element=function(){return this[0]};xt.collection=function(){return Vl(this)?this:new Yt(this._private.cy,[this])};xt.unique=function(){return new Yt(this._private.cy,this,!0)};xt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};xt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Yt(e)};xt.$id=xt.getElementById;xt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};xt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};xt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};xt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(ft(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},s=t.data.source,u=t.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(e=e.move(o))}else{var l="parent"in t.data,f=t.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var c=function(m,w,b){var E=t[m];E!=null&&E!==n[m]&&(E?e[w]():e[b]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Ur(n.data),position:Ur(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var v=0;return n.classes.forEach(function(g){return p.classes+=v++===0?g:" "+g}),p}}};xt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};xt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new vo(t,a,!1);e.push(i)}return new Yt(t,e)};xt.copy=xt.clone;xt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,u=0,l=r.length;u<l;u++){var f=r[u];e&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var c,p=function(){s.splice(c,1),c--};for(c=0;c<s.length;c++){var v=s[c],g=v._private,m=g.data;if(v.clearTraversalCache(),!(!e&&!g.removed)){if(m.id===void 0)m.id=rf();else if(Pe(m.id))m.id=""+m.id;else if(hn(m.id)||!_e(m.id)){Tt("Can not create element with invalid string ID `"+m.id+"`"),p();continue}else if(n.hasElementWithId(m.id)){Tt("Can not create second element with ID `"+m.id+"`"),p();continue}}var w=m.id;if(v.isNode()){var b=g.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(v.isEdge()){for(var E=v,x=["source","target"],S=x.length,L=!1,M=0;M<S;M++){var d=x[M],A=m[d];Pe(A)&&(A=m[d]=""+m[d]),A==null||A===""?(Tt("Can not create edge `"+w+"` with unspecified "+d),L=!0):n.hasElementWithId(A)||(Tt("Can not create edge `"+w+"` with nonexistant "+d+" `"+A+"`"),L=!0)}if(L){p();continue}var D=n.getElementById(m.source),P=n.getElementById(m.target);D.same(P)?D._private.edges.push(E):(D._private.edges.push(E),P._private.edges.push(E)),E._private.source=D,E._private.target=P}g.map=new Vr,g.map.set(w,{ele:v,index:0}),g.removed=!1,e&&n.addToPool(v)}for(var O=0;O<i.length;O++){var N=i[O],B=N._private.data;Pe(B.parent)&&(B.parent=""+B.parent);var F=B.parent,U=F!=null;if(U||N._private.parent){var V=N._private.parent?n.collection().merge(N._private.parent):n.getElementById(F);if(V.empty())B.parent=void 0;else if(V[0].removed())vt("Node added with missing parent, reference to parent removed"),B.parent=void 0,N._private.parent=null;else{for(var _=!1,q=V;!q.empty();){if(N.same(q)){_=!0,B.parent=void 0;break}q=q.parent()}_||(V[0]._private.children.push(N),N._private.parent=V[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var Y=s.length===r.length?r:new Yt(n,s),Q=0;Q<Y.length;Q++){var $=Y[Q];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}var K;a.hasCompoundNodes?K=n.collection().merge(Y).merge(Y.connectedNodes()).merge(Y.parent()):K=Y,K.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?Y.emitAndNotify("add"):e&&Y.emit("add")}return r};xt.removed=function(){var t=this[0];return t&&t._private.removed};xt.inside=function(){var t=this[0];return t&&!t._private.removed};xt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(F){for(var U=F._private.edges,V=0;V<U.length;V++)u(U[V])}function s(F){for(var U=F._private.children,V=0;V<U.length;V++)u(U[V])}function u(F){var U=a[F.id()];e&&F.removed()||U||(a[F.id()]=!0,F.isNode()?(n.push(F),o(F),s(F)):n.unshift(F))}for(var l=0,f=r.length;l<f;l++){var c=r[l];u(c)}function p(F,U){var V=F._private.edges;vn(V,U),F.clearTraversalCache()}function v(F){F.clearTraversalCache()}var g=[];g.ids={};function m(F,U){U=U[0],F=F[0];var V=F._private.children,_=F.id();vn(V,U),U._private.parent=null,g.ids[_]||(g.ids[_]=!0,g.push(F))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var E=b.source()[0],x=b.target()[0];p(E,b),p(x,b);for(var S=b.parallelEdges(),L=0;L<S.length;L++){var M=S[L];v(M),M.isBundledBezier()&&M.dirtyBoundingBoxCache()}}else{var d=b.parent();d.length!==0&&m(d,b)}e&&(b._private.removed=!0)}var A=i._private.elements;i._private.hasCompoundNodes=!1;for(var D=0;D<A.length;D++){var P=A[D];if(P.isParent()){i._private.hasCompoundNodes=!0;break}}var O=new Yt(this.cy(),n);O.size()>0&&(t?O.emitAndNotify("remove"):e&&O.emit("remove"));for(var N=0;N<g.length;N++){var B=g[N];(!e||!B.removed())&&B.updateStyle()}return O};xt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(g){return g==null?g:""+g};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),s=i(t.target),u=o!=null&&e.hasElementWithId(o),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],m=g._private.data;g.isEdge()&&(u&&(m.source=o),l&&(m.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=i(t.parent),c=f===null||e.hasElementWithId(f);if(c){var p=f===null?void 0:f;e.batch(function(){var v=r.remove(n,a);v.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],w=m._private.data;m.isNode()&&(w.parent=p)}v.restore(n,a)}),r.emitAndNotify("move")}}return this};[pf,yy,Hi,fn,la,Oy,wo,Ky,Vf,Hf,em,io,_i,Wt,cn,Jt].forEach(function(t){Ye(xt,t)});var sm={add:function(e){var r,n=this;if(mr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new Yt(n,i)}}else if(mt(e)){var u=e;r=new Yt(n,u)}else if(ft(e)&&(mt(e.nodes)||mt(e.edges))){for(var l=e,f=[],c=["nodes","edges"],p=0,v=c.length;p<v;p++){var g=c[p],m=l[g];if(mt(m))for(var w=0,b=m.length;w<b;w++){var E=Ye({group:g},m[w]);f.push(E)}}r=new Yt(n,f)}else{var x=e;r=new vo(n,x).collection()}return r},remove:function(e){if(!mr(e)){if(_e(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function um(t,e,r,n){var a=4,i=.001,o=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var c=0;c<4;++c)if(typeof arguments[c]!="number"||isNaN(arguments[c])||!isFinite(arguments[c]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=f?new Float32Array(u):new Array(u);function v(P,O){return 1-3*O+3*P}function g(P,O){return 3*O-6*P}function m(P){return 3*P}function w(P,O,N){return((v(O,N)*P+g(O,N))*P+m(O))*P}function b(P,O,N){return 3*v(O,N)*P*P+2*g(O,N)*P+m(O)}function E(P,O){for(var N=0;N<a;++N){var B=b(O,t,r);if(B===0)return O;var F=w(O,t,r)-P;O-=F/B}return O}function x(){for(var P=0;P<u;++P)p[P]=w(P*l,t,r)}function S(P,O,N){var B,F,U=0;do F=O+(N-O)/2,B=w(F,t,r)-P,B>0?N=F:O=F;while(Math.abs(B)>o&&++U<s);return F}function L(P){for(var O=0,N=1,B=u-1;N!==B&&p[N]<=P;++N)O+=l;--N;var F=(P-p[N])/(p[N+1]-p[N]),U=O+F*l,V=b(U,t,r);return V>=i?E(P,U):V===0?U:S(P,O,O+l)}var M=!1;function d(){M=!0,(t!==e||r!==n)&&x()}var A=function(O){return M||d(),t===e&&r===n?O:O===0?0:O===1?1:w(L(O),e,n)};A.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var D="generateBezier("+[t,e,r,n]+")";return A.toString=function(){return D},A}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var lm=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),s=e(n,a*.5,o),u=e(n,a,s),l=1/6*(i.dx+2*(o.dx+s.dx)+u.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,c=16/1e3,p,v,g;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,p=o!==null,p?(l=n(a,i),v=l/o*c):v=c;g=r(g||s,v),u.push(1+g.x),l+=16,Math.abs(g.x)>f&&Math.abs(g.v)>f;);return p?function(m){return u[m*(u.length-1)|0]}:l}}(),wt=function(e,r,n,a){var i=um(e,r,n,a);return function(o,s,u){return o+(s-o)*i(u)}},qi={linear:function(e,r,n){return e+(r-e)*n},ease:wt(.25,.1,.25,1),"ease-in":wt(.42,0,1,1),"ease-out":wt(0,0,.58,1),"ease-in-out":wt(.42,0,.58,1),"ease-in-sine":wt(.47,0,.745,.715),"ease-out-sine":wt(.39,.575,.565,1),"ease-in-out-sine":wt(.445,.05,.55,.95),"ease-in-quad":wt(.55,.085,.68,.53),"ease-out-quad":wt(.25,.46,.45,.94),"ease-in-out-quad":wt(.455,.03,.515,.955),"ease-in-cubic":wt(.55,.055,.675,.19),"ease-out-cubic":wt(.215,.61,.355,1),"ease-in-out-cubic":wt(.645,.045,.355,1),"ease-in-quart":wt(.895,.03,.685,.22),"ease-out-quart":wt(.165,.84,.44,1),"ease-in-out-quart":wt(.77,0,.175,1),"ease-in-quint":wt(.755,.05,.855,.06),"ease-out-quint":wt(.23,1,.32,1),"ease-in-out-quint":wt(.86,0,.07,1),"ease-in-expo":wt(.95,.05,.795,.035),"ease-out-expo":wt(.19,1,.22,1),"ease-in-out-expo":wt(1,0,0,1),"ease-in-circ":wt(.6,.04,.98,.335),"ease-out-circ":wt(.075,.82,.165,1),"ease-in-out-circ":wt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return qi.linear;var a=lm(e,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":wt};function nl(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function al(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Kn(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=al(t,a),s=al(e,a);if(Pe(o)&&Pe(s))return nl(i,o,s,r,n);if(mt(o)&&mt(s)){for(var u=[],l=0;l<s.length;l++){var f=o[l],c=s[l];if(f!=null&&c!=null){var p=nl(i,f,c,r,n);u.push(p)}else u.push(c)}return u}}function fm(t,e,r,n){var a=!n,i=t._private,o=e._private,s=o.easing,u=o.startTime,l=n?t:t.cy(),f=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=qi.linear;else{var c;if(_e(s)){var p=f.parse("transition-timing-function",s);c=p.value}else c=s;var v,g;_e(c)?(v=c,g=[]):(v=c[1],g=c.slice(2).map(function(Y){return+Y})),g.length>0?(v==="spring"&&g.push(o.duration),o.easingImpl=qi[v].apply(null,g)):o.easingImpl=qi[v]}var m=o.easingImpl,w;if(o.duration===0?w=1:w=(r-u)/o.duration,o.applying&&(w=o.progress),w<0?w=0:w>1&&(w=1),o.delay==null){var b=o.startPosition,E=o.position;if(E&&a&&!t.locked()){var x={};Ba(b.x,E.x)&&(x.x=Kn(b.x,E.x,w,m)),Ba(b.y,E.y)&&(x.y=Kn(b.y,E.y,w,m)),t.position(x)}var S=o.startPan,L=o.pan,M=i.pan,d=L!=null&&n;d&&(Ba(S.x,L.x)&&(M.x=Kn(S.x,L.x,w,m)),Ba(S.y,L.y)&&(M.y=Kn(S.y,L.y,w,m)),t.emit("pan"));var A=o.startZoom,D=o.zoom,P=D!=null&&n;P&&(Ba(A,D)&&(i.zoom=ja(i.minZoom,Kn(A,D,w,m),i.maxZoom)),t.emit("zoom")),(d||P)&&t.emit("viewport");var O=o.style;if(O&&O.length>0&&a){for(var N=0;N<O.length;N++){var B=O[N],F=B.name,U=B,V=o.startStyle[F],_=f.properties[V.name],q=Kn(V,U,w,m,_);f.overrideBypass(t,F,q)}t.emit("style")}}return o.progress=w,w}function Ba(t,e){return t==null||e==null?!1:Pe(t)&&Pe(e)?!0:!!(t&&e)}function cm(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function il(t,e){var r=e._private.aniEles,n=[];function a(f,c){var p=f._private,v=p.animation.current,g=p.animation.queue,m=!1;if(v.length===0){var w=g.shift();w&&v.push(w)}for(var b=function(M){for(var d=M.length-1;d>=0;d--){var A=M[d];A()}M.splice(0,M.length)},E=v.length-1;E>=0;E--){var x=v[E],S=x._private;if(S.stopped){v.splice(E,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.frames);continue}!S.playing&&!S.applying||(S.playing&&S.applying&&(S.applying=!1),S.started||cm(f,x,t),fm(f,x,t,c),S.applying&&(S.applying=!1),b(S.frames),S.step!=null&&S.step(t),x.completed()&&(v.splice(E,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.completes)),m=!0)}return!c&&v.length===0&&g.length===0&&n.push(f),m}for(var i=!1,o=0;o<r.length;o++){var s=r[o],u=a(s);i=i||u}var l=a(e,!0);(i||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var hm={animate:dt.animate(),animation:dt.animation(),animated:dt.animated(),clearQueue:dt.clearQueue(),delay:dt.delay(),delayAnimation:dt.delayAnimation(),stop:dt.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&eo(function(i){il(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){il(o,e)},n.beforeRenderPriorities.animations):r()}},dm={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&oi(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},ki=function(e){return _e(e)?new gn(e):e},Wf={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new xo(dm,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,ki(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,ki(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,ki(r),n),this},once:function(e,r,n){return this.emitter().one(e,ki(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};dt.eventAliasesOn(Wf);var gs={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};gs.jpeg=gs.jpg;var Wi={layout:function(e){var r=this;if(e==null){Tt("Layout options must be specified to make a layout");return}if(e.name==null){Tt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){Tt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;_e(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(Ye({},e,{cy:r,eles:i}));return o}};Wi.createLayout=Wi.makeLayout=Wi.layout;var vm={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],s=r.getElementById(i);s.data(o)}})}},gm=Gt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),ps={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Tt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&vt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=gm(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ps.invalidateDimensions=ps.resize;var Yi={collection:function(e,r){return _e(e)?this.$(e):mr(e)?e.collection():mt(e)?(r||(r={}),new Yt(this,e,r.unique,r.removed)):new Yt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Yi.elements=Yi.filter=Yi.$;var tr={},qa="t",pm="f";tr.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],s=e.getContextMeta(o);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,o);o._private.appliedInitStyle?e.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var f=e.updateStyleHints(o);f&&a.push(o)}}return a};tr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],s={},u=0;u<r.length;u++){var l=r[u],f=t[u]===qa,c=e[u]===qa,p=f!==c,v=l.mappedProperties.length>0;if(p||c&&v){var g=void 0;p&&v||p?g=l.properties:v&&(g=l.mappedProperties);for(var m=0;m<g.length;m++){for(var w=g[m],b=w.name,E=!1,x=u+1;x<r.length;x++){var S=r[x],L=e[x]===qa;if(L&&(E=S.properties[w.name]!=null,E))break}!s[b]&&!E&&(s[b]=!0,o.push(b))}}}return n[a]=o,o};tr.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],s=o.selector&&o.selector.matches(t);s?r+=qa:r+=pm}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};tr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],s=e[i]===qa;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];a[l.name]=l}}return n[e]=a,a};tr.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var u=a[s],l=e[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var c=f.mapping,p=c.fnValue=l.value(r);if(p===c.prevFnValue)continue}var v=i[u]={prev:f};n.applyParsedProperty(r,l),v.next=r.pstyle(u),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:i}};tr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(se,me,Ae){return r.getPropertiesHash(se,me,Ae)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var f=a[l];e.styleKeys[f]=[Jn,Ua]}for(var c=function(se,me){return e.styleKeys[me][0]=Ka(se,e.styleKeys[me][0])},p=function(se,me){return e.styleKeys[me][1]=Za(se,e.styleKeys[me][1])},v=function(se,me){c(se,me),p(se,me)},g=function(se,me){for(var Ae=0;Ae<se.length;Ae++){var Be=se.charCodeAt(Ae);c(Be,me),p(Be,me)}},m=2e9,w=function(se){return-128<se&&se<128&&Math.floor(se)!==se?m-(se*1024|0):se},b=0;b<n.length;b++){var E=n[b],x=u[E];if(x!=null){var S=this.properties[E],L=S.type,M=S.groupKey,d=void 0;S.hashOverride!=null?d=S.hashOverride(t,x):x.pfValue!=null&&(d=x.pfValue);var A=S.enums==null?x.value:null,D=d!=null,P=A!=null,O=D||P,N=x.units;if(L.number&&O&&!L.multiple){var B=D?d:A;v(w(B),M),!D&&N!=null&&g(N,M)}else g(x.strValue,M)}}for(var F=[Jn,Ua],U=0;U<a.length;U++){var V=a[U],_=e.styleKeys[V];F[0]=Ka(_[0],F[0]),F[1]=Za(_[1],F[1])}e.styleKey=Td(F[0],F[1]);var q=e.styleKeys;e.labelDimsKey=an(q.labelDimensions);var Y=i(t,["label"],q.labelDimensions);if(e.labelKey=an(Y),e.labelStyleKey=an(Si(q.commonLabel,Y)),!s){var Q=i(t,["source-label"],q.labelDimensions);e.sourceLabelKey=an(Q),e.sourceLabelStyleKey=an(Si(q.commonLabel,Q));var $=i(t,["target-label"],q.labelDimensions);e.targetLabelKey=an($),e.targetLabelStyleKey=an(Si(q.commonLabel,$))}if(s){var K=e.styleKeys,ie=K.nodeBody,ue=K.nodeBorder,fe=K.nodeOutline,he=K.backgroundImage,ye=K.compound,be=K.pie,te=[ie,ue,fe,he,ye,be].filter(function(j){return j!=null}).reduce(Si,[Jn,Ua]);e.nodeKey=an(te),e.hasPie=be!=null&&be[0]!==Jn&&be[1]!==Ua}return o!==e.styleKey};tr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};tr.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,s=r.properties[n.name].type,u=n.bypass,l=a[n.name],f=l&&l.bypass,c=t._private,p="mapping",v=function(ie){return ie==null?null:ie.pfValue!=null?ie.pfValue:ie.value},g=function(){var ie=v(l),ue=v(n);r.checkTriggers(t,n.name,ie,ue)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,g(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,g(),!0):!1:(g(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,g(),!0):!1:(g(),!0);var m=function(){vt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var w=n.field.split("."),b=c.data,E=0;E<w.length&&b;E++){var x=w[E];b=b[x]}if(b==null)return m(),!1;var S;if(Pe(b)){var L=n.fieldMax-n.fieldMin;L===0?S=0:S=(b-n.fieldMin)/L}else return vt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(S<0?S=0:S>1&&(S=1),s.color){var M=n.valueMin[0],d=n.valueMax[0],A=n.valueMin[1],D=n.valueMax[1],P=n.valueMin[2],O=n.valueMax[2],N=n.valueMin[3]==null?1:n.valueMin[3],B=n.valueMax[3]==null?1:n.valueMax[3],F=[Math.round(M+(d-M)*S),Math.round(A+(D-A)*S),Math.round(P+(O-P)*S),Math.round(N+(B-N)*S)];i={bypass:n.bypass,name:n.name,value:F,strValue:"rgb("+F[0]+", "+F[1]+", "+F[2]+")"}}else if(s.number){var U=n.valueMin+(n.valueMax-n.valueMin)*S;i=this.parse(n.name,U,n.bypass,p)}else return!1;if(!i)return m(),!1;i.mapping=n,n=i;break}case o.data:{for(var V=n.field.split("."),_=c.data,q=0;q<V.length&&_;q++){var Y=V[q];_=_[Y]}if(_!=null&&(i=this.parse(n.name,_,n.bypass,p)),!i)return m(),!1;i.mapping=n,n=i;break}case o.fn:{var Q=n.value,$=n.fnValue!=null?n.fnValue:Q(t);if(n.prevFnValue=$,$==null)return vt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,$,n.bypass,p),!i)return vt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Ur(n),n=i;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,g(),!0};tr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],u=a[s];u!=null&&(u.bypass?u.bypassed=null:a[s]=null)}}};tr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};tr.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},u=!1,l=0;l<a.length;l++){var f=a[l],c=t.pstyle(f),p=e[f];if(p){var v=p.prev,g=v,m=p.next!=null?p.next:c,w=!1,b=void 0,E=1e-6;g&&(Pe(g.pfValue)&&Pe(m.pfValue)?(w=m.pfValue-g.pfValue,b=g.pfValue+E*w):Pe(g.value)&&Pe(m.value)?(w=m.value-g.value,b=g.value+E*w):mt(g.value)&&mt(m.value)&&(w=g.value[0]!==m.value[0]||g.value[1]!==m.value[1]||g.value[2]!==m.value[2],b=g.strValue),w&&(s[f]=m.strValue,this.applyBypass(t,f,b),u=!0))}}if(!u)return;n.transitioning=!0,new ca(function(x){o>0?t.delayAnimation(o).play().promise().then(x):x()}).then(function(){return t.animation({style:s,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};tr.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],s=a(o);s!=null&&s(r,n)&&i(o)};tr.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};tr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};tr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ci={};ci.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var u=a.properties[s],l=u.name,f=this.parse(l,r,!0);f&&i.push(f)}}else if(_e(e)){var c=this.parse(e,r,!0);c&&i.push(c)}else if(ft(e)){var p=e;n=r;for(var v=Object.keys(p),g=0;g<v.length;g++){var m=v[g],w=p[m];if(w===void 0&&(w=p[co(m)]),w!==void 0){var b=this.parse(m,w,!0);b&&i.push(b)}}}else return!1;if(i.length===0)return!1;for(var E=!1,x=0;x<t.length;x++){for(var S=t[x],L={},M=void 0,d=0;d<i.length;d++){var A=i[d];if(n){var D=S.pstyle(A.name);M=L[A.name]={prev:D}}E=this.applyParsedProperty(S,Ur(A))||E,n&&(M.next=S.pstyle(A.name))}E&&this.updateStyleHints(S),n&&this.updateTransitions(S,L,o)}return E};ci.overrideBypass=function(t,e,r){e=Ls(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,s=o.color,u=o.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};ci.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ci.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],f=i.pstyle(l.name);if(!(!f||!f.bypass)){var c="",p=this.parse(u,c,!0),v=o[l.name]={prev:f};this.applyParsedProperty(i,p),v.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var Hs={};Hs.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Hs.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Hr={};Hr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Hr.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[co(i.name)]=o)}return n}};Hr.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Hr.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(r&&i.number&&s!=null&&Pe(s)){var f=t.cy().zoom(),c=function(w){return w*f},p=function(w,b){return c(w)+b},v=mt(s),g=v?u.every(function(m){return m!=null}):u!=null;return g?v?s.map(function(m,w){return p(m,u[w])}).join(" "):p(s,u):v?s.map(function(m){return _e(m)?m:""+c(m)}).join(" "):""+c(s)}else if(l!=null)return l}return null}};Hr.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(ft(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Hr.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],u=n[s],l=a[s]||a[Ls(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};Hr.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,s,u,l;for(u=0;u<e.length;u++)if(a=e[u],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Ka(s,n[0]),n[1]=Za(s,n[1]);else for(o=i.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=Ka(s,n[0]),n[1]=Za(s,n[1]);return n};Hr.getPropertiesHash=Hr.getNonDefaultPropertiesHash;var Co={};Co.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var s=0;s<o.length;s++){var u=o[s],l=i[u];e.css(u,l)}}return e};Co.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Co.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var _s={};_s.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){vt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var c=f[1];if(c!=="core"){var p=new gn(c);if(p.invalid){vt("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();continue}}var v=f[2],g=!1;i=v;for(var m=[];;){var w=i.match(/^\s*$/);if(w)break;var b=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){vt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),g=!0;break}o=b[0];var E=b[1],x=b[2],S=e.properties[E];if(!S){vt("Skipping property: Invalid property name in: "+o),u();continue}var L=r.parse(E,x);if(!L){vt("Skipping property: Invalid property definition in: "+o),u();continue}m.push({name:E,val:x}),u()}if(g){s();break}r.selector(c);for(var M=0;M<m.length;M++){var d=m[M];r.css(d.name,d.val)}s()}return r};_s.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var _t={};(function(){var t=It,e=Ah,r=Rh,n=Ph,a=Mh,i=function(te){return"^"+te+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(te){var j=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+te+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+j+")\\s*\\,\\s*("+j+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];_t.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(te,j){switch(te.length){case 2:return j[0]!=="deg"&&j[0]!=="rad"&&j[1]!=="deg"&&j[1]!=="rad";case 1:return _e(te[0])||j[0]==="deg"||j[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(te){var j=te.length;return j===1||j===2||j===4}}};var u={zeroNonZero:function(te,j){return(te==null||j==null)&&te!==j||te==0&&j!=0?!0:te!=0&&j==0},any:function(te,j){return te!=j},emptyNonEmpty:function(te,j){var se=hn(te),me=hn(j);return se&&!me||!se&&me}},l=_t.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],c=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],p=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],g=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],E=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],x=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],S=function(te,j){return j.value==="label"?-te.poolIndex():j.pfValue},L=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],M=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],d=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],A=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],D=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],P=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],O=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],N=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],B=[];_t.pieBackgroundN=16,B.push({name:"pie-size",type:l.sizeMaybePercent});for(var F=1;F<=_t.pieBackgroundN;F++)B.push({name:"pie-"+F+"-background-color",type:l.color}),B.push({name:"pie-"+F+"-background-size",type:l.percent}),B.push({name:"pie-"+F+"-background-opacity",type:l.zeroOneNumber});var U=[],V=_t.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(be){V.forEach(function(te){var j=te+"-"+be.name,se=be.type,me=be.triggersBounds;U.push({name:j,type:se,triggersBounds:me})})},{});var _=_t.properties=[].concat(m,x,w,b,E,O,g,v,f,c,p,L,M,d,A,B,D,P,U,N),q=_t.propertyGroups={behavior:m,transition:x,visibility:w,overlay:b,underlay:E,ghost:O,commonLabel:g,labelDimensions:v,mainLabel:f,sourceLabel:c,targetLabel:p,nodeBody:L,nodeBorder:M,nodeOutline:d,backgroundImage:A,pie:B,compound:D,edgeLine:P,edgeArrow:U,core:N},Y=_t.propertyGroupNames={},Q=_t.propertyGroupKeys=Object.keys(q);Q.forEach(function(be){Y[be]=q[be].map(function(te){return te.name}),q[be].forEach(function(te){return te.groupKey=be})});var $=_t.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];_t.propertyNames=_.map(function(be){return be.name});for(var K=0;K<_.length;K++){var ie=_[K];_[ie.name]=ie}for(var ue=0;ue<$.length;ue++){var fe=$[ue],he=_[fe.pointsTo],ye={name:fe.name,alias:!0,pointsTo:he};_.push(ye),_[fe.name]=ye}})();_t.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};_t.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ye({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=_t.pieBackgroundN;f++){var c=l.name.replace("{{i}}",f),p=l.value;u[c]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return _t.arrowPrefixes.forEach(function(f){var c=f+"-"+l.name,p=l.value;u[c]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],s=this.parse(i,o);r[i]=s}}return t.defaultProperties=r,t.defaultProperties};_t.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Do={};Do.parse=function(t,e,r,n){var a=this;if(Ct(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+e,u=Jl(t,s,o,i),l=a.propCache=a.propCache||[],f;return(f=l[u])||(f=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=Ur(f),f&&(f.value=Ur(f.value))),f};Do.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&vt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&vt("The style value of `label` is deprecated for `"+a.name+"`"),a};Do.parseImpl=function(t,e,r,n){var a=this;t=Ls(t);var i=a.properties[t],o=e,s=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var u=_e(e);u&&(e=e.trim());var l=i.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var f,c;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(c=new RegExp(s.mapData.regex).exec(e))){if(r||l.multiple)return!1;var v=s.mapData;if(!(l.color||l.number))return!1;var g=this.parse(t,c[4]);if(!g||g.mapped)return!1;var m=this.parse(t,c[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return vt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(l.color){var w=g.value,b=m.value,E=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(E)return!1}return{name:t,value:c,strValue:""+e,mapped:v,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:g.value,valueMax:m.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var x;if(u?x=e.split(/\s+/):mt(e)?x=e:x=[e],l.evenMultiple&&x.length%2!==0)return null;for(var S=[],L=[],M=[],d="",A=!1,D=0;D<x.length;D++){var P=a.parse(t,x[D],r,"multiple");A=A||_e(P.value),S.push(P.value),M.push(P.pfValue!=null?P.pfValue:P.value),L.push(P.units),d+=(D>0?" ":"")+P.strValue}return l.validate&&!l.validate(S,L)?null:l.singleEnum&&A?S.length===1&&_e(S[0])?{name:t,value:S[0],strValue:S[0],bypass:r}:null:{name:t,value:S,pfValue:M,strValue:d,bypass:r,units:L}}var O=function(){for(var te=0;te<l.enums.length;te++){var j=l.enums[te];if(j===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var N,B="px";if(l.units&&(N=l.units),l.implicitUnits&&(B=l.implicitUnits),!l.unitless)if(u){var F="px|em"+(l.allowPercent?"|\\%":"");N&&(F=N);var U=e.match("^("+It+")("+F+")?$");U&&(e=U[1],N=U[2]||B)}else(!N||l.implicitUnits)&&(N=B);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=o,O();if(l.integer&&!wh(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var V={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:r};return l.unitless||N!=="px"&&N!=="em"?V.pfValue=e:V.pfValue=N==="px"||!N?e:this.getEmSizeInPixels()*e,(N==="ms"||N==="s")&&(V.pfValue=N==="ms"?e:1e3*e),(N==="deg"||N==="rad")&&(V.pfValue=N==="rad"?e:Jd(e)),N==="%"&&(V.pfValue=e/100),V}else if(l.propList){var _=[],q=""+e;if(q!=="none"){for(var Y=q.split(/\s*,\s*|\s+/),Q=0;Q<Y.length;Q++){var $=Y[Q].trim();a.properties[$]?_.push($):vt("`"+$+"` is not a valid property name")}if(_.length===0)return null}return{name:t,value:_,strValue:_.length===0?"none":_.join(" "),bypass:r}}else if(l.color){var K=Wl(e);return K?{name:t,value:K,pfValue:K,strValue:"rgb("+K[0]+","+K[1]+","+K[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var ie=O();if(ie)return ie}for(var ue=l.regexes?l.regexes:[l.regex],fe=0;fe<ue.length;fe++){var he=new RegExp(ue[fe]),ye=he.exec(e);if(ye)return{name:t,value:l.singleRegexMatchValue?ye[1]:ye,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?O():null};var jt=function t(e){if(!(this instanceof t))return new t(e);if(!As(e)){Tt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},er=jt.prototype;er.instanceString=function(){return"style"};er.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};er.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};er.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};er.selector=function(t){var e=t==="core"?null:new gn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};er.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[co(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};er.style=er.css;er.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};er.append=function(t){return Hl(t)?t.appendToStyle(this):mt(t)?this.appendFromJson(t):_e(t)&&this.appendFromString(t),this};jt.fromJson=function(t,e){var r=new jt(t);return r.fromJson(e),r};jt.fromString=function(t,e){return new jt(t).fromString(e)};[tr,ci,Hs,Hr,Co,_s,_t,Do].forEach(function(t){Ye(er,t)});jt.types=er.types;jt.properties=er.properties;jt.propertyGroups=er.propertyGroups;jt.propertyGroupNames=er.propertyGroupNames;jt.propertyGroupKeys=er.propertyGroupKeys;var ym={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Hl(e)?r.style=e.generateStyle(this):mt(e)?r.style=jt.fromJson(this,e):_e(e)?r.style=jt.fromString(this,e):r.style=jt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},mm="single",zn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=mm),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,s;switch(e.length){case 0:return r;case 1:if(_e(e[0]))return n=e[0],r[n];if(ft(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,s=i.y,Pe(o)&&(r.x=o),Pe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Pe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ft(e)&&(s=n[0],u=s.x,l=s.y,Pe(u)&&(a.x+=u),Pe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&Pe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Pe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(_e(e)){var a=e;e=this.$(a)}else if(Th(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else mr(e)||(e=this.mutableElements());if(!(mr(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),u;if(r=Pe(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Pe(e)&&Pe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Pe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Pe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),Pe(e)?o=e:ft(e)&&(o=e.level,e.position!=null?i=go(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!Pe(o)||o===a||i!=null&&(!Pe(i.x)||!Pe(i.y)))return null;if(i!=null){var u=n,l=a,f=o,c={x:-f/l*(i.x-u.x)+i.x,y:-f/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:c}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!e)return this;if(Pe(e.zoom)||(n=!1),ft(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;Pe(l.x)&&(r.pan.x=l.x,s=!1),Pe(l.y)&&(r.pan.y=l.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(_e(e)){var n=e;e=this.mutableElements().filter(n)}else mr(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};zn.centre=zn.center;zn.autolockNodes=zn.autolock;zn.autoungrabifyNodes=zn.autoungrabify;var ni={data:dt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:dt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:dt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:dt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ni.attr=ni.data;ni.removeAttr=ni.removeData;var ai=function(e){var r=this;e=Ye({},e);var n=e.container;n&&!Ji(n)&&Ji(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=Mt!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=Ye({name:o?"grid":"null"},s.layout),s.renderer=Ye({name:o?"canvas":"null"},s.renderer);var u=function(g,m,w){return m!==void 0?m:w!==void 0?w:g},l=this._private={container:n,ready:!1,options:s,elements:new Yt(this),listeners:[],aniEles:new Yt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Pe(s.zoom)?s.zoom:1,pan:{x:ft(s.pan)&&Pe(s.pan.x)?s.pan.x:0,y:ft(s.pan)&&Pe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(g,m){var w=g.some(Ch);if(w)return ca.all(g).then(m);m(g)};l.styleEnabled&&r.setStyle([]);var c=Ye({},s,s.renderer);r.initRenderer(c);var p=function(g,m,w){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),g!=null&&(ft(g)||mt(g))&&r.add(g),r.one("layoutready",function(x){r.notifications(!0),r.emit(x),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var E=Ye({},r._private.options.layout);E.eles=r.elements(),r.layout(E).run()};f([s.style,s.elements],function(v){var g=v[0],m=v[1];l.styleEnabled&&r.style().append(g),p(m,function(){r.startAnimationLoop(),l.ready=!0,Ct(s.ready)&&r.on("ready",s.ready);for(var w=0;w<i.length;w++){var b=i[w];r.on("ready",b)}a&&(a.readies=[]),r.emit("ready")},s.done)})},oo=ai.prototype;Ye(oo,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Mt;var r=this._private.container.ownerDocument;return r===void 0||r==null?Mt:r.defaultView||Mt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Ji(e)&&Ji(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ye({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ur(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(S){return r.getElementById(S.id())};if(ft(e)){if(r.startBatch(),e.elements){var o={},s=function(S,L){for(var M=[],d=[],A=0;A<S.length;A++){var D=S[A];if(!D.data.id){vt("cy.json() cannot handle elements without an ID attribute");continue}var P=""+D.data.id,O=r.getElementById(P);o[P]=!0,O.length!==0?d.push({ele:O,json:D}):(L&&(D.group=L),M.push(D))}r.add(M);for(var N=0;N<d.length;N++){var B=d[N],F=B.ele,U=B.json;F.json(U)}};if(mt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],c=e.elements[f];mt(c)&&s(c,f)}var p=r.collection();a.filter(function(x){return!o[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return i(x).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<v.length;g++){var m=v[g];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},a.forEach(function(x){var S=x.group();b.elements[S]||(b.elements[S]=[]),b.elements[S].push(x.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Ur(r.data());var E=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Ur(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Ur(E.renderer),b.hideEdgesOnViewport=E.hideEdgesOnViewport,b.textureOnViewport=E.textureOnViewport,b.wheelSensitivity=E.wheelSensitivity,b.motionBlur=E.motionBlur,b.multiClickDebounceTime=E.multiClickDebounceTime,b}}});oo.$id=oo.getElementById;[sm,hm,Wf,gs,Wi,vm,ps,Yi,ym,zn,ni].forEach(function(t){Ye(oo,t)});var bm={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},wm={maximal:!1,acyclic:!1},Zn=function(e){return e.scratch("breadthfirst")},ol=function(e,r){return e.scratch("breadthfirst",r)};function Yf(t){this.options=Ye({},bm,wm,t)}Yf.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(we){return we.isChildless()}),a=r,i=t.directed,o=t.acyclic||t.maximal||t.maximalAdjustments>0,s=!!t.boundingBox,u=e.extent(),l=hr(s?t.boundingBox:{x1:u.x1,y1:u.y1,w:u.w,h:u.h}),f;if(mr(t.roots))f=t.roots;else if(mt(t.roots)){for(var c=[],p=0;p<t.roots.length;p++){var v=t.roots[p],g=e.getElementById(v);c.push(g)}f=e.collection(c)}else if(_e(t.roots))f=e.$(t.roots);else if(i)f=n.roots();else{var m=r.components();f=e.collection();for(var w=function(Te){var Oe=m[Te],Fe=Oe.maxDegree(!1),Me=Oe.filter(function(Ie){return Ie.degree(!1)===Fe});f=f.add(Me)},b=0;b<m.length;b++)w(b)}var E=[],x={},S=function(Te,Oe){E[Oe]==null&&(E[Oe]=[]);var Fe=E[Oe].length;E[Oe].push(Te),ol(Te,{index:Fe,depth:Oe})},L=function(Te,Oe){var Fe=Zn(Te),Me=Fe.depth,Ie=Fe.index;E[Me][Ie]=null,Te.isChildless()&&S(Te,Oe)};a.bfs({roots:f,directed:t.directed,visit:function(Te,Oe,Fe,Me,Ie){var Xe=Te[0],xe=Xe.id();Xe.isChildless()&&S(Xe,Ie),x[xe]=!0}});for(var M=[],d=0;d<n.length;d++){var A=n[d];x[A.id()]||M.push(A)}var D=function(Te){for(var Oe=E[Te],Fe=0;Fe<Oe.length;Fe++){var Me=Oe[Fe];if(Me==null){Oe.splice(Fe,1),Fe--;continue}ol(Me,{depth:Te,index:Fe})}},P=function(Te,Oe){for(var Fe=Zn(Te),Me=Te.incomers().filter(function(ce){return ce.isNode()&&r.has(ce)}),Ie=-1,Xe=Te.id(),xe=0;xe<Me.length;xe++){var de=Me[xe],z=Zn(de);Ie=Math.max(Ie,z.depth)}if(Fe.depth<=Ie){if(!t.acyclic&&Oe[Xe])return null;var J=Ie+1;return L(Te,J),Oe[Xe]=J,!0}return!1};if(i&&o){var O=[],N={},B=function(Te){return O.push(Te)},F=function(){return O.shift()};for(n.forEach(function(we){return O.push(we)});O.length>0;){var U=F(),V=P(U,N);if(V)U.outgoers().filter(function(we){return we.isNode()&&r.has(we)}).forEach(B);else if(V===null){vt("Detected double maximal shift for node `"+U.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var _=0;if(t.avoidOverlap)for(var q=0;q<n.length;q++){var Y=n[q],Q=Y.layoutDimensions(t),$=Q.w,K=Q.h;_=Math.max(_,$,K)}var ie={},ue=function(Te){if(ie[Te.id()])return ie[Te.id()];for(var Oe=Zn(Te).depth,Fe=Te.neighborhood(),Me=0,Ie=0,Xe=0;Xe<Fe.length;Xe++){var xe=Fe[Xe];if(!(xe.isEdge()||xe.isParent()||!n.has(xe))){var de=Zn(xe);if(de!=null){var z=de.index,J=de.depth;if(!(z==null||J==null)){var ce=E[J].length;J<Oe&&(Me+=z/ce,Ie++)}}}}return Ie=Math.max(1,Ie),Me=Me/Ie,Ie===0&&(Me=0),ie[Te.id()]=Me,Me},fe=function(Te,Oe){var Fe=ue(Te),Me=ue(Oe),Ie=Fe-Me;return Ie===0?ql(Te.id(),Oe.id()):Ie};t.depthSort!==void 0&&(fe=t.depthSort);for(var he=E.length,ye=0;ye<he;ye++)E[ye].sort(fe),D(ye);for(var be=[],te=0;te<M.length;te++)be.push(M[te]);var j=function(){for(var Te=0;Te<he;Te++)D(Te)};be.length&&(E.unshift(be),he=E.length,j());for(var se=0,me=0;me<he;me++)se=Math.max(E[me].length,se);var Ae={x:l.x1+l.w/2,y:l.y1+l.h/2},Be=n.reduce(function(we,Te){return function(Oe){return{w:we.w===-1?Oe.w:(we.w+Oe.w)/2,h:we.h===-1?Oe.h:(we.h+Oe.h)/2}}(Te.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Re=Math.max(he===1?0:s?(l.h-t.padding*2-Be.h)/(he-1):(l.h-t.padding*2-Be.h)/(he+1),_),Le=E.reduce(function(we,Te){return Math.max(we,Te.length)},0),Ue=function(Te){var Oe=Zn(Te),Fe=Oe.depth,Me=Oe.index;if(t.circle){var Ie=Math.min(l.w/2/he,l.h/2/he);Ie=Math.max(Ie,_);var Xe=Ie*Fe+Ie-(he>0&&E[0].length<=3?Ie/2:0),xe=2*Math.PI/E[Fe].length*Me;return Fe===0&&E[0].length===1&&(Xe=1),{x:Ae.x+Xe*Math.cos(xe),y:Ae.y+Xe*Math.sin(xe)}}else{var de=E[Fe].length,z=Math.max(de===1?0:s?(l.w-t.padding*2-Be.w)/((t.grid?Le:de)-1):(l.w-t.padding*2-Be.w)/((t.grid?Le:de)+1),_),J={x:Ae.x+(Me+1-(de+1)/2)*z,y:Ae.y+(Fe+1-(he+1)/2)*Re};return J}};return r.nodes().layoutPositions(this,t,Ue),this};var xm={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Xf(t){this.options=Ye({},xm,t)}Xf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=hr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,l=u/Math.max(1,i.length-1),f,c=0,p=0;p<i.length;p++){var v=i[p],g=v.layoutDimensions(e),m=g.w,w=g.h;c=Math.max(c,m,w)}if(Pe(e.radius)?f=e.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-c,i.length>1&&e.avoidOverlap){c*=1.75;var b=Math.cos(l)-Math.cos(0),E=Math.sin(l)-Math.sin(0),x=Math.sqrt(c*c/(b*b+E*E));f=Math.max(x,f)}var S=function(M,d){var A=e.startAngle+d*l*(a?1:-1),D=f*Math.cos(A),P=f*Math.sin(A),O={x:s.x+D,y:s.y+P};return O};return n.nodes().layoutPositions(this,e,S),this};var Em={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function $f(t){this.options=Ye({},Em,t)}$f.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=hr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,f=0;f<i.length;f++){var c=i[f],p=void 0;p=e.concentric(c),u.push({value:p,node:c}),c._private.scratch.concentric=p}i.updateStyle();for(var v=0;v<i.length;v++){var g=i[v],m=g.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(Be,Re){return Re.value-Be.value});for(var w=e.levelWidth(i),b=[[]],E=b[0],x=0;x<u.length;x++){var S=u[x];if(E.length>0){var L=Math.abs(E[0].value-S.value);L>=w&&(E=[],b.push(E))}E.push(S)}var M=l+e.minNodeSpacing;if(!e.avoidOverlap){var d=b.length>0&&b[0].length>1,A=Math.min(o.w,o.h)/2-M,D=A/(b.length+d?1:0);M=Math.min(M,D)}for(var P=0,O=0;O<b.length;O++){var N=b[O],B=e.sweep===void 0?2*Math.PI-2*Math.PI/N.length:e.sweep,F=N.dTheta=B/Math.max(1,N.length-1);if(N.length>1&&e.avoidOverlap){var U=Math.cos(F)-Math.cos(0),V=Math.sin(F)-Math.sin(0),_=Math.sqrt(M*M/(U*U+V*V));P=Math.max(_,P)}N.r=P,P+=M}if(e.equidistant){for(var q=0,Y=0,Q=0;Q<b.length;Q++){var $=b[Q],K=$.r-Y;q=Math.max(q,K)}Y=0;for(var ie=0;ie<b.length;ie++){var ue=b[ie];ie===0&&(Y=ue.r),ue.r=Y,Y+=q}}for(var fe={},he=0;he<b.length;he++)for(var ye=b[he],be=ye.dTheta,te=ye.r,j=0;j<ye.length;j++){var se=ye[j],me=e.startAngle+(r?1:-1)*be*j,Ae={x:s.x+te*Math.cos(me),y:s.y+te*Math.sin(me)};fe[se.node.id()]=Ae}return a.nodes().layoutPositions(this,e,function(Be){var Re=Be.id();return fe[Re]}),this};var ts,Tm={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function So(t){this.options=Ye({},Tm,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=e.some(function(l){return l.data("id")===i}),u=e.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}So.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?ts=!0:ts=!1;var n=Cm(e,r,t);ts&&Am(n),t.randomize&&Lm(n);var a=$r(),i=function(){Rm(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(p){return!(r.stopped||p>=t.numIter||(Pm(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),v=Kf(n,t,p);p.layoutPositions(r,t,v)}},u=0,l=!0;if(t.animate===!0){var f=function c(){for(var p=0;l&&p<t.refresh;)l=o(u),u++,p++;if(!l)ul(n,t),s();else{var v=$r();v-a>=t.animationThreshold&&i(),eo(c)}};f()}else{for(;l;)l=o(u),u++;ul(n,t),s()}return this};So.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};So.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Cm=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=hr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var c=u[f],p=0;p<c.length;p++){var v=c[p];l[v.id()]=f}for(var f=0;f<s.nodeSize;f++){var g=i[f],m=g.layoutDimensions(n),w={};w.isLocked=g.locked(),w.id=g.data("id"),w.parentId=g.data("parent"),w.cmptId=l[g.id()],w.children=[],w.positionX=g.position("x"),w.positionY=g.position("y"),w.offsetX=0,w.offsetY=0,w.height=m.w,w.width=m.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(g.style("padding")),w.padRight=parseFloat(g.style("padding")),w.padTop=parseFloat(g.style("padding")),w.padBottom=parseFloat(g.style("padding")),w.nodeRepulsion=Ct(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=f}for(var b=[],E=0,x=-1,S=[],f=0;f<s.nodeSize;f++){var g=s.layoutNodes[f],L=g.parentId;L!=null?s.layoutNodes[s.idToIndex[L]].children.push(g.id):(b[++x]=g.id,S.push(g.id))}for(s.graphSet.push(S);E<=x;){var M=b[E++],d=s.idToIndex[M],v=s.layoutNodes[d],A=v.children;if(A.length>0){s.graphSet.push(A);for(var f=0;f<A.length;f++)b[++x]=A[f]}}for(var f=0;f<s.graphSet.length;f++)for(var D=s.graphSet[f],p=0;p<D.length;p++){var P=s.idToIndex[D[p]];s.indexToGraph[P]=f}for(var f=0;f<s.edgeSize;f++){var O=a[f],N={};N.id=O.data("id"),N.sourceId=O.data("source"),N.targetId=O.data("target");var B=Ct(n.idealEdgeLength)?n.idealEdgeLength(O):n.idealEdgeLength,F=Ct(n.edgeElasticity)?n.edgeElasticity(O):n.edgeElasticity,U=s.idToIndex[N.sourceId],V=s.idToIndex[N.targetId],_=s.indexToGraph[U],q=s.indexToGraph[V];if(_!=q){for(var Y=Dm(N.sourceId,N.targetId,s),Q=s.graphSet[Y],$=0,w=s.layoutNodes[U];Q.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],$++;for(w=s.layoutNodes[V];Q.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],$++;B*=$*n.nestingFactor}N.idealLength=B,N.elasticity=F,s.layoutEdges.push(N)}return s},Dm=function(e,r,n){var a=Sm(e,r,0,n);return 2>a.count?0:a.graph},Sm=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var u=i[s],l=a.idToIndex[u],f=a.layoutNodes[l].children;if(f.length!==0){var c=a.indexToGraph[a.idToIndex[f[0]]],p=t(e,r,c,a);if(p.count!==0)if(p.count===1){if(o++,o===2)break}else return p}}return{count:o,graph:n}},Am,Lm=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},Kf=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var u=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,f=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},Rm=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=Kf(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},Pm=function(e,r,n){Mm(e,r),Nm(e),km(e,r),Bm(e),Fm(e)},Mm=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[a[o]]],u=o+1;u<i;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];Im(s,l,e,r)}},sl=function(e){return-1+2*e*Math.random()},Im=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;s===0&&u===0&&(s=sl(l),u=sl(l));var f=Om(e,r,s,u);if(f>0)var c=a.nodeOverlap*f,p=Math.sqrt(s*s+u*u),v=c*s/p,g=c*u/p;else var m=so(e,s,u),w=so(r,-1*s,-1*u),b=w.x-m.x,E=w.y-m.y,x=b*b+E*E,p=Math.sqrt(x),c=(e.nodeRepulsion+r.nodeRepulsion)/x,v=c*b/p,g=c*E/p;e.isLocked||(e.offsetX-=v,e.offsetY-=g),r.isLocked||(r.offsetX+=v,r.offsetY+=g)}},Om=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},so=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,u=n/r,l=o/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=i+o/2,f):0<r&&-1*l<=u&&u<=l?(f.x=a+s/2,f.y=i+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=a-s/2,f.y=i-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=a+o*r/2/n,f.y=i+o/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=a-o*r/2/n,f.y=i-o/2),f)},Nm=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],s=e.idToIndex[a.targetId],u=e.layoutNodes[s],l=u.positionX-o.positionX,f=u.positionY-o.positionY;if(!(l===0&&f===0)){var c=so(o,l,f),p=so(u,-1*l,-1*f),v=p.x-c.x,g=p.y-c.y,m=Math.sqrt(v*v+g*g),w=Math.pow(a.idealLength-m,2)/a.elasticity;if(m!==0)var b=w*v/m,E=w*g/m;else var b=0,E=0;o.isLocked||(o.offsetX+=b,o.offsetY+=E),u.isLocked||(u.offsetX-=b,u.offsetY-=E)}}},km=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],f=e.layoutNodes[e.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var c=0;c<o;c++){var p=e.layoutNodes[e.idToIndex[i[c]]];if(!p.isLocked){var v=s-p.positionX,g=u-p.positionY,m=Math.sqrt(v*v+g*g);if(m>n){var w=r.gravity*v/m,b=r.gravity*g/m;p.offsetX+=w,p.offsetY+=b}}}}},Bm=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],s=e.idToIndex[o],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,c=u.offsetY,p=0;p<l.length;p++){var v=e.layoutNodes[e.idToIndex[l[p]]];v.offsetX+=f,v.offsetY+=c,n[++i]=l[p]}u.offsetX=0,u.offsetY=0}}},Fm=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=zm(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,Gm(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},zm=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},Gm=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},ul=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,u=a[s]=a[s]||[];u.push(o)}for(var l=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var c=0;c<f.length;c++){var p=f[c];f.x1=Math.min(f.x1,p.positionX-p.width/2),f.x2=Math.max(f.x2,p.positionX+p.width/2),f.y1=Math.min(f.y1,p.positionY-p.height/2),f.y2=Math.max(f.y2,p.positionY+p.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(E,x){return x.w*x.h-E.w*E.h});for(var v=0,g=0,m=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var c=0;c<f.length;c++){var p=f[c];p.isLocked||(p.positionX+=v-f.x1,p.positionY+=g-f.y1)}v+=f.w+r.componentSpacing,m+=f.w+r.componentSpacing,w=Math.max(w,f.h),m>b&&(g+=w+r.componentSpacing,v=0,m=0,w=0)}}},Um={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Zf(t){this.options=Ye({},Um,t)}Zf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=hr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(ie){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),u=Math.round(s),l=Math.round(i.w/i.h*s),f=function(ue){if(ue==null)return Math.min(u,l);var fe=Math.min(u,l);fe==u?u=ue:l=ue},c=function(ue){if(ue==null)return Math.max(u,l);var fe=Math.max(u,l);fe==u?u=ue:l=ue},p=e.rows,v=e.cols!=null?e.cols:e.columns;if(p!=null&&v!=null)u=p,l=v;else if(p!=null&&v==null)u=p,l=Math.ceil(o/u);else if(p==null&&v!=null)l=v,u=Math.ceil(o/l);else if(l*u>o){var g=f(),m=c();(g-1)*m>=o?f(g-1):(m-1)*g>=o&&c(m-1)}else for(;l*u<o;){var w=f(),b=c();(b+1)*w>=o?c(b+1):f(w+1)}var E=i.w/l,x=i.h/u;if(e.condense&&(E=0,x=0),e.avoidOverlap)for(var S=0;S<a.length;S++){var L=a[S],M=L._private.position;(M.x==null||M.y==null)&&(M.x=0,M.y=0);var d=L.layoutDimensions(e),A=e.avoidOverlapPadding,D=d.w+A,P=d.h+A;E=Math.max(E,D),x=Math.max(x,P)}for(var O={},N=function(ue,fe){return!!O["c-"+ue+"-"+fe]},B=function(ue,fe){O["c-"+ue+"-"+fe]=!0},F=0,U=0,V=function(){U++,U>=l&&(U=0,F++)},_={},q=0;q<a.length;q++){var Y=a[q],Q=e.position(Y);if(Q&&(Q.row!==void 0||Q.col!==void 0)){var $={row:Q.row,col:Q.col};if($.col===void 0)for($.col=0;N($.row,$.col);)$.col++;else if($.row===void 0)for($.row=0;N($.row,$.col);)$.row++;_[Y.id()]=$,B($.row,$.col)}}var K=function(ue,fe){var he,ye;if(ue.locked()||ue.isParent())return!1;var be=_[ue.id()];if(be)he=be.col*E+E/2+i.x1,ye=be.row*x+x/2+i.y1;else{for(;N(F,U);)V();he=U*E+E/2+i.x1,ye=F*x+x/2+i.y1,B(F,U),V()}return{x:he,y:ye}};a.layoutPositions(this,e,K)}return this};var Vm={ready:function(){},stop:function(){}};function qs(t){this.options=Ye({},Vm,t)}qs.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};qs.prototype.stop=function(){return this};var Hm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Qf(t){this.options=Ye({},Hm,t)}Qf.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ct(t.positions);function a(i){if(t.positions==null)return $d(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var _m={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function jf(t){this.options=Ye({},_m,t)}jf.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=hr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var qm=[{name:"breadthfirst",impl:Yf},{name:"circle",impl:Xf},{name:"concentric",impl:$f},{name:"cose",impl:So},{name:"grid",impl:Zf},{name:"null",impl:qs},{name:"preset",impl:Qf},{name:"random",impl:jf}];function Jf(t){this.options=t,this.notifications=0}var ll=function(){},fl=function(){throw new Error("A headless instance can not render images")};Jf.prototype={recalculateRenderedStyle:ll,notify:function(){this.notifications++},init:ll,isHeadless:function(){return!0},png:fl,jpg:fl};var Ws={};Ws.arrowShapeWidth=.3;Ws.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,f,c,p,v,g,m){var w=v.x-c/2-m,b=v.x+c/2+m,E=v.y-c/2-m,x=v.y+c/2+m,S=w<=l&&l<=b&&E<=f&&f<=x;return S},n=function(l,f,c,p,v){var g=l*Math.cos(p)-f*Math.sin(p),m=l*Math.sin(p)+f*Math.cos(p),w=g*c,b=m*c,E=w+v.x,x=b+v.y;return{x:E,y:x}},a=function(l,f,c,p){for(var v=[],g=0;g<l.length;g+=2){var m=l[g],w=l[g+1];v.push(n(m,w,f,c,p))}return v},i=function(l){for(var f=[],c=0;c<l.length;c++){var p=l[c];f.push(p.x,p.y)}return f},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){_e(f)&&(f=t[f]),t[l]=Ye({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,v,g,m,w,b){var E=i(a(this.points,g+2*b,m,w)),x=cr(p,v,E);return x},roughCollide:r,draw:function(p,v,g,m){var w=a(this.points,v,g,m);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:o},f)};s("none",{collide:to,roughCollide:to,draw:Ps,spacing:wu,gap:wu}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,c,p,v){var g=a(this.points,f,c,p),m=this.controlPoint,w=n(m[0],m[1],f,c,p);e.arrowShapeImpl(this.name)(l,g,w)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,c,p,v,g,m){var w=i(a(this.points,c+2*m,p,v)),b=i(a(this.pointsTee,c+2*m,p,v)),E=cr(l,f,w)||cr(l,f,b);return E},draw:function(l,f,c,p,v){var g=a(this.points,f,c,p),m=a(this.pointsTee,f,c,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,c,p,v,g,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((c+2*m)*this.radius,2),E=i(a(this.points,c+2*m,p,v));return cr(l,f,E)||b},draw:function(l,f,c,p,v){var g=a(this.pointsTr,f,c,p);e.arrowShapeImpl(this.name)(l,g,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var c=this.baseCrossLinePts.slice(),p=f/l,v=3,g=5;return c[v]=c[v]-p,c[g]=c[g]-p,c},collide:function(l,f,c,p,v,g,m){var w=i(a(this.points,c+2*m,p,v)),b=i(a(this.crossLinePts(c,g),c+2*m,p,v)),E=cr(l,f,w)||cr(l,f,b);return E},draw:function(l,f,c,p,v){var g=a(this.points,f,c,p),m=a(this.crossLinePts(f,v),f,c,p);e.arrowShapeImpl(this.name)(l,g,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,c,p,v,g,m){var w=v,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((c+2*m)*this.radius,2);return b},draw:function(l,f,c,p,v){e.arrowShapeImpl(this.name)(l,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Un={};Un.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),u=r.zoom(),l=((t-a)/o-s.x)/u,f=((e-i)/o-s.y)/u;return[l,f]};Un.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,f=i.left+i.right,c=e.width/(o+f),p=o-u,v=s-l,g=e.left+a.left+i.left,m=e.top+a.top+i.top;return this.containerBB=[g,m,p,v,c]};Un.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Un.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Un.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),f=(n?24:8)/u,c=(n?8:2)/u,p=(n?8:2)/u,v=1/0,g,m;r&&(o=o.interactive);function w(d,A){if(d.isNode()){if(m)return;m=d,s.push(d)}if(d.isEdge()&&(A==null||A<v))if(g){if(g.pstyle("z-compound-depth").value===d.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===d.pstyle("z-compound-depth").value){for(var D=0;D<s.length;D++)if(s[D].isEdge()){s[D]=d,g=d,v=A??v;break}}}else s.push(d),g=d,v=A??v}function b(d){var A=d.outerWidth()+2*c,D=d.outerHeight()+2*c,P=A/2,O=D/2,N=d.position(),B=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue,F=d._private.rscratch;if(N.x-P<=t&&t<=N.x+P&&N.y-O<=e&&e<=N.y+O){var U=i.nodeShapes[a.getNodeShape(d)];if(U.checkPoint(t,e,0,A,D,N.x,N.y,B,F))return w(d,0),!0}}function E(d){var A=d._private,D=A.rscratch,P=d.pstyle("width").pfValue,O=d.pstyle("arrow-scale").value,N=P/2+f,B=N*N,F=N*2,q=A.source,Y=A.target,U;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var V=D.allpts,_=0;_+3<V.length;_+=2)if(sv(t,e,V[_],V[_+1],V[_+2],V[_+3],F)&&B>(U=hv(t,e,V[_],V[_+1],V[_+2],V[_+3])))return w(d,U),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var V=D.allpts,_=0;_+5<D.allpts.length;_+=4)if(uv(t,e,V[_],V[_+1],V[_+2],V[_+3],V[_+4],V[_+5],F)&&B>(U=cv(t,e,V[_],V[_+1],V[_+2],V[_+3],V[_+4],V[_+5])))return w(d,U),!0}for(var q=q||A.source,Y=Y||A.target,Q=a.getArrowWidth(P,O),$=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],_=0;_<$.length;_++){var K=$[_],ie=i.arrowShapes[d.pstyle(K.name+"-arrow-shape").value],ue=d.pstyle("width").pfValue;if(ie.roughCollide(t,e,Q,K.angle,{x:K.x,y:K.y},ue,f)&&ie.collide(t,e,Q,K.angle,{x:K.x,y:K.y},ue,f))return w(d),!0}l&&s.length>0&&(b(q),b(Y))}function x(d,A,D){return Rr(d,A,D)}function S(d,A){var D=d._private,P=p,O;A?O=A+"-":O="",d.boundingBox();var N=D.labelBounds[A||"main"],B=d.pstyle(O+"label").value,F=d.pstyle("text-events").strValue==="yes";if(!(!F||!B)){var U=x(D.rscratch,"labelX",A),V=x(D.rscratch,"labelY",A),_=x(D.rscratch,"labelAngle",A),q=d.pstyle(O+"text-margin-x").pfValue,Y=d.pstyle(O+"text-margin-y").pfValue,Q=N.x1-P-q,$=N.x2+P-q,K=N.y1-P-Y,ie=N.y2+P-Y;if(_){var ue=Math.cos(_),fe=Math.sin(_),he=function(Ae,Be){return Ae=Ae-U,Be=Be-V,{x:Ae*ue-Be*fe+U,y:Ae*fe+Be*ue+V}},ye=he(Q,K),be=he(Q,ie),te=he($,K),j=he($,ie),se=[ye.x+q,ye.y+Y,te.x+q,te.y+Y,j.x+q,j.y+Y,be.x+q,be.y+Y];if(cr(t,e,se))return w(d),!0}else if(sa(N,t,e))return w(d),!0}}for(var L=o.length-1;L>=0;L--){var M=o[L];M.isNode()?b(M)||S(M):E(M)||S(M)||S(M,"source")||S(M,"target")}return s};Un.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(t,r),s=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=o,r=s,e=u,n=l;for(var f=hr({x1:t,y1:e,x2:r,y2:n}),c=0;c<a.length;c++){var p=a[c];if(p.isNode()){var v=p,g=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Os(f,g)&&!uf(g,f)&&i.push(v)}else{var m=p,w=m._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!sa(f,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!sa(f,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var E=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,x=!0,S=0;S<E.length;S++)if(!ov(f,E[S])){x=!1;break}x&&i.push(m)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&i.push(m)}}return i};var uo={};uo.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",u,l,f,c,p,v,b,E;if(r?(f=e.haystackPts[0],c=e.haystackPts[1],p=e.haystackPts[2],v=e.haystackPts[3]):(f=e.arrowStartX,c=e.arrowStartY,p=e.arrowEndX,v=e.arrowEndY),b=e.midX,E=e.midY,i)u=f-e.segpts[0],l=c-e.segpts[1];else if(a||o||s||n){var g=e.allpts,m=Ft(g[0],g[2],g[4],.1),w=Ft(g[1],g[3],g[5],.1);u=f-m,l=c-w}else u=f-b,l=c-E;e.srcArrowAngle=Ai(u,l);var b=e.midX,E=e.midY;if(r&&(b=(f+p)/2,E=(c+v)/2),u=p-f,l=v-c,i){var g=e.allpts;if(g.length/2%2===0){var x=g.length/2,S=x-2;u=g[x]-g[S],l=g[x+1]-g[S+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var x=g.length/2-1,S=x-2;u=g[x]-g[S],l=g[x+1]-g[S+1]}}else if(a||o||s){var g=e.allpts,L=e.ctrlpts,M,d,A,D;if(L.length/2%2===0){var P=g.length/2-1,O=P+2,N=O+2;M=Ft(g[P],g[O],g[N],0),d=Ft(g[P+1],g[O+1],g[N+1],0),A=Ft(g[P],g[O],g[N],1e-4),D=Ft(g[P+1],g[O+1],g[N+1],1e-4)}else{var O=g.length/2-1,P=O-2,N=O+2;M=Ft(g[P],g[O],g[N],.4999),d=Ft(g[P+1],g[O+1],g[N+1],.4999),A=Ft(g[P],g[O],g[N],.5),D=Ft(g[P+1],g[O+1],g[N+1],.5)}u=A-M,l=D-d}if(e.midtgtArrowAngle=Ai(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,i){var g=e.allpts;if(g.length/2%2!==0){if(!e.isRound){var x=g.length/2-1,B=x+2;u=-(g[B]-g[x]),l=-(g[B+1]-g[x+1])}}}if(e.midsrcArrowAngle=Ai(u,l),i)u=p-e.segpts[e.segpts.length-2],l=v-e.segpts[e.segpts.length-1];else if(a||o||s||n){var g=e.allpts,F=g.length,m=Ft(g[F-6],g[F-4],g[F-2],.9),w=Ft(g[F-5],g[F-3],g[F-1],.9);u=p-m,l=v-w}else u=p-b,l=v-E;e.tgtArrowAngle=Ai(u,l)};uo.getArrowWidth=uo.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var ys,ms,Gr={},Er={},cl,hl,In,Xi,Xr,Ln,Mn,zr,Qn,Bi,ec,tc,bs,ws,dl,vl=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Wm=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Ym=function(e,r,n,a,i){if(e!==dl?vl(r,e,Gr):Wm(Er,Gr),vl(r,n,Er),cl=Gr.nx*Er.ny-Gr.ny*Er.nx,hl=Gr.nx*Er.nx-Gr.ny*-Er.ny,Xr=Math.asin(Math.max(-1,Math.min(1,cl))),Math.abs(Xr)<1e-6){ys=r.x,ms=r.y,Mn=Qn=0;return}In=1,Xi=!1,hl<0?Xr<0?Xr=Math.PI+Xr:(Xr=Math.PI-Xr,In=-1,Xi=!0):Xr>0&&(In=-1,Xi=!0),r.radius!==void 0?Qn=r.radius:Qn=a,Ln=Xr/2,Bi=Math.min(Gr.len/2,Er.len/2),i?(zr=Math.abs(Math.cos(Ln)*Qn/Math.sin(Ln)),zr>Bi?(zr=Bi,Mn=Math.abs(zr*Math.sin(Ln)/Math.cos(Ln))):Mn=Qn):(zr=Math.min(Bi,Qn),Mn=Math.abs(zr*Math.sin(Ln)/Math.cos(Ln))),bs=r.x+Er.nx*zr,ws=r.y+Er.ny*zr,ys=bs-Er.ny*Mn*In,ms=ws+Er.nx*Mn*In,ec=r.x+Gr.nx*zr,tc=r.y+Gr.ny*zr,dl=r};function rc(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Ys(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Ym(t,e,r,n,a),{cx:ys,cy:ms,radius:Mn,startX:ec,startY:tc,stopX:bs,stopY:ws,startAngle:Gr.ang+Math.PI/2*In,endAngle:Er.ang-Math.PI/2*In,counterClockwise:Xi})}var rr={};rr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,o=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(L,M,d,A){var D=A-M,P=d-L,O=Math.sqrt(P*P+D*D);return{x:-D/O,y:P/O}},f=t.pstyle("edge-distances").value;switch(f){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var c=this.manualEndptToPx(t.source()[0],o),p=zt(c,2),v=p[0],g=p[1],m=this.manualEndptToPx(t.target()[0],s),w=zt(m,2),b=w[0],E=w[1],x={x1:v,y1:g,x2:b,y2:E};a=l(v,g,b,E),i=x}else vt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};rr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),f=o.width(),c=s.width(),p=o.height(),v=s.height(),g=r.pstyle("haystack-radius").value,m=g/2;a.haystackPts=a.allpts=[a.source.x*f*m+u.x,a.source.y*p*m+u.y,a.target.x*c*m+l.x,a.target.y*v*m+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};rr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<s;f++){var c=n.pfValue[f],p=a.pfValue[f],v=1-c,g=c,m=this.findMidptPtsEtc(t,e),w=m.midptPts,b=m.vectorNormInverse,E={x:w.x1*v+w.x2*g,y:w.y1*v+w.y2*g};r.segpts.push(E.x+b.x*p,E.y+b.y*p),r.radii.push(i.pfValue[f]!==void 0?i.pfValue[f]:u),r.isArcRadius.push((o.pfValue[f]!==void 0?o.pfValue[f]:l)==="arc-radius")}};rr.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,c=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=r,v=c;n&&(p=0,v=u);var g=l-Math.PI/2,m=g-f/2,w=g+f/2,b=l+"_"+f;p=i[b]===void 0?i[b]=0:++i[b],a.ctrlpts=[o.x+Math.cos(m)*1.4*v*(p/3+1),o.y+Math.sin(m)*1.4*v*(p/3+1),o.x+Math.cos(w)*1.4*v*(p/3+1),o.y+Math.sin(w)*1.4*v*(p/3+1)]};rr.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,c=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),v=p?p.pfValue[0]:void 0,g=r,m=c;n&&(g=0,m=v);var w=50,b={x:i.x-s/2,y:i.y-u/2},E={x:o.x-l/2,y:o.y-f/2},x={x:Math.min(b.x,E.x),y:Math.min(b.y,E.y)},S=.5,L=Math.max(S,Math.log(s*.01)),M=Math.max(S,Math.log(l*.01));a.ctrlpts=[x.x,x.y-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*L,x.x-(1+Math.pow(w,1.12)/100)*m*(g/3+1)*M,x.y]};rr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};rr.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,f=s?s.pfValue[0]:void 0,c=u.value[0],p=n;i.edgeType=p?"multibezier":"bezier",i.ctrlpts=[];for(var v=0;v<l;v++){var g=(.5-e.eles.length/2+r)*o*(a?-1:1),m=void 0,w=of(g);p&&(f=s?s.pfValue[v]:o,c=u.value[v]),n?m=f:m=f!==void 0?w*f:void 0;var b=m!==void 0?m:g,E=1-c,x=c,S=this.findMidptPtsEtc(t,e),L=S.midptPts,M=S.vectorNormInverse,d={x:L.x1*E+L.x2*x,y:L.y1*E+L.y2*x};i.ctrlpts.push(d.x+M.x*b,d.y+M.y*b)}};rr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",u="upward",l="auto",f=e.posPts,c=e.srcW,p=e.srcH,v=e.tgtW,g=e.tgtH,m=t.pstyle("edge-distances").value,w=m!=="node-position",b=t.pstyle("taxi-direction").value,E=b,x=t.pstyle("taxi-turn"),S=x.units==="%",L=x.pfValue,M=L<0,d=t.pstyle("taxi-turn-min-distance").pfValue,A=w?(c+v)/2:0,D=w?(p+g)/2:0,P=f.x2-f.x1,O=f.y2-f.y1,N=function(ve,Ce){return ve>0?Math.max(ve-Ce,0):Math.min(ve+Ce,0)},B=N(P,A),F=N(O,D),U=!1;E===l?b=Math.abs(B)>Math.abs(F)?a:n:E===u||E===s?(b=n,U=!0):(E===i||E===o)&&(b=a,U=!0);var V=b===n,_=V?F:B,q=V?O:P,Y=of(q),Q=!1;!(U&&(S||M))&&(E===s&&q<0||E===u&&q>0||E===i&&q>0||E===o&&q<0)&&(Y*=-1,_=Y*Math.abs(_),Q=!0);var $;if(S){var K=L<0?1+L:L;$=K*_}else{var ie=L<0?_:0;$=ie+L*Y}var ue=function(ve){return Math.abs(ve)<d||Math.abs(ve)>=Math.abs(_)},fe=ue($),he=ue(Math.abs(_)-Math.abs($)),ye=fe||he;if(ye&&!Q)if(V){var be=Math.abs(q)<=p/2,te=Math.abs(P)<=v/2;if(be){var j=(f.x1+f.x2)/2,se=f.y1,me=f.y2;r.segpts=[j,se,j,me]}else if(te){var Ae=(f.y1+f.y2)/2,Be=f.x1,Re=f.x2;r.segpts=[Be,Ae,Re,Ae]}else r.segpts=[f.x1,f.y2]}else{var Le=Math.abs(q)<=c/2,Ue=Math.abs(O)<=g/2;if(Le){var we=(f.y1+f.y2)/2,Te=f.x1,Oe=f.x2;r.segpts=[Te,we,Oe,we]}else if(Ue){var Fe=(f.x1+f.x2)/2,Me=f.y1,Ie=f.y2;r.segpts=[Fe,Me,Fe,Ie]}else r.segpts=[f.x2,f.y1]}else if(V){var Xe=f.y1+$+(w?p/2*Y:0),xe=f.x1,de=f.x2;r.segpts=[xe,Xe,de,Xe]}else{var z=f.x1+$+(w?c/2*Y:0),J=f.y1,ce=f.y2;r.segpts=[z,J,z,ce]}if(r.isRound){var ee=t.pstyle("taxi-radius").value,ae=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ee),r.isArcRadius=new Array(r.segpts.length/2).fill(ae)}};rr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,f=e.tgtShape,c=e.srcCornerRadius,p=e.tgtCornerRadius,v=e.srcRs,g=e.tgtRs,m=!Pe(r.startX)||!Pe(r.startY),w=!Pe(r.arrowStartX)||!Pe(r.arrowStartY),b=!Pe(r.endX)||!Pe(r.endY),E=!Pe(r.arrowEndX)||!Pe(r.arrowEndY),x=3,S=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,L=x*S,M=kn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),d=M<L,A=kn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),D=A<L,P=!1;if(m||w||d){P=!0;var O={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},N=Math.sqrt(O.x*O.x+O.y*O.y),B={x:O.x/N,y:O.y/N},F=Math.max(i,o),U={x:r.ctrlpts[0]+B.x*2*F,y:r.ctrlpts[1]+B.y*2*F},V=l.intersectLine(n.x,n.y,i,o,U.x,U.y,0,c,v);d?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(L-M),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(L-M)):(r.ctrlpts[0]=V[0]+B.x*L,r.ctrlpts[1]=V[1]+B.y*L)}if(b||E||D){P=!0;var _={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},q=Math.sqrt(_.x*_.x+_.y*_.y),Y={x:_.x/q,y:_.y/q},Q=Math.max(i,o),$={x:r.ctrlpts[0]+Y.x*2*Q,y:r.ctrlpts[1]+Y.y*2*Q},K=f.intersectLine(a.x,a.y,s,u,$.x,$.y,0,p,g);D?(r.ctrlpts[0]=r.ctrlpts[0]+Y.x*(L-A),r.ctrlpts[1]=r.ctrlpts[1]+Y.y*(L-A)):(r.ctrlpts[0]=K[0]+Y.x*L,r.ctrlpts[1]=K[1]+Y.y*L)}P&&this.findEndpoints(t)}};rr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Ft(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Ft(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var o=e.radii[i/2-1],s=e.isArcRadius[i/2-1];e.roundCorners.push(Ys({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:o},{x:e.allpts[i+2],y:e.allpts[i+3]},o,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var f=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[f],e.midY=e.segpts[f+1];else{var c={x:e.segpts[f],y:e.segpts[f+1]},p=e.roundCorners[f/2],v=[c.x-p.cx,c.y-p.cy],g=p.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(m){return m*g}),e.midX=p.cx+v[0],e.midY=p.cy+v[1],e.midVector=v}}}};rr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Pe(e.startX)&&Pe(e.startY)&&Pe(e.endX)&&Pe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,vt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};rr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new Vr,get:function(d){var A=this.map.get(d[0]);return A!=null?A.get(d[1]):null},set:function(d,A){var D=this.map.get(d[0]);D==null&&(D=new Vr,this.map.set(d[0],D)),D.set(d[1],A)}},o=[],s=[],u=0;u<t.length;u++){var l=t[u],f=l._private,c=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(c==="haystack"){s.push(l);continue}var p=c==="unbundled-bezier"||c.endsWith("segments")||c==="straight"||c==="straight-triangle"||c.endsWith("taxi"),v=c==="unbundled-bezier"||c==="bezier",g=f.source,m=f.target,w=g.poolIndex(),b=m.poolIndex(),E=[w,b].sort(),x=i.get(E);x==null&&(x={eles:[]},i.set(E,x),o.push(E)),x.eles.push(l),p&&(x.hasUnbundled=!0),v&&(x.hasBezier=!0)}}for(var S=function(d){var A=o[d],D=i.get(A),P=void 0;if(!D.hasUnbundled){var O=D.eles[0].parallelEdges().filter(function(z){return z.isBundledBezier()});Ms(D.eles),O.forEach(function(z){return D.eles.push(z)}),D.eles.sort(function(z,J){return z.poolIndex()-J.poolIndex()})}var N=D.eles[0],B=N.source(),F=N.target();if(B.poolIndex()>F.poolIndex()){var U=B;B=F,F=U}var V=D.srcPos=B.position(),_=D.tgtPos=F.position(),q=D.srcW=B.outerWidth(),Y=D.srcH=B.outerHeight(),Q=D.tgtW=F.outerWidth(),$=D.tgtH=F.outerHeight(),K=D.srcShape=r.nodeShapes[e.getNodeShape(B)],ie=D.tgtShape=r.nodeShapes[e.getNodeShape(F)],ue=D.srcCornerRadius=B.pstyle("corner-radius").value==="auto"?"auto":B.pstyle("corner-radius").pfValue,fe=D.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,he=D.tgtRs=F._private.rscratch,ye=D.srcRs=B._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var be=0;be<D.eles.length;be++){var te=D.eles[be],j=te[0]._private.rscratch,se=te.pstyle("curve-style").value,me=se==="unbundled-bezier"||se.endsWith("segments")||se.endsWith("taxi"),Ae=!B.same(te.source());if(!D.calculatedIntersection&&B!==F&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var Be=K.intersectLine(V.x,V.y,q,Y,_.x,_.y,0,ue,ye),Re=D.srcIntn=Be,Le=ie.intersectLine(_.x,_.y,Q,$,V.x,V.y,0,fe,he),Ue=D.tgtIntn=Le,we=D.intersectionPts={x1:Be[0],x2:Le[0],y1:Be[1],y2:Le[1]},Te=D.posPts={x1:V.x,x2:_.x,y1:V.y,y2:_.y},Oe=Le[1]-Be[1],Fe=Le[0]-Be[0],Me=Math.sqrt(Fe*Fe+Oe*Oe),Ie=D.vector={x:Fe,y:Oe},Xe=D.vectorNorm={x:Ie.x/Me,y:Ie.y/Me},xe={x:-Xe.y,y:Xe.x};D.nodesOverlap=!Pe(Me)||ie.checkPoint(Be[0],Be[1],0,Q,$,_.x,_.y,fe,he)||K.checkPoint(Le[0],Le[1],0,q,Y,V.x,V.y,ue,ye),D.vectorNormInverse=xe,P={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:_,srcRs:he,tgtPos:V,tgtRs:ye,srcW:Q,srcH:$,tgtW:q,tgtH:Y,srcIntn:Ue,tgtIntn:Re,srcShape:ie,tgtShape:K,posPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},intersectionPts:{x1:we.x2,y1:we.y2,x2:we.x1,y2:we.y1},vector:{x:-Ie.x,y:-Ie.y},vectorNorm:{x:-Xe.x,y:-Xe.y},vectorNormInverse:{x:-xe.x,y:-xe.y}}}var de=Ae?P:D;j.nodesOverlap=de.nodesOverlap,j.srcIntn=de.srcIntn,j.tgtIntn=de.tgtIntn,j.isRound=se.startsWith("round"),a&&(B.isParent()||B.isChild()||F.isParent()||F.isChild())&&(B.parents().anySame(F)||F.parents().anySame(B)||B.same(F)&&B.isParent())?e.findCompoundLoopPoints(te,de,be,me):B===F?e.findLoopPoints(te,de,be,me):se.endsWith("segments")?e.findSegmentsPoints(te,de):se.endsWith("taxi")?e.findTaxiPoints(te,de):se==="straight"||!me&&D.eles.length%2===1&&be===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(te):e.findBezierPoints(te,de,be,me,Ae),e.findEndpoints(te),e.tryToCorrectInvalidPoints(te,de),e.checkForInvalidEdgeWarning(te),e.storeAllpts(te),e.storeEdgeProjections(te),e.calculateArrowAngles(te),e.recalculateEdgeLabelProjections(te),e.calculateLabelAngles(te)}},L=0;L<o.length;L++)S(L);this.findHaystackPoints(s)}};function nc(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}rr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return nc(e.segpts)};rr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return nc(e.ctrlpts)};rr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var hi={};hi.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*a),e.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),f=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,f[0],f[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};hi.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,c=n._private.rscratch,p=a._private.rscratch,v=t.pstyle("curve-style").value,g=t._private.rscratch,m=g.edgeType,w=v==="taxi",b=m==="self"||m==="compound",E=m==="bezier"||m==="multibezier"||b,x=m!=="bezier",S=m==="straight"||m==="segments",L=m==="segments",M=E||x||S,d=b||w,A=t.pstyle("source-endpoint"),D=d?"outside-to-node":A.value,P=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,O=t.pstyle("target-endpoint"),N=d?"outside-to-node":O.value,B=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;g.srcManEndpt=A,g.tgtManEndpt=O;var F,U,V,_;if(E){var q=[g.ctrlpts[0],g.ctrlpts[1]],Y=x?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:q;F=Y,U=q}else if(S){var Q=L?g.segpts.slice(0,2):[o.x,o.y],$=L?g.segpts.slice(g.segpts.length-2):[i.x,i.y];F=$,U=Q}if(N==="inside-to-node")r=[o.x,o.y];else if(O.units)r=this.manualEndptToPx(a,O);else if(N==="outside-to-line")r=g.tgtIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?V=F:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(V=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),V[0],V[1],0,B,p),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var K=a._private.rscratch,ie=K.labelWidth,ue=K.labelHeight,fe=K.labelX,he=K.labelY,ye=ie/2,be=ue/2,te=a.pstyle("text-valign").value;te==="top"?he-=be:te==="bottom"&&(he+=be);var j=a.pstyle("text-halign").value;j==="left"?fe-=ye:j==="right"&&(fe+=ye);var se=Ja(V[0],V[1],[fe-ye,he-be,fe+ye,he-be,fe+ye,he+be,fe-ye,he+be],o.x,o.y);if(se.length>0){var me=i,Ae=Rn(me,ea(r)),Be=Rn(me,ea(se)),Re=Ae;if(Be<Ae&&(r=se,Re=Be),se.length>2){var Le=Rn(me,{x:se[2],y:se[3]});Le<Re&&(r=[se[2],se[3]])}}}var Ue=Li(r,F,e.arrowShapes[s].spacing(t)+l),we=Li(r,F,e.arrowShapes[s].gap(t)+l);if(g.endX=we[0],g.endY=we[1],g.arrowEndX=Ue[0],g.arrowEndY=Ue[1],D==="inside-to-node")r=[i.x,i.y];else if(A.units)r=this.manualEndptToPx(n,A);else if(D==="outside-to-line")r=g.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?_=U:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(_=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),_[0],_[1],0,P,c),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var Te=n._private.rscratch,Oe=Te.labelWidth,Fe=Te.labelHeight,Me=Te.labelX,Ie=Te.labelY,Xe=Oe/2,xe=Fe/2,de=n.pstyle("text-valign").value;de==="top"?Ie-=xe:de==="bottom"&&(Ie+=xe);var z=n.pstyle("text-halign").value;z==="left"?Me-=Xe:z==="right"&&(Me+=Xe);var J=Ja(_[0],_[1],[Me-Xe,Ie-xe,Me+Xe,Ie-xe,Me+Xe,Ie+xe,Me-Xe,Ie+xe],i.x,i.y);if(J.length>0){var ce=o,ee=Rn(ce,ea(r)),ae=Rn(ce,ea(J)),Se=ee;if(ae<ee&&(r=[J[0],J[1]],Se=ae),J.length>2){var ve=Rn(ce,{x:J[2],y:J[3]});ve<Se&&(r=[J[2],J[3]])}}}var Ce=Li(r,U,e.arrowShapes[u].spacing(t)+f),Ve=Li(r,U,e.arrowShapes[u].gap(t)+f);g.startX=Ve[0],g.startY=Ve[1],g.arrowStartX=Ce[0],g.arrowStartY=Ce[1],M&&(!Pe(g.startX)||!Pe(g.startY)||!Pe(g.endX)||!Pe(g.endY)?g.badLine=!0:g.badLine=!1)};hi.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};hi.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Xs={};function Xm(t,e,r){for(var n=function(l,f,c,p){return Ft(l,f,c,p)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Xs.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)Xm(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Xs.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var _r={};_r.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!hn(e)){var r,n,a=t._private,i=t.width(),o=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,c=a.rscratch,p=a.rstyle;switch(l){case"left":r=u.x-i/2-s;break;case"right":r=u.x+i/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}c.labelX=r,c.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var ac=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},ic=function(e,r){var n=r.x-e.x,a=r.y-e.y;return ac(n,a)},$m=function(e,r,n,a){var i=ja(0,a-.001,1),o=ja(0,a+.001,1),s=ra(e,r,n,i),u=ra(e,r,n,o);return ic(s,u)};_r.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(c,p,v){sn(r.rscratch,c,p,v),sn(r.rstyle,c,p,v)};o("labelX",null,e.x),o("labelY",null,e.y);var s=ac(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var c=[],p=0;p+5<n.allpts.length;p+=4){var v={x:n.allpts[p],y:n.allpts[p+1]},g={x:n.allpts[p+2],y:n.allpts[p+3]},m={x:n.allpts[p+4],y:n.allpts[p+5]};c.push({p0:v,p1:g,p2:m,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,b=a.bezierProjPcts.length;function E(d,A,D,P,O){var N=kn(A,D),B=d.segments[d.segments.length-1],F={p0:A,p1:D,t0:P,t1:O,startDist:B?B.startDist+B.length:0,length:N};d.segments.push(F),d.length+=N}for(var x=0;x<c.length;x++){var S=c[x],L=c[x-1];L&&(S.startDist=L.startDist+L.length),E(S,S.p0,w[x*b],0,a.bezierProjPcts[0]);for(var M=0;M<b-1;M++)E(S,w[x*b+M],w[x*b+M+1],a.bezierProjPcts[M],a.bezierProjPcts[M+1]);E(S,w[x*b+b-1],S.p2,a.bezierProjPcts[b-1],1)}return f.cache=c},l=function(c){var p,v=c==="source";if(i[c]){var g=t.pstyle(c+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),w,b=0,E=0,x=0;x<m.length;x++){for(var S=m[v?x:m.length-1-x],L=0;L<S.segments.length;L++){var M=S.segments[v?L:S.segments.length-1-L],d=x===m.length-1&&L===S.segments.length-1;if(b=E,E+=M.length,E>=g||d){w={cp:S,segment:M};break}}if(w)break}var A=w.cp,D=w.segment,P=(g-b)/D.length,O=D.t1-D.t0,N=v?D.t0+O*P:D.t1-O*P;N=ja(0,N,1),e=ra(A.p0,A.p1,A.p2,N),p=$m(A.p0,A.p1,A.p2,N);break}case"straight":case"segments":case"haystack":{for(var B=0,F,U,V,_,q=n.allpts.length,Y=0;Y+3<q&&(v?(V={x:n.allpts[Y],y:n.allpts[Y+1]},_={x:n.allpts[Y+2],y:n.allpts[Y+3]}):(V={x:n.allpts[q-2-Y],y:n.allpts[q-1-Y]},_={x:n.allpts[q-4-Y],y:n.allpts[q-3-Y]}),F=kn(V,_),U=B,B+=F,!(B>=g));Y+=2);var Q=g-U,$=Q/F;$=ja(0,$,1),e=tv(V,_,$),p=ic(V,_);break}}o("labelX",c,e.x),o("labelY",c,e.y),o("labelAutoAngle",c,p)}};l("source"),l("target"),this.applyLabelDimensions(t)}};_r.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};_r.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=Rr(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(s.length,1),l=a.height/u,f=l*i,c=a.width,p=a.height+(u-1)*(i-1)*l;sn(r.rstyle,"labelWidth",e,c),sn(r.rscratch,"labelWidth",e,c),sn(r.rstyle,"labelHeight",e,p),sn(r.rscratch,"labelHeight",e,p),sn(r.rscratch,"labelLineHeight",e,f)};_r.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(ie,ue){return ue?(sn(r.rscratch,ie,e,ue),ue):Rr(r.rscratch,ie,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="",f=a.split(`
`),c=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,v=p==="anywhere",g=[],m=/[\s\u200b]+|$/g,w=0;w<f.length;w++){var b=f[w],E=this.calculateLabelDimensions(t,b),x=E.width;if(v){var S=b.split("").join(l);b=S}if(x>c){var L=b.matchAll(m),M="",d=0,A=yr(L),D;try{for(A.s();!(D=A.n()).done;){var P=D.value,O=P[0],N=b.substring(d,P.index);d=P.index+O.length;var B=M.length===0?N:M+N+O,F=this.calculateLabelDimensions(t,B),U=F.width;U<=c?M+=N+O:(M&&g.push(M),M=N+O)}}catch(K){A.e(K)}finally{A.f()}M.match(/^[\s\u200b]+$/)||g.push(M)}else g.push(b)}o("labelWrapCachedLines",g),a=o("labelWrapCachedText",g.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var V=t.pstyle("text-max-width").pfValue,_="",q="",Y=!1;if(this.calculateLabelDimensions(t,a).width<V)return a;for(var Q=0;Q<a.length;Q++){var $=this.calculateLabelDimensions(t,_+a[Q]+q).width;if($>V)break;_+=a[Q],Q===a.length-1&&(Y=!0)}return Y||(_+=q),_}return a};_r.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};_r.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=dn(e,t._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),s=o[i];if(s!=null)return s;var u=0,l=t.pstyle("font-style").strValue,f=t.pstyle("font-size").pfValue,c=t.pstyle("font-family").strValue,p=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=a.createElement("canvas"),g=this.labelCalcCanvasContext=v.getContext("2d");var m=v.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}g.font="".concat(l," ").concat(p," ").concat(f,"px ").concat(c);for(var w=0,b=0,E=e.split(`
`),x=0;x<E.length;x++){var S=E[x],L=g.measureText(S),M=Math.ceil(L.width),d=f;w=Math.max(M,w),b+=d}return w+=u,b+=u,o[i]={width:w,height:b}};_r.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};_r.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var oc={},gl=28,pl=!1;oc.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<gl||t.height()<gl))return pl||(vt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),pl=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ao={};Ao.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],f=l._private,c=f.rstyle;c.clean=!1,c.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++){var p=s[c];p(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Ao.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Ao.recalculateRenderedStyle=function(t,e){var r=function(S){return S._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],s=o._private,u=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),!(e&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],c=f._private,p=c.rstyle,v=f.position();this.recalculateNodeLabelProjection(f),p.nodeX=v.x,p.nodeY=v.y,p.nodeW=f.pstyle("width").pfValue,p.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var g=0;g<n.length;g++){var m=n[g],w=m._private,b=w.rstyle,E=w.rscratch;b.srcX=E.arrowStartX,b.srcY=E.arrowStartY,b.tgtX=E.arrowEndX,b.tgtY=E.arrowEndY,b.midX=E.midX,b.midY=E.midY,b.labelAngle=E.labelAngle,b.sourceLabelAngle=E.sourceLabelAngle,b.targetLabelAngle=E.targetLabelAngle}}};var Lo={};Lo.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Lo.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Lo.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(_f),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var sc={};[Un,uo,rr,hi,Xs,_r,oc,Ao,Lo].forEach(function(t){Ye(sc,t)});var uc={};uc.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var ya={};ya.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],o=0;o<t.length;o++){var s=t[o];if(s!==void 0){var u=this.binder(s);i.push(u.on.apply(u,a))}}return i}var u=this.binder(t);return u.on.apply(u,a)};ya.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||Eh(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var o=function(u,l,f){var c=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(c[2]={capture:f??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:c}),(t.addEventListener||t.on).apply(t,c),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ya.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ya.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ya.load=function(){var t=this,e=t.cy.window(),r=function(z){return z.selected()},n=function(z){var J=z.getRootNode();if(J&&J.nodeType===11&&J.host!==void 0)return J},a=function(z,J,ce,ee){z==null&&(z=t.cy);for(var ae=0;ae<J.length;ae++){var Se=J[ae];z.emit({originalEvent:ce,type:Se,position:ee})}},i=function(z){return z.shiftKey||z.metaKey||z.ctrlKey},o=function(z,J){var ce=!0;if(t.cy.hasCompoundNodes()&&z&&z.pannable())for(var ee=0;J&&ee<J.length;ee++){var z=J[ee];if(z.isNode()&&z.isParent()&&!z.pannable()){ce=!1;break}}else ce=!0;return ce},s=function(z){z[0]._private.grabbed=!0},u=function(z){z[0]._private.grabbed=!1},l=function(z){z[0]._private.rscratch.inDragLayer=!0},f=function(z){z[0]._private.rscratch.inDragLayer=!1},c=function(z){z[0]._private.rscratch.isGrabTarget=!0},p=function(z){z[0]._private.rscratch.isGrabTarget=!1},v=function(z,J){var ce=J.addToList,ee=ce.has(z);!ee&&z.grabbable()&&!z.locked()&&(ce.merge(z),s(z))},g=function(z,J){if(z.cy().hasCompoundNodes()&&!(J.inDragLayer==null&&J.addToList==null)){var ce=z.descendants();J.inDragLayer&&(ce.forEach(l),ce.connectedEdges().forEach(l)),J.addToList&&v(ce,J)}},m=function(z,J){J=J||{};var ce=z.cy().hasCompoundNodes();J.inDragLayer&&(z.forEach(l),z.neighborhood().stdFilter(function(ee){return!ce||ee.isEdge()}).forEach(l)),J.addToList&&z.forEach(function(ee){v(ee,J)}),g(z,J),E(z,{inDragLayer:J.inDragLayer}),t.updateCachedGrabbedEles()},w=m,b=function(z){z&&(t.getCachedZSortedEles().forEach(function(J){u(J),f(J),p(J)}),t.updateCachedGrabbedEles())},E=function(z,J){if(!(J.inDragLayer==null&&J.addToList==null)&&z.cy().hasCompoundNodes()){var ce=z.ancestors().orphans();if(!ce.same(z)){var ee=ce.descendants().spawnSelf().merge(ce).unmerge(z).unmerge(z.descendants()),ae=ee.connectedEdges();J.inDragLayer&&(ae.forEach(l),ee.forEach(l)),J.addToList&&ee.forEach(function(Se){v(Se,J)})}}},x=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",L=typeof ResizeObserver<"u";S?(t.removeObserver=new MutationObserver(function(de){for(var z=0;z<de.length;z++){var J=de[z],ce=J.removedNodes;if(ce)for(var ee=0;ee<ce.length;ee++){var ae=ce[ee];if(ae===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(de){t.destroy()});var M=ui(function(){t.cy.resize()},100);S&&(t.styleObserver=new MutationObserver(M),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",M),L&&(t.resizeObserver=new ResizeObserver(M),t.resizeObserver.observe(t.container));var d=function(z,J){for(;z!=null;)J(z),z=z.parentNode},A=function(){t.invalidateContainerClientCoordsCache()};d(t.container,function(de){t.registerBinding(de,"transitionend",A),t.registerBinding(de,"animationend",A),t.registerBinding(de,"scroll",A)}),t.registerBinding(t.container,"contextmenu",function(de){de.preventDefault()});var D=function(){return t.selection[4]!==0},P=function(z){for(var J=t.findContainerClientCoords(),ce=J[0],ee=J[1],ae=J[2],Se=J[3],ve=z.touches?z.touches:[z],Ce=!1,Ve=0;Ve<ve.length;Ve++){var Qe=ve[Ve];if(ce<=Qe.clientX&&Qe.clientX<=ce+ae&&ee<=Qe.clientY&&Qe.clientY<=ee+Se){Ce=!0;break}}if(!Ce)return!1;for(var Ge=t.container,$e=z.target,Ke=$e.parentNode,qe=!1;Ke;){if(Ke===Ge){qe=!0;break}Ke=Ke.parentNode}return!!qe};t.registerBinding(t.container,"mousedown",function(z){if(P(z)&&!(t.hoverData.which===1&&z.which!==1)){z.preventDefault(),x(),t.hoverData.capture=!0,t.hoverData.which=z.which;var J=t.cy,ce=[z.clientX,z.clientY],ee=t.projectIntoViewport(ce[0],ce[1]),ae=t.selection,Se=t.findNearestElements(ee[0],ee[1],!0,!1),ve=Se[0],Ce=t.dragData.possibleDragElements;t.hoverData.mdownPos=ee,t.hoverData.mdownGPos=ce;var Ve=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var ot=t.hoverData.down;ot?ot.emit({originalEvent:z,type:"taphold",position:{x:ee[0],y:ee[1]}}):J.emit({originalEvent:z,type:"taphold",position:{x:ee[0],y:ee[1]}})}},t.tapholdDuration)};if(z.which==3){t.hoverData.cxtStarted=!0;var Qe={originalEvent:z,type:"cxttapstart",position:{x:ee[0],y:ee[1]}};ve?(ve.activate(),ve.emit(Qe),t.hoverData.down=ve):J.emit(Qe),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(z.which==1){ve&&ve.activate();{if(ve!=null&&t.nodeIsGrabbable(ve)){var Ge=function(ot){return{originalEvent:z,type:ot,position:{x:ee[0],y:ee[1]}}},$e=function(ot){ot.emit(Ge("grab"))};if(c(ve),!ve.selected())Ce=t.dragData.possibleDragElements=J.collection(),w(ve,{addToList:Ce}),ve.emit(Ge("grabon")).emit(Ge("grab"));else{Ce=t.dragData.possibleDragElements=J.collection();var Ke=J.$(function(qe){return qe.isNode()&&qe.selected()&&t.nodeIsGrabbable(qe)});m(Ke,{addToList:Ce}),ve.emit(Ge("grabon")),Ke.forEach($e)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ve,t.hoverData.downs=Se,t.hoverData.downTime=new Date().getTime()}a(ve,["mousedown","tapstart","vmousedown"],z,{x:ee[0],y:ee[1]}),ve==null?(ae[4]=1,t.data.bgActivePosistion={x:ee[0],y:ee[1]},t.redrawHint("select",!0),t.redraw()):ve.pannable()&&(ae[4]=1),Ve()}ae[0]=ae[2]=ee[0],ae[1]=ae[3]=ee[1]}},!1);var O=n(t.container);t.registerBinding([e,O],"mousemove",function(z){var J=t.hoverData.capture;if(!(!J&&!P(z))){var ce=!1,ee=t.cy,ae=ee.zoom(),Se=[z.clientX,z.clientY],ve=t.projectIntoViewport(Se[0],Se[1]),Ce=t.hoverData.mdownPos,Ve=t.hoverData.mdownGPos,Qe=t.selection,Ge=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Ge=t.findNearestElement(ve[0],ve[1],!0,!1));var $e=t.hoverData.last,Ke=t.hoverData.down,qe=[ve[0]-Qe[2],ve[1]-Qe[3]],ot=t.dragData.possibleDragElements,gt;if(Ve){var $t=Se[0]-Ve[0],Kt=$t*$t,ct=Se[1]-Ve[1],st=ct*ct,Dt=Kt+st;t.hoverData.isOverThresholdDrag=gt=Dt>=t.desktopTapThreshold2}var Ut=i(z);gt&&(t.hoverData.tapholdCancelled=!0);var kt=function(){var br=t.hoverData.dragDelta=t.hoverData.dragDelta||[];br.length===0?(br.push(qe[0]),br.push(qe[1])):(br[0]+=qe[0],br[1]+=qe[1])};ce=!0,a(Ge,["mousemove","vmousemove","tapdrag"],z,{x:ve[0],y:ve[1]});var dr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ee.emit({originalEvent:z,type:"boxstart",position:{x:ve[0],y:ve[1]}}),Qe[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(gt){var Rt={originalEvent:z,type:"cxtdrag",position:{x:ve[0],y:ve[1]}};Ke?Ke.emit(Rt):ee.emit(Rt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Ge!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ve[0],y:ve[1]}}),t.hoverData.cxtOver=Ge,Ge&&Ge.emit({originalEvent:z,type:"cxtdragover",position:{x:ve[0],y:ve[1]}}))}}else if(t.hoverData.dragging){if(ce=!0,ee.panningEnabled()&&ee.userPanningEnabled()){var Vt;if(t.hoverData.justStartedPan){var vr=t.hoverData.mdownPos;Vt={x:(ve[0]-vr[0])*ae,y:(ve[1]-vr[1])*ae},t.hoverData.justStartedPan=!1}else Vt={x:qe[0]*ae,y:qe[1]*ae};ee.panBy(Vt),ee.emit("dragpan"),t.hoverData.dragged=!0}ve=t.projectIntoViewport(z.clientX,z.clientY)}else if(Qe[4]==1&&(Ke==null||Ke.pannable())){if(gt){if(!t.hoverData.dragging&&ee.boxSelectionEnabled()&&(Ut||!ee.panningEnabled()||!ee.userPanningEnabled()))dr();else if(!t.hoverData.selecting&&ee.panningEnabled()&&ee.userPanningEnabled()){var or=o(Ke,t.hoverData.downs);or&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Qe[4]=0,t.data.bgActivePosistion=ea(Ce),t.redrawHint("select",!0),t.redraw())}Ke&&Ke.pannable()&&Ke.active()&&Ke.unactivate()}}else{if(Ke&&Ke.pannable()&&Ke.active()&&Ke.unactivate(),(!Ke||!Ke.grabbed())&&Ge!=$e&&($e&&a($e,["mouseout","tapdragout"],z,{x:ve[0],y:ve[1]}),Ge&&a(Ge,["mouseover","tapdragover"],z,{x:ve[0],y:ve[1]}),t.hoverData.last=Ge),Ke)if(gt){if(ee.boxSelectionEnabled()&&Ut)Ke&&Ke.grabbed()&&(b(ot),Ke.emit("freeon"),ot.emit("free"),t.dragData.didDrag&&(Ke.emit("dragfreeon"),ot.emit("dragfree"))),dr();else if(Ke&&Ke.grabbed()&&t.nodeIsDraggable(Ke)){var Bt=!t.dragData.didDrag;Bt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||m(ot,{inDragLayer:!0});var Lt={x:0,y:0};if(Pe(qe[0])&&Pe(qe[1])&&(Lt.x+=qe[0],Lt.y+=qe[1],Bt)){var Zt=t.hoverData.dragDelta;Zt&&Pe(Zt[0])&&Pe(Zt[1])&&(Lt.x+=Zt[0],Lt.y+=Zt[1])}t.hoverData.draggingEles=!0,ot.silentShift(Lt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else kt();ce=!0}if(Qe[2]=ve[0],Qe[3]=ve[1],ce)return z.stopPropagation&&z.stopPropagation(),z.preventDefault&&z.preventDefault(),!1}},!1);var N,B,F;t.registerBinding(e,"mouseup",function(z){if(!(t.hoverData.which===1&&z.which!==1&&t.hoverData.capture)){var J=t.hoverData.capture;if(J){t.hoverData.capture=!1;var ce=t.cy,ee=t.projectIntoViewport(z.clientX,z.clientY),ae=t.selection,Se=t.findNearestElement(ee[0],ee[1],!0,!1),ve=t.dragData.possibleDragElements,Ce=t.hoverData.down,Ve=i(z);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ce&&Ce.unactivate(),t.hoverData.which===3){var Qe={originalEvent:z,type:"cxttapend",position:{x:ee[0],y:ee[1]}};if(Ce?Ce.emit(Qe):ce.emit(Qe),!t.hoverData.cxtDragged){var Ge={originalEvent:z,type:"cxttap",position:{x:ee[0],y:ee[1]}};Ce?Ce.emit(Ge):ce.emit(Ge)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(Se,["mouseup","tapend","vmouseup"],z,{x:ee[0],y:ee[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(Ce,["click","tap","vclick"],z,{x:ee[0],y:ee[1]}),B=!1,z.timeStamp-F<=ce.multiClickDebounceTime()?(N&&clearTimeout(N),B=!0,F=null,a(Ce,["dblclick","dbltap","vdblclick"],z,{x:ee[0],y:ee[1]})):(N=setTimeout(function(){B||a(Ce,["oneclick","onetap","voneclick"],z,{x:ee[0],y:ee[1]})},ce.multiClickDebounceTime()),F=z.timeStamp)),Ce==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(z)&&(ce.$(r).unselect(["tapunselect"]),ve.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ve=ce.collection()),Se==Ce&&!t.dragData.didDrag&&!t.hoverData.selecting&&Se!=null&&Se._private.selectable&&(t.hoverData.dragging||(ce.selectionType()==="additive"||Ve?Se.selected()?Se.unselect(["tapunselect"]):Se.select(["tapselect"]):Ve||(ce.$(r).unmerge(Se).unselect(["tapunselect"]),Se.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var $e=ce.collection(t.getAllInBox(ae[0],ae[1],ae[2],ae[3]));t.redrawHint("select",!0),$e.length>0&&t.redrawHint("eles",!0),ce.emit({type:"boxend",originalEvent:z,position:{x:ee[0],y:ee[1]}});var Ke=function(gt){return gt.selectable()&&!gt.selected()};ce.selectionType()==="additive"||Ve||ce.$(r).unmerge($e).unselect(),$e.emit("box").stdFilter(Ke).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ae[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var qe=Ce&&Ce.grabbed();b(ve),qe&&(Ce.emit("freeon"),ve.emit("free"),t.dragData.didDrag&&(Ce.emit("dragfreeon"),ve.emit("dragfree")))}}ae[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var U=function(z){if(!t.scrollingPage){var J=t.cy,ce=J.zoom(),ee=J.pan(),ae=t.projectIntoViewport(z.clientX,z.clientY),Se=[ae[0]*ce+ee.x,ae[1]*ce+ee.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||D()){z.preventDefault();return}if(J.panningEnabled()&&J.userPanningEnabled()&&J.zoomingEnabled()&&J.userZoomingEnabled()){z.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ve;z.deltaY!=null?ve=z.deltaY/-250:z.wheelDeltaY!=null?ve=z.wheelDeltaY/1e3:ve=z.wheelDelta/1e3,ve=ve*t.wheelSensitivity;var Ce=z.deltaMode===1;Ce&&(ve*=33);var Ve=J.zoom()*Math.pow(10,ve);z.type==="gesturechange"&&(Ve=t.gestureStartZoom*z.scale),J.zoom({level:Ve,renderedPosition:{x:Se[0],y:Se[1]}}),J.emit(z.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",U,!0),t.registerBinding(e,"scroll",function(z){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(z){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||z.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(de){t.hasTouchStarted||U(de)},!0),t.registerBinding(t.container,"mouseout",function(z){var J=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseout",position:{x:J[0],y:J[1]}})},!1),t.registerBinding(t.container,"mouseover",function(z){var J=t.projectIntoViewport(z.clientX,z.clientY);t.cy.emit({originalEvent:z,type:"mouseover",position:{x:J[0],y:J[1]}})},!1);var V,_,q,Y,Q,$,K,ie,ue,fe,he,ye,be,te=function(z,J,ce,ee){return Math.sqrt((ce-z)*(ce-z)+(ee-J)*(ee-J))},j=function(z,J,ce,ee){return(ce-z)*(ce-z)+(ee-J)*(ee-J)},se;t.registerBinding(t.container,"touchstart",se=function(z){if(t.hasTouchStarted=!0,!!P(z)){x(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var J=t.cy,ce=t.touchData.now,ee=t.touchData.earlier;if(z.touches[0]){var ae=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ce[0]=ae[0],ce[1]=ae[1]}if(z.touches[1]){var ae=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ce[2]=ae[0],ce[3]=ae[1]}if(z.touches[2]){var ae=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ce[4]=ae[0],ce[5]=ae[1]}if(z.touches[1]){t.touchData.singleTouchMoved=!0,b(t.dragData.touchDragEles);var Se=t.findContainerClientCoords();ue=Se[0],fe=Se[1],he=Se[2],ye=Se[3],V=z.touches[0].clientX-ue,_=z.touches[0].clientY-fe,q=z.touches[1].clientX-ue,Y=z.touches[1].clientY-fe,be=0<=V&&V<=he&&0<=q&&q<=he&&0<=_&&_<=ye&&0<=Y&&Y<=ye;var ve=J.pan(),Ce=J.zoom();Q=te(V,_,q,Y),$=j(V,_,q,Y),K=[(V+q)/2,(_+Y)/2],ie=[(K[0]-ve.x)/Ce,(K[1]-ve.y)/Ce];var Ve=200,Qe=Ve*Ve;if($<Qe&&!z.touches[2]){var Ge=t.findNearestElement(ce[0],ce[1],!0,!0),$e=t.findNearestElement(ce[2],ce[3],!0,!0);Ge&&Ge.isNode()?(Ge.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),t.touchData.start=Ge):$e&&$e.isNode()?($e.activate().emit({originalEvent:z,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),t.touchData.start=$e):J.emit({originalEvent:z,type:"cxttapstart",position:{x:ce[0],y:ce[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(z.touches[2])J.boxSelectionEnabled()&&z.preventDefault();else if(!z.touches[1]){if(z.touches[0]){var Ke=t.findNearestElements(ce[0],ce[1],!0,!0),qe=Ke[0];if(qe!=null&&(qe.activate(),t.touchData.start=qe,t.touchData.starts=Ke,t.nodeIsGrabbable(qe))){var ot=t.dragData.touchDragEles=J.collection(),gt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),qe.selected()?(gt=J.$(function(Dt){return Dt.selected()&&t.nodeIsGrabbable(Dt)}),m(gt,{addToList:ot})):w(qe,{addToList:ot}),c(qe);var $t=function(Ut){return{originalEvent:z,type:Ut,position:{x:ce[0],y:ce[1]}}};qe.emit($t("grabon")),gt?gt.forEach(function(Dt){Dt.emit($t("grab"))}):qe.emit($t("grab"))}a(qe,["touchstart","tapstart","vmousedown"],z,{x:ce[0],y:ce[1]}),qe==null&&(t.data.bgActivePosistion={x:ae[0],y:ae[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],z,{x:ce[0],y:ce[1]})},t.tapholdDuration)}}if(z.touches.length>=1){for(var Kt=t.touchData.startPosition=[null,null,null,null,null,null],ct=0;ct<ce.length;ct++)Kt[ct]=ee[ct]=ce[ct];var st=z.touches[0];t.touchData.startGPosition=[st.clientX,st.clientY]}}},!1);var me;t.registerBinding(e,"touchmove",me=function(z){var J=t.touchData.capture;if(!(!J&&!P(z))){var ce=t.selection,ee=t.cy,ae=t.touchData.now,Se=t.touchData.earlier,ve=ee.zoom();if(z.touches[0]){var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}if(z.touches[1]){var Ce=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ae[2]=Ce[0],ae[3]=Ce[1]}if(z.touches[2]){var Ce=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ae[4]=Ce[0],ae[5]=Ce[1]}var Ve=t.touchData.startGPosition,Qe;if(J&&z.touches[0]&&Ve){for(var Ge=[],$e=0;$e<ae.length;$e++)Ge[$e]=ae[$e]-Se[$e];var Ke=z.touches[0].clientX-Ve[0],qe=Ke*Ke,ot=z.touches[0].clientY-Ve[1],gt=ot*ot,$t=qe+gt;Qe=$t>=t.touchTapThreshold2}if(J&&t.touchData.cxt){z.preventDefault();var Kt=z.touches[0].clientX-ue,ct=z.touches[0].clientY-fe,st=z.touches[1].clientX-ue,Dt=z.touches[1].clientY-fe,Ut=j(Kt,ct,st,Dt),kt=Ut/$,dr=150,Rt=dr*dr,Vt=1.5,vr=Vt*Vt;if(kt>=vr||Ut>=Rt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var or={originalEvent:z,type:"cxttapend",position:{x:ae[0],y:ae[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(or),t.touchData.start=null):ee.emit(or)}}if(J&&t.touchData.cxt){var or={originalEvent:z,type:"cxtdrag",position:{x:ae[0],y:ae[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(or):ee.emit(or),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Bt=t.findNearestElement(ae[0],ae[1],!0,!0);(!t.touchData.cxtOver||Bt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:z,type:"cxtdragout",position:{x:ae[0],y:ae[1]}}),t.touchData.cxtOver=Bt,Bt&&Bt.emit({originalEvent:z,type:"cxtdragover",position:{x:ae[0],y:ae[1]}}))}else if(J&&z.touches[2]&&ee.boxSelectionEnabled())z.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ee.emit({originalEvent:z,type:"boxstart",position:{x:ae[0],y:ae[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ce[4]=1,!ce||ce.length===0||ce[0]===void 0?(ce[0]=(ae[0]+ae[2]+ae[4])/3,ce[1]=(ae[1]+ae[3]+ae[5])/3,ce[2]=(ae[0]+ae[2]+ae[4])/3+1,ce[3]=(ae[1]+ae[3]+ae[5])/3+1):(ce[2]=(ae[0]+ae[2]+ae[4])/3,ce[3]=(ae[1]+ae[3]+ae[5])/3),t.redrawHint("select",!0),t.redraw();else if(J&&z.touches[1]&&!t.touchData.didSelect&&ee.zoomingEnabled()&&ee.panningEnabled()&&ee.userZoomingEnabled()&&ee.userPanningEnabled()){z.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Lt=t.dragData.touchDragEles;if(Lt){t.redrawHint("drag",!0);for(var Zt=0;Zt<Lt.length;Zt++){var En=Lt[Zt]._private;En.grabbed=!1,En.rscratch.inDragLayer=!1}}var br=t.touchData.start,Kt=z.touches[0].clientX-ue,ct=z.touches[0].clientY-fe,st=z.touches[1].clientX-ue,Dt=z.touches[1].clientY-fe,gi=te(Kt,ct,st,Dt),pi=gi/Q;if(be){var Ro=Kt-V,Jr=ct-_,yi=st-q,wa=Dt-Y,xa=(Ro+yi)/2,Hn=(Jr+wa)/2,en=ee.zoom(),Ea=en*pi,Ir=ee.pan(),Ta=ie[0]*en+Ir.x,Ca=ie[1]*en+Ir.y,mi={x:-Ea/en*(Ta-Ir.x-xa)+Ta,y:-Ea/en*(Ca-Ir.y-Hn)+Ca};if(br&&br.active()){var Lt=t.dragData.touchDragEles;b(Lt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),br.unactivate().emit("freeon"),Lt.emit("free"),t.dragData.didDrag&&(br.emit("dragfreeon"),Lt.emit("dragfree"))}ee.viewport({zoom:Ea,pan:mi,cancelOnFailedZoom:!0}),ee.emit("pinchzoom"),Q=gi,V=Kt,_=ct,q=st,Y=Dt,t.pinching=!0}if(z.touches[0]){var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}if(z.touches[1]){var Ce=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ae[2]=Ce[0],ae[3]=Ce[1]}if(z.touches[2]){var Ce=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ae[4]=Ce[0],ae[5]=Ce[1]}}else if(z.touches[0]&&!t.touchData.didSelect){var sr=t.touchData.start,Da=t.touchData.last,Bt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Bt=t.findNearestElement(ae[0],ae[1],!0,!0)),J&&sr!=null&&z.preventDefault(),J&&sr!=null&&t.nodeIsDraggable(sr))if(Qe){var Lt=t.dragData.touchDragEles,_n=!t.dragData.didDrag;_n&&m(Lt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Tn={x:0,y:0};if(Pe(Ge[0])&&Pe(Ge[1])&&(Tn.x+=Ge[0],Tn.y+=Ge[1],_n)){t.redrawHint("eles",!0);var gr=t.touchData.dragDelta;gr&&Pe(gr[0])&&Pe(gr[1])&&(Tn.x+=gr[0],Tn.y+=gr[1])}t.hoverData.draggingEles=!0,Lt.silentShift(Tn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Se[0]&&t.touchData.startPosition[1]==Se[1]&&t.redrawHint("eles",!0),t.redraw()}else{var gr=t.touchData.dragDelta=t.touchData.dragDelta||[];gr.length===0?(gr.push(Ge[0]),gr.push(Ge[1])):(gr[0]+=Ge[0],gr[1]+=Ge[1])}if(a(sr||Bt,["touchmove","tapdrag","vmousemove"],z,{x:ae[0],y:ae[1]}),(!sr||!sr.grabbed())&&Bt!=Da&&(Da&&Da.emit({originalEvent:z,type:"tapdragout",position:{x:ae[0],y:ae[1]}}),Bt&&Bt.emit({originalEvent:z,type:"tapdragover",position:{x:ae[0],y:ae[1]}})),t.touchData.last=Bt,J)for(var Zt=0;Zt<ae.length;Zt++)ae[Zt]&&t.touchData.startPosition[Zt]&&Qe&&(t.touchData.singleTouchMoved=!0);if(J&&(sr==null||sr.pannable())&&ee.panningEnabled()&&ee.userPanningEnabled()){var bi=o(sr,t.touchData.starts);bi&&(z.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ea(t.touchData.startPosition)),t.swipePanning?(ee.panBy({x:Ge[0]*ve,y:Ge[1]*ve}),ee.emit("dragpan")):Qe&&(t.swipePanning=!0,ee.panBy({x:Ke*ve,y:ot*ve}),ee.emit("dragpan"),sr&&(sr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ce=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ae[0]=Ce[0],ae[1]=Ce[1]}}for(var $e=0;$e<ae.length;$e++)Se[$e]=ae[$e];J&&z.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ae;t.registerBinding(e,"touchcancel",Ae=function(z){var J=t.touchData.start;t.touchData.capture=!1,J&&J.unactivate()});var Be,Re,Le,Ue;if(t.registerBinding(e,"touchend",Be=function(z){var J=t.touchData.start,ce=t.touchData.capture;if(ce)z.touches.length===0&&(t.touchData.capture=!1),z.preventDefault();else return;var ee=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ae=t.cy,Se=ae.zoom(),ve=t.touchData.now,Ce=t.touchData.earlier;if(z.touches[0]){var Ve=t.projectIntoViewport(z.touches[0].clientX,z.touches[0].clientY);ve[0]=Ve[0],ve[1]=Ve[1]}if(z.touches[1]){var Ve=t.projectIntoViewport(z.touches[1].clientX,z.touches[1].clientY);ve[2]=Ve[0],ve[3]=Ve[1]}if(z.touches[2]){var Ve=t.projectIntoViewport(z.touches[2].clientX,z.touches[2].clientY);ve[4]=Ve[0],ve[5]=Ve[1]}J&&J.unactivate();var Qe;if(t.touchData.cxt){if(Qe={originalEvent:z,type:"cxttapend",position:{x:ve[0],y:ve[1]}},J?J.emit(Qe):ae.emit(Qe),!t.touchData.cxtDragged){var Ge={originalEvent:z,type:"cxttap",position:{x:ve[0],y:ve[1]}};J?J.emit(Ge):ae.emit(Ge)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!z.touches[2]&&ae.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var $e=ae.collection(t.getAllInBox(ee[0],ee[1],ee[2],ee[3]));ee[0]=void 0,ee[1]=void 0,ee[2]=void 0,ee[3]=void 0,ee[4]=0,t.redrawHint("select",!0),ae.emit({type:"boxend",originalEvent:z,position:{x:ve[0],y:ve[1]}});var Ke=function(Rt){return Rt.selectable()&&!Rt.selected()};$e.emit("box").stdFilter(Ke).select().emit("boxselect"),$e.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(J!=null&&J.unactivate(),z.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!z.touches[1]){if(!z.touches[0]){if(!z.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var qe=t.dragData.touchDragEles;if(J!=null){var ot=J._private.grabbed;b(qe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ot&&(J.emit("freeon"),qe.emit("free"),t.dragData.didDrag&&(J.emit("dragfreeon"),qe.emit("dragfree"))),a(J,["touchend","tapend","vmouseup","tapdragout"],z,{x:ve[0],y:ve[1]}),J.unactivate(),t.touchData.start=null}else{var gt=t.findNearestElement(ve[0],ve[1],!0,!0);a(gt,["touchend","tapend","vmouseup","tapdragout"],z,{x:ve[0],y:ve[1]})}var $t=t.touchData.startPosition[0]-ve[0],Kt=$t*$t,ct=t.touchData.startPosition[1]-ve[1],st=ct*ct,Dt=Kt+st,Ut=Dt*Se*Se;t.touchData.singleTouchMoved||(J||ae.$(":selected").unselect(["tapunselect"]),a(J,["tap","vclick"],z,{x:ve[0],y:ve[1]}),Re=!1,z.timeStamp-Ue<=ae.multiClickDebounceTime()?(Le&&clearTimeout(Le),Re=!0,Ue=null,a(J,["dbltap","vdblclick"],z,{x:ve[0],y:ve[1]})):(Le=setTimeout(function(){Re||a(J,["onetap","voneclick"],z,{x:ve[0],y:ve[1]})},ae.multiClickDebounceTime()),Ue=z.timeStamp)),J!=null&&!t.dragData.didDrag&&J._private.selectable&&Ut<t.touchTapThreshold2&&!t.pinching&&(ae.selectionType()==="single"?(ae.$(r).unmerge(J).unselect(["tapunselect"]),J.select(["tapselect"])):J.selected()?J.unselect(["tapunselect"]):J.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var kt=0;kt<ve.length;kt++)Ce[kt]=ve[kt];t.dragData.didDrag=!1,z.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),z.touches.length<2&&(z.touches.length===1&&(t.touchData.startGPosition=[z.touches[0].clientX,z.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var we=[],Te=function(z){return{clientX:z.clientX,clientY:z.clientY,force:1,identifier:z.pointerId,pageX:z.pageX,pageY:z.pageY,radiusX:z.width/2,radiusY:z.height/2,screenX:z.screenX,screenY:z.screenY,target:z.target}},Oe=function(z){return{event:z,touch:Te(z)}},Fe=function(z){we.push(Oe(z))},Me=function(z){for(var J=0;J<we.length;J++){var ce=we[J];if(ce.event.pointerId===z.pointerId){we.splice(J,1);return}}},Ie=function(z){var J=we.filter(function(ce){return ce.event.pointerId===z.pointerId})[0];J.event=z,J.touch=Te(z)},Xe=function(z){z.touches=we.map(function(J){return J.touch})},xe=function(z){return z.pointerType==="mouse"||z.pointerType===4};t.registerBinding(t.container,"pointerdown",function(de){xe(de)||(de.preventDefault(),Fe(de),Xe(de),se(de))}),t.registerBinding(t.container,"pointerup",function(de){xe(de)||(Me(de),Xe(de),Be(de))}),t.registerBinding(t.container,"pointercancel",function(de){xe(de)||(Me(de),Xe(de),Ae(de))}),t.registerBinding(t.container,"pointermove",function(de){xe(de)||(de.preventDefault(),Ie(de),Xe(de),me(de))})}};var Qr={};Qr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,s,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,u,l,f){return Ja(s,u,this.points,n,a,i/2,o/2,l)},checkPoint:function(n,a,i,o,s,u,l,f){return Kr(n,a,this.points,u,l,o,s,[0,-1],i)}}};Qr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s,u){return vv(i,o,e,r,n/2+s,a/2+s)},checkPoint:function(e,r,n,a,i,o,s,u){return On(e,r,a,i,o,s,n)}}};Qr.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,o,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var f=i/2,c=o/2;s=s==="auto"?cf(i,o):s;for(var p=new Array(e.length/2),v=0;v<e.length/2;v++)p[v]={x:n+f*e[v*2],y:a+c*e[v*2+1]};var g,m,w,b,E=p.length;for(m=p[E-1],g=0;g<E;g++)w=p[g%E],b=p[(g+1)%E],u[l][g]=Ys(m,w,b,s),m=w,w=b;return u[l]},draw:function(n,a,i,o,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,s,this.points,this.getOrCreateCorners(a,i,o,s,u,l,"drawCorners"))},intersectLine:function(n,a,i,o,s,u,l,f,c){return gv(s,u,this.points,n,a,i,o,l,this.getOrCreateCorners(n,a,i,o,f,c,"corners"))},checkPoint:function(n,a,i,o,s,u,l,f,c){return dv(n,a,this.points,u,l,o,s,this.getOrCreateCorners(u,l,o,s,f,c,"corners"))}}};Qr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ar(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,s,u){return lf(i,o,e,r,n,a,s,u)},checkPoint:function(e,r,n,a,i,o,s,u){var l=a/2,f=i/2;u=u==="auto"?Bn(a,i):u,u=Math.min(l,f,u);var c=u*2;return!!(Kr(e,r,this.points,o,s,a,i-c,[0,-1],n)||Kr(e,r,this.points,o,s,a-c,i,[0,-1],n)||On(e,r,c,c,o-l+u,s-f+u,n)||On(e,r,c,c,o+l-u,s-f+u,n)||On(e,r,c,c,o+l-u,s+f-u,n)||On(e,r,c,c,o-l+u,s+f-u,n))}}};Qr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Ns(),points:ar(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,o)},generateCutTrianglePts:function(e,r,n,a,i){var o=i==="auto"?this.cornerLength:i,s=r/2,u=e/2,l=n-u,f=n+u,c=a-s,p=a+s;return{topLeft:[l,c+o,l+o,c,l+o,c+o],topRight:[f-o,c,f,c+o,f-o,c+o],bottomRight:[f,p-o,f-o,p,f-o,p-o],bottomLeft:[l+o,p,l,p-o,l+o,p-o]}},intersectLine:function(e,r,n,a,i,o,s,u){var l=this.generateCutTrianglePts(n+2*s,a+2*s,e,r,u),f=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Ja(i,o,f,e,r)},checkPoint:function(e,r,n,a,i,o,s,u){var l=u==="auto"?this.cornerLength:u;if(Kr(e,r,this.points,o,s,a,i-2*l,[0,-1],n)||Kr(e,r,this.points,o,s,a-2*l,i,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,i,o,s);return cr(e,r,f.topLeft)||cr(e,r,f.topRight)||cr(e,r,f.bottomRight)||cr(e,r,f.bottomLeft)}}};Qr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ar(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s,u){var l=.15,f=.5,c=.85,p=this.generateBarrelBezierPts(n+2*s,a+2*s,e,r),v=function(w){var b=ra({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},l),E=ra({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f),x=ra({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},c);return[w[0],w[1],b.x,b.y,E.x,E.y,x.x,x.y,w[4],w[5]]},g=[].concat(v(p.topLeft),v(p.topRight),v(p.bottomRight),v(p.bottomLeft));return Ja(i,o,g,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,s=n-o,u=n+o,l=a-i,f=a+i,c=fs(e,r),p=c.heightOffset,v=c.widthOffset,g=c.ctrlPtOffsetPct*e,m={topLeft:[s,l+p,s+g,l,s+v,l],topRight:[u-v,l,u-g,l,u,l+p],bottomRight:[u,f-p,u-g,f,u-v,f],bottomLeft:[s+v,f,s+g,f,s,f-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,a,i,o,s,u){var l=fs(a,i),f=l.heightOffset,c=l.widthOffset;if(Kr(e,r,this.points,o,s,a,i-2*f,[0,-1],n)||Kr(e,r,this.points,o,s,a-2*c,i,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,i,o,s),v=function(A,D,P){var O=P[4],N=P[2],B=P[0],F=P[5],U=P[1],V=Math.min(O,B),_=Math.max(O,B),q=Math.min(F,U),Y=Math.max(F,U);if(V<=A&&A<=_&&q<=D&&D<=Y){var Q=pv(O,N,B),$=lv(Q[0],Q[1],Q[2],A),K=$.filter(function(ie){return 0<=ie&&ie<=1});if(K.length>0)return K[0]}return null},g=Object.keys(p),m=0;m<g.length;m++){var w=g[m],b=p[w],E=v(e,r,b);if(E!=null){var x=b[5],S=b[3],L=b[1],M=Ft(x,S,L,E);if(b.isTop&&M<=r||b.isBottom&&r<=M)return!0}}return!1}}};Qr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ar(4,0),draw:function(e,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,o)},intersectLine:function(e,r,n,a,i,o,s,u){var l=e-(n/2+s),f=r-(a/2+s),c=f,p=e+(n/2+s),v=ln(i,o,e,r,l,f,p,c,!1);return v.length>0?v:lf(i,o,e,r,n,a,s,u)},checkPoint:function(e,r,n,a,i,o,s,u){u=u==="auto"?Bn(a,i):u;var l=2*u;if(Kr(e,r,this.points,o,s,a,i-l,[0,-1],n)||Kr(e,r,this.points,o,s,a-l,i,[0,-1],n))return!0;var f=a/2+2*n,c=i/2+2*n,p=[o-f,s-c,o-f,s,o+f,s,o+f,s-c];return!!(cr(e,r,p)||On(e,r,l,l,o+a/2-u,s+i/2-u,n)||On(e,r,l,l,o-a/2+u,s+i/2-u,n))}}};Qr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ar(3,0)),this.generateRoundPolygon("round-triangle",ar(3,0)),this.generatePolygon("rectangle",ar(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ar(5,0)),this.generateRoundPolygon("round-pentagon",ar(5,0)),this.generatePolygon("hexagon",ar(6,0)),this.generateRoundPolygon("round-hexagon",ar(6,0)),this.generatePolygon("heptagon",ar(7,0)),this.generateRoundPolygon("round-heptagon",ar(7,0)),this.generatePolygon("octagon",ar(8,0)),this.generateRoundPolygon("round-octagon",ar(8,0));var n=new Array(20);{var a=ls(5,0),i=ls(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=ff(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var f=l.join("$"),c="polygon-"+f,p;return(p=this[c])?p:e.generatePolygon(c,l)}};var di={};di.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};di.redraw=function(t){t=t||nf();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};di.beforeRender=function(t,e){if(!this.destroyed){e==null&&Tt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var yl=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};di.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){yl(t,!0,a);var i=$r();t.render(t.renderOptions);var o=t.lastDrawTime=$r();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else yl(t,!1,a);t.skipFrame=!1,eo(n)}};eo(r)}};var Km=function(e){this.init(e)},lc=Km,ma=lc.prototype;ma.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ma.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!u){var l=a.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",i.insertBefore(l,i.children[0])}var f=n.getComputedStyle(r),c=f.getPropertyValue("position");c==="static"&&vt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Pe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ma.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ma.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};ma.isHeadless=function(){return!1};[Ws,sc,uc,ya,Qr,di].forEach(function(t){Ye(ma,t)});var rs=1e3/60,fc={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=ui(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(l,f){var c=$r(),p=a.averageRedrawTime,v=a.lastRedrawTime,g=[],m=a.cy.extent(),w=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var b=$r(),E=b-c,x=b-f;if(v<rs){var S=rs-(l?p:0);if(x>=e.deqFastCost*S)break}else if(l){if(E>=e.deqCost*v||E>=e.deqAvgCost*p)break}else if(x>=e.deqNoDrawCost*rs)break;var L=e.deq(n,w,m);if(L.length>0)for(var M=0;M<L.length;M++)g.push(L[M]);else break}g.length>0&&(e.onDeqd(n,g),!l&&e.shouldRedraw(n,g,w,m)&&i())},s=e.priority||Ps;a.beforeRender(o,s(n))}}}},Zm=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:to;mn(this,t),this.idsByKey=new Vr,this.keyForId=new Vr,this.cachesByLvl=new Vr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return bn(t,[{key:"getIdsFor",value:function(r){r==null&&Tt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new fa,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Vr,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),ml=25,Fi=50,$i=-4,xs=3,cc=7.99,Qm=8,jm=1024,Jm=1024,e0=1024,t0=.2,r0=.8,n0=10,a0=.15,i0=.1,o0=.9,s0=.9,u0=100,l0=1,ta={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},f0=Gt({getKey:null,doesEleInvalidateKey:to,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ef,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),_a=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=f0(r);Ye(n,a),n.lookup=new Zm(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Nt=_a.prototype;Nt.reasons=ta;Nt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Nt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Nt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new li(function(r,n){return n.reqs-r.reqs});return e};Nt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Nt.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Is(s*r))),n<$i)n=$i;else if(s>=cc||n>xs)return null;var l=Math.pow(2,n),f=e.h*l,c=e.w*l,p=o.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,p))return null;var v=u.get(t,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var g;if(f<=ml?g=ml:f<=Fi?g=Fi:g=Math.ceil(f/Fi)*Fi,f>e0||c>Jm)return null;var m=i.getTextureQueue(g),w=m[m.length-2],b=function(){return i.recycleTexture(g,c)||i.addTexture(g,c)};w||(w=m[m.length-1]),w||(w=b()),w.width-w.usedWidth<c&&(w=b());for(var E=function(V){return V&&V.scaledLabelShown===p},x=a&&a===ta.dequeue,S=a&&a===ta.highQuality,L=a&&a===ta.downscale,M,d=n+1;d<=xs;d++){var A=u.get(t,d);if(A){M=A;break}}var D=M&&M.level===n+1?M:null,P=function(){w.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,w.usedWidth,0,c,f)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,c,g),E(D))P();else if(E(M))if(S){for(var O=M.level;O>n;O--)D=i.getElement(t,e,r,O,ta.downscale);P()}else return i.queueElement(t,M.level-1),M;else{var N;if(!x&&!S&&!L)for(var B=n-1;B>=$i;B--){var F=u.get(t,B);if(F){N=F;break}}if(E(N))return i.queueElement(t,n),N;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return v={x:w.usedWidth,texture:w,level:n,scale:l,width:c,height:f,scaledLabelShown:p},w.usedWidth+=Math.ceil(c+Qm),w.eleCaches.push(v),u.set(t,n,v),i.checkTextureFullness(w),v};Nt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Nt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=$i;i<=xs;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var s=r.invalidate(t);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};Nt.checkTextureUtility=function(t){t.invalidatedWidth>=t0*t.width&&this.retireTexture(t)};Nt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>r0&&t.fullnessChecks>=n0?vn(r,t):t.fullnessChecks++};Nt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;vn(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}Ms(i);var u=e.getRetiredTextureQueue(r);u.push(t)};Nt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(jm,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Nt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Ms(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),vn(a,o),n.push(o),o}};Nt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(s),a[i]=s}};Nt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<l0&&r.size()>0;o++){var s=r.pop(),u=s.key,l=s.eles[0],f=i.hasCache(l,s.level);if(n[u]=null,f)continue;a.push(s);var c=e.getBoundingBox(l);e.getElement(l,c,t,s.level,ta.dequeue)}return a};Nt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Rs,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};Nt.onDequeue=function(t){this.onDequeues.push(t)};Nt.offDequeue=function(t){vn(this.onDequeues,t)};Nt.setupDequeueing=fc.setupDequeueing({deqRedrawThreshold:u0,deqCost:a0,deqAvgCost:i0,deqNoDrawCost:o0,deqFastCost:s0,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(Os(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var c0=1,Wa=-4,lo=2,h0=3.99,d0=50,v0=50,g0=.15,p0=.1,y0=.9,m0=.9,b0=1,bl=250,w0=4e3*4e3,wl=32767,x0=!0,hc=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=$r()-2*bl,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=ui(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},v0),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=bl?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,u){return u.reqs-s.reqs};r.layersQueue=new li(i),r.setupDequeueing()},Xt=hc.prototype,xl=0,E0=Math.pow(2,53)-1;Xt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:xl=++xl%E0,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(r,r),s.translate(u,l),o};Xt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Is(o*e)),r<Wa)r=Wa;else if(o>=h0||r>lo)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],c,p=n.levelIsComplete(r,t),v,g=function(){var P=function(U){if(n.validateLayersElesOrdering(U,t),n.levelIsComplete(U,t))return v=u[U],!0},O=function(U){if(!v)for(var V=r+U;Wa<=V&&V<=lo&&!P(V);V+=U);};O(1),O(-1);for(var N=f.length-1;N>=0;N--){var B=f[N];B.invalid&&vn(f,B)}};if(!p)g();else return f;var m=function(){if(!c){c=hr();for(var P=0;P<t.length;P++)sf(c,t[P].boundingBox())}return c},w=function(P){P=P||{};var O=P.after;m();var N=Math.ceil(c.w*l),B=Math.ceil(c.h*l);if(N>wl||B>wl)return null;var F=N*B;if(F>w0)return null;var U=n.makeLayer(c,r);if(O!=null){var V=f.indexOf(O)+1;f.splice(V,0,U)}else(P.insert===void 0||P.insert)&&f.unshift(U);return U};if(n.skipping&&!s)return null;for(var b=null,E=t.length/c0,x=!s,S=0;S<t.length;S++){var L=t[S],M=L._private.rscratch,d=M.imgLayerCaches=M.imgLayerCaches||{},A=d[r];if(A){b=A;continue}if((!b||b.eles.length>=E||!uf(b.bb,L.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;v||x?n.queueLayer(b,L):n.drawEleInLayer(b,L,r,e),b.eles.push(L),d[r]=b}return v||(x?null:f)};Xt.getEleLevelForLayerLevel=function(t,e){return t};Xt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,x0),i.setImgSmoothing(o,!0))};Xt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length};Xt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[s+o]){this.invalidateLayer(a);break}}};Xt.updateElementsInLayers=function(t,e){for(var r=this,n=oi(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=Wa;l<=lo;l++){var f=u[l];f&&(i&&r.getEleLevelForLayerLevel(f.level)!==i.level||e(f,o,i))}};Xt.haveLayers=function(){for(var t=this,e=!1,r=Wa;r<=lo;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Xt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=$r(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Xt.invalidateLayer=function(t){if(this.lastInvalidationTime=$r(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];vn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Xt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Xt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Xt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Xt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<b0&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Xt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Xt.requestRedraw=ui(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Xt.setupDequeueing=fc.setupDequeueing({deqRedrawThreshold:d0,deqCost:g0,deqAvgCost:p0,deqNoDrawCost:y0,deqFastCost:m0,deq:function(e,r){return e.dequeue(r)},onDeqd:Ps,shouldRedraw:ef,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var dc={},El;function T0(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function C0(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Tl(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function D0(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var u=i[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function S0(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}dc.arrowShapeImpl=function(t){return(El||(El={polygon:T0,"triangle-backcurve":C0,"triangle-tee":Tl,"circle-triangle":D0,"triangle-cross":Tl,circle:S0}))[t]};var qr={};qr.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)};qr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};qr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};qr.drawCachedElementPortion=function(t,e,r,n,a,i,o,s){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var f=r.getElement(e,l,n,a,i);if(f!=null){var c=s(u,e);if(c===0)return;var p=o(u,e),v=l.x1,g=l.y1,m=l.w,w=l.h,b,E,x,S,L;if(p!==0){var M=r.getRotationPoint(e);x=M.x,S=M.y,t.translate(x,S),t.rotate(p),L=u.getImgSmoothing(t),L||u.setImgSmoothing(t,!0);var d=r.getRotationOffset(e);b=d.x,E=d.y}else b=v,E=g;var A;c!==1&&(A=t.globalAlpha,t.globalAlpha=A*c),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,b,E,m,w),c!==1&&(t.globalAlpha=A),p!==0&&(t.rotate(-p),t.translate(-x,-S),L||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var A0=function(){return 0},L0=function(e,r){return e.getTextAngle(r,null)},R0=function(e,r){return e.getTextAngle(r,"source")},P0=function(e,r){return e.getTextAngle(r,"target")},M0=function(e,r){return r.effectiveOpacity()},ns=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};qr.drawCachedElement=function(t,e,r,n,a,i){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,c=s.tlbTxrCache,p=e.boundingBox(),v=i===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||Os(p,n))){var g=e.isEdge(),m=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,u,r,a,v,A0,M0),(!g||!m)&&o.drawCachedElementPortion(t,e,l,r,a,v,L0,ns),g&&!m&&(o.drawCachedElementPortion(t,e,f,r,a,v,R0,ns),o.drawCachedElementPortion(t,e,c,r,a,v,P0,ns)),o.drawElementOverlay(t,e)}};qr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};qr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}};qr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}};qr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var jr={};jr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(i&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=i?e.pstyle("opacity").value:1,f=i?e.pstyle("line-opacity").value:1,c=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,g=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,b=l*f,E=l*f,x=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;c==="straight-triangle"?(o.eleStrokeStyle(t,e,U),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=v,t.lineCap=g,o.eleStrokeStyle(t,e,U),o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},S=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(t.lineWidth=v+m,t.lineCap=g,m>0)o.colorStrokeStyle(t,w[0],w[1],w[2],U);else{t.lineCap="butt";return}c==="straight-triangle"?o.drawEdgeTrianglePath(e,t,s.allpts):(o.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},L=function(){a&&o.drawEdgeOverlay(t,e)},M=function(){a&&o.drawEdgeUnderlay(t,e)},d=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;o.drawArrowheads(t,e,U)},A=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var P=e.pstyle("ghost-offset-x").pfValue,O=e.pstyle("ghost-offset-y").pfValue,N=e.pstyle("ghost-opacity").value,B=b*N;t.translate(P,O),x(B),d(B),t.translate(-P,-O)}else S();M(),x(),d(),L(),A(),r&&t.translate(u.x1,u.y1)}};var vc=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,f[0],f[1],f[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};jr.drawEdgeOverlay=vc("overlay");jr.drawEdgeUnderlay=vc("underlay");jr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var c=r.join("$"),p=a.pathCacheKey&&a.pathCacheKey===c;p?(o=e=a.pathCache,s=!0):(o=e=new Path2D,a.pathCacheKey=c,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<r.length;v+=4)e.quadraticCurveTo(r[v],r[v+1],r[v+2],r[v+3]);break;case"straight":case"haystack":for(var g=2;g+1<r.length;g+=2)e.lineTo(r[g],r[g+1]);break;case"segments":if(a.isRound){var m=yr(a.roundCorners),w;try{for(m.s();!(w=m.n()).done;){var b=w.value;rc(e,b)}}catch(x){m.e(x)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var E=2;E+1<r.length;E+=2)e.lineTo(r[E],r[E+1]);break}e=i,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};jr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};jr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};jr.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,c=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),v=p.value==="match-line"?c:p.pfValue;p.units==="%"&&(v*=c);var g=e.pstyle("opacity").value;o===void 0&&(o=g);var m=t.globalCompositeOperation;(o!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,c,u,v,n,a,i),t.globalCompositeOperation=m);var w=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,w[0],w[1],w[2],o),s.colorStrokeStyle(t,w[0],w[1],w[2],o),s.drawArrowShape(e,t,f,c,u,v,n,a,i)}}};jr.drawArrowShape=function(t,e,r,n,a,i,o,s,u){var l=this,f=this.usePaths()&&a!=="triangle-cross",c=!1,p,v=e,g={x:o,y:s},m=t.pstyle("arrow-scale").value,w=this.getArrowWidth(n,m),b=l.arrowShapes[a];if(f){var E=l.arrowPathCache=l.arrowPathCache||[],x=dn(a),S=E[x];S!=null?(p=e=S,c=!0):(p=e=new Path2D,E[x]=p)}c||(e.beginPath&&e.beginPath(),f?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,u,g,n),e.closePath&&e.closePath()),e=v,f&&(e.translate(o,s),e.rotate(u),e.scale(w,w)),(r==="filled"||r==="both")&&(f?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(f?w:1),e.lineJoin="miter",f?e.stroke(p):e.stroke()),f&&(e.scale(1/w,1/w),e.rotate(-u),e.translate(-o,-s))};var $s={};$s.safeDrawImage=function(t,e,r,n,a,i,o,s,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,i,o,s,u,l)}catch(f){vt(f)}};$s.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),s=o.x,u=o.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),c=f(r,"background-fit","value",n),p=f(r,"background-repeat","value",n),v=r.width(),g=r.height(),m=r.padding()*2,w=v+(f(r,"background-width-relative-to","value",n)==="inner"?0:m),b=g+(f(r,"background-height-relative-to","value",n)==="inner"?0:m),E=r._private.rscratch,x=f(r,"background-clip","value",n),S=x==="node",L=f(r,"background-image-opacity","value",n)*a,M=f(r,"background-image-smoothing","value",n),d=r.pstyle("corner-radius").value;d!=="auto"&&(d=r.pstyle("corner-radius").pfValue);var A=e.width||e.cachedW,D=e.height||e.cachedH;(A==null||D==null)&&(document.body.appendChild(e),A=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var P=A,O=D;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?P=f(r,"background-width","pfValue",n)*w:P=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?O=f(r,"background-height","pfValue",n)*b:O=f(r,"background-height","pfValue",n)),!(P===0||O===0)){if(c==="contain"){var N=Math.min(w/P,b/O);P*=N,O*=N}else if(c==="cover"){var N=Math.max(w/P,b/O);P*=N,O*=N}var B=s-w/2,F=f(r,"background-position-x","units",n),U=f(r,"background-position-x","pfValue",n);F==="%"?B+=(w-P)*U:B+=U;var V=f(r,"background-offset-x","units",n),_=f(r,"background-offset-x","pfValue",n);V==="%"?B+=(w-P)*_:B+=_;var q=u-b/2,Y=f(r,"background-position-y","units",n),Q=f(r,"background-position-y","pfValue",n);Y==="%"?q+=(b-O)*Q:q+=Q;var $=f(r,"background-offset-y","units",n),K=f(r,"background-offset-y","pfValue",n);$==="%"?q+=(b-O)*K:q+=K,E.pathCache&&(B-=s,q-=u,s=0,u=0);var ie=t.globalAlpha;t.globalAlpha=L;var ue=i.getImgSmoothing(t),fe=!1;if(M==="no"&&ue?(i.setImgSmoothing(t,!1),fe=!0):M==="yes"&&!ue&&(i.setImgSmoothing(t,!0),fe=!0),p==="no-repeat")S&&(t.save(),E.pathCache?t.clip(E.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,s,u,w,b,d,E),t.clip())),i.safeDrawImage(t,e,0,0,A,D,B,q,P,O),S&&t.restore();else{var he=t.createPattern(e,p);t.fillStyle=he,i.nodeShapes[i.getNodeShape(r)].draw(t,s,u,w,b,d,E),t.translate(B,q),t.fill(),t.translate(-B,-q)}t.globalAlpha=ie,fe&&i.setImgSmoothing(t,ue)}};var Vn={};Vn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Is(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};Vn.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,f=e.pstyle("label"),c=e.pstyle("source-label"),p=e.pstyle("target-label");if(l||(!f||!f.value)&&(!c||!c.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var v=!r,g;r&&(g=r,t.translate(-g.x1,-g.y1)),a==null?(o.drawText(t,e,null,v,i),e.isEdge()&&(o.drawText(t,e,"source",v,i),o.drawText(t,e,"target",v,i))):o.drawText(t,e,a,v,i),r&&t.translate(g.x1,g.y1)};Vn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Vn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function as(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),o?t.stroke():t.fill()}Vn.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var s=Rr(a,"labelAngle",e);r=t.isEdge()?s:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};Vn.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Rr(o,"labelX",r),l=Rr(o,"labelY",r),f,c,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var v=r?r+"-":"",g=Rr(o,"labelWidth",r),m=Rr(o,"labelHeight",r),w=e.pstyle(v+"text-margin-x").pfValue,b=e.pstyle(v+"text-margin-y").pfValue,E=e.isEdge(),x=e.pstyle("text-halign").value,S=e.pstyle("text-valign").value;E&&(x="center",S="center"),u+=w,l+=b;var L;switch(n?L=this.getTextAngle(e,r):L=0,L!==0&&(f=u,c=l,t.translate(f,c),t.rotate(L),u=0,l=0),S){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var M=e.pstyle("text-background-opacity").value,d=e.pstyle("text-border-opacity").value,A=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,P=e.pstyle("text-background-shape").strValue,O=P.indexOf("round")===0,N=2;if(M>0||A>0&&d>0){var B=u-D;switch(x){case"left":B-=g;break;case"center":B-=g/2;break}var F=l-m-D,U=g+2*D,V=m+2*D;if(M>0){var _=t.fillStyle,q=e.pstyle("text-background-color").value;t.fillStyle="rgba("+q[0]+","+q[1]+","+q[2]+","+M*s+")",O?as(t,B,F,U,V,N):t.fillRect(B,F,U,V),t.fillStyle=_}if(A>0&&d>0){var Y=t.strokeStyle,Q=t.lineWidth,$=e.pstyle("text-border-color").value,K=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+d*s+")",t.lineWidth=A,t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=A/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(O?as(t,B,F,U,V,N,"stroke"):t.strokeRect(B,F,U,V),K==="double"){var ie=A/2;O?as(t,B+ie,F+ie,U-ie*2,V-ie*2,N,"stroke"):t.strokeRect(B+ie,F+ie,U-ie*2,V-ie*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=Q,t.strokeStyle=Y}}var ue=2*e.pstyle("text-outline-width").pfValue;if(ue>0&&(t.lineWidth=ue),e.pstyle("text-wrap").value==="wrap"){var fe=Rr(o,"labelWrapCachedLines",r),he=Rr(o,"labelLineHeight",r),ye=g/2,be=this.getLabelJustification(e);switch(be==="auto"||(x==="left"?be==="left"?u+=-g:be==="center"&&(u+=-ye):x==="center"?be==="left"?u+=-ye:be==="right"&&(u+=ye):x==="right"&&(be==="center"?u+=ye:be==="right"&&(u+=g))),S){case"top":l-=(fe.length-1)*he;break;case"center":case"bottom":l-=(fe.length-1)*he;break}for(var te=0;te<fe.length;te++)ue>0&&t.strokeText(fe[te],u,l),t.fillText(fe[te],u,l),l+=he}else ue>0&&t.strokeText(p,u,l),t.fillText(p,u,l);L!==0&&(t.rotate(-L),t.translate(-f,-c))}}};var ba={};ba.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=e._private,f=l.rscratch,c=e.position();if(!(!Pe(c.x)||!Pe(c.y))&&!(i&&!e.visible())){var p=i?e.effectiveOpacity():1,v=o.usePaths(),g,m=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var E=e.pstyle("background-image"),x=E.value,S=new Array(x.length),L=new Array(x.length),M=0,d=0;d<x.length;d++){var A=x[d],D=S[d]=A!=null&&A!=="none";if(D){var P=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",d);M++,L[d]=o.getCachedImage(A,P,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var O=e.pstyle("background-blacken").value,N=e.pstyle("border-width").pfValue,B=e.pstyle("background-opacity").value*p,F=e.pstyle("border-color").value,U=e.pstyle("border-style").value,V=e.pstyle("border-join").value,_=e.pstyle("border-cap").value,q=e.pstyle("border-position").value,Y=e.pstyle("border-dash-pattern").pfValue,Q=e.pstyle("border-dash-offset").pfValue,$=e.pstyle("border-opacity").value*p,K=e.pstyle("outline-width").pfValue,ie=e.pstyle("outline-color").value,ue=e.pstyle("outline-style").value,fe=e.pstyle("outline-opacity").value*p,he=e.pstyle("outline-offset").value,ye=e.pstyle("corner-radius").value;ye!=="auto"&&(ye=e.pstyle("corner-radius").pfValue);var be=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;o.eleFillStyle(t,e,ee)},te=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;o.colorStrokeStyle(t,F[0],F[1],F[2],ee)},j=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe;o.colorStrokeStyle(t,ie[0],ie[1],ie[2],ee)},se=function(ee,ae,Se,ve){var Ce=o.nodePathCache=o.nodePathCache||[],Ve=Jl(Se==="polygon"?Se+","+ve.join(","):Se,""+ae,""+ee,""+ye),Qe=Ce[Ve],Ge,$e=!1;return Qe!=null?(Ge=Qe,$e=!0,f.pathCache=Ge):(Ge=new Path2D,Ce[Ve]=f.pathCache=Ge),{path:Ge,cacheHit:$e}},me=e.pstyle("shape").strValue,Ae=e.pstyle("shape-polygon-points").pfValue;if(v){t.translate(c.x,c.y);var Be=se(s,u,me,Ae);g=Be.path,m=Be.cacheHit}var Re=function(){if(!m){var ee=c;v&&(ee={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(g||t,ee.x,ee.y,s,u,ye,f)}v?t.fill(g):t.fill()},Le=function(){for(var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Se=l.backgrounding,ve=0,Ce=0;Ce<L.length;Ce++){var Ve=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ce);if(ae&&Ve==="over"||!ae&&Ve==="inside"){ve++;continue}S[Ce]&&L[Ce].complete&&!L[Ce].error&&(ve++,o.drawInscribedImage(t,L[Ce],e,Ce,ee))}l.backgrounding=ve!==M,Se!==l.backgrounding&&e.updateStyle(!1)},Ue=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;o.hasPie(e)&&(o.drawPie(t,e,ae),ee&&(v||o.nodeShapes[o.getNodeShape(e)].draw(t,c.x,c.y,s,u,ye,f)))},we=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,ae=(O>0?O:-O)*ee,Se=O>0?0:255;O!==0&&(o.colorFillStyle(t,Se,Se,Se,ae),v?t.fill(g):t.fill())},Te=function(){if(N>0){if(t.lineWidth=N,t.lineCap=_,t.lineJoin=V,t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(Y),t.lineDashOffset=Q;break;case"solid":case"double":t.setLineDash([]);break}if(q!=="center"){if(t.save(),t.lineWidth*=2,q==="inside")v?t.clip(g):t.clip();else{var ee=new Path2D;ee.rect(-s/2-N,-u/2-N,s+2*N,u+2*N),ee.addPath(g),t.clip(ee,"evenodd")}v?t.stroke(g):t.stroke(),t.restore()}else v?t.stroke(g):t.stroke();if(U==="double"){t.lineWidth=N/3;var ae=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke(g):t.stroke(),t.globalCompositeOperation=ae}t.setLineDash&&t.setLineDash([])}},Oe=function(){if(K>0){if(t.lineWidth=K,t.lineCap="butt",t.setLineDash)switch(ue){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var ee=c;v&&(ee={x:0,y:0});var ae=o.getNodeShape(e),Se=N;q==="inside"&&(Se=0),q==="outside"&&(Se*=2);var ve=(s+Se+(K+he))/s,Ce=(u+Se+(K+he))/u,Ve=s*ve,Qe=u*Ce,Ge=o.nodeShapes[ae].points,$e;if(v){var Ke=se(Ve,Qe,ae,Ge);$e=Ke.path}if(ae==="ellipse")o.drawEllipsePath($e||t,ee.x,ee.y,Ve,Qe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ae)){var qe=0,ot=0,gt=0;ae==="round-diamond"?qe=(Se+he+K)*1.4:ae==="round-heptagon"?(qe=(Se+he+K)*1.075,gt=-(Se/2+he+K)/35):ae==="round-hexagon"?qe=(Se+he+K)*1.12:ae==="round-pentagon"?(qe=(Se+he+K)*1.13,gt=-(Se/2+he+K)/15):ae==="round-tag"?(qe=(Se+he+K)*1.12,ot=(Se/2+K+he)*.07):ae==="round-triangle"&&(qe=(Se+he+K)*(Math.PI/2),gt=-(Se+he/2+K)/Math.PI),qe!==0&&(ve=(s+qe)/s,Ve=s*ve,["round-hexagon","round-tag"].includes(ae)||(Ce=(u+qe)/u,Qe=u*Ce)),ye=ye==="auto"?cf(Ve,Qe):ye;for(var $t=Ve/2,Kt=Qe/2,ct=ye+(Se+K+he)/2,st=new Array(Ge.length/2),Dt=new Array(Ge.length/2),Ut=0;Ut<Ge.length/2;Ut++)st[Ut]={x:ee.x+ot+$t*Ge[Ut*2],y:ee.y+gt+Kt*Ge[Ut*2+1]};var kt,dr,Rt,Vt,vr=st.length;for(dr=st[vr-1],kt=0;kt<vr;kt++)Rt=st[kt%vr],Vt=st[(kt+1)%vr],Dt[kt]=Ys(dr,Rt,Vt,ct),dr=Rt,Rt=Vt;o.drawRoundPolygonPath($e||t,ee.x+ot,ee.y+gt,s*ve,u*Ce,Ge,Dt)}else if(["roundrectangle","round-rectangle"].includes(ae))ye=ye==="auto"?Bn(Ve,Qe):ye,o.drawRoundRectanglePath($e||t,ee.x,ee.y,Ve,Qe,ye+(Se+K+he)/2);else if(["cutrectangle","cut-rectangle"].includes(ae))ye=ye==="auto"?Ns():ye,o.drawCutRectanglePath($e||t,ee.x,ee.y,Ve,Qe,null,ye+(Se+K+he)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ae))ye=ye==="auto"?Bn(Ve,Qe):ye,o.drawBottomRoundRectanglePath($e||t,ee.x,ee.y,Ve,Qe,ye+(Se+K+he)/2);else if(ae==="barrel")o.drawBarrelPath($e||t,ee.x,ee.y,Ve,Qe);else if(ae.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ae)){var or=(Se+K+he)/s;Ge=ro(no(Ge,or)),o.drawPolygonPath($e||t,ee.x,ee.y,s,u,Ge)}else{var Bt=(Se+K+he)/s;Ge=ro(no(Ge,-Bt)),o.drawPolygonPath($e||t,ee.x,ee.y,s,u,Ge)}if(v?t.stroke($e):t.stroke(),ue==="double"){t.lineWidth=Se/3;var Lt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",v?t.stroke($e):t.stroke(),t.globalCompositeOperation=Lt}t.setLineDash&&t.setLineDash([])}},Fe=function(){a&&o.drawNodeOverlay(t,e,c,s,u)},Me=function(){a&&o.drawNodeUnderlay(t,e,c,s,u)},Ie=function(){o.drawElementText(t,e,null,n)},Xe=e.pstyle("ghost").value==="yes";if(Xe){var xe=e.pstyle("ghost-offset-x").pfValue,de=e.pstyle("ghost-offset-y").pfValue,z=e.pstyle("ghost-opacity").value,J=z*p;t.translate(xe,de),j(),Oe(),be(z*B),Re(),Le(J,!0),te(z*$),Te(),Ue(O!==0||N!==0),Le(J,!1),we(J),t.translate(-xe,-de)}v&&t.translate(-c.x,-c.y),Me(),v&&t.translate(c.x,c.y),j(),Oe(),be(),Re(),Le(p,!0),te(),Te(),Ue(O!==0||N!==0),Le(p,!1),we(),v&&t.translate(-c.x,-c.y),Ie(),Fe(),r&&t.translate(b.x1,b.y1)}};var gc=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,c=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||o==null){var v=n.padding();i=n.width()+2*v,o=n.height()+2*v}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[c].draw(r,a.x,a.y,i+u*2,o+u*2,p),r.fill()}}}};ba.drawNodeOverlay=gc("overlay");ba.drawNodeUnderlay=gc("underlay");ba.hasPie=function(t){return t=t[0],t._private.hasPie};ba.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,s=n.y,u=e.width(),l=e.height(),f=Math.min(u,l)/2,c=0,p=this.usePaths();p&&(o=0,s=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2);for(var v=1;v<=a.pieBackgroundN;v++){var g=e.pstyle("pie-"+v+"-background-size").value,m=e.pstyle("pie-"+v+"-background-color").value,w=e.pstyle("pie-"+v+"-background-opacity").value*r,b=g/100;b+c>1&&(b=1-c);var E=1.5*Math.PI+2*Math.PI*c,x=2*Math.PI*b,S=E+x;g===0||c>=1||c+b>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,f,E,S),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],w),t.fill(),c+=b)}};var ir={},I0=100;ir.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};ir.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};ir.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),c=r.midpoint(),p=kn(l,c),v=kn(f,c);i=t.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(p,v))}else{var g=o?{x:0,y:0}:r.position(),m=r.paddedWidth(),w=r.paddedHeight();i=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(m,w))}else if(r.isEdge()){var b=r.sourceEndpoint(),E=r.targetEndpoint();i=t.createLinearGradient(b.x,b.y,E.x,E.y)}else{var x=o?{x:0,y:0}:r.position(),S=r.paddedWidth(),L=r.paddedHeight(),M=S/2,d=L/2,A=r.pstyle("background-gradient-direction").value;switch(A){case"to-bottom":i=t.createLinearGradient(x.x,x.y-d,x.x,x.y+d);break;case"to-top":i=t.createLinearGradient(x.x,x.y+d,x.x,x.y-d);break;case"to-left":i=t.createLinearGradient(x.x+M,x.y,x.x-M,x.y);break;case"to-right":i=t.createLinearGradient(x.x-M,x.y,x.x+M,x.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(x.x-M,x.y-d,x.x+M,x.y+d);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(x.x-M,x.y+d,x.x+M,x.y-d);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(x.x+M,x.y-d,x.x-M,x.y+d);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(x.x+M,x.y+d,x.x-M,x.y-d);break}}if(!i)return null;for(var D=u.length===s.length,P=s.length,O=0;O<P;O++)i.addColorStop(D?u[O]:O/(P-1),"rgba("+s[O][0]+","+s[O][1]+","+s[O][2]+","+a+")");return i};ir.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};ir.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};ir.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};ir.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};ir.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};ir.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};ir.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=a*o,l=i*o,f;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var c=r.canvasContainer;c.style.width=a+"px",c.style.height=i+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)f=r.canvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";for(var p=0;p<e.BUFFER_COUNT;p++)f=r.bufferCanvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";e.textureMult=1,o<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l,e.pixelRatio=o}};ir.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};ir.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};ir.render=function(t){var e=this;t=t||nf();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,o=t.forcedZoom,s=t.forcedPan,u=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=e.data,f=l.canvasNeedsRedraw,c=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,v=e.motionBlurPxRatio,g=r.hasCompoundNodes(),m=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!w;var b=p;n||(e.prevPxRatio!==u&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=u),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(b=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!c&&(f[e.NODE]=!0,f[e.SELECT_BOX]=!0);var E=r.style(),x=r.zoom(),S=o!==void 0?o:x,L=r.pan(),M={x:L.x,y:L.y},d={zoom:x,pan:{x:L.x,y:L.y}},A=e.prevViewport,D=A===void 0||d.zoom!==A.zoom||d.pan.x!==A.pan.x||d.pan.y!==A.pan.y;!D&&!(m&&!g)&&(e.motionBlurPxRatio=1),s&&(M=s),S*=u,M.x*=u,M.y*=u;var P=e.getCachedZSortedEles();function O(te,j,se,me,Ae){var Be=te.globalCompositeOperation;te.globalCompositeOperation="destination-out",e.colorFillStyle(te,255,255,255,e.motionBlurTransparency),te.fillRect(j,se,me,Ae),te.globalCompositeOperation=Be}function N(te,j){var se,me,Ae,Be;!e.clearingMotionBlur&&(te===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||te===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(se={x:L.x*v,y:L.y*v},me=x*v,Ae=e.canvasWidth*v,Be=e.canvasHeight*v):(se=M,me=S,Ae=e.canvasWidth,Be=e.canvasHeight),te.setTransform(1,0,0,1,0,0),j==="motionBlur"?O(te,0,0,Ae,Be):!n&&(j===void 0||j)&&te.clearRect(0,0,Ae,Be),a||(te.translate(se.x,se.y),te.scale(me,me)),s&&te.translate(s.x,s.y),o&&te.scale(o,o)}if(c||(e.textureDrawLastFrame=!1),c){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var B=e.data.bufferContexts[e.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:u*e.textureMult});var d=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};d.mpan={x:(0-d.pan.x)/d.zoom,y:(0-d.pan.y)/d.zoom}}f[e.DRAG]=!1,f[e.NODE]=!1;var F=l.contexts[e.NODE],U=e.textureCache.texture,d=e.textureCache.viewport;F.setTransform(1,0,0,1,0,0),p?O(F,0,0,d.width,d.height):F.clearRect(0,0,d.width,d.height);var V=E.core("outside-texture-bg-color").value,_=E.core("outside-texture-bg-opacity").value;e.colorFillStyle(F,V[0],V[1],V[2],_),F.fillRect(0,0,d.width,d.height);var x=r.zoom();N(F,!1),F.clearRect(d.mpan.x,d.mpan.y,d.width/d.zoom/u,d.height/d.zoom/u),F.drawImage(U,d.mpan.x,d.mpan.y,d.width/d.zoom/u,d.height/d.zoom/u)}else e.textureOnViewport&&!n&&(e.textureCache=null);var q=r.extent(),Y=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),Q=e.hideEdgesOnViewport&&Y,$=[];if($[e.NODE]=!f[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,$[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),$[e.DRAG]=!f[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,$[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),f[e.NODE]||a||i||$[e.NODE]){var K=p&&!$[e.NODE]&&v!==1,F=n||(K?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),ie=p&&!K?"motionBlur":void 0;N(F,ie),Q?e.drawCachedNodes(F,P.nondrag,u,q):e.drawLayeredElements(F,P.nondrag,u,q),e.debug&&e.drawDebugPoints(F,P.nondrag),!a&&!p&&(f[e.NODE]=!1)}if(!i&&(f[e.DRAG]||a||$[e.DRAG])){var K=p&&!$[e.DRAG]&&v!==1,F=n||(K?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);N(F,p&&!K?"motionBlur":void 0),Q?e.drawCachedNodes(F,P.drag,u,q):e.drawCachedElements(F,P.drag,u,q),e.debug&&e.drawDebugPoints(F,P.drag),!a&&!p&&(f[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,N),p&&v!==1){var ue=l.contexts[e.NODE],fe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],he=l.contexts[e.DRAG],ye=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],be=function(j,se,me){j.setTransform(1,0,0,1,0,0),me||!b?j.clearRect(0,0,e.canvasWidth,e.canvasHeight):O(j,0,0,e.canvasWidth,e.canvasHeight);var Ae=v;j.drawImage(se,0,0,e.canvasWidth*Ae,e.canvasHeight*Ae,0,0,e.canvasWidth,e.canvasHeight)};(f[e.NODE]||$[e.NODE])&&(be(ue,fe,$[e.NODE]),f[e.NODE]=!1),(f[e.DRAG]||$[e.DRAG])&&(be(he,ye,$[e.DRAG]),f[e.DRAG]=!1)}e.prevViewport=d,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!c,e.mbFrames=0,f[e.NODE]=!0,f[e.DRAG]=!0,e.redraw()},I0)),n||r.emit("render")};var Fa;ir.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),o=t.drawOnlyNodeLayer,s=t.drawAllLayers,u=a.canvasNeedsRedraw,l=t.forcedContext;if(r.showFps||!o&&u[r.SELECT_BOX]&&!s){var f=l||a.contexts[r.SELECT_BOX];if(e(f),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var c=r.cy.zoom(),p=i.core("selection-box-border-width").value/c;f.lineWidth=p,f.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",f.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(f.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",f.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var c=r.cy.zoom(),v=a.bgActivePosistion;f.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",f.beginPath(),f.arc(v.x,v.y,i.core("active-bg-size").pfValue/c,0,2*Math.PI),f.fill()}var g=r.lastRedrawTime;if(r.showFps&&g){g=Math.round(g);var m=Math.round(1e3/g),w="1 frame = "+g+" ms = "+m+" fps";if(f.setTransform(1,0,0,1,0,0),f.fillStyle="rgba(255, 0, 0, 0.75)",f.strokeStyle="rgba(255, 0, 0, 0.75)",f.font="30px Arial",!Fa){var b=f.measureText(w);Fa=b.actualBoundingBoxAscent}f.fillText(w,0,Fa);var E=60;f.strokeRect(0,Fa+10,250,20),f.fillRect(0,Fa+10,250*Math.min(m/E,1),20)}s||(u[r.SELECT_BOX]=!1)}};function Cl(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function O0(t,e,r){var n=Cl(t,t.VERTEX_SHADER,e),a=Cl(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function N0(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function Ks(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function k0(t,e,r,n,a){var i=n*r+e.x,o=a*r+e.y;return o=Math.round(t.canvasHeight-o),[i,o]}function zi(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,o=e,s=r||new Array(4);return s[0]=n*o,s[1]=a*o,s[2]=i*o,s[3]=o,s}function Gi(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function B0(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function F0(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function pc(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function yc(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function z0(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function G0(t,e,r,n){var a=pc(t,e),i=zt(a,2),o=i[0],s=i[1],u=yc(t,s,n),l=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,u,t.STATIC_DRAW),s===t.FLOAT?t.vertexAttribPointer(r,o,s,!1,0,0):s===t.INT&&t.vertexAttribIPointer(r,o,s,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),l}function pr(t,e,r,n){var a=pc(t,r),i=zt(a,3),o=i[0],s=i[1],u=i[2],l=yc(t,s,e*o),f=o*u,c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,e*f,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),s===t.FLOAT?t.vertexAttribPointer(n,o,s,!1,f,0):s===t.INT&&t.vertexAttribIPointer(n,o,s,f,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var p=new Array(e),v=0;v<e;v++)p[v]=z0(t,s,l,f,o,v);return c.dataArray=l,c.stride=f,c.size=o,c.getView=function(g){return p[g]},c.setPoint=function(g,m,w){var b=p[g];b[0]=m,b[1]=w},c.bufferSubData=function(g){t.bindBuffer(t.ARRAY_BUFFER,c),g?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,g*o):t.bufferSubData(t.ARRAY_BUFFER,0,l)},c}function U0(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var Dl=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Ya(){var t=new Dl(9);return Dl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function mc(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function V0(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],p=r[0],v=r[1],g=r[2],m=r[3],w=r[4],b=r[5],E=r[6],x=r[7],S=r[8];return t[0]=p*n+v*o+g*l,t[1]=p*a+v*s+g*f,t[2]=p*i+v*u+g*c,t[3]=m*n+w*o+b*l,t[4]=m*a+w*s+b*f,t[5]=m*i+w*u+b*c,t[6]=E*n+x*o+S*l,t[7]=E*a+x*s+S*f,t[8]=E*i+x*u+S*c,t}function fo(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],p=r[0],v=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=p*n+v*o+l,t[7]=p*a+v*s+f,t[8]=p*i+v*u+c,t}function bc(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],p=Math.sin(r),v=Math.cos(r);return t[0]=v*n+p*o,t[1]=v*a+p*s,t[2]=v*i+p*u,t[3]=v*o-p*n,t[4]=v*s-p*a,t[5]=v*u-p*i,t[6]=l,t[7]=f,t[8]=c,t}function Zs(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function H0(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var Xa={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},za=Gt({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),_0=function(){function t(e,r){mn(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=r.webglTexSize,this.rows=r.webglTexRows,this.enableWrapping=r.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=r.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=r.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return bn(t,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.maxTexWidth,s=i/a,u=n*s,l=a*s;return u>o&&(s=o/n,u=n*s,l=a*s),{scale:s,texW:u,texH:l}}},{key:"draw",value:function(r,n,a){var i=this,o=this.atlasSize,s=this.rows,u=this.texHeight,l=this.getScale(n),f=l.scale,c=l.texW,p=l.texH,v=[null,null],g=function(x,S){if(a&&S){var L=S.context,M=x.x,d=x.row,A=M,D=u*d;L.save(),L.translate(A,D),L.scale(f,f),a(L,n),L.restore()}},m=function(){g(i.freePointer,i.canvas),v[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:c,h:p},v[1]={x:i.freePointer.x+c,y:i.freePointer.row*u,w:0,h:p},i.freePointer.x+=c,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},w=function(){var x=i.scratch,S=i.canvas;x.clear(),g({x:0,row:0},x);var L=o-i.freePointer.x,M=c-L,d=u;{var A=i.freePointer.x,D=i.freePointer.row*u,P=L;S.context.drawImage(x,0,0,P,d,A,D,P,d),v[0]={x:A,y:D,w:P,h:p}}{var O=L,N=(i.freePointer.row+1)*u,B=M;S&&S.context.drawImage(x,O,0,B,d,0,N,B,d),v[1]={x:0,y:N,w:B,h:p}}i.freePointer.x=M,i.freePointer.row++},b=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+c<=o)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(b(),m()):this.enableWrapping?w():(b(),m())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){var n=this.atlasSize,a=this.rows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=F0(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),t}(),q0=function(){function t(e,r){mn(this,t),this.r=e,this.opts=r,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return bn(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(r){var n=this.keyToIds.get(r);return n||(n=new Set,this.keyToIds.set(r,n)),n}},{key:"_createAtlas",value:function(){var r=this.r,n=this.opts;return new _0(r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.opts,a=n.webglTexSize,i=Math.floor(a/n.webglTexRows);this.scratch=n.createTextureCanvas(r,a,i,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a,i){if(this.styleKeyNeedsRedraw.has(n)){this.styleKeyNeedsRedraw.delete(n),this.deleteKey(r,n);var o=this.styleKeyToAtlas.get(n);o&&(o.forceGC=!0),this.styleKeyToAtlas.delete(n)}var s=this.styleKeyToAtlas.get(n);return s||(s=this.atlases[this.atlases.length-1],(!s||!s.canFit(a))&&(s=this._createAtlas(),this.atlases.push(s)),s.draw(n,a,i),this.styleKeyToAtlas.set(n,s),this.getIdsFor(n).add(r),this.idToKey.set(r,n)),s}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"deleteKey",value:function(r,n){this.idToKey.delete(r),this.getIdsFor(n).delete(r)}},{key:"checkKeyIsInvalid",value:function(r,n){if(!this.idToKey.has(r))return!1;var a=this.idToKey.get(r);return a!=n?(this.deleteKey(r,a),!0):!1}},{key:"_getKeysToCollect",value:function(){var r=new Set,n=yr(this.styleKeyToAtlas.keys()),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;this.getIdsFor(i).size==0&&r.add(i)}}catch(o){n.e(o)}finally{n.f()}return r}},{key:"gc",value:function(){var r=this,n=this.atlases.some(function(p){return p.forceGC}),a=this._getKeysToCollect();if(a.size===0&&!n){console.log("nothing to garbage collect");return}var i=[],o=new Map,s=null,u=yr(this.atlases),l;try{var f=function(){var v=l.value,g=v.getKeys(),m=W0(a,g);if(m.size===0&&!v.forceGC)return i.push(v),g.forEach(function(d){return o.set(d,v)}),"continue";s||(s=r._createAtlas(),i.push(s));var w=yr(g),b;try{for(w.s();!(b=w.n()).done;){var E=b.value;if(!m.has(E)){var x=v.getOffsets(E),S=zt(x,2),L=S[0],M=S[1];s.canFit({w:L.w+M.w,h:L.h})||(s=r._createAtlas(),i.push(s)),r._copyTextureToNewAtlas(E,v,s),o.set(E,s)}}}catch(d){w.e(d)}finally{w.f()}};for(u.s();!(l=u.n()).done;)var c=f()}catch(p){u.e(p)}finally{u.f()}this.atlases=i,this.styleKeyToAtlas=o}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=zt(i,2),s=o[0],u=o[1];if(u.w===0)a.draw(r,s,function(p){p.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,s.w,0,u.w,u.h);var f=s.w+u.w,c=s.h;a.draw(r,{w:f,h:c},function(p){p.drawImage(l,0,0,f,c,0,0,f,c)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),t}();function W0(t,e){return t.intersection?t.intersection(e):new Set(Gl(t).filter(function(r){return e.has(r)}))}var Y0=function(){function t(e,r){mn(this,t),this.r=e;var n=r;this.globalOptions=n,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(n)}return bn(t,[{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null,o=r.createTextureCanvas;r.createTextureCanvas=function(s,u,l,f){return f?((!i||u!=n||l!=a)&&(n=u,a=l,i=o(s,u,l)),i):o(s,u,l)}}},{key:"addRenderType",value:function(r,n){var a=new q0(this.r,this.globalOptions),i=n;this.renderTypes.set(r,Ye({type:r,atlasCollection:a},i))}},{key:"getRenderTypes",value:function(){return Gl(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.forceRedraw,i=a===void 0?!1:a,o=n.filterEle,s=o===void 0?function(){return!0}:o,u=n.filterType,l=u===void 0?function(){return!0}:u,f=!1,c=yr(r),p;try{for(c.s();!(p=c.n()).done;){var v=p.value;if(s(v)){var g=v.id(),m=yr(this.getRenderTypes()),w;try{for(m.s();!(w=m.n()).done;){var b=w.value;if(l(b.type)){var E=b.getKey(v);i?(b.atlasCollection.deleteKey(g,E),b.atlasCollection.styleKeyNeedsRedraw.add(E),f=!0):f|=b.atlasCollection.checkKeyIsInvalid(g,E)}}}catch(x){m.e(x)}finally{m.f()}}}}catch(x){c.e(x)}finally{c.f()}return f}},{key:"gc",value:function(){var r=yr(this.getRenderTypes()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.atlasCollection.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"isRenderable",value:function(r,n){var a=this.getRenderTypeOpts(n);return a&&a.isVisible(r)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(r,n,a){var i=this.renderTypes.get(a),o=i.getKey(r),s=r.id();return i.atlasCollection.draw(s,o,n,function(u){i.drawElement(u,r,n,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var a=this.renderTypes.get(n),i=a.getBoundingBox(r),o=this.getOrCreateAtlas(r,i,n),s=this.getAtlasIndexForBatch(o);if(s!==void 0){var u=a.getKey(r),l=o.getOffsets(u),f=zt(l,2),c=f[0],p=f[1];return{atlasID:s,tex:c,tex1:c,tex2:p,bb:i,type:n,styleKey:u}}}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var a=this.renderTypes.get(n),i=a.getKey(r),o=a.atlasCollection.getAtlas(i);return o&&this.batchAtlases.includes(o)}return!0}},{key:"setTransformMatrix",value:function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=n.bb,s=n.type,u=n.tex1,l=n.tex2,f=this.getRenderTypeOpts(s),c=f.getPadding?f.getPadding(a):0,p=u.w/(u.w+l.w);i||(p=1-p);var v=this.getAdjustedBB(o,c,i,p),g,m;mc(r);var w=f.getRotation?f.getRotation(a):0;if(w!==0){var b=f.getRotationPoint(a),E=b.x,x=b.y;fo(r,r,[E,x]),bc(r,r,w);var S=f.getRotationOffset(a);g=S.x+v.xOffset,m=S.y}else g=v.x1,m=v.y1;fo(r,r,[g,m]),Zs(r,r,[v.w,v.h])}},{key:"getTransformMatrix",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Ya();return this.setTransformMatrix(i,r,n,a),i}},{key:"getAdjustedBB",value:function(r,n,a,i){var o=r.x1,s=r.y1,u=r.w,l=r.h;n&&(o-=n,s-=n,u+=2*n,l+=2*n);var f=0,c=u*i;return a&&i<1?u=c:!a&&i<1&&(f=u-c,o+=f,u=c),{x1:o,y1:s,w:u,h:l,xOffset:f}}},{key:"getDebugInfo",value:function(){var r=[],n=yr(this.renderTypes),a;try{for(n.s();!(a=n.n()).done;){var i=zt(a.value,2),o=i[0],s=i[1],u=s.atlasCollection.getCounts(),l=u.keyCount,f=u.atlasCount;r.push({type:o,keyCount:l,atlasCount:f})}}catch(c){n.e(c)}finally{n.f()}return r}}]),t}(),is=0,Sl=1,Al=2,os=3,X0=function(){function t(e,r,n){mn(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,n.enableWrapping=!0,n.createTextureCanvas=N0,this.atlasManager=new Y0(e,n),this.program=this.createShaderProgram(Xa.SCREEN),this.pickingProgram=this.createShaderProgram(Xa.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return bn(t,[{key:"addTextureRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(s){return s===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(is,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(Sl,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(Al,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(os,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),i=this.atlasManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(i.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(is,`) {
          `).concat(i.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(os,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=O0(n,a,o);s.aPosition=n.getAttribLocation(s,"aPosition"),s.aIndex=n.getAttribLocation(s,"aIndex"),s.aVertType=n.getAttribLocation(s,"aVertType"),s.aAtlasId=n.getAttribLocation(s,"aAtlasId"),s.aTex1=n.getAttribLocation(s,"aTex1"),s.aTex2=n.getAttribLocation(s,"aTex2"),s.aScaleRotate1=n.getAttribLocation(s,"aScaleRotate1"),s.aTranslate1=n.getAttribLocation(s,"aTranslate1"),s.aScaleRotate2=n.getAttribLocation(s,"aScaleRotate2"),s.aTranslate2=n.getAttribLocation(s,"aTranslate2"),s.aPointAPointB=n.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=n.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=n.getAttribLocation(s,"aLineWidth"),s.aEdgeColor=n.getAttribLocation(s,"aEdgeColor"),s.uPanZoomMatrix=n.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=n.getUniformLocation(s,"uAtlasSize"),s.uBGColor=n.getUniformLocation(s,"uBGColor"),s.uTextures=[];for(var u=0;u<this.atlasManager.maxAtlases;u++)s.uTextures.push(n.getUniformLocation(s,"uTexture".concat(u)));return s}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1],n=[].concat(r,r);this.vertexCount=n.length/2;var a=this.maxInstances,i=this.gl,o=this.program,s=i.createVertexArray();return i.bindVertexArray(s),G0(i,"vec2",o.aPosition,n),this.indexBuffer=pr(i,a,"vec4",o.aIndex),this.vertTypeBuffer=pr(i,a,"int",o.aVertType),this.atlasIdBuffer=pr(i,a,"int",o.aAtlasId),this.tex1Buffer=pr(i,a,"vec4",o.aTex1),this.tex2Buffer=pr(i,a,"vec4",o.aTex2),this.scaleRotate1Buffer=pr(i,a,"vec4",o.aScaleRotate1),this.translate1Buffer=pr(i,a,"vec2",o.aTranslate1),this.scaleRotate2Buffer=pr(i,a,"vec4",o.aScaleRotate2),this.translate2Buffer=pr(i,a,"vec2",o.aTranslate2),this.pointAPointBBuffer=pr(i,a,"vec4",o.aPointAPointB),this.pointCPointDBuffer=pr(i,a,"vec4",o.aPointCPointD),this.lineWidthBuffer=pr(i,a,"float",o.aLineWidth),this.edgeColorBuffer=pr(i,a,"vec4",o.aEdgeColor),i.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xa.SCREEN;this.panZoomMatrix=r,this.debugInfo=n,this.renderTarget=a,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Ya()}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager;if(i.isRenderable(r,a)){i.canAddToCurrentBatch(r,a)||this.endBatch();var o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=is;var s=this.indexBuffer.getView(o);Gi(n,s);var u=i.getAtlasInfo(r,a,u),l=u.atlasID,f=u.tex1,c=u.tex2,p=this.atlasIdBuffer.getView(o);p[0]=l;var v=this.tex1Buffer.getView(o);v[0]=f.x,v[1]=f.y,v[2]=f.w,v[3]=f.h;var g=this.tex2Buffer.getView(o);g[0]=c.x,g[1]=c.y,g[2]=c.w,g[3]=c.h;for(var m=this.getTempMatrix(),w=0,b=[1,2];w<b.length;w++){var E=b[w];i.setTransformMatrix(m,u,r,E===1);var x=this["scaleRotate".concat(E,"Buffer")].getView(o);x[0]=m[0],x[1]=m[1],x[2]=m[3],x[3]=m[4];var S=this["translate".concat(E,"Buffer")].getView(o);S[0]=m[6],S[1]=m[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,a){var i=r._private.rscratch,o,s,u;if(a==="source"?(o=i.arrowStartX,s=i.arrowStartY,u=i.srcArrowAngle):(o=i.arrowEndX,s=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(u)||u==null)){var l=r.pstyle(a+"-arrow-shape").value;if(l!=="none"){var f=r.pstyle(a+"-arrow-color").value,c=r.pstyle("opacity").value,p=r.pstyle("line-opacity").value,v=c*p,g=r.pstyle("width").pfValue,m=r.pstyle("arrow-scale").value,w=this.r.getArrowWidth(g,m),b=this.getTempMatrix();mc(b),fo(b,b,[o,s]),Zs(b,b,[w,w]),bc(b,b,u);var E=this.instanceCount;this.vertTypeBuffer.getView(E)[0]=os;var x=this.indexBuffer.getView(E);Gi(n,x);var S=this.edgeColorBuffer.getView(E);zi(f,v,S);var L=this.scaleRotate1Buffer.getView(E);L[0]=b[0],L[1]=b[1],L[2]=b[3],L[3]=b[4];var M=this.translate1Buffer.getView(E);M[0]=b[6],M[1]=b[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(r,n){var a=r.pstyle("opacity").value,i=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,s=r.pstyle("line-color").value,u=a*i,l=this.getEdgePoints(r);if(l.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),l.length==4){var f=this.instanceCount;this.vertTypeBuffer.getView(f)[0]=Sl;var c=this.indexBuffer.getView(f);Gi(n,c);var p=this.edgeColorBuffer.getView(f);zi(s,u,p);var v=this.lineWidthBuffer.getView(f);v[0]=o;var g=this.pointAPointBBuffer.getView(f);g[0]=l[0],g[1]=l[1],g[2]=l[2],g[3]=l[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<l.length-2;m+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=Al;var b=this.indexBuffer.getView(w);Gi(n,b);var E=this.edgeColorBuffer.getView(w);zi(s,u,E);var x=this.lineWidthBuffer.getView(w);x[0]=o;var S=l[m-2],L=l[m-1],M=l[m],d=l[m+1],A=l[m+2],D=l[m+3],P=l[m+4],O=l[m+5];m==0&&(S=2*M-A+.001,L=2*d-D+.001),m==l.length-4&&(P=2*A-M+.001,O=2*D-d+.001);var N=this.pointAPointBBuffer.getView(w);N[0]=S,N[1]=L,N[2]=M,N[3]=d;var B=this.pointCPointDBuffer.getView(w);B[0]=A,B[1]=D,B[2]=P,B[3]=O,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch,a=n.allpts;if(a.length==4)return a;var i=this.getNumSegments(r);return this.getCurveSegmentPoints(a,i)}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this.setCurvePoint(r,o,a,i*2)}return a}},{key:"setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),s=0;s<o.length;s+=2){var u=(1-n)*r[s]+n*r[s+2],l=(1-n)*r[s+1]+n*r[s+3];o[s]=u,o[s+1]=l}return this.setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var s=yr(this.buffers),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;l.bufferSubData(i)}}catch(g){s.e(g)}finally{s.f()}for(var f=this.atlasManager.getAtlases(),c=0;c<f.length;c++)f[c].bufferIfNeeded(r);for(var p=0;p<f.length;p++)r.activeTexture(r.TEXTURE0+p),r.bindTexture(r.TEXTURE_2D,f[p].texture),r.uniform1i(o.uTextures[p],p);r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.atlasManager.atlasSize);var v=zi(this.bgColor,1);r.uniform4fv(o.uBGColor,v),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:i,atlasCount:f.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),t}();function Ll(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var $0=function(){function t(e){mn(this,t),this.r=e}return bn(t,[{key:"getStyleKey",value:function(r,n){var a=this.getStyle(r,n),i=a.shape,o=a.opacity,s=a.color;if(!i)return null;var u=n.width(),l=n.height(),f=Ll(s,o);return dn("".concat(i,"-").concat(u,"-").concat(l,"-").concat(f))}},{key:"isVisible",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value;return a>0}},{key:"getStyle",value:function(r,n){var a=n.pstyle("".concat(r,"-opacity")).value,i=n.pstyle("".concat(r,"-color")).value,o=n.pstyle("".concat(r,"-shape")).value;return{opacity:a,color:i,shape:o}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,a,i){if(this.isVisible(r,a)){var o=this.r,s=i.w,u=i.h,l=s/2,f=u/2,c=this.getStyle(r,a),p=c.shape,v=c.color,g=c.opacity;n.save(),n.fillStyle=Ll(v,g),p==="round-rectangle"||p==="roundrectangle"?o.drawRoundRectanglePath(n,l,f,s,u,"auto"):p==="ellipse"&&o.drawEllipsePath(n,l,f,s,u),n.fill(),n.restore()}}}]),t}();function K0(t){var e=t&&t.style&&t.style.backgroundColor||"white";return Wl(e)}var wc={};wc.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL],a=t.cy.container();t.bgColor=K0(a),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,console.log("max texture units",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",n.getParameter(n.MAX_TEXTURE_SIZE)),console.log("webgl options",t),r.pickingFrameBuffer=U0(n),r.pickingFrameBuffer.needsDraw=!0;var i=function(f){return r.getTextAngle(f,null)},o=function(f){var c=f.pstyle("label");return c&&c.value};r.eleDrawing=new X0(r,n,t);var s=new $0(r);r.eleDrawing.addTextureRenderType("node-body",za({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(f){return f.visible()}})),r.eleDrawing.addTextureRenderType("node-label",za({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:i,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o})),r.eleDrawing.addTextureRenderType("node-overlay",za({getBoundingBox:e.getElementBox,getKey:function(f){return s.getStyleKey("overlay",f)},drawElement:function(f,c,p){return s.draw("overlay",f,c,p)},isVisible:function(f){return s.isVisible("overlay",f)},getPadding:function(f){return s.getPadding("overlay",f)}})),r.eleDrawing.addTextureRenderType("node-underlay",za({getBoundingBox:e.getElementBox,getKey:function(f){return s.getStyleKey("underlay",f)},drawElement:function(f,c,p){return s.draw("underlay",f,c,p)},isVisible:function(f){return s.isVisible("underlay",f)},getPadding:function(f){return s.getPadding("underlay",f)}})),r.eleDrawing.addTextureRenderType("edge-label",za({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:i,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o}));var u=ui(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(l,f){var c=!1;f&&f.length>0&&(c|=r.eleDrawing.invalidate(f)),c&&u()}),Z0(r)};function Z0(t){{var e=t.render;t.render=function(i){i=i||{};var o=t.cy;t.webgl&&(o.zoom()>cc?(Q0(t),e.call(t,i)):(j0(t),Ec(t,i,Xa.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,o,s,u){return ab(t,i,o)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,o){a.call(t,i,o),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.eleDrawing.invalidate(o,{type:"node-body"})}}}function Q0(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function j0(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function J0(t){var e=t.canvasWidth,r=t.canvasHeight,n=Ks(t),a=n.pan,i=n.zoom,o=Ya();fo(o,o,[a.x,a.y]),Zs(o,o,[i,i]);var s=Ya();H0(s,e,r);var u=Ya();return V0(u,s,o),u}function xc(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=Ks(t),i=a.pan,o=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(o,o)}function eb(t,e){t.drawSelectionRectangle(e,function(r){return xc(t,r)})}function tb(t){var e=t.data.contexts[t.NODE];e.save(),xc(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function rb(t){var e=function(a,i,o){for(var s=a.atlasManager.getRenderTypeOpts(i),u=t.data.contexts[t.NODE],l=.125,f=s.atlasCollection.atlases,c=0;c<f.length;c++){var p=f[c],v=p.canvas,g=v.width,m=v.height,w=g*c,b=v.height*o;u.save(),u.scale(l,l),u.drawImage(v,w,b),u.strokeStyle="black",u.rect(w,b,g,m),u.stroke(),u.restore()}},r=0;e(t.eleDrawing,"node-body",r++),e(t.eleDrawing,"node-label",r++)}function nb(t,e,r,n,a){var i,o,s,u,l=Ks(t),f=l.pan,c=l.zoom;{var p=k0(t,f,c,e,r),v=zt(p,2),g=v[0],m=v[1],w=6;i=g-w/2,o=m-w/2,s=w,u=w}if(s===0||u===0)return[];var b=t.data.contexts[t.WEBGL];b.bindFramebuffer(b.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(b.viewport(0,0,b.canvas.width,b.canvas.height),Ec(t,null,Xa.PICKING),t.pickingFrameBuffer.needsDraw=!1);var E=s*u,x=new Uint8Array(E*4);b.readPixels(i,o,s,u,b.RGBA,b.UNSIGNED_BYTE,x),b.bindFramebuffer(b.FRAMEBUFFER,null);for(var S=new Set,L=0;L<E;L++){var M=x.slice(L*4,L*4+4),d=B0(M)-1;d>=0&&S.add(d)}return S}function ab(t,e,r){var n=nb(t,e,r),a=t.getCachedZSortedEles(),i,o,s=yr(n),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,f=a[l];if(!i&&f.isNode()&&(i=f),!o&&f.isEdge()&&(o=f),i&&o)break}}catch(c){s.e(c)}finally{s.f()}return[i,o].filter(Boolean)}function Ec(t,e,r){var n,a;t.webglDebug&&(a=[],n=performance.now());var i=t.eleDrawing,o=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&eb(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=function(N,B){B+=1,N.isNode()?(i.drawTexture(N,B,"node-underlay"),i.drawTexture(N,B,"node-body"),i.drawTexture(N,B,"node-label"),i.drawTexture(N,B,"node-overlay")):(i.drawEdgeLine(N,B),i.drawEdgeArrow(N,B,"source"),i.drawEdgeArrow(N,B,"target"),i.drawTexture(N,B,"edge-label"))},u=t.data.contexts[t.WEBGL];r.screen?(u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA)):u.disable(u.BLEND),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.viewport(0,0,u.canvas.width,u.canvas.height);var l=J0(t),f=t.getCachedZSortedEles();if(o=f.length,i.startFrame(l,a,r),r.screen){for(var c=0;c<f.nondrag.length;c++)s(f.nondrag[c],c);for(var p=0;p<f.drag.length;p++)s(f.drag[p],-1)}else if(r.picking)for(var v=0;v<f.length;v++)s(f[v],v);i.endFrame(),t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc()),r.screen&&t.webglDebugShowAtlases&&(tb(t),rb(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var g=performance.now(),m=!0,w=0,b=0,E=yr(a),x;try{for(E.s();!(x=E.n()).done;){var S=x.value;w++,b+=S.count}}catch(O){E.e(O)}finally{E.f()}var L=Math.ceil(g-n),M="".concat(o," elements, ").concat(b," rectangles, ").concat(w," batches");if(m)console.log("WebGL (".concat(r.name,") - ").concat(M));else{console.log("WebGL render (".concat(r.name,") - frame time ").concat(L,"ms")),console.log("  ".concat(M)),console.log("Texture Atlases Used:");var d=i.getAtlasDebugInfo(),A=yr(d),D;try{for(A.s();!(D=A.n()).done;){var P=D.value;console.log("  ".concat(P.type,": ").concat(P.keyCount," keys, ").concat(P.atlasCount," atlases"))}}catch(O){A.e(O)}finally{A.f()}console.log("")}}}var xn={};xn.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+s*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+o*i[u*2],r+s*i[u*2+1]);t.closePath()};xn.drawRoundPolygonPath=function(t,e,r,n,a,i,o){o.forEach(function(s){return rc(t,s)}),t.closePath()};xn.drawRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?Bn(n,a):Math.min(i,s,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+o,r-s,e+o,r,u),t.arcTo(e+o,r+s,e,r+s,u),t.arcTo(e-o,r+s,e-o,r,u),t.arcTo(e-o,r-s,e,r-s,u),t.lineTo(e,r-s),t.closePath()};xn.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?Bn(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+o,r-s),t.lineTo(e+o,r),t.arcTo(e+o,r+s,e,r+s,u),t.arcTo(e-o,r+s,e-o,r,u),t.lineTo(e-o,r-s),t.lineTo(e,r-s),t.closePath()};xn.drawCutRectanglePath=function(t,e,r,n,a,i,o){var s=n/2,u=a/2,l=o==="auto"?Ns():o;t.beginPath&&t.beginPath(),t.moveTo(e-s+l,r-u),t.lineTo(e+s-l,r-u),t.lineTo(e+s,r-u+l),t.lineTo(e+s,r+u-l),t.lineTo(e+s-l,r+u),t.lineTo(e-s+l,r+u),t.lineTo(e-s,r+u-l),t.lineTo(e-s,r-u+l),t.closePath()};xn.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,s=e-i,u=e+i,l=r-o,f=r+o,c=fs(n,a),p=c.widthOffset,v=c.heightOffset,g=c.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,l+v),t.lineTo(s,f-v),t.quadraticCurveTo(s+g,f,s+p,f),t.lineTo(u-p,f),t.quadraticCurveTo(u-g,f,u,f-v),t.lineTo(u,l+v),t.quadraticCurveTo(u-g,l,u-p,l),t.lineTo(s+p,l),t.quadraticCurveTo(s+g,l,s,l+v),t.closePath()};var Rl=Math.sin(0),Pl=Math.cos(0),Es={},Ts={},Tc=Math.PI/40;for(var jn=0*Math.PI;jn<2*Math.PI;jn+=Tc)Es[jn]=Math.sin(jn),Ts[jn]=Math.cos(jn);xn.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Tc)i=e-s*Es[l]*Rl+s*Ts[l]*Pl,o=r+u*Ts[l]*Rl+u*Es[l]*Pl,l===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var vi={};vi.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};vi.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],s=Pe(t.maxWidth)||Pe(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,l=t.scale;else if(s){var f=1/0,c=1/0;Pe(t.maxWidth)&&(f=l*t.maxWidth/i),Pe(t.maxHeight)&&(c=l*t.maxHeight/o),l=Math.min(f,c),i*=l,o*=l}s||(i*=u,o*=u,l*=u);var p=document.createElement("canvas");p.width=i,p.height=o,p.style.width=i+"px",p.style.height=o+"px";var v=p.getContext("2d");if(i>0&&o>0){v.clearRect(0,0,i,o),v.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(t.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,g),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var m=e.pan(),w={x:m.x*l,y:m.y*l};l*=e.zoom(),v.translate(w.x,w.y),v.scale(l,l),this.drawElements(v,g),v.scale(1/l,1/l),v.translate(-w.x,-w.y)}t.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=t.bg,v.rect(0,0,i,o),v.fill())}return p};function ib(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function Ml(t){var e=t.indexOf(",");return t.substr(e+1)}function Cc(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new ca(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return ib(Ml(n()),r);case"base64":return Ml(n());case"base64uri":default:return n()}}vi.png=function(t){return Cc(t,this.bufferCanvasImage(t),"image/png")};vi.jpg=function(t){return Cc(t,this.bufferCanvasImage(t),"image/jpeg")};var Dc={};Dc.nodeShapeImpl=function(t,e,r,n,a,i,o,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,s);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var ob=Sc,tt=Sc.prototype;tt.CANVAS_LAYERS=3;tt.SELECT_BOX=0;tt.DRAG=1;tt.NODE=2;tt.WEBGL=3;tt.CANVAS_TYPES=["2d","2d","2d","webgl2"];tt.BUFFER_COUNT=3;tt.TEXTURE_BUFFER=0;tt.MOTIONBLUR_BUFFER_NODE=1;tt.MOTIONBLUR_BUFFER_DRAG=2;function Sc(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(tt.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(tt.CANVAS_LAYERS),contexts:new Array(tt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(tt.CANVAS_LAYERS),bufferCanvases:new Array(tt.BUFFER_COUNT),bufferContexts:new Array(tt.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Dh()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<tt.CANVAS_LAYERS;l++){var f=e.data.canvases[l]=n.createElement("canvas"),c=tt.CANVAS_TYPES[l];e.data.contexts[l]=f.getContext(c),e.data.contexts[l]||Tt("Could not create canvas of type "+c),Object.keys(u).forEach(function(te){f.style[te]=u[te]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(tt.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(f),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[tt.NODE].setAttribute("data-id","layer"+tt.NODE+"-node"),e.data.canvases[tt.SELECT_BOX].setAttribute("data-id","layer"+tt.SELECT_BOX+"-selectbox"),e.data.canvases[tt.DRAG].setAttribute("data-id","layer"+tt.DRAG+"-drag"),e.data.canvases[tt.WEBGL]&&e.data.canvases[tt.WEBGL].setAttribute("data-id","layer"+tt.WEBGL+"-webgl");for(var l=0;l<tt.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var p=hr(),v=function(j){return{x:(j.x1+j.x2)/2,y:(j.y1+j.y2)/2}},g=function(j){return{x:-j.w/2,y:-j.h/2}},m=function(j){var se=j[0]._private,me=se.oldBackgroundTimestamp===se.backgroundTimestamp;return!me},w=function(j){return j[0]._private.nodeKey},b=function(j){return j[0]._private.labelStyleKey},E=function(j){return j[0]._private.sourceLabelStyleKey},x=function(j){return j[0]._private.targetLabelStyleKey},S=function(j,se,me,Ae,Be){return e.drawElement(j,se,me,!1,!1,Be)},L=function(j,se,me,Ae,Be){return e.drawElementText(j,se,me,Ae,"main",Be)},M=function(j,se,me,Ae,Be){return e.drawElementText(j,se,me,Ae,"source",Be)},d=function(j,se,me,Ae,Be){return e.drawElementText(j,se,me,Ae,"target",Be)},A=function(j){return j.boundingBox(),j[0]._private.bodyBounds},D=function(j){return j.boundingBox(),j[0]._private.labelBounds.main||p},P=function(j){return j.boundingBox(),j[0]._private.labelBounds.source||p},O=function(j){return j.boundingBox(),j[0]._private.labelBounds.target||p},N=function(j,se){return se},B=function(j){return v(A(j))},F=function(j,se,me){var Ae=j?j+"-":"";return{x:se.x+me.pstyle(Ae+"text-margin-x").pfValue,y:se.y+me.pstyle(Ae+"text-margin-y").pfValue}},U=function(j,se,me){var Ae=j[0]._private.rscratch;return{x:Ae[se],y:Ae[me]}},V=function(j){return F("",U(j,"labelX","labelY"),j)},_=function(j){return F("source",U(j,"sourceLabelX","sourceLabelY"),j)},q=function(j){return F("target",U(j,"targetLabelX","targetLabelY"),j)},Y=function(j){return g(A(j))},Q=function(j){return g(P(j))},$=function(j){return g(O(j))},K=function(j){var se=D(j),me=g(D(j));if(j.isNode()){switch(j.pstyle("text-halign").value){case"left":me.x=-se.w-(se.leftPad||0);break;case"right":me.x=-(se.rightPad||0);break}switch(j.pstyle("text-valign").value){case"top":me.y=-se.h-(se.topPad||0);break;case"bottom":me.y=-(se.botPad||0);break}}return me},ie=e.data.eleTxrCache=new _a(e,{getKey:w,doesEleInvalidateKey:m,drawElement:S,getBoundingBox:A,getRotationPoint:B,getRotationOffset:Y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ue=e.data.lblTxrCache=new _a(e,{getKey:b,drawElement:L,getBoundingBox:D,getRotationPoint:V,getRotationOffset:K,isVisible:N}),fe=e.data.slbTxrCache=new _a(e,{getKey:E,drawElement:M,getBoundingBox:P,getRotationPoint:_,getRotationOffset:Q,isVisible:N}),he=e.data.tlbTxrCache=new _a(e,{getKey:x,drawElement:d,getBoundingBox:O,getRotationPoint:q,getRotationOffset:$,isVisible:N}),ye=e.data.lyrTxrCache=new hc(e);e.onUpdateEleCalcs(function(j,se){ie.invalidateElements(se),ue.invalidateElements(se),fe.invalidateElements(se),he.invalidateElements(se),ye.invalidateElements(se);for(var me=0;me<se.length;me++){var Ae=se[me]._private;Ae.oldBackgroundTimestamp=Ae.backgroundTimestamp}});var be=function(j){for(var se=0;se<j.length;se++)ye.enqueueElementRefinement(j[se].ele)};ie.onDequeue(be),ue.onDequeue(be),fe.onDequeue(be),he.onDequeue(be),t.webgl&&e.initWebgl(t,{getStyleKey:w,getLabelKey:b,drawElement:S,drawLabel:L,getElementBox:A,getLabelBox:D,getElementRotationPoint:B,getElementRotationOffset:Y,getLabelRotationPoint:V,getLabelRotationOffset:K})}tt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[tt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[tt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[tt.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var sb=typeof Path2D<"u";tt.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};tt.usePaths=function(){return sb&&this.pathsEnabled};tt.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};tt.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};tt.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Ot(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[dc,qr,jr,$s,Vn,ba,ir,wc,xn,vi,Dc].forEach(function(t){Ye(tt,t)});var ub=[{name:"null",impl:Jf},{name:"base",impl:lc},{name:"canvas",impl:ob}],lb=[{type:"layout",extensions:qm},{type:"renderer",extensions:ub}],Ac={},Lc={};function Rc(t,e,r){var n=r,a=function(A){vt("Can not register `"+e+"` for `"+t+"` since `"+A+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ai.prototype[e])return a(e);ai.prototype[e]=r}else if(t==="collection"){if(Yt.prototype[e])return a(e);Yt.prototype[e]=r}else if(t==="layout"){for(var i=function(A){this.options=A,r.call(this,A),ft(this._private)||(this._private={}),this._private.cy=A.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=r.prototype.stop;o.stop=function(){var d=this.options;if(d&&d.animate){var A=this.animations;if(A)for(var D=0;D<A.length;D++)A[D].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var c=function(A){return A._private.cy},p={addEventFields:function(A,D){D.layout=A,D.cy=c(A),D.target=A},bubble:function(){return!0},parent:function(A){return c(A)}};Ye(o,{createEmitter:function(){return this._private.emitter=new xo(p,this),this},emitter:function(){return this._private.emitter},on:function(A,D){return this.emitter().on(A,D),this},one:function(A,D){return this.emitter().one(A,D),this},once:function(A,D){return this.emitter().one(A,D),this},removeListener:function(A,D){return this.emitter().removeListener(A,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(A,D){return this.emitter().emit(A,D),this}}),dt.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var v=Pc("renderer","base"),g=v.prototype,m=r,w=r.prototype,b=function(){v.apply(this,arguments),m.apply(this,arguments)},E=b.prototype;for(var x in g){var S=g[x],L=w[x]!=null;if(L)return a(x);E[x]=S}for(var M in w)E[M]=w[M];g.clientFunctions.forEach(function(d){E[d]=E[d]||function(){Tt("Renderer does not implement `renderer."+d+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Tt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Yl({map:Ac,keys:[t,e],value:n})}function Pc(t,e){return Xl({map:Ac,keys:[t,e]})}function fb(t,e,r,n,a){return Yl({map:Lc,keys:[t,e,r,n],value:a})}function cb(t,e,r,n){return Xl({map:Lc,keys:[t,e,r,n]})}var Cs=function(){if(arguments.length===2)return Pc.apply(null,arguments);if(arguments.length===3)return Rc.apply(null,arguments);if(arguments.length===4)return cb.apply(null,arguments);if(arguments.length===5)return fb.apply(null,arguments);Tt("Invalid extension access syntax")};ai.prototype.extension=Cs;lb.forEach(function(t){t.extensions.forEach(function(e){Rc(t.type,e.name,e.impl)})});var Mc=function t(){if(!(this instanceof t))return new t;this.length=0},Gn=Mc.prototype;Gn.instanceString=function(){return"stylesheet"};Gn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Gn.css=function(t,e){var r=this.length-1;if(_e(t))this[r].properties.push({name:t,value:e});else if(ft(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var u=jt.properties[o]||jt.properties[co(o)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Gn.style=Gn.css;Gn.generateStyle=function(t){var e=new jt(t);return this.appendToStyle(e)};Gn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var hb="3.31.0",Pr=function(e){if(e===void 0&&(e={}),ft(e))return new ai(e);if(_e(e))return Cs.apply(Cs,arguments)};Pr.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Pr),t.apply(null,e),this};Pr.warnings=function(t){return tf(t)};Pr.version=hb;Pr.stylesheet=Pr.Stylesheet=Mc;var Ki={exports:{}},Zi={exports:{}},Qi={exports:{}},db=Qi.exports,Il;function vb(){return Il||(Il=1,function(t,e){(function(n,a){t.exports=a()})(db,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=26)}([function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,n,a){var i=a(2),o=a(8),s=a(9);function u(f,c,p){i.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=c}u.prototype=Object.create(i.prototype);for(var l in i)u[l]=i[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,c){for(var p=this.getOtherEnd(f),v=c.getGraphManager().getRoot();;){if(p.getOwner()==c)return p;if(p.getOwner()==v)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function i(o){this.vGraphObject=o}r.exports=i},function(r,n,a){var i=a(2),o=a(10),s=a(13),u=a(0),l=a(16),f=a(4);function c(v,g,m,w){m==null&&w==null&&(w=g),i.call(this,w),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=v,m!=null&&g!=null?this.rect=new s(g.x,g.y,m.width,m.height):this.rect=new s}c.prototype=Object.create(i.prototype);for(var p in i)c[p]=i[p];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(v){this.rect.width=v},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(v){this.rect.height=v},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(v,g){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=g.width,this.rect.height=g.height},c.prototype.setCenter=function(v,g){this.rect.x=v-this.rect.width/2,this.rect.y=g-this.rect.height/2},c.prototype.setLocation=function(v,g){this.rect.x=v,this.rect.y=g},c.prototype.moveBy=function(v,g){this.rect.x+=v,this.rect.y+=g},c.prototype.getEdgeListToNode=function(v){var g=[],m=this;return m.edges.forEach(function(w){if(w.target==v){if(w.source!=m)throw"Incorrect edge source!";g.push(w)}}),g},c.prototype.getEdgesBetween=function(v){var g=[],m=this;return m.edges.forEach(function(w){if(!(w.source==m||w.target==m))throw"Incorrect edge source and/or target";(w.target==v||w.source==v)&&g.push(w)}),g},c.prototype.getNeighborsList=function(){var v=new Set,g=this;return g.edges.forEach(function(m){if(m.source==g)v.add(m.target);else{if(m.target!=g)throw"Incorrect incidency!";v.add(m.source)}}),v},c.prototype.withChildren=function(){var v=new Set,g,m;if(v.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)g=w[b],m=g.withChildren(),m.forEach(function(E){v.add(E)});return v},c.prototype.getNoOfChildren=function(){var v=0,g;if(this.child==null)v=1;else for(var m=this.child.getNodes(),w=0;w<m.length;w++)g=m[w],v+=g.getNoOfChildren();return v==0&&(v=1),v},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var v,g,m=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_X+l.nextDouble()*(w-m)+m;var b=-u.INITIAL_WORLD_BOUNDARY,E=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_Y+l.nextDouble()*(E-b)+b,this.rect.x=v,this.rect.y=g},c.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var g=v.getRight()-v.getLeft(),m=v.getBottom()-v.getTop();this.labelWidth>g&&(this.rect.x-=(this.labelWidth-g)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(v){var g=this.rect.x;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var m=this.rect.y;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var w=new f(g,m),b=v.inverseTransformPoint(w);this.setLocation(b.x,b.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=c},function(r,n,a){function i(o,s){o==null&&s==null?(this.x=0,this.y=0):(this.x=o,this.y=s)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=i},function(r,n,a){var i=a(2),o=a(10),s=a(0),u=a(6),l=a(3),f=a(1),c=a(13),p=a(12),v=a(11);function g(w,b,E){i.call(this,E),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}g.prototype=Object.create(i.prototype);for(var m in i)g[m]=i[m];g.prototype.getNodes=function(){return this.nodes},g.prototype.getEdges=function(){return this.edges},g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getParent=function(){return this.parent},g.prototype.getLeft=function(){return this.left},g.prototype.getRight=function(){return this.right},g.prototype.getTop=function(){return this.top},g.prototype.getBottom=function(){return this.bottom},g.prototype.isConnected=function(){return this.isConnected},g.prototype.add=function(w,b,E){if(b==null&&E==null){var x=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(x)>-1)throw"Node already in graph!";return x.owner=this,this.getNodes().push(x),x}else{var S=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(E)>-1))throw"Source or target not in graph!";if(!(b.owner==E.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=E.owner?null:(S.source=b,S.target=E,S.isInterGraph=!1,this.getEdges().push(S),b.edges.push(S),E!=b&&E.edges.push(S),S)}},g.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var E=b.edges.slice(),x,S=E.length,L=0;L<S;L++)x=E[L],x.isInterGraph?this.graphManager.remove(x):x.source.owner.remove(x);var M=this.nodes.indexOf(b);if(M==-1)throw"Node not in owner node list!";this.nodes.splice(M,1)}else if(w instanceof f){var x=w;if(x==null)throw"Edge is null!";if(!(x.source!=null&&x.target!=null))throw"Source and/or target is null!";if(!(x.source.owner!=null&&x.target.owner!=null&&x.source.owner==this&&x.target.owner==this))throw"Source and/or target owner is invalid!";var d=x.source.edges.indexOf(x),A=x.target.edges.indexOf(x);if(!(d>-1&&A>-1))throw"Source and/or target doesn't know this edge!";x.source.edges.splice(d,1),x.target!=x.source&&x.target.edges.splice(A,1);var M=x.source.owner.getEdges().indexOf(x);if(M==-1)throw"Not in owner's edge list!";x.source.owner.getEdges().splice(M,1)}},g.prototype.updateLeftTop=function(){for(var w=o.MAX_VALUE,b=o.MAX_VALUE,E,x,S,L=this.getNodes(),M=L.length,d=0;d<M;d++){var A=L[d];E=A.getTop(),x=A.getLeft(),w>E&&(w=E),b>x&&(b=x)}return w==o.MAX_VALUE?null:(L[0].getParent().paddingLeft!=null?S=L[0].getParent().paddingLeft:S=this.margin,this.left=b-S,this.top=w-S,new p(this.left,this.top))},g.prototype.updateBounds=function(w){for(var b=o.MAX_VALUE,E=-o.MAX_VALUE,x=o.MAX_VALUE,S=-o.MAX_VALUE,L,M,d,A,D,P=this.nodes,O=P.length,N=0;N<O;N++){var B=P[N];w&&B.child!=null&&B.updateBounds(),L=B.getLeft(),M=B.getRight(),d=B.getTop(),A=B.getBottom(),b>L&&(b=L),E<M&&(E=M),x>d&&(x=d),S<A&&(S=A)}var F=new c(b,x,E-b,S-x);b==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),P[0].getParent().paddingLeft!=null?D=P[0].getParent().paddingLeft:D=this.margin,this.left=F.x-D,this.right=F.x+F.width+D,this.top=F.y-D,this.bottom=F.y+F.height+D},g.calculateBounds=function(w){for(var b=o.MAX_VALUE,E=-o.MAX_VALUE,x=o.MAX_VALUE,S=-o.MAX_VALUE,L,M,d,A,D=w.length,P=0;P<D;P++){var O=w[P];L=O.getLeft(),M=O.getRight(),d=O.getTop(),A=O.getBottom(),b>L&&(b=L),E<M&&(E=M),x>d&&(x=d),S<A&&(S=A)}var N=new c(b,x,E-b,S-x);return N},g.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},g.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},g.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,E=b.length,x=0;x<E;x++){var S=b[x];w+=S.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},g.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new v,E=new Set,x=this.nodes[0],S,L,M=x.withChildren();for(M.forEach(function(N){b.push(N),E.add(N)});b.length!==0;){x=b.shift(),S=x.getEdges();for(var d=S.length,A=0;A<d;A++){var D=S[A];if(L=D.getOtherEndInGraph(x,this),L!=null&&!E.has(L)){var P=L.withChildren();P.forEach(function(N){b.push(N),E.add(N)})}}}if(this.isConnected=!1,E.size>=this.nodes.length){var O=0;E.forEach(function(N){N.owner==w&&O++}),O==this.nodes.length&&(this.isConnected=!0)}},r.exports=g},function(r,n,a){var i,o=a(1);function s(u){i=a(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),f=this.add(u,l);return this.setRootGraph(f),this.rootGraph},s.prototype.add=function(u,l,f,c,p){if(f==null&&c==null&&p==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{p=f,c=l,f=u;var v=c.getOwner(),g=p.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(g!=null&&g.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==g)return f.isInterGraph=!1,v.add(f,c,p);if(f.isInterGraph=!0,f.source=c,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},s.prototype.remove=function(u){if(u instanceof i){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(l.getEdges());for(var c,p=f.length,v=0;v<p;v++)c=f[v],l.remove(c);var g=[];g=g.concat(l.getNodes());var m;p=g.length;for(var v=0;v<p;v++)m=g[v],l.remove(m);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof o){if(c=u,c==null)throw"Edge is null!";if(!c.isInterGraph)throw"Not an inter-graph edge!";if(!(c.source!=null&&c.target!=null))throw"Source and/or target is null!";if(!(c.source.edges.indexOf(c)!=-1&&c.target.edges.indexOf(c)!=-1))throw"Source and/or target doesn't know this edge!";var w=c.source.edges.indexOf(c);if(c.source.edges.splice(w,1),w=c.target.edges.indexOf(c),c.target.edges.splice(w,1),!(c.source.owner!=null&&c.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(c.source.owner.getGraphManager().edges.indexOf(c)==-1)throw"Not in owner graph manager's edge list!";var w=c.source.owner.getGraphManager().edges.indexOf(c);c.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),f=l.length,c=0;c<f;c++)u=u.concat(l[c].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var f=0;f<l.length;f++)u=u.concat(l[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var f=u.getOwner(),c;do{if(c=f.getParent(),c==null)break;if(c==l)return!0;if(f=c.getOwner(),f==null)break}while(!0);f=l.getOwner();do{if(c=f.getParent(),c==null)break;if(c==u)return!0;if(f=c.getOwner(),f==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,f,c,p,v=this.getAllEdges(),g=v.length,m=0;m<g;m++){if(u=v[m],l=u.source,f=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=f,l==f){u.lca=l.getOwner();continue}for(c=l.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==c){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(c==this.rootGraph)break;u.lca==null&&(u.sourceInLca=c.getParent(),c=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var c=l.getOwner();do{if(c==null)break;if(c==f)return c;c=c.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var f,c=u.getNodes(),p=c.length,v=0;v<p;v++)f=c[v],f.inclusionTreeDepth=l,f.child!=null&&this.calcInclusionTreeDepths(f.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,f=0;f<l;f++)if(u=this.edges[f],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=s},function(r,n,a){var i=a(0);function o(){}for(var s in i)o[s]=i[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o},function(r,n,a){var i=a(12);function o(){}o.calcSeparationAmount=function(s,u,l,f){if(!s.intersects(u))throw"assert failed";var c=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,c),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var p=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(p=1);var v=p*l[0],g=l[1]/p;l[0]<g?g=l[0]:v=l[1],l[0]=-1*c[0]*(g/2+f),l[1]=-1*c[1]*(v/2+f)},o.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(s,u,l){var f=s.getCenterX(),c=s.getCenterY(),p=u.getCenterX(),v=u.getCenterY();if(s.intersects(u))return l[0]=f,l[1]=c,l[2]=p,l[3]=v,!0;var g=s.getX(),m=s.getY(),w=s.getRight(),b=s.getX(),E=s.getBottom(),x=s.getRight(),S=s.getWidthHalf(),L=s.getHeightHalf(),M=u.getX(),d=u.getY(),A=u.getRight(),D=u.getX(),P=u.getBottom(),O=u.getRight(),N=u.getWidthHalf(),B=u.getHeightHalf(),F=!1,U=!1;if(f===p){if(c>v)return l[0]=f,l[1]=m,l[2]=p,l[3]=P,!1;if(c<v)return l[0]=f,l[1]=E,l[2]=p,l[3]=d,!1}else if(c===v){if(f>p)return l[0]=g,l[1]=c,l[2]=A,l[3]=v,!1;if(f<p)return l[0]=w,l[1]=c,l[2]=M,l[3]=v,!1}else{var V=s.height/s.width,_=u.height/u.width,q=(v-c)/(p-f),Y=void 0,Q=void 0,$=void 0,K=void 0,ie=void 0,ue=void 0;if(-V===q?f>p?(l[0]=b,l[1]=E,F=!0):(l[0]=w,l[1]=m,F=!0):V===q&&(f>p?(l[0]=g,l[1]=m,F=!0):(l[0]=x,l[1]=E,F=!0)),-_===q?p>f?(l[2]=D,l[3]=P,U=!0):(l[2]=A,l[3]=d,U=!0):_===q&&(p>f?(l[2]=M,l[3]=d,U=!0):(l[2]=O,l[3]=P,U=!0)),F&&U)return!1;if(f>p?c>v?(Y=this.getCardinalDirection(V,q,4),Q=this.getCardinalDirection(_,q,2)):(Y=this.getCardinalDirection(-V,q,3),Q=this.getCardinalDirection(-_,q,1)):c>v?(Y=this.getCardinalDirection(-V,q,1),Q=this.getCardinalDirection(-_,q,3)):(Y=this.getCardinalDirection(V,q,2),Q=this.getCardinalDirection(_,q,4)),!F)switch(Y){case 1:K=m,$=f+-L/q,l[0]=$,l[1]=K;break;case 2:$=x,K=c+S*q,l[0]=$,l[1]=K;break;case 3:K=E,$=f+L/q,l[0]=$,l[1]=K;break;case 4:$=b,K=c+-S*q,l[0]=$,l[1]=K;break}if(!U)switch(Q){case 1:ue=d,ie=p+-B/q,l[2]=ie,l[3]=ue;break;case 2:ie=O,ue=v+N*q,l[2]=ie,l[3]=ue;break;case 3:ue=P,ie=p+B/q,l[2]=ie,l[3]=ue;break;case 4:ie=D,ue=v+-N*q,l[2]=ie,l[3]=ue;break}}return!1},o.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},o.getIntersection=function(s,u,l,f){if(f==null)return this.getIntersection2(s,u,l);var c=s.x,p=s.y,v=u.x,g=u.y,m=l.x,w=l.y,b=f.x,E=f.y,x=void 0,S=void 0,L=void 0,M=void 0,d=void 0,A=void 0,D=void 0,P=void 0,O=void 0;return L=g-p,d=c-v,D=v*p-c*g,M=E-w,A=m-b,P=b*w-m*E,O=L*A-M*d,O===0?null:(x=(d*P-A*D)/O,S=(M*D-L*P)/O,new i(x,S))},o.angleOfVector=function(s,u,l,f){var c=void 0;return s!==l?(c=Math.atan((f-u)/(l-s)),l<s?c+=Math.PI:f<u&&(c+=this.TWO_PI)):f<u?c=this.ONE_AND_HALF_PI:c=this.HALF_PI,c},o.doIntersect=function(s,u,l,f){var c=s.x,p=s.y,v=u.x,g=u.y,m=l.x,w=l.y,b=f.x,E=f.y,x=(v-c)*(E-w)-(b-m)*(g-p);if(x===0)return!1;var S=((E-w)*(b-c)+(m-b)*(E-p))/x,L=((p-g)*(b-c)+(v-c)*(E-p))/x;return 0<S&&S<1&&0<L&&L<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o},function(r,n,a){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=i},function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,n,a){var i=function(){function c(p,v){for(var g=0;g<v.length;g++){var m=v[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,v,g){return v&&c(p.prototype,v),g&&c(p,g),p}}();function o(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}var s=function(p){return{value:p,next:null,prev:null}},u=function(p,v,g,m){return p!==null?p.next=v:m.head=v,g!==null?g.prev=v:m.tail=v,v.prev=p,v.next=g,m.length++,v},l=function(p,v){var g=p.prev,m=p.next;return g!==null?g.next=m:v.head=m,m!==null?m.prev=g:v.tail=g,p.prev=p.next=null,v.length--,p},f=function(){function c(p){var v=this;o(this,c),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(g){return v.push(g)})}return i(c,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(v,g){return u(g.prev,s(v),g,this)}},{key:"insertAfter",value:function(v,g){return u(g,s(v),g.next,this)}},{key:"insertNodeBefore",value:function(v,g){return u(g.prev,v,g,this)}},{key:"insertNodeAfter",value:function(v,g){return u(g,v,g.next,this)}},{key:"push",value:function(v){return u(this.tail,s(v),null,this)}},{key:"unshift",value:function(v){return u(null,s(v),this.head,this)}},{key:"remove",value:function(v){return l(v,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(v){if(v<=this.length()){for(var g=1,m=this.head;g<v;)m=m.next,g++;return m.value}}},{key:"set_object_at",value:function(v,g){if(v<=this.length()){for(var m=1,w=this.head;m<v;)w=w.next,m++;w.value=g}}}]),c}();r.exports=f},function(r,n,a){function i(o,s,u){this.x=null,this.y=null,o==null&&s==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof s=="number"&&u==null?(this.x=o,this.y=s):o.constructor.name=="Point"&&s==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,s,u){o.constructor.name=="Point"&&s==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof s=="number"&&u==null&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},i.prototype.move=function(o,s){this.x=o,this.y=s},i.prototype.translate=function(o,s){this.x+=o,this.y+=s},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var s=o;return this.x==s.x&&this.y==s.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,n,a){function i(o,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&s!=null&&u!=null&&l!=null&&(this.x=o,this.y=s,this.width=u,this.height=l)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return s==null&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var u=typeof s>"u"?"undefined":i(s);return s==null||u!="object"&&u!="function"},r.exports=o},function(r,n,a){function i(m){if(Array.isArray(m)){for(var w=0,b=Array(m.length);w<m.length;w++)b[w]=m[w];return b}else return Array.from(m)}var o=a(0),s=a(6),u=a(3),l=a(1),f=a(5),c=a(4),p=a(17),v=a(27);function g(m){v.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}g.RANDOM_SEED=1,g.prototype=Object.create(v.prototype),g.prototype.getGraphManager=function(){return this.graphManager},g.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},g.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},g.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},g.prototype.newGraphManager=function(){var m=new s(this);return this.graphManager=m,m},g.prototype.newGraph=function(m){return new f(null,this.graphManager,m)},g.prototype.newNode=function(m){return new u(this.graphManager,m)},g.prototype.newEdge=function(m){return new l(null,null,m)},g.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},g.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),o.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},g.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},g.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),w=0;w<m.length;w++)m[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},g.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof u){var w=m;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),E=0;E<b.length;E++)update(b[E]);if(w.vGraphObject!=null){var x=w.vGraphObject;x.update(w)}}else if(m instanceof l){var S=m;if(S.vGraphObject!=null){var L=S.vGraphObject;L.update(S)}}else if(m instanceof f){var M=m;if(M.vGraphObject!=null){var d=M.vGraphObject;d.update(M)}}},g.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},g.prototype.transform=function(m){if(m==null)this.transform(new c(0,0));else{var w=new p,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(m.x),w.setWorldOrgY(m.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var E=this.getAllNodes(),x,S=0;S<E.length;S++)x=E[S],x.transform(w)}}},g.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,E=m.getNodes(),x=0;x<E.length;x++)w=E[x],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},g.prototype.getFlatForest=function(){for(var m=[],w=!0,b=this.graphManager.getRoot().getNodes(),E=!0,x=0;x<b.length;x++)b[x].getChild()!=null&&(E=!1);if(!E)return m;var S=new Set,L=[],M=new Map,d=[];for(d=d.concat(b);d.length>0&&w;){for(L.push(d[0]);L.length>0&&w;){var A=L[0];L.splice(0,1),S.add(A);for(var D=A.getEdges(),x=0;x<D.length;x++){var P=D[x].getOtherEnd(A);if(M.get(A)!=P)if(!S.has(P))L.push(P),M.set(P,A);else{w=!1;break}}}if(!w)m=[];else{var O=[].concat(i(S));m.push(O);for(var x=0;x<O.length;x++){var N=O[x],B=d.indexOf(N);B>-1&&d.splice(B,1)}S=new Set,M=new Map}}return m},g.prototype.createDummyNodesForBendpoints=function(m){for(var w=[],b=m.source,E=this.graphManager.calcLowestCommonAncestor(m.source,m.target),x=0;x<m.bendpoints.length;x++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),E.add(S);var L=this.newEdge(null);this.graphManager.add(L,b,S),w.add(S),b=S}var L=this.newEdge(null);return this.graphManager.add(L,b,m.target),this.edgeToDummyNodes.set(m,w),m.isInterGraph()?this.graphManager.remove(m):E.remove(m),w},g.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(i(this.edgeToDummyNodes.keys())).concat(m);for(var w=0;w<m.length;w++){var b=m[w];if(b.bendpoints.length>0){for(var E=this.edgeToDummyNodes.get(b),x=0;x<E.length;x++){var S=E[x],L=new c(S.getCenterX(),S.getCenterY()),M=b.bendpoints.get(x);M.x=L.x,M.y=L.y,S.getOwner().remove(S)}this.graphManager.add(b,b.source,b.target)}}},g.transform=function(m,w,b,E){if(b!=null&&E!=null){var x=w;if(m<=50){var S=w/b;x-=(w-S)/50*(50-m)}else{var L=w*E;x+=(L-w)/50*(m-50)}return x}else{var M,d;return m<=50?(M=9*w/500,d=w/10):(M=9*w/50,d=-8*w),M*m+d}},g.findCenterOfTree=function(m){var w=[];w=w.concat(m);var b=[],E=new Map,x=!1,S=null;(w.length==1||w.length==2)&&(x=!0,S=w[0]);for(var L=0;L<w.length;L++){var M=w[L],d=M.getNeighborsList().size;E.set(M,M.getNeighborsList().size),d==1&&b.push(M)}var A=[];for(A=A.concat(b);!x;){var D=[];D=D.concat(A),A=[];for(var L=0;L<w.length;L++){var M=w[L],P=w.indexOf(M);P>=0&&w.splice(P,1);var O=M.getNeighborsList();O.forEach(function(F){if(b.indexOf(F)<0){var U=E.get(F),V=U-1;V==1&&A.push(F),E.set(F,V)}})}b=b.concat(A),(w.length==1||w.length==2)&&(x=!0,S=w[0])}return S},g.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=g},function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,n,a){var i=a(4);function o(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},o.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},o.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},o.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},o.prototype.inverseTransformPoint=function(s){var u=new i(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},r.exports=o},function(r,n,a){function i(v){if(Array.isArray(v)){for(var g=0,m=Array(v.length);g<v.length;g++)m[g]=v[g];return m}else return Array.from(v)}var o=a(15),s=a(7),u=a(0),l=a(8),f=a(9);function c(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}c.prototype=Object.create(o.prototype);for(var p in o)c[p]=o[p];c.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},c.prototype.calcIdealEdgeLengths=function(){for(var v,g,m,w,b,E,x=this.getGraphManager().getAllEdges(),S=0;S<x.length;S++)v=x[S],v.idealLength=this.idealEdgeLength,v.isInterGraph&&(m=v.getSource(),w=v.getTarget(),b=v.getSourceInLca().getEstimatedSize(),E=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=b+E-2*u.SIMPLE_NODE_SIZE),g=v.getLca().getInclusionTreeDepth(),v.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*g))},c.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(v-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},c.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),g,m=0;m<v.length;m++)g=v[m],this.calcSpringForce(g,g.idealLength)},c.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,w,b,E,x=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),S=new Set,m=0;m<x.length;m++)b=x[m],this.calculateRepulsionForceOfANode(b,S,v,g),S.add(b);else for(m=0;m<x.length;m++)for(b=x[m],w=m+1;w<x.length;w++)E=x[w],b.getOwner()==E.getOwner()&&this.calcRepulsionForce(b,E)},c.prototype.calcGravitationalForces=function(){for(var v,g=this.getAllNodesToApplyGravitation(),m=0;m<g.length;m++)v=g[m],this.calcGravitationalForce(v)},c.prototype.moveNodes=function(){for(var v=this.getAllNodes(),g,m=0;m<v.length;m++)g=v[m],g.move()},c.prototype.calcSpringForce=function(v,g){var m=v.getSource(),w=v.getTarget(),b,E,x,S;if(this.uniformLeafNodeSizes&&m.getChild()==null&&w.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;b=v.getLength(),b!=0&&(E=this.springConstant*(b-g),x=E*(v.lengthX/b),S=E*(v.lengthY/b),m.springForceX+=x,m.springForceY+=S,w.springForceX-=x,w.springForceY-=S)},c.prototype.calcRepulsionForce=function(v,g){var m=v.getRect(),w=g.getRect(),b=new Array(2),E=new Array(4),x,S,L,M,d,A,D;if(m.intersects(w)){l.calcSeparationAmount(m,w,b,s.DEFAULT_EDGE_LENGTH/2),A=2*b[0],D=2*b[1];var P=v.noOfChildren*g.noOfChildren/(v.noOfChildren+g.noOfChildren);v.repulsionForceX-=P*A,v.repulsionForceY-=P*D,g.repulsionForceX+=P*A,g.repulsionForceY+=P*D}else this.uniformLeafNodeSizes&&v.getChild()==null&&g.getChild()==null?(x=w.getCenterX()-m.getCenterX(),S=w.getCenterY()-m.getCenterY()):(l.getIntersection(m,w,E),x=E[2]-E[0],S=E[3]-E[1]),Math.abs(x)<s.MIN_REPULSION_DIST&&(x=f.sign(x)*s.MIN_REPULSION_DIST),Math.abs(S)<s.MIN_REPULSION_DIST&&(S=f.sign(S)*s.MIN_REPULSION_DIST),L=x*x+S*S,M=Math.sqrt(L),d=this.repulsionConstant*v.noOfChildren*g.noOfChildren/L,A=d*x/M,D=d*S/M,v.repulsionForceX-=A,v.repulsionForceY-=D,g.repulsionForceX+=A,g.repulsionForceY+=D},c.prototype.calcGravitationalForce=function(v){var g,m,w,b,E,x,S,L;g=v.getOwner(),m=(g.getRight()+g.getLeft())/2,w=(g.getTop()+g.getBottom())/2,b=v.getCenterX()-m,E=v.getCenterY()-w,x=Math.abs(b)+v.getWidth()/2,S=Math.abs(E)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(L=g.getEstimatedSize()*this.gravityRangeFactor,(x>L||S>L)&&(v.gravitationForceX=-this.gravityConstant*b,v.gravitationForceY=-this.gravityConstant*E)):(L=g.getEstimatedSize()*this.compoundGravityRangeFactor,(x>L||S>L)&&(v.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*E*this.compoundGravityConstant))},c.prototype.isConverged=function(){var v,g=!1;return this.totalIterations>this.maxIterations/3&&(g=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||g},c.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},c.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,g=this.graphManager.getAllNodes(),m=0;m<g.length;m++)v=g[m],v.noOfChildren=v.getNoOfChildren()},c.prototype.calcGrid=function(v){var g=0,m=0;g=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var w=new Array(g),b=0;b<g;b++)w[b]=new Array(m);for(var b=0;b<g;b++)for(var E=0;E<m;E++)w[b][E]=new Array;return w},c.prototype.addNodeToGrid=function(v,g,m){var w=0,b=0,E=0,x=0;w=parseInt(Math.floor((v.getRect().x-g)/this.repulsionRange)),b=parseInt(Math.floor((v.getRect().width+v.getRect().x-g)/this.repulsionRange)),E=parseInt(Math.floor((v.getRect().y-m)/this.repulsionRange)),x=parseInt(Math.floor((v.getRect().height+v.getRect().y-m)/this.repulsionRange));for(var S=w;S<=b;S++)for(var L=E;L<=x;L++)this.grid[S][L].push(v),v.setGridCoordinates(w,b,E,x)},c.prototype.updateGrid=function(){var v,g,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<m.length;v++)g=m[v],this.addNodeToGrid(g,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},c.prototype.calculateRepulsionForceOfANode=function(v,g,m,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&m||w){var b=new Set;v.surrounding=new Array;for(var E,x=this.grid,S=v.startX-1;S<v.finishX+2;S++)for(var L=v.startY-1;L<v.finishY+2;L++)if(!(S<0||L<0||S>=x.length||L>=x[0].length)){for(var M=0;M<x[S][L].length;M++)if(E=x[S][L][M],!(v.getOwner()!=E.getOwner()||v==E)&&!g.has(E)&&!b.has(E)){var d=Math.abs(v.getCenterX()-E.getCenterX())-(v.getWidth()/2+E.getWidth()/2),A=Math.abs(v.getCenterY()-E.getCenterY())-(v.getHeight()/2+E.getHeight()/2);d<=this.repulsionRange&&A<=this.repulsionRange&&b.add(E)}}v.surrounding=[].concat(i(b))}for(S=0;S<v.surrounding.length;S++)this.calcRepulsionForce(v,v.surrounding[S])},c.prototype.calcRepulsionRange=function(){return 0},r.exports=c},function(r,n,a){var i=a(1),o=a(7);function s(l,f,c){i.call(this,l,f,c),this.idealLength=o.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];r.exports=s},function(r,n,a){var i=a(3);function o(u,l,f,c){i.call(this,u,l,f,c),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];o.prototype.setGridCoordinates=function(u,l,f,c){this.startX=u,this.finishX=l,this.startY=f,this.finishY=c},r.exports=o},function(r,n,a){function i(o,s){this.width=0,this.height=0,o!==null&&s!==null&&(this.height=s,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},r.exports=i},function(r,n,a){var i=a(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,u){var l=i.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},o.prototype.contains=function(s){return i.createID(s),this.map[s]!=null},o.prototype.get=function(s){var u=i.createID(s);return this.map[u]},o.prototype.keySet=function(){return this.keys},r.exports=o},function(r,n,a){var i=a(14);function o(){this.set={}}o.prototype.add=function(s){var u=i.createID(s);this.contains(u)||(this.set[u]=s)},o.prototype.remove=function(s){delete this.set[i.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[i.createID(s)]==s},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,f=0;f<l;f++)s.push(this.set[u[f]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var f=s[l];this.add(f)}},r.exports=o},function(r,n,a){var i=function(){function l(f,c){for(var p=0;p<c.length;p++){var v=c[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}return function(f,c,p){return c&&l(f.prototype,c),p&&l(f,p),f}}();function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=a(11),u=function(){function l(f,c){o(this,l),(c!==null||c!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof s?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return i(l,[{key:"_quicksort",value:function(c,p,v){if(p<v){var g=this._partition(c,p,v);this._quicksort(c,p,g),this._quicksort(c,g+1,v)}}},{key:"_partition",value:function(c,p,v){for(var g=this._get(c,p),m=p,w=v;;){for(;this.compareFunction(g,this._get(c,w));)w--;for(;this.compareFunction(this._get(c,m),g);)m++;if(m<w)this._swap(c,m,w),m++,w--;else return w}}},{key:"_get",value:function(c,p){return c instanceof s?c.get_object_at(p):c[p]}},{key:"_set",value:function(c,p,v){c instanceof s?c.set_object_at(p,v):c[p]=v}},{key:"_swap",value:function(c,p,v){var g=this._get(c,p);this._set(c,p,this._get(c,v)),this._set(c,v,g)}},{key:"_defaultCompareFunction",value:function(c,p){return p>c}}]),l}();r.exports=u},function(r,n,a){var i=function(){function u(l,f){for(var c=0;c<f.length;c++){var p=f[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,c){return f&&u(l.prototype,f),c&&u(l,c),l}}();function o(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,f){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=l,this.sequence2=f,this.match_score=c,this.mismatch_penalty=p,this.gap_penalty=v,this.iMax=l.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.grid[g]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[g][m]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var c=1;c<this.iMax;c++)this.grid[c][0]=this.grid[c-1][0]+this.gap_penalty,this.tracebackGrid[c][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var v=1;v<this.jMax;v++){var g=void 0;this.sequence1[p-1]===this.sequence2[v-1]?g=this.grid[p-1][v-1]+this.match_score:g=this.grid[p-1][v-1]+this.mismatch_penalty;var m=this.grid[p-1][v]+this.gap_penalty,w=this.grid[p][v-1]+this.gap_penalty,b=[g,m,w],E=this.arrayAllMaxIndexes(b);this.grid[p][v]=b[E[0]],this.tracebackGrid[p][v]=[E.includes(0),E.includes(1),E.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var c=f[0],p=this.tracebackGrid[c.pos[0]][c.pos[1]];p[0]&&f.push({pos:[c.pos[0]-1,c.pos[1]-1],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),p[1]&&f.push({pos:[c.pos[0]-1,c.pos[1]],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:"-"+c.seq2}),p[2]&&f.push({pos:[c.pos[0],c.pos[1]-1],seq1:"-"+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),c.pos[0]===0&&c.pos[1]===0&&this.alignments.push({sequence1:c.seq1,sequence2:c.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,c){for(var p=[],v=-1;(v=f.indexOf(c,v+1))!==-1;)p.push(v);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=s},function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(7),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(4),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(24),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(5),i.LEdge=a(1),i.LGraphManager=a(6),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(25),r.exports=i},function(r,n,a){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(s,u){this.listeners.push({event:s,callback:u})},o.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var f=this.listeners[l];f.event===s&&f.callback===u&&this.listeners.splice(l,1)}},o.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var f=this.listeners[l];s===f.event&&f.callback(u)}},r.exports=i}])})}(Qi)),Qi.exports}var gb=Zi.exports,Ol;function pb(){return Ol||(Ol=1,function(t,e){(function(n,a){t.exports=a(vb())})(gb,function(r){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=7)}([function(n,a){n.exports=r},function(n,a,i){var o=i(0).FDLayoutConstants;function s(){}for(var u in o)s[u]=o[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,a,i){var o=i(0).FDLayoutEdge;function s(l,f,c){o.call(this,l,f,c)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).LGraph;function s(l,f,c){o.call(this,l,f,c)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).LGraphManager;function s(l){o.call(this,l)}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];n.exports=s},function(n,a,i){var o=i(0).FDLayoutNode,s=i(0).IMath;function u(f,c,p,v){o.call(this,f,c,p,v)}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(f,c){for(var p=this.getChild().getNodes(),v,g=0;g<p.length;g++)v=p[g],v.getChild()==null?(v.moveBy(f,c),v.displacementX+=f,v.displacementY+=c):v.propogateDisplacementToChildren(f,c)},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,a,i){var o=i(0).FDLayout,s=i(4),u=i(3),l=i(5),f=i(2),c=i(1),p=i(0).FDLayoutConstants,v=i(0).LayoutConstants,g=i(0).Point,m=i(0).PointD,w=i(0).Layout,b=i(0).Integer,E=i(0).IGeometry,x=i(0).LGraph,S=i(0).Transform;function L(){o.call(this),this.toBeTiled={}}L.prototype=Object.create(o.prototype);for(var M in o)L[M]=o[M];L.prototype.newGraphManager=function(){var d=new s(this);return this.graphManager=d,d},L.prototype.newGraph=function(d){return new u(null,this.graphManager,d)},L.prototype.newNode=function(d){return new l(this.graphManager,d)},L.prototype.newEdge=function(d){return new f(null,null,d)},L.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(c.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},L.prototype.layout=function(){var d=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return d&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},L.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(c.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(N){return A.has(N)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var d=this.getFlatForest();if(d.length>0)this.positionNodesRadially(d);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(P){return A.has(P)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},L.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var d=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(O){return d.has(O)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},L.prototype.getPositionsData=function(){for(var d=this.graphManager.getAllNodes(),A={},D=0;D<d.length;D++){var P=d[D].rect,O=d[D].id;A[O]={id:O,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return A},L.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var d=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!d;)d=this.tick();this.graphManager.updateBounds()}},L.prototype.calculateNodesToApplyGravitationTo=function(){var d=[],A,D=this.graphManager.getGraphs(),P=D.length,O;for(O=0;O<P;O++)A=D[O],A.updateConnected(),A.isConnected||(d=d.concat(A.getNodes()));return d},L.prototype.createBendpoints=function(){var d=[];d=d.concat(this.graphManager.getAllEdges());var A=new Set,D;for(D=0;D<d.length;D++){var P=d[D];if(!A.has(P)){var O=P.getSource(),N=P.getTarget();if(O==N)P.getBendpoints().push(new m),P.getBendpoints().push(new m),this.createDummyNodesForBendpoints(P),A.add(P);else{var B=[];if(B=B.concat(O.getEdgeListToNode(N)),B=B.concat(N.getEdgeListToNode(O)),!A.has(B[0])){if(B.length>1){var F;for(F=0;F<B.length;F++){var U=B[F];U.getBendpoints().push(new m),this.createDummyNodesForBendpoints(U)}}B.forEach(function(V){A.add(V)})}}}if(A.size==d.length)break}},L.prototype.positionNodesRadially=function(d){for(var A=new g(0,0),D=Math.ceil(Math.sqrt(d.length)),P=0,O=0,N=0,B=new m(0,0),F=0;F<d.length;F++){F%D==0&&(N=0,O=P,F!=0&&(O+=c.DEFAULT_COMPONENT_SEPERATION),P=0);var U=d[F],V=w.findCenterOfTree(U);A.x=N,A.y=O,B=L.radialLayout(U,V,A),B.y>P&&(P=Math.floor(B.y)),N=Math.floor(B.x+c.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(v.WORLD_CENTER_X-B.x/2,v.WORLD_CENTER_Y-B.y/2))},L.radialLayout=function(d,A,D){var P=Math.max(this.maxDiagonalInTree(d),c.DEFAULT_RADIAL_SEPARATION);L.branchRadialLayout(A,null,0,359,0,P);var O=x.calculateBounds(d),N=new S;N.setDeviceOrgX(O.getMinX()),N.setDeviceOrgY(O.getMinY()),N.setWorldOrgX(D.x),N.setWorldOrgY(D.y);for(var B=0;B<d.length;B++){var F=d[B];F.transform(N)}var U=new m(O.getMaxX(),O.getMaxY());return N.inverseTransformPoint(U)},L.branchRadialLayout=function(d,A,D,P,O,N){var B=(P-D+1)/2;B<0&&(B+=180);var F=(B+D)%360,U=F*E.TWO_PI/360,V=O*Math.cos(U),_=O*Math.sin(U);d.setCenter(V,_);var q=[];q=q.concat(d.getEdges());var Y=q.length;A!=null&&Y--;for(var Q=0,$=q.length,K,ie=d.getEdgesBetween(A);ie.length>1;){var ue=ie[0];ie.splice(0,1);var fe=q.indexOf(ue);fe>=0&&q.splice(fe,1),$--,Y--}A!=null?K=(q.indexOf(ie[0])+1)%$:K=0;for(var he=Math.abs(P-D)/Y,ye=K;Q!=Y;ye=++ye%$){var be=q[ye].getOtherEnd(d);if(be!=A){var te=(D+Q*he)%360,j=(te+he)%360;L.branchRadialLayout(be,d,te,j,O+N,N),Q++}}},L.maxDiagonalInTree=function(d){for(var A=b.MIN_VALUE,D=0;D<d.length;D++){var P=d[D],O=P.getDiagonal();O>A&&(A=O)}return A},L.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},L.prototype.groupZeroDegreeMembers=function(){var d=this,A={};this.memberGroups={},this.idToDummyNode={};for(var D=[],P=this.graphManager.getAllNodes(),O=0;O<P.length;O++){var N=P[O],B=N.getParent();this.getNodeDegreeWithChildren(N)===0&&(B.id==null||!this.getToBeTiled(B))&&D.push(N)}for(var O=0;O<D.length;O++){var N=D[O],F=N.getParent().id;typeof A[F]>"u"&&(A[F]=[]),A[F]=A[F].concat(N)}Object.keys(A).forEach(function(U){if(A[U].length>1){var V="DummyCompound_"+U;d.memberGroups[V]=A[U];var _=A[U][0].getParent(),q=new l(d.graphManager);q.id=V,q.paddingLeft=_.paddingLeft||0,q.paddingRight=_.paddingRight||0,q.paddingBottom=_.paddingBottom||0,q.paddingTop=_.paddingTop||0,d.idToDummyNode[V]=q;var Y=d.getGraphManager().add(d.newGraph(),q),Q=_.getChild();Q.add(q);for(var $=0;$<A[U].length;$++){var K=A[U][$];Q.remove(K),Y.add(K)}}})},L.prototype.clearCompounds=function(){var d={},A={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)A[this.compoundOrder[D].id]=this.compoundOrder[D],d[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(d,A)},L.prototype.clearZeroDegreeMembers=function(){var d=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var P=d.idToDummyNode[D];A[D]=d.tileNodes(d.memberGroups[D],P.paddingLeft+P.paddingRight),P.rect.width=A[D].width,P.rect.height=A[D].height})},L.prototype.repopulateCompounds=function(){for(var d=this.compoundOrder.length-1;d>=0;d--){var A=this.compoundOrder[d],D=A.id,P=A.paddingLeft,O=A.paddingTop;this.adjustLocations(this.tiledMemberPack[D],A.rect.x,A.rect.y,P,O)}},L.prototype.repopulateZeroDegreeMembers=function(){var d=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(D){var P=d.idToDummyNode[D],O=P.paddingLeft,N=P.paddingTop;d.adjustLocations(A[D],P.rect.x,P.rect.y,O,N)})},L.prototype.getToBeTiled=function(d){var A=d.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var D=d.getChild();if(D==null)return this.toBeTiled[A]=!1,!1;for(var P=D.getNodes(),O=0;O<P.length;O++){var N=P[O];if(this.getNodeDegree(N)>0)return this.toBeTiled[A]=!1,!1;if(N.getChild()==null){this.toBeTiled[N.id]=!1;continue}if(!this.getToBeTiled(N))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},L.prototype.getNodeDegree=function(d){d.id;for(var A=d.getEdges(),D=0,P=0;P<A.length;P++){var O=A[P];O.getSource().id!==O.getTarget().id&&(D=D+1)}return D},L.prototype.getNodeDegreeWithChildren=function(d){var A=this.getNodeDegree(d);if(d.getChild()==null)return A;for(var D=d.getChild().getNodes(),P=0;P<D.length;P++){var O=D[P];A+=this.getNodeDegreeWithChildren(O)}return A},L.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},L.prototype.fillCompexOrderByDFS=function(d){for(var A=0;A<d.length;A++){var D=d[A];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},L.prototype.adjustLocations=function(d,A,D,P,O){A+=P,D+=O;for(var N=A,B=0;B<d.rows.length;B++){var F=d.rows[B];A=N;for(var U=0,V=0;V<F.length;V++){var _=F[V];_.rect.x=A,_.rect.y=D,A+=_.rect.width+d.horizontalPadding,_.rect.height>U&&(U=_.rect.height)}D+=U+d.verticalPadding}},L.prototype.tileCompoundMembers=function(d,A){var D=this;this.tiledMemberPack=[],Object.keys(d).forEach(function(P){var O=A[P];D.tiledMemberPack[P]=D.tileNodes(d[P],O.paddingLeft+O.paddingRight),O.rect.width=D.tiledMemberPack[P].width,O.rect.height=D.tiledMemberPack[P].height})},L.prototype.tileNodes=function(d,A){var D=c.TILING_PADDING_VERTICAL,P=c.TILING_PADDING_HORIZONTAL,O={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:D,horizontalPadding:P};d.sort(function(F,U){return F.rect.width*F.rect.height>U.rect.width*U.rect.height?-1:F.rect.width*F.rect.height<U.rect.width*U.rect.height?1:0});for(var N=0;N<d.length;N++){var B=d[N];O.rows.length==0?this.insertNodeToRow(O,B,0,A):this.canAddHorizontal(O,B.rect.width,B.rect.height)?this.insertNodeToRow(O,B,this.getShortestRowIndex(O),A):this.insertNodeToRow(O,B,O.rows.length,A),this.shiftToLastRow(O)}return O},L.prototype.insertNodeToRow=function(d,A,D,P){var O=P;if(D==d.rows.length){var N=[];d.rows.push(N),d.rowWidth.push(O),d.rowHeight.push(0)}var B=d.rowWidth[D]+A.rect.width;d.rows[D].length>0&&(B+=d.horizontalPadding),d.rowWidth[D]=B,d.width<B&&(d.width=B);var F=A.rect.height;D>0&&(F+=d.verticalPadding);var U=0;F>d.rowHeight[D]&&(U=d.rowHeight[D],d.rowHeight[D]=F,U=d.rowHeight[D]-U),d.height+=U,d.rows[D].push(A)},L.prototype.getShortestRowIndex=function(d){for(var A=-1,D=Number.MAX_VALUE,P=0;P<d.rows.length;P++)d.rowWidth[P]<D&&(A=P,D=d.rowWidth[P]);return A},L.prototype.getLongestRowIndex=function(d){for(var A=-1,D=Number.MIN_VALUE,P=0;P<d.rows.length;P++)d.rowWidth[P]>D&&(A=P,D=d.rowWidth[P]);return A},L.prototype.canAddHorizontal=function(d,A,D){var P=this.getShortestRowIndex(d);if(P<0)return!0;var O=d.rowWidth[P];if(O+d.horizontalPadding+A<=d.width)return!0;var N=0;d.rowHeight[P]<D&&P>0&&(N=D+d.verticalPadding-d.rowHeight[P]);var B;d.width-O>=A+d.horizontalPadding?B=(d.height+N)/(O+A+d.horizontalPadding):B=(d.height+N)/d.width,N=D+d.verticalPadding;var F;return d.width<A?F=(d.height+N)/A:F=(d.height+N)/d.width,F<1&&(F=1/F),B<1&&(B=1/B),B<F},L.prototype.shiftToLastRow=function(d){var A=this.getLongestRowIndex(d),D=d.rowWidth.length-1,P=d.rows[A],O=P[P.length-1],N=O.width+d.horizontalPadding;if(d.width-d.rowWidth[D]>N&&A!=D){P.splice(-1,1),d.rows[D].push(O),d.rowWidth[A]=d.rowWidth[A]-N,d.rowWidth[D]=d.rowWidth[D]+N,d.width=d.rowWidth[instance.getLongestRowIndex(d)];for(var B=Number.MIN_VALUE,F=0;F<P.length;F++)P[F].height>B&&(B=P[F].height);A>0&&(B+=d.verticalPadding);var U=d.rowHeight[A]+d.rowHeight[D];d.rowHeight[A]=B,d.rowHeight[D]<O.height+d.verticalPadding&&(d.rowHeight[D]=O.height+d.verticalPadding);var V=d.rowHeight[A]+d.rowHeight[D];d.height+=V-U,this.shiftToLastRow(d)}},L.prototype.tilingPreLayout=function(){c.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},L.prototype.tilingPostLayout=function(){c.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},L.prototype.reduceTrees=function(){for(var d=[],A=!0,D;A;){var P=this.graphManager.getAllNodes(),O=[];A=!1;for(var N=0;N<P.length;N++)D=P[N],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(O.push([D,D.getEdges()[0],D.getOwner()]),A=!0);if(A==!0){for(var B=[],F=0;F<O.length;F++)O[F][0].getEdges().length==1&&(B.push(O[F]),O[F][0].getOwner().remove(O[F][0]));d.push(B),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=d},L.prototype.growTree=function(d){for(var A=d.length,D=d[A-1],P,O=0;O<D.length;O++)P=D[O],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);d.splice(d.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},L.prototype.findPlaceforPrunedNode=function(d){var A,D,P=d[0];P==d[1].source?D=d[1].target:D=d[1].source;var O=D.startX,N=D.finishX,B=D.startY,F=D.finishY,U=0,V=0,_=0,q=0,Y=[U,_,V,q];if(B>0)for(var Q=O;Q<=N;Q++)Y[0]+=this.grid[Q][B-1].length+this.grid[Q][B].length-1;if(N<this.grid.length-1)for(var Q=B;Q<=F;Q++)Y[1]+=this.grid[N+1][Q].length+this.grid[N][Q].length-1;if(F<this.grid[0].length-1)for(var Q=O;Q<=N;Q++)Y[2]+=this.grid[Q][F+1].length+this.grid[Q][F].length-1;if(O>0)for(var Q=B;Q<=F;Q++)Y[3]+=this.grid[O-1][Q].length+this.grid[O][Q].length-1;for(var $=b.MAX_VALUE,K,ie,ue=0;ue<Y.length;ue++)Y[ue]<$?($=Y[ue],K=1,ie=ue):Y[ue]==$&&K++;if(K==3&&$==0)Y[0]==0&&Y[1]==0&&Y[2]==0?A=1:Y[0]==0&&Y[1]==0&&Y[3]==0?A=0:Y[0]==0&&Y[2]==0&&Y[3]==0?A=3:Y[1]==0&&Y[2]==0&&Y[3]==0&&(A=2);else if(K==2&&$==0){var fe=Math.floor(Math.random()*2);Y[0]==0&&Y[1]==0?fe==0?A=0:A=1:Y[0]==0&&Y[2]==0?fe==0?A=0:A=2:Y[0]==0&&Y[3]==0?fe==0?A=0:A=3:Y[1]==0&&Y[2]==0?fe==0?A=1:A=2:Y[1]==0&&Y[3]==0?fe==0?A=1:A=3:fe==0?A=2:A=3}else if(K==4&&$==0){var fe=Math.floor(Math.random()*4);A=fe}else A=ie;A==0?P.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-p.DEFAULT_EDGE_LENGTH-P.getHeight()/2):A==1?P.setCenter(D.getCenterX()+D.getWidth()/2+p.DEFAULT_EDGE_LENGTH+P.getWidth()/2,D.getCenterY()):A==2?P.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+p.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(D.getCenterX()-D.getWidth()/2-p.DEFAULT_EDGE_LENGTH-P.getWidth()/2,D.getCenterY())},n.exports=L},function(n,a,i){var o={};o.layoutBase=i(0),o.CoSEConstants=i(1),o.CoSEEdge=i(2),o.CoSEGraph=i(3),o.CoSEGraphManager=i(4),o.CoSELayout=i(6),o.CoSENode=i(5),n.exports=o}])})}(Zi)),Zi.exports}var yb=Ki.exports,Nl;function mb(){return Nl||(Nl=1,function(t,e){(function(n,a){t.exports=a(pb())})(yb,function(r){return function(n){var a={};function i(o){if(a[o])return a[o].exports;var s=a[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,s,u){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=1)}([function(n,a){n.exports=r},function(n,a,i){var o=i(0).layoutBase.LayoutConstants,s=i(0).layoutBase.FDLayoutConstants,u=i(0).CoSEConstants,l=i(0).CoSELayout,f=i(0).CoSENode,c=i(0).layoutBase.PointD,p=i(0).layoutBase.DimensionD,v={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function g(E,x){var S={};for(var L in E)S[L]=E[L];for(var L in x)S[L]=x[L];return S}function m(E){this.options=g(v,E),w(this.options)}var w=function(x){x.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?o.QUALITY=0:x.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!x.randomize,u.ANIMATE=s.ANIMATE=o.ANIMATE=x.animate,u.TILE=x.tile,u.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal};m.prototype.run=function(){var E,x,S=this.options;this.idToLNode={};var L=this.layout=new l,M=this;M.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var d=L.newGraphManager();this.gm=d;var A=this.options.eles.nodes(),D=this.options.eles.edges();this.root=d.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(A),L);for(var P=0;P<D.length;P++){var O=D[P],N=this.idToLNode[O.data("source")],B=this.idToLNode[O.data("target")];if(N!==B&&N.getEdgesBetween(B).length==0){var F=d.add(L.newEdge(),N,B);F.id=O.id()}}var U=function(q,Y){typeof q=="number"&&(q=Y);var Q=q.data("id"),$=M.idToLNode[Q];return{x:$.getRect().getCenterX(),y:$.getRect().getCenterY()}},V=function _(){for(var q=function(){S.fit&&S.cy.fit(S.eles,S.padding),E||(E=!0,M.cy.one("layoutready",S.ready),M.cy.trigger({type:"layoutready",layout:M}))},Y=M.options.refresh,Q,$=0;$<Y&&!Q;$++)Q=M.stopped||M.layout.tick();if(Q){L.checkLayoutSuccess()&&!L.isSubLayout&&L.doPostLayout(),L.tilingPostLayout&&L.tilingPostLayout(),L.isLayoutFinished=!0,M.options.eles.nodes().positions(U),q(),M.cy.one("layoutstop",M.options.stop),M.cy.trigger({type:"layoutstop",layout:M}),x&&cancelAnimationFrame(x),E=!1;return}var K=M.layout.getPositionsData();S.eles.nodes().positions(function(ie,ue){if(typeof ie=="number"&&(ie=ue),!ie.isParent()){for(var fe=ie.id(),he=K[fe],ye=ie;he==null&&(he=K[ye.data("parent")]||K["DummyCompound_"+ye.data("parent")],K[fe]=he,ye=ye.parent()[0],ye!=null););return he!=null?{x:he.x,y:he.y}:{x:ie.position("x"),y:ie.position("y")}}}),q(),x=requestAnimationFrame(_)};return L.addListener("layoutstarted",function(){M.options.animate==="during"&&(x=requestAnimationFrame(V))}),L.runLayout(),this.options.animate!=="during"&&(M.options.eles.nodes().not(":parent").layoutPositions(M,M.options,U),E=!1),this},m.prototype.getTopMostNodes=function(E){for(var x={},S=0;S<E.length;S++)x[E[S].id()]=!0;var L=E.filter(function(M,d){typeof M=="number"&&(M=d);for(var A=M.parent()[0];A!=null;){if(x[A.id()])return!1;A=A.parent()[0]}return!0});return L},m.prototype.processChildrenList=function(E,x,S){for(var L=x.length,M=0;M<L;M++){var d=x[M],A=d.children(),D,P=d.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(d.outerWidth()!=null&&d.outerHeight()!=null?D=E.add(new f(S.graphManager,new c(d.position("x")-P.w/2,d.position("y")-P.h/2),new p(parseFloat(P.w),parseFloat(P.h)))):D=E.add(new f(this.graphManager)),D.id=d.data("id"),D.paddingLeft=parseInt(d.css("padding")),D.paddingTop=parseInt(d.css("padding")),D.paddingRight=parseInt(d.css("padding")),D.paddingBottom=parseInt(d.css("padding")),this.options.nodeDimensionsIncludeLabels&&d.isParent()){var O=d.boundingBox({includeLabels:!0,includeNodes:!1}).w,N=d.boundingBox({includeLabels:!0,includeNodes:!1}).h,B=d.css("text-halign");D.labelWidth=O,D.labelHeight=N,D.labelPos=B}if(this.idToLNode[d.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),A!=null&&A.length>0){var F;F=S.getGraphManager().add(S.newGraph(),D),this.processChildrenList(F,A,S)}}},m.prototype.stop=function(){return this.stopped=!0,this};var b=function(x){x("layout","cose-bilkent",m)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})}(Ki)),Ki.exports}var bb=mb();const wb=Fl(bb);var ss={exports:{}},ji={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var xb=ji.exports,kl;function Eb(){return kl||(kl=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:xb,function(e,r){var n=[],a=Object.getPrototypeOf,i=n.slice,o=n.flat?function(h){return n.flat.call(h)}:function(h){return n.concat.apply([],h)},s=n.push,u=n.indexOf,l={},f=l.toString,c=l.hasOwnProperty,p=c.toString,v=p.call(Object),g={},m=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},w=function(y){return y!=null&&y===y.window},b=e.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function x(h,y,T){T=T||b;var C,R,I=T.createElement("script");if(I.text=h,y)for(C in E)R=y[C]||y.getAttribute&&y.getAttribute(C),R&&I.setAttribute(C,R);T.head.appendChild(I).parentNode.removeChild(I)}function S(h){return h==null?h+"":typeof h=="object"||typeof h=="function"?l[f.call(h)]||"object":typeof h}var L="3.7.1",M=/HTML$/i,d=function(h,y){return new d.fn.init(h,y)};d.fn=d.prototype={jquery:L,constructor:d,length:0,toArray:function(){return i.call(this)},get:function(h){return h==null?i.call(this):h<0?this[h+this.length]:this[h]},pushStack:function(h){var y=d.merge(this.constructor(),h);return y.prevObject=this,y},each:function(h){return d.each(this,h)},map:function(h){return this.pushStack(d.map(this,function(y,T){return h.call(y,T,y)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(h,y){return(y+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(h,y){return y%2}))},eq:function(h){var y=this.length,T=+h+(h<0?y:0);return this.pushStack(T>=0&&T<y?[this[T]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var h,y,T,C,R,I,k=arguments[0]||{},W=1,H=arguments.length,Z=!1;for(typeof k=="boolean"&&(Z=k,k=arguments[W]||{},W++),typeof k!="object"&&!m(k)&&(k={}),W===H&&(k=this,W--);W<H;W++)if((h=arguments[W])!=null)for(y in h)C=h[y],!(y==="__proto__"||k===C)&&(Z&&C&&(d.isPlainObject(C)||(R=Array.isArray(C)))?(T=k[y],R&&!Array.isArray(T)?I=[]:!R&&!d.isPlainObject(T)?I={}:I=T,R=!1,k[y]=d.extend(Z,I,C)):C!==void 0&&(k[y]=C));return k},d.extend({expando:"jQuery"+(L+Math.random()).replace(/\D/g,""),isReady:!0,error:function(h){throw new Error(h)},noop:function(){},isPlainObject:function(h){var y,T;return!h||f.call(h)!=="[object Object]"?!1:(y=a(h),y?(T=c.call(y,"constructor")&&y.constructor,typeof T=="function"&&p.call(T)===v):!0)},isEmptyObject:function(h){var y;for(y in h)return!1;return!0},globalEval:function(h,y,T){x(h,{nonce:y&&y.nonce},T)},each:function(h,y){var T,C=0;if(A(h))for(T=h.length;C<T&&y.call(h[C],C,h[C])!==!1;C++);else for(C in h)if(y.call(h[C],C,h[C])===!1)break;return h},text:function(h){var y,T="",C=0,R=h.nodeType;if(!R)for(;y=h[C++];)T+=d.text(y);return R===1||R===11?h.textContent:R===9?h.documentElement.textContent:R===3||R===4?h.nodeValue:T},makeArray:function(h,y){var T=y||[];return h!=null&&(A(Object(h))?d.merge(T,typeof h=="string"?[h]:h):s.call(T,h)),T},inArray:function(h,y,T){return y==null?-1:u.call(y,h,T)},isXMLDoc:function(h){var y=h&&h.namespaceURI,T=h&&(h.ownerDocument||h).documentElement;return!M.test(y||T&&T.nodeName||"HTML")},merge:function(h,y){for(var T=+y.length,C=0,R=h.length;C<T;C++)h[R++]=y[C];return h.length=R,h},grep:function(h,y,T){for(var C,R=[],I=0,k=h.length,W=!T;I<k;I++)C=!y(h[I],I),C!==W&&R.push(h[I]);return R},map:function(h,y,T){var C,R,I=0,k=[];if(A(h))for(C=h.length;I<C;I++)R=y(h[I],I,T),R!=null&&k.push(R);else for(I in h)R=y(h[I],I,T),R!=null&&k.push(R);return o(k)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(h,y){l["[object "+y+"]"]=y.toLowerCase()});function A(h){var y=!!h&&"length"in h&&h.length,T=S(h);return m(h)||w(h)?!1:T==="array"||y===0||typeof y=="number"&&y>0&&y-1 in h}function D(h,y){return h.nodeName&&h.nodeName.toLowerCase()===y.toLowerCase()}var P=n.pop,O=n.sort,N=n.splice,B="[\\x20\\t\\r\\n\\f]",F=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g");d.contains=function(h,y){var T=y&&y.parentNode;return h===T||!!(T&&T.nodeType===1&&(h.contains?h.contains(T):h.compareDocumentPosition&&h.compareDocumentPosition(T)&16))};var U=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function V(h,y){return y?h==="\0"?"":h.slice(0,-1)+"\\"+h.charCodeAt(h.length-1).toString(16)+" ":"\\"+h}d.escapeSelector=function(h){return(h+"").replace(U,V)};var _=b,q=s;(function(){var h,y,T,C,R,I=q,k,W,H,Z,le,pe=d.expando,ne=0,Ee=0,je=Ei(),it=Ei(),et=Ei(),Ht=Ei(),Pt=function(G,X){return G===X&&(R=!0),0},Or="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Nr="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",at="\\["+B+"*("+Nr+")(?:"+B+"*([*^$|!~]?=)"+B+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Nr+"))|)"+B+"*\\]",Sn=":("+Nr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+at+")*)|.*)\\)|)",ut=new RegExp(B+"+","g"),St=new RegExp("^"+B+"*,"+B+"*"),Ra=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),Go=new RegExp(B+"|>"),kr=new RegExp(Sn),Pa=new RegExp("^"+Nr+"$"),Br={ID:new RegExp("^#("+Nr+")"),CLASS:new RegExp("^\\.("+Nr+")"),TAG:new RegExp("^("+Nr+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+Sn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+Or+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},tn=/^(?:input|select|textarea|button)$/i,rn=/^h\d$/i,wr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Uo=/[+~]/,Wr=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),Yr=function(G,X){var re="0x"+G.slice(1)-65536;return X||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,re&1023|56320))},rh=function(){nn()},nh=Ci(function(G){return G.disabled===!0&&D(G,"fieldset")},{dir:"parentNode",next:"legend"});function ah(){try{return k.activeElement}catch{}}try{I.apply(n=i.call(_.childNodes),_.childNodes),n[_.childNodes.length].nodeType}catch{I={apply:function(X,re){q.apply(X,i.call(re))},call:function(X){q.apply(X,i.call(arguments,1))}}}function pt(G,X,re,oe){var ge,De,Ne,He,ke,rt,Ze,Je=X&&X.ownerDocument,nt=X?X.nodeType:9;if(re=re||[],typeof G!="string"||!G||nt!==1&&nt!==9&&nt!==11)return re;if(!oe&&(nn(X),X=X||k,H)){if(nt!==11&&(ke=wr.exec(G)))if(ge=ke[1]){if(nt===9)if(Ne=X.getElementById(ge)){if(Ne.id===ge)return I.call(re,Ne),re}else return re;else if(Je&&(Ne=Je.getElementById(ge))&&pt.contains(X,Ne)&&Ne.id===ge)return I.call(re,Ne),re}else{if(ke[2])return I.apply(re,X.getElementsByTagName(G)),re;if((ge=ke[3])&&X.getElementsByClassName)return I.apply(re,X.getElementsByClassName(ge)),re}if(!Ht[G+" "]&&(!Z||!Z.test(G))){if(Ze=G,Je=X,nt===1&&(Go.test(G)||Ra.test(G))){for(Je=Uo.test(G)&&Vo(X.parentNode)||X,(Je!=X||!g.scope)&&((He=X.getAttribute("id"))?He=d.escapeSelector(He):X.setAttribute("id",He=pe)),rt=Ma(G),De=rt.length;De--;)rt[De]=(He?"#"+He:":scope")+" "+Ti(rt[De]);Ze=rt.join(",")}try{return I.apply(re,Je.querySelectorAll(Ze)),re}catch{Ht(G,!0)}finally{He===pe&&X.removeAttribute("id")}}}return du(G.replace(F,"$1"),X,re,oe)}function Ei(){var G=[];function X(re,oe){return G.push(re+" ")>y.cacheLength&&delete X[G.shift()],X[re+" "]=oe}return X}function Sr(G){return G[pe]=!0,G}function Wn(G){var X=k.createElement("fieldset");try{return!!G(X)}catch{return!1}finally{X.parentNode&&X.parentNode.removeChild(X),X=null}}function ih(G){return function(X){return D(X,"input")&&X.type===G}}function oh(G){return function(X){return(D(X,"input")||D(X,"button"))&&X.type===G}}function cu(G){return function(X){return"form"in X?X.parentNode&&X.disabled===!1?"label"in X?"label"in X.parentNode?X.parentNode.disabled===G:X.disabled===G:X.isDisabled===G||X.isDisabled!==!G&&nh(X)===G:X.disabled===G:"label"in X?X.disabled===G:!1}}function An(G){return Sr(function(X){return X=+X,Sr(function(re,oe){for(var ge,De=G([],re.length,X),Ne=De.length;Ne--;)re[ge=De[Ne]]&&(re[ge]=!(oe[ge]=re[ge]))})})}function Vo(G){return G&&typeof G.getElementsByTagName<"u"&&G}function nn(G){var X,re=G?G.ownerDocument||G:_;return re==k||re.nodeType!==9||!re.documentElement||(k=re,W=k.documentElement,H=!d.isXMLDoc(k),le=W.matches||W.webkitMatchesSelector||W.msMatchesSelector,W.msMatchesSelector&&_!=k&&(X=k.defaultView)&&X.top!==X&&X.addEventListener("unload",rh),g.getById=Wn(function(oe){return W.appendChild(oe).id=d.expando,!k.getElementsByName||!k.getElementsByName(d.expando).length}),g.disconnectedMatch=Wn(function(oe){return le.call(oe,"*")}),g.scope=Wn(function(){return k.querySelectorAll(":scope")}),g.cssHas=Wn(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(y.filter.ID=function(oe){var ge=oe.replace(Wr,Yr);return function(De){return De.getAttribute("id")===ge}},y.find.ID=function(oe,ge){if(typeof ge.getElementById<"u"&&H){var De=ge.getElementById(oe);return De?[De]:[]}}):(y.filter.ID=function(oe){var ge=oe.replace(Wr,Yr);return function(De){var Ne=typeof De.getAttributeNode<"u"&&De.getAttributeNode("id");return Ne&&Ne.value===ge}},y.find.ID=function(oe,ge){if(typeof ge.getElementById<"u"&&H){var De,Ne,He,ke=ge.getElementById(oe);if(ke){if(De=ke.getAttributeNode("id"),De&&De.value===oe)return[ke];for(He=ge.getElementsByName(oe),Ne=0;ke=He[Ne++];)if(De=ke.getAttributeNode("id"),De&&De.value===oe)return[ke]}return[]}}),y.find.TAG=function(oe,ge){return typeof ge.getElementsByTagName<"u"?ge.getElementsByTagName(oe):ge.querySelectorAll(oe)},y.find.CLASS=function(oe,ge){if(typeof ge.getElementsByClassName<"u"&&H)return ge.getElementsByClassName(oe)},Z=[],Wn(function(oe){var ge;W.appendChild(oe).innerHTML="<a id='"+pe+"' href='' disabled='disabled'></a><select id='"+pe+"-\r\\' disabled='disabled'><option selected=''></option></select>",oe.querySelectorAll("[selected]").length||Z.push("\\["+B+"*(?:value|"+Or+")"),oe.querySelectorAll("[id~="+pe+"-]").length||Z.push("~="),oe.querySelectorAll("a#"+pe+"+*").length||Z.push(".#.+[+~]"),oe.querySelectorAll(":checked").length||Z.push(":checked"),ge=k.createElement("input"),ge.setAttribute("type","hidden"),oe.appendChild(ge).setAttribute("name","D"),W.appendChild(oe).disabled=!0,oe.querySelectorAll(":disabled").length!==2&&Z.push(":enabled",":disabled"),ge=k.createElement("input"),ge.setAttribute("name",""),oe.appendChild(ge),oe.querySelectorAll("[name='']").length||Z.push("\\["+B+"*name"+B+"*="+B+`*(?:''|"")`)}),g.cssHas||Z.push(":has"),Z=Z.length&&new RegExp(Z.join("|")),Pt=function(oe,ge){if(oe===ge)return R=!0,0;var De=!oe.compareDocumentPosition-!ge.compareDocumentPosition;return De||(De=(oe.ownerDocument||oe)==(ge.ownerDocument||ge)?oe.compareDocumentPosition(ge):1,De&1||!g.sortDetached&&ge.compareDocumentPosition(oe)===De?oe===k||oe.ownerDocument==_&&pt.contains(_,oe)?-1:ge===k||ge.ownerDocument==_&&pt.contains(_,ge)?1:C?u.call(C,oe)-u.call(C,ge):0:De&4?-1:1)}),k}pt.matches=function(G,X){return pt(G,null,null,X)},pt.matchesSelector=function(G,X){if(nn(G),H&&!Ht[X+" "]&&(!Z||!Z.test(X)))try{var re=le.call(G,X);if(re||g.disconnectedMatch||G.document&&G.document.nodeType!==11)return re}catch{Ht(X,!0)}return pt(X,k,null,[G]).length>0},pt.contains=function(G,X){return(G.ownerDocument||G)!=k&&nn(G),d.contains(G,X)},pt.attr=function(G,X){(G.ownerDocument||G)!=k&&nn(G);var re=y.attrHandle[X.toLowerCase()],oe=re&&c.call(y.attrHandle,X.toLowerCase())?re(G,X,!H):void 0;return oe!==void 0?oe:G.getAttribute(X)},pt.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},d.uniqueSort=function(G){var X,re=[],oe=0,ge=0;if(R=!g.sortStable,C=!g.sortStable&&i.call(G,0),O.call(G,Pt),R){for(;X=G[ge++];)X===G[ge]&&(oe=re.push(ge));for(;oe--;)N.call(G,re[oe],1)}return C=null,G},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(i.apply(this)))},y=d.expr={cacheLength:50,createPseudo:Sr,match:Br,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Wr,Yr),G[3]=(G[3]||G[4]||G[5]||"").replace(Wr,Yr),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||pt.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&pt.error(G[0]),G},PSEUDO:function(G){var X,re=!G[6]&&G[2];return Br.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":re&&kr.test(re)&&(X=Ma(re,!0))&&(X=re.indexOf(")",re.length-X)-re.length)&&(G[0]=G[0].slice(0,X),G[2]=re.slice(0,X)),G.slice(0,3))}},filter:{TAG:function(G){var X=G.replace(Wr,Yr).toLowerCase();return G==="*"?function(){return!0}:function(re){return D(re,X)}},CLASS:function(G){var X=je[G+" "];return X||(X=new RegExp("(^|"+B+")"+G+"("+B+"|$)"))&&je(G,function(re){return X.test(typeof re.className=="string"&&re.className||typeof re.getAttribute<"u"&&re.getAttribute("class")||"")})},ATTR:function(G,X,re){return function(oe){var ge=pt.attr(oe,G);return ge==null?X==="!=":X?(ge+="",X==="="?ge===re:X==="!="?ge!==re:X==="^="?re&&ge.indexOf(re)===0:X==="*="?re&&ge.indexOf(re)>-1:X==="$="?re&&ge.slice(-re.length)===re:X==="~="?(" "+ge.replace(ut," ")+" ").indexOf(re)>-1:X==="|="?ge===re||ge.slice(0,re.length+1)===re+"-":!1):!0}},CHILD:function(G,X,re,oe,ge){var De=G.slice(0,3)!=="nth",Ne=G.slice(-4)!=="last",He=X==="of-type";return oe===1&&ge===0?function(ke){return!!ke.parentNode}:function(ke,rt,Ze){var Je,nt,We,bt,lr,Qt=De!==Ne?"nextSibling":"previousSibling",xr=ke.parentNode,Fr=He&&ke.nodeName.toLowerCase(),Yn=!Ze&&!He,nr=!1;if(xr){if(De){for(;Qt;){for(We=ke;We=We[Qt];)if(He?D(We,Fr):We.nodeType===1)return!1;lr=Qt=G==="only"&&!lr&&"nextSibling"}return!0}if(lr=[Ne?xr.firstChild:xr.lastChild],Ne&&Yn){for(nt=xr[pe]||(xr[pe]={}),Je=nt[G]||[],bt=Je[0]===ne&&Je[1],nr=bt&&Je[2],We=bt&&xr.childNodes[bt];We=++bt&&We&&We[Qt]||(nr=bt=0)||lr.pop();)if(We.nodeType===1&&++nr&&We===ke){nt[G]=[ne,bt,nr];break}}else if(Yn&&(nt=ke[pe]||(ke[pe]={}),Je=nt[G]||[],bt=Je[0]===ne&&Je[1],nr=bt),nr===!1)for(;(We=++bt&&We&&We[Qt]||(nr=bt=0)||lr.pop())&&!((He?D(We,Fr):We.nodeType===1)&&++nr&&(Yn&&(nt=We[pe]||(We[pe]={}),nt[G]=[ne,nr]),We===ke)););return nr-=ge,nr===oe||nr%oe===0&&nr/oe>=0}}},PSEUDO:function(G,X){var re,oe=y.pseudos[G]||y.setFilters[G.toLowerCase()]||pt.error("unsupported pseudo: "+G);return oe[pe]?oe(X):oe.length>1?(re=[G,G,"",X],y.setFilters.hasOwnProperty(G.toLowerCase())?Sr(function(ge,De){for(var Ne,He=oe(ge,X),ke=He.length;ke--;)Ne=u.call(ge,He[ke]),ge[Ne]=!(De[Ne]=He[ke])}):function(ge){return oe(ge,0,re)}):oe}},pseudos:{not:Sr(function(G){var X=[],re=[],oe=Wo(G.replace(F,"$1"));return oe[pe]?Sr(function(ge,De,Ne,He){for(var ke,rt=oe(ge,null,He,[]),Ze=ge.length;Ze--;)(ke=rt[Ze])&&(ge[Ze]=!(De[Ze]=ke))}):function(ge,De,Ne){return X[0]=ge,oe(X,null,Ne,re),X[0]=null,!re.pop()}}),has:Sr(function(G){return function(X){return pt(G,X).length>0}}),contains:Sr(function(G){return G=G.replace(Wr,Yr),function(X){return(X.textContent||d.text(X)).indexOf(G)>-1}}),lang:Sr(function(G){return Pa.test(G||"")||pt.error("unsupported lang: "+G),G=G.replace(Wr,Yr).toLowerCase(),function(X){var re;do if(re=H?X.lang:X.getAttribute("xml:lang")||X.getAttribute("lang"))return re=re.toLowerCase(),re===G||re.indexOf(G+"-")===0;while((X=X.parentNode)&&X.nodeType===1);return!1}}),target:function(G){var X=e.location&&e.location.hash;return X&&X.slice(1)===G.id},root:function(G){return G===W},focus:function(G){return G===ah()&&k.hasFocus()&&!!(G.type||G.href||~G.tabIndex)},enabled:cu(!1),disabled:cu(!0),checked:function(G){return D(G,"input")&&!!G.checked||D(G,"option")&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!y.pseudos.empty(G)},header:function(G){return rn.test(G.nodeName)},input:function(G){return tn.test(G.nodeName)},button:function(G){return D(G,"input")&&G.type==="button"||D(G,"button")},text:function(G){var X;return D(G,"input")&&G.type==="text"&&((X=G.getAttribute("type"))==null||X.toLowerCase()==="text")},first:An(function(){return[0]}),last:An(function(G,X){return[X-1]}),eq:An(function(G,X,re){return[re<0?re+X:re]}),even:An(function(G,X){for(var re=0;re<X;re+=2)G.push(re);return G}),odd:An(function(G,X){for(var re=1;re<X;re+=2)G.push(re);return G}),lt:An(function(G,X,re){var oe;for(re<0?oe=re+X:re>X?oe=X:oe=re;--oe>=0;)G.push(oe);return G}),gt:An(function(G,X,re){for(var oe=re<0?re+X:re;++oe<X;)G.push(oe);return G})}},y.pseudos.nth=y.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[h]=ih(h);for(h in{submit:!0,reset:!0})y.pseudos[h]=oh(h);function hu(){}hu.prototype=y.filters=y.pseudos,y.setFilters=new hu;function Ma(G,X){var re,oe,ge,De,Ne,He,ke,rt=it[G+" "];if(rt)return X?0:rt.slice(0);for(Ne=G,He=[],ke=y.preFilter;Ne;){(!re||(oe=St.exec(Ne)))&&(oe&&(Ne=Ne.slice(oe[0].length)||Ne),He.push(ge=[])),re=!1,(oe=Ra.exec(Ne))&&(re=oe.shift(),ge.push({value:re,type:oe[0].replace(F," ")}),Ne=Ne.slice(re.length));for(De in y.filter)(oe=Br[De].exec(Ne))&&(!ke[De]||(oe=ke[De](oe)))&&(re=oe.shift(),ge.push({value:re,type:De,matches:oe}),Ne=Ne.slice(re.length));if(!re)break}return X?Ne.length:Ne?pt.error(G):it(G,He).slice(0)}function Ti(G){for(var X=0,re=G.length,oe="";X<re;X++)oe+=G[X].value;return oe}function Ci(G,X,re){var oe=X.dir,ge=X.next,De=ge||oe,Ne=re&&De==="parentNode",He=Ee++;return X.first?function(ke,rt,Ze){for(;ke=ke[oe];)if(ke.nodeType===1||Ne)return G(ke,rt,Ze);return!1}:function(ke,rt,Ze){var Je,nt,We=[ne,He];if(Ze){for(;ke=ke[oe];)if((ke.nodeType===1||Ne)&&G(ke,rt,Ze))return!0}else for(;ke=ke[oe];)if(ke.nodeType===1||Ne)if(nt=ke[pe]||(ke[pe]={}),ge&&D(ke,ge))ke=ke[oe]||ke;else{if((Je=nt[De])&&Je[0]===ne&&Je[1]===He)return We[2]=Je[2];if(nt[De]=We,We[2]=G(ke,rt,Ze))return!0}return!1}}function Ho(G){return G.length>1?function(X,re,oe){for(var ge=G.length;ge--;)if(!G[ge](X,re,oe))return!1;return!0}:G[0]}function sh(G,X,re){for(var oe=0,ge=X.length;oe<ge;oe++)pt(G,X[oe],re);return re}function Di(G,X,re,oe,ge){for(var De,Ne=[],He=0,ke=G.length,rt=X!=null;He<ke;He++)(De=G[He])&&(!re||re(De,oe,ge))&&(Ne.push(De),rt&&X.push(He));return Ne}function _o(G,X,re,oe,ge,De){return oe&&!oe[pe]&&(oe=_o(oe)),ge&&!ge[pe]&&(ge=_o(ge,De)),Sr(function(Ne,He,ke,rt){var Ze,Je,nt,We,bt=[],lr=[],Qt=He.length,xr=Ne||sh(X||"*",ke.nodeType?[ke]:ke,[]),Fr=G&&(Ne||!X)?Di(xr,bt,G,ke,rt):xr;if(re?(We=ge||(Ne?G:Qt||oe)?[]:He,re(Fr,We,ke,rt)):We=Fr,oe)for(Ze=Di(We,lr),oe(Ze,[],ke,rt),Je=Ze.length;Je--;)(nt=Ze[Je])&&(We[lr[Je]]=!(Fr[lr[Je]]=nt));if(Ne){if(ge||G){if(ge){for(Ze=[],Je=We.length;Je--;)(nt=We[Je])&&Ze.push(Fr[Je]=nt);ge(null,We=[],Ze,rt)}for(Je=We.length;Je--;)(nt=We[Je])&&(Ze=ge?u.call(Ne,nt):bt[Je])>-1&&(Ne[Ze]=!(He[Ze]=nt))}}else We=Di(We===He?We.splice(Qt,We.length):We),ge?ge(null,He,We,rt):I.apply(He,We)})}function qo(G){for(var X,re,oe,ge=G.length,De=y.relative[G[0].type],Ne=De||y.relative[" "],He=De?1:0,ke=Ci(function(Je){return Je===X},Ne,!0),rt=Ci(function(Je){return u.call(X,Je)>-1},Ne,!0),Ze=[function(Je,nt,We){var bt=!De&&(We||nt!=T)||((X=nt).nodeType?ke(Je,nt,We):rt(Je,nt,We));return X=null,bt}];He<ge;He++)if(re=y.relative[G[He].type])Ze=[Ci(Ho(Ze),re)];else{if(re=y.filter[G[He].type].apply(null,G[He].matches),re[pe]){for(oe=++He;oe<ge&&!y.relative[G[oe].type];oe++);return _o(He>1&&Ho(Ze),He>1&&Ti(G.slice(0,He-1).concat({value:G[He-2].type===" "?"*":""})).replace(F,"$1"),re,He<oe&&qo(G.slice(He,oe)),oe<ge&&qo(G=G.slice(oe)),oe<ge&&Ti(G))}Ze.push(re)}return Ho(Ze)}function uh(G,X){var re=X.length>0,oe=G.length>0,ge=function(De,Ne,He,ke,rt){var Ze,Je,nt,We=0,bt="0",lr=De&&[],Qt=[],xr=T,Fr=De||oe&&y.find.TAG("*",rt),Yn=ne+=xr==null?1:Math.random()||.1,nr=Fr.length;for(rt&&(T=Ne==k||Ne||rt);bt!==nr&&(Ze=Fr[bt])!=null;bt++){if(oe&&Ze){for(Je=0,!Ne&&Ze.ownerDocument!=k&&(nn(Ze),He=!H);nt=G[Je++];)if(nt(Ze,Ne||k,He)){I.call(ke,Ze);break}rt&&(ne=Yn)}re&&((Ze=!nt&&Ze)&&We--,De&&lr.push(Ze))}if(We+=bt,re&&bt!==We){for(Je=0;nt=X[Je++];)nt(lr,Qt,Ne,He);if(De){if(We>0)for(;bt--;)lr[bt]||Qt[bt]||(Qt[bt]=P.call(ke));Qt=Di(Qt)}I.apply(ke,Qt),rt&&!De&&Qt.length>0&&We+X.length>1&&d.uniqueSort(ke)}return rt&&(ne=Yn,T=xr),lr};return re?Sr(ge):ge}function Wo(G,X){var re,oe=[],ge=[],De=et[G+" "];if(!De){for(X||(X=Ma(G)),re=X.length;re--;)De=qo(X[re]),De[pe]?oe.push(De):ge.push(De);De=et(G,uh(ge,oe)),De.selector=G}return De}function du(G,X,re,oe){var ge,De,Ne,He,ke,rt=typeof G=="function"&&G,Ze=!oe&&Ma(G=rt.selector||G);if(re=re||[],Ze.length===1){if(De=Ze[0]=Ze[0].slice(0),De.length>2&&(Ne=De[0]).type==="ID"&&X.nodeType===9&&H&&y.relative[De[1].type]){if(X=(y.find.ID(Ne.matches[0].replace(Wr,Yr),X)||[])[0],X)rt&&(X=X.parentNode);else return re;G=G.slice(De.shift().value.length)}for(ge=Br.needsContext.test(G)?0:De.length;ge--&&(Ne=De[ge],!y.relative[He=Ne.type]);)if((ke=y.find[He])&&(oe=ke(Ne.matches[0].replace(Wr,Yr),Uo.test(De[0].type)&&Vo(X.parentNode)||X))){if(De.splice(ge,1),G=oe.length&&Ti(De),!G)return I.apply(re,oe),re;break}}return(rt||Wo(G,Ze))(oe,X,!H,re,!X||Uo.test(G)&&Vo(X.parentNode)||X),re}g.sortStable=pe.split("").sort(Pt).join("")===pe,nn(),g.sortDetached=Wn(function(G){return G.compareDocumentPosition(k.createElement("fieldset"))&1}),d.find=pt,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,pt.compile=Wo,pt.select=du,pt.setDocument=nn,pt.tokenize=Ma,pt.escape=d.escapeSelector,pt.getText=d.text,pt.isXML=d.isXMLDoc,pt.selectors=d.expr,pt.support=d.support,pt.uniqueSort=d.uniqueSort})();var Y=function(h,y,T){for(var C=[],R=T!==void 0;(h=h[y])&&h.nodeType!==9;)if(h.nodeType===1){if(R&&d(h).is(T))break;C.push(h)}return C},Q=function(h,y){for(var T=[];h;h=h.nextSibling)h.nodeType===1&&h!==y&&T.push(h);return T},$=d.expr.match.needsContext,K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ie(h,y,T){return m(y)?d.grep(h,function(C,R){return!!y.call(C,R,C)!==T}):y.nodeType?d.grep(h,function(C){return C===y!==T}):typeof y!="string"?d.grep(h,function(C){return u.call(y,C)>-1!==T}):d.filter(y,h,T)}d.filter=function(h,y,T){var C=y[0];return T&&(h=":not("+h+")"),y.length===1&&C.nodeType===1?d.find.matchesSelector(C,h)?[C]:[]:d.find.matches(h,d.grep(y,function(R){return R.nodeType===1}))},d.fn.extend({find:function(h){var y,T,C=this.length,R=this;if(typeof h!="string")return this.pushStack(d(h).filter(function(){for(y=0;y<C;y++)if(d.contains(R[y],this))return!0}));for(T=this.pushStack([]),y=0;y<C;y++)d.find(h,R[y],T);return C>1?d.uniqueSort(T):T},filter:function(h){return this.pushStack(ie(this,h||[],!1))},not:function(h){return this.pushStack(ie(this,h||[],!0))},is:function(h){return!!ie(this,typeof h=="string"&&$.test(h)?d(h):h||[],!1).length}});var ue,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,he=d.fn.init=function(h,y,T){var C,R;if(!h)return this;if(T=T||ue,typeof h=="string")if(h[0]==="<"&&h[h.length-1]===">"&&h.length>=3?C=[null,h,null]:C=fe.exec(h),C&&(C[1]||!y))if(C[1]){if(y=y instanceof d?y[0]:y,d.merge(this,d.parseHTML(C[1],y&&y.nodeType?y.ownerDocument||y:b,!0)),K.test(C[1])&&d.isPlainObject(y))for(C in y)m(this[C])?this[C](y[C]):this.attr(C,y[C]);return this}else return R=b.getElementById(C[2]),R&&(this[0]=R,this.length=1),this;else return!y||y.jquery?(y||T).find(h):this.constructor(y).find(h);else{if(h.nodeType)return this[0]=h,this.length=1,this;if(m(h))return T.ready!==void 0?T.ready(h):h(d)}return d.makeArray(h,this)};he.prototype=d.fn,ue=d(b);var ye=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(h){var y=d(h,this),T=y.length;return this.filter(function(){for(var C=0;C<T;C++)if(d.contains(this,y[C]))return!0})},closest:function(h,y){var T,C=0,R=this.length,I=[],k=typeof h!="string"&&d(h);if(!$.test(h)){for(;C<R;C++)for(T=this[C];T&&T!==y;T=T.parentNode)if(T.nodeType<11&&(k?k.index(T)>-1:T.nodeType===1&&d.find.matchesSelector(T,h))){I.push(T);break}}return this.pushStack(I.length>1?d.uniqueSort(I):I)},index:function(h){return h?typeof h=="string"?u.call(d(h),this[0]):u.call(this,h.jquery?h[0]:h):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(h,y){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(h,y))))},addBack:function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}});function te(h,y){for(;(h=h[y])&&h.nodeType!==1;);return h}d.each({parent:function(h){var y=h.parentNode;return y&&y.nodeType!==11?y:null},parents:function(h){return Y(h,"parentNode")},parentsUntil:function(h,y,T){return Y(h,"parentNode",T)},next:function(h){return te(h,"nextSibling")},prev:function(h){return te(h,"previousSibling")},nextAll:function(h){return Y(h,"nextSibling")},prevAll:function(h){return Y(h,"previousSibling")},nextUntil:function(h,y,T){return Y(h,"nextSibling",T)},prevUntil:function(h,y,T){return Y(h,"previousSibling",T)},siblings:function(h){return Q((h.parentNode||{}).firstChild,h)},children:function(h){return Q(h.firstChild)},contents:function(h){return h.contentDocument!=null&&a(h.contentDocument)?h.contentDocument:(D(h,"template")&&(h=h.content||h),d.merge([],h.childNodes))}},function(h,y){d.fn[h]=function(T,C){var R=d.map(this,y,T);return h.slice(-5)!=="Until"&&(C=T),C&&typeof C=="string"&&(R=d.filter(C,R)),this.length>1&&(be[h]||d.uniqueSort(R),ye.test(h)&&R.reverse()),this.pushStack(R)}});var j=/[^\x20\t\r\n\f]+/g;function se(h){var y={};return d.each(h.match(j)||[],function(T,C){y[C]=!0}),y}d.Callbacks=function(h){h=typeof h=="string"?se(h):d.extend({},h);var y,T,C,R,I=[],k=[],W=-1,H=function(){for(R=R||h.once,C=y=!0;k.length;W=-1)for(T=k.shift();++W<I.length;)I[W].apply(T[0],T[1])===!1&&h.stopOnFalse&&(W=I.length,T=!1);h.memory||(T=!1),y=!1,R&&(T?I=[]:I="")},Z={add:function(){return I&&(T&&!y&&(W=I.length-1,k.push(T)),function le(pe){d.each(pe,function(ne,Ee){m(Ee)?(!h.unique||!Z.has(Ee))&&I.push(Ee):Ee&&Ee.length&&S(Ee)!=="string"&&le(Ee)})}(arguments),T&&!y&&H()),this},remove:function(){return d.each(arguments,function(le,pe){for(var ne;(ne=d.inArray(pe,I,ne))>-1;)I.splice(ne,1),ne<=W&&W--}),this},has:function(le){return le?d.inArray(le,I)>-1:I.length>0},empty:function(){return I&&(I=[]),this},disable:function(){return R=k=[],I=T="",this},disabled:function(){return!I},lock:function(){return R=k=[],!T&&!y&&(I=T=""),this},locked:function(){return!!R},fireWith:function(le,pe){return R||(pe=pe||[],pe=[le,pe.slice?pe.slice():pe],k.push(pe),y||H()),this},fire:function(){return Z.fireWith(this,arguments),this},fired:function(){return!!C}};return Z};function me(h){return h}function Ae(h){throw h}function Be(h,y,T,C){var R;try{h&&m(R=h.promise)?R.call(h).done(y).fail(T):h&&m(R=h.then)?R.call(h,y,T):y.apply(void 0,[h].slice(C))}catch(I){T.apply(void 0,[I])}}d.extend({Deferred:function(h){var y=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],T="pending",C={state:function(){return T},always:function(){return R.done(arguments).fail(arguments),this},catch:function(I){return C.then(null,I)},pipe:function(){var I=arguments;return d.Deferred(function(k){d.each(y,function(W,H){var Z=m(I[H[4]])&&I[H[4]];R[H[1]](function(){var le=Z&&Z.apply(this,arguments);le&&m(le.promise)?le.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[H[0]+"With"](this,Z?[le]:arguments)})}),I=null}).promise()},then:function(I,k,W){var H=0;function Z(le,pe,ne,Ee){return function(){var je=this,it=arguments,et=function(){var Pt,Or;if(!(le<H)){if(Pt=ne.apply(je,it),Pt===pe.promise())throw new TypeError("Thenable self-resolution");Or=Pt&&(typeof Pt=="object"||typeof Pt=="function")&&Pt.then,m(Or)?Ee?Or.call(Pt,Z(H,pe,me,Ee),Z(H,pe,Ae,Ee)):(H++,Or.call(Pt,Z(H,pe,me,Ee),Z(H,pe,Ae,Ee),Z(H,pe,me,pe.notifyWith))):(ne!==me&&(je=void 0,it=[Pt]),(Ee||pe.resolveWith)(je,it))}},Ht=Ee?et:function(){try{et()}catch(Pt){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Pt,Ht.error),le+1>=H&&(ne!==Ae&&(je=void 0,it=[Pt]),pe.rejectWith(je,it))}};le?Ht():(d.Deferred.getErrorHook?Ht.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Ht.error=d.Deferred.getStackHook()),e.setTimeout(Ht))}}return d.Deferred(function(le){y[0][3].add(Z(0,le,m(W)?W:me,le.notifyWith)),y[1][3].add(Z(0,le,m(I)?I:me)),y[2][3].add(Z(0,le,m(k)?k:Ae))}).promise()},promise:function(I){return I!=null?d.extend(I,C):C}},R={};return d.each(y,function(I,k){var W=k[2],H=k[5];C[k[1]]=W.add,H&&W.add(function(){T=H},y[3-I][2].disable,y[3-I][3].disable,y[0][2].lock,y[0][3].lock),W.add(k[3].fire),R[k[0]]=function(){return R[k[0]+"With"](this===R?void 0:this,arguments),this},R[k[0]+"With"]=W.fireWith}),C.promise(R),h&&h.call(R,R),R},when:function(h){var y=arguments.length,T=y,C=Array(T),R=i.call(arguments),I=d.Deferred(),k=function(W){return function(H){C[W]=this,R[W]=arguments.length>1?i.call(arguments):H,--y||I.resolveWith(C,R)}};if(y<=1&&(Be(h,I.done(k(T)).resolve,I.reject,!y),I.state()==="pending"||m(R[T]&&R[T].then)))return I.then();for(;T--;)Be(R[T],k(T),I.reject);return I.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(h,y){e.console&&e.console.warn&&h&&Re.test(h.name)&&e.console.warn("jQuery.Deferred exception: "+h.message,h.stack,y)},d.readyException=function(h){e.setTimeout(function(){throw h})};var Le=d.Deferred();d.fn.ready=function(h){return Le.then(h).catch(function(y){d.readyException(y)}),this},d.extend({isReady:!1,readyWait:1,ready:function(h){(h===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(h!==!0&&--d.readyWait>0)&&Le.resolveWith(b,[d]))}}),d.ready.then=Le.then;function Ue(){b.removeEventListener("DOMContentLoaded",Ue),e.removeEventListener("load",Ue),d.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(d.ready):(b.addEventListener("DOMContentLoaded",Ue),e.addEventListener("load",Ue));var we=function(h,y,T,C,R,I,k){var W=0,H=h.length,Z=T==null;if(S(T)==="object"){R=!0;for(W in T)we(h,y,W,T[W],!0,I,k)}else if(C!==void 0&&(R=!0,m(C)||(k=!0),Z&&(k?(y.call(h,C),y=null):(Z=y,y=function(le,pe,ne){return Z.call(d(le),ne)})),y))for(;W<H;W++)y(h[W],T,k?C:C.call(h[W],W,y(h[W],T)));return R?h:Z?y.call(h):H?y(h[0],T):I},Te=/^-ms-/,Oe=/-([a-z])/g;function Fe(h,y){return y.toUpperCase()}function Me(h){return h.replace(Te,"ms-").replace(Oe,Fe)}var Ie=function(h){return h.nodeType===1||h.nodeType===9||!+h.nodeType};function Xe(){this.expando=d.expando+Xe.uid++}Xe.uid=1,Xe.prototype={cache:function(h){var y=h[this.expando];return y||(y={},Ie(h)&&(h.nodeType?h[this.expando]=y:Object.defineProperty(h,this.expando,{value:y,configurable:!0}))),y},set:function(h,y,T){var C,R=this.cache(h);if(typeof y=="string")R[Me(y)]=T;else for(C in y)R[Me(C)]=y[C];return R},get:function(h,y){return y===void 0?this.cache(h):h[this.expando]&&h[this.expando][Me(y)]},access:function(h,y,T){return y===void 0||y&&typeof y=="string"&&T===void 0?this.get(h,y):(this.set(h,y,T),T!==void 0?T:y)},remove:function(h,y){var T,C=h[this.expando];if(C!==void 0){if(y!==void 0)for(Array.isArray(y)?y=y.map(Me):(y=Me(y),y=y in C?[y]:y.match(j)||[]),T=y.length;T--;)delete C[y[T]];(y===void 0||d.isEmptyObject(C))&&(h.nodeType?h[this.expando]=void 0:delete h[this.expando])}},hasData:function(h){var y=h[this.expando];return y!==void 0&&!d.isEmptyObject(y)}};var xe=new Xe,de=new Xe,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function ce(h){return h==="true"?!0:h==="false"?!1:h==="null"?null:h===+h+""?+h:z.test(h)?JSON.parse(h):h}function ee(h,y,T){var C;if(T===void 0&&h.nodeType===1)if(C="data-"+y.replace(J,"-$&").toLowerCase(),T=h.getAttribute(C),typeof T=="string"){try{T=ce(T)}catch{}de.set(h,y,T)}else T=void 0;return T}d.extend({hasData:function(h){return de.hasData(h)||xe.hasData(h)},data:function(h,y,T){return de.access(h,y,T)},removeData:function(h,y){de.remove(h,y)},_data:function(h,y,T){return xe.access(h,y,T)},_removeData:function(h,y){xe.remove(h,y)}}),d.fn.extend({data:function(h,y){var T,C,R,I=this[0],k=I&&I.attributes;if(h===void 0){if(this.length&&(R=de.get(I),I.nodeType===1&&!xe.get(I,"hasDataAttrs"))){for(T=k.length;T--;)k[T]&&(C=k[T].name,C.indexOf("data-")===0&&(C=Me(C.slice(5)),ee(I,C,R[C])));xe.set(I,"hasDataAttrs",!0)}return R}return typeof h=="object"?this.each(function(){de.set(this,h)}):we(this,function(W){var H;if(I&&W===void 0)return H=de.get(I,h),H!==void 0||(H=ee(I,h),H!==void 0)?H:void 0;this.each(function(){de.set(this,h,W)})},null,y,arguments.length>1,null,!0)},removeData:function(h){return this.each(function(){de.remove(this,h)})}}),d.extend({queue:function(h,y,T){var C;if(h)return y=(y||"fx")+"queue",C=xe.get(h,y),T&&(!C||Array.isArray(T)?C=xe.access(h,y,d.makeArray(T)):C.push(T)),C||[]},dequeue:function(h,y){y=y||"fx";var T=d.queue(h,y),C=T.length,R=T.shift(),I=d._queueHooks(h,y),k=function(){d.dequeue(h,y)};R==="inprogress"&&(R=T.shift(),C--),R&&(y==="fx"&&T.unshift("inprogress"),delete I.stop,R.call(h,k,I)),!C&&I&&I.empty.fire()},_queueHooks:function(h,y){var T=y+"queueHooks";return xe.get(h,T)||xe.access(h,T,{empty:d.Callbacks("once memory").add(function(){xe.remove(h,[y+"queue",T])})})}}),d.fn.extend({queue:function(h,y){var T=2;return typeof h!="string"&&(y=h,h="fx",T--),arguments.length<T?d.queue(this[0],h):y===void 0?this:this.each(function(){var C=d.queue(this,h,y);d._queueHooks(this,h),h==="fx"&&C[0]!=="inprogress"&&d.dequeue(this,h)})},dequeue:function(h){return this.each(function(){d.dequeue(this,h)})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,y){var T,C=1,R=d.Deferred(),I=this,k=this.length,W=function(){--C||R.resolveWith(I,[I])};for(typeof h!="string"&&(y=h,h=void 0),h=h||"fx";k--;)T=xe.get(I[k],h+"queueHooks"),T&&T.empty&&(C++,T.empty.add(W));return W(),R.promise(y)}});var ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),ve=["Top","Right","Bottom","Left"],Ce=b.documentElement,Ve=function(h){return d.contains(h.ownerDocument,h)},Qe={composed:!0};Ce.getRootNode&&(Ve=function(h){return d.contains(h.ownerDocument,h)||h.getRootNode(Qe)===h.ownerDocument});var Ge=function(h,y){return h=y||h,h.style.display==="none"||h.style.display===""&&Ve(h)&&d.css(h,"display")==="none"};function $e(h,y,T,C){var R,I,k=20,W=C?function(){return C.cur()}:function(){return d.css(h,y,"")},H=W(),Z=T&&T[3]||(d.cssNumber[y]?"":"px"),le=h.nodeType&&(d.cssNumber[y]||Z!=="px"&&+H)&&Se.exec(d.css(h,y));if(le&&le[3]!==Z){for(H=H/2,Z=Z||le[3],le=+H||1;k--;)d.style(h,y,le+Z),(1-I)*(1-(I=W()/H||.5))<=0&&(k=0),le=le/I;le=le*2,d.style(h,y,le+Z),T=T||[]}return T&&(le=+le||+H||0,R=T[1]?le+(T[1]+1)*T[2]:+T[2],C&&(C.unit=Z,C.start=le,C.end=R)),R}var Ke={};function qe(h){var y,T=h.ownerDocument,C=h.nodeName,R=Ke[C];return R||(y=T.body.appendChild(T.createElement(C)),R=d.css(y,"display"),y.parentNode.removeChild(y),R==="none"&&(R="block"),Ke[C]=R,R)}function ot(h,y){for(var T,C,R=[],I=0,k=h.length;I<k;I++)C=h[I],C.style&&(T=C.style.display,y?(T==="none"&&(R[I]=xe.get(C,"display")||null,R[I]||(C.style.display="")),C.style.display===""&&Ge(C)&&(R[I]=qe(C))):T!=="none"&&(R[I]="none",xe.set(C,"display",T)));for(I=0;I<k;I++)R[I]!=null&&(h[I].style.display=R[I]);return h}d.fn.extend({show:function(){return ot(this,!0)},hide:function(){return ot(this)},toggle:function(h){return typeof h=="boolean"?h?this.show():this.hide():this.each(function(){Ge(this)?d(this).show():d(this).hide()})}});var gt=/^(?:checkbox|radio)$/i,$t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Kt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var h=b.createDocumentFragment(),y=h.appendChild(b.createElement("div")),T=b.createElement("input");T.setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","t"),y.appendChild(T),g.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",g.option=!!y.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,g.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function st(h,y){var T;return typeof h.getElementsByTagName<"u"?T=h.getElementsByTagName(y||"*"):typeof h.querySelectorAll<"u"?T=h.querySelectorAll(y||"*"):T=[],y===void 0||y&&D(h,y)?d.merge([h],T):T}function Dt(h,y){for(var T=0,C=h.length;T<C;T++)xe.set(h[T],"globalEval",!y||xe.get(y[T],"globalEval"))}var Ut=/<|&#?\w+;/;function kt(h,y,T,C,R){for(var I,k,W,H,Z,le,pe=y.createDocumentFragment(),ne=[],Ee=0,je=h.length;Ee<je;Ee++)if(I=h[Ee],I||I===0)if(S(I)==="object")d.merge(ne,I.nodeType?[I]:I);else if(!Ut.test(I))ne.push(y.createTextNode(I));else{for(k=k||pe.appendChild(y.createElement("div")),W=($t.exec(I)||["",""])[1].toLowerCase(),H=ct[W]||ct._default,k.innerHTML=H[1]+d.htmlPrefilter(I)+H[2],le=H[0];le--;)k=k.lastChild;d.merge(ne,k.childNodes),k=pe.firstChild,k.textContent=""}for(pe.textContent="",Ee=0;I=ne[Ee++];){if(C&&d.inArray(I,C)>-1){R&&R.push(I);continue}if(Z=Ve(I),k=st(pe.appendChild(I),"script"),Z&&Dt(k),T)for(le=0;I=k[le++];)Kt.test(I.type||"")&&T.push(I)}return pe}var dr=/^([^.]*)(?:\.(.+)|)/;function Rt(){return!0}function Vt(){return!1}function vr(h,y,T,C,R,I){var k,W;if(typeof y=="object"){typeof T!="string"&&(C=C||T,T=void 0);for(W in y)vr(h,W,T,C,y[W],I);return h}if(C==null&&R==null?(R=T,C=T=void 0):R==null&&(typeof T=="string"?(R=C,C=void 0):(R=C,C=T,T=void 0)),R===!1)R=Vt;else if(!R)return h;return I===1&&(k=R,R=function(H){return d().off(H),k.apply(this,arguments)},R.guid=k.guid||(k.guid=d.guid++)),h.each(function(){d.event.add(this,y,R,C,T)})}d.event={global:{},add:function(h,y,T,C,R){var I,k,W,H,Z,le,pe,ne,Ee,je,it,et=xe.get(h);if(Ie(h))for(T.handler&&(I=T,T=I.handler,R=I.selector),R&&d.find.matchesSelector(Ce,R),T.guid||(T.guid=d.guid++),(H=et.events)||(H=et.events=Object.create(null)),(k=et.handle)||(k=et.handle=function(Ht){return typeof d<"u"&&d.event.triggered!==Ht.type?d.event.dispatch.apply(h,arguments):void 0}),y=(y||"").match(j)||[""],Z=y.length;Z--;)W=dr.exec(y[Z])||[],Ee=it=W[1],je=(W[2]||"").split(".").sort(),Ee&&(pe=d.event.special[Ee]||{},Ee=(R?pe.delegateType:pe.bindType)||Ee,pe=d.event.special[Ee]||{},le=d.extend({type:Ee,origType:it,data:C,handler:T,guid:T.guid,selector:R,needsContext:R&&d.expr.match.needsContext.test(R),namespace:je.join(".")},I),(ne=H[Ee])||(ne=H[Ee]=[],ne.delegateCount=0,(!pe.setup||pe.setup.call(h,C,je,k)===!1)&&h.addEventListener&&h.addEventListener(Ee,k)),pe.add&&(pe.add.call(h,le),le.handler.guid||(le.handler.guid=T.guid)),R?ne.splice(ne.delegateCount++,0,le):ne.push(le),d.event.global[Ee]=!0)},remove:function(h,y,T,C,R){var I,k,W,H,Z,le,pe,ne,Ee,je,it,et=xe.hasData(h)&&xe.get(h);if(!(!et||!(H=et.events))){for(y=(y||"").match(j)||[""],Z=y.length;Z--;){if(W=dr.exec(y[Z])||[],Ee=it=W[1],je=(W[2]||"").split(".").sort(),!Ee){for(Ee in H)d.event.remove(h,Ee+y[Z],T,C,!0);continue}for(pe=d.event.special[Ee]||{},Ee=(C?pe.delegateType:pe.bindType)||Ee,ne=H[Ee]||[],W=W[2]&&new RegExp("(^|\\.)"+je.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=I=ne.length;I--;)le=ne[I],(R||it===le.origType)&&(!T||T.guid===le.guid)&&(!W||W.test(le.namespace))&&(!C||C===le.selector||C==="**"&&le.selector)&&(ne.splice(I,1),le.selector&&ne.delegateCount--,pe.remove&&pe.remove.call(h,le));k&&!ne.length&&((!pe.teardown||pe.teardown.call(h,je,et.handle)===!1)&&d.removeEvent(h,Ee,et.handle),delete H[Ee])}d.isEmptyObject(H)&&xe.remove(h,"handle events")}},dispatch:function(h){var y,T,C,R,I,k,W=new Array(arguments.length),H=d.event.fix(h),Z=(xe.get(this,"events")||Object.create(null))[H.type]||[],le=d.event.special[H.type]||{};for(W[0]=H,y=1;y<arguments.length;y++)W[y]=arguments[y];if(H.delegateTarget=this,!(le.preDispatch&&le.preDispatch.call(this,H)===!1)){for(k=d.event.handlers.call(this,H,Z),y=0;(R=k[y++])&&!H.isPropagationStopped();)for(H.currentTarget=R.elem,T=0;(I=R.handlers[T++])&&!H.isImmediatePropagationStopped();)(!H.rnamespace||I.namespace===!1||H.rnamespace.test(I.namespace))&&(H.handleObj=I,H.data=I.data,C=((d.event.special[I.origType]||{}).handle||I.handler).apply(R.elem,W),C!==void 0&&(H.result=C)===!1&&(H.preventDefault(),H.stopPropagation()));return le.postDispatch&&le.postDispatch.call(this,H),H.result}},handlers:function(h,y){var T,C,R,I,k,W=[],H=y.delegateCount,Z=h.target;if(H&&Z.nodeType&&!(h.type==="click"&&h.button>=1)){for(;Z!==this;Z=Z.parentNode||this)if(Z.nodeType===1&&!(h.type==="click"&&Z.disabled===!0)){for(I=[],k={},T=0;T<H;T++)C=y[T],R=C.selector+" ",k[R]===void 0&&(k[R]=C.needsContext?d(R,this).index(Z)>-1:d.find(R,this,null,[Z]).length),k[R]&&I.push(C);I.length&&W.push({elem:Z,handlers:I})}}return Z=this,H<y.length&&W.push({elem:Z,handlers:y.slice(H)}),W},addProp:function(h,y){Object.defineProperty(d.Event.prototype,h,{enumerable:!0,configurable:!0,get:m(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[h]},set:function(T){Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:T})}})},fix:function(h){return h[d.expando]?h:new d.Event(h)},special:{load:{noBubble:!0},click:{setup:function(h){var y=this||h;return gt.test(y.type)&&y.click&&D(y,"input")&&or(y,"click",!0),!1},trigger:function(h){var y=this||h;return gt.test(y.type)&&y.click&&D(y,"input")&&or(y,"click"),!0},_default:function(h){var y=h.target;return gt.test(y.type)&&y.click&&D(y,"input")&&xe.get(y,"click")||D(y,"a")}},beforeunload:{postDispatch:function(h){h.result!==void 0&&h.originalEvent&&(h.originalEvent.returnValue=h.result)}}}};function or(h,y,T){if(!T){xe.get(h,y)===void 0&&d.event.add(h,y,Rt);return}xe.set(h,y,!1),d.event.add(h,y,{namespace:!1,handler:function(C){var R,I=xe.get(this,y);if(C.isTrigger&1&&this[y]){if(I)(d.event.special[y]||{}).delegateType&&C.stopPropagation();else if(I=i.call(arguments),xe.set(this,y,I),this[y](),R=xe.get(this,y),xe.set(this,y,!1),I!==R)return C.stopImmediatePropagation(),C.preventDefault(),R}else I&&(xe.set(this,y,d.event.trigger(I[0],I.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=Rt)}})}d.removeEvent=function(h,y,T){h.removeEventListener&&h.removeEventListener(y,T)},d.Event=function(h,y){if(!(this instanceof d.Event))return new d.Event(h,y);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||h.defaultPrevented===void 0&&h.returnValue===!1?Rt:Vt,this.target=h.target&&h.target.nodeType===3?h.target.parentNode:h.target,this.currentTarget=h.currentTarget,this.relatedTarget=h.relatedTarget):this.type=h,y&&d.extend(this,y),this.timeStamp=h&&h.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Vt,isPropagationStopped:Vt,isImmediatePropagationStopped:Vt,isSimulated:!1,preventDefault:function(){var h=this.originalEvent;this.isDefaultPrevented=Rt,h&&!this.isSimulated&&h.preventDefault()},stopPropagation:function(){var h=this.originalEvent;this.isPropagationStopped=Rt,h&&!this.isSimulated&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.originalEvent;this.isImmediatePropagationStopped=Rt,h&&!this.isSimulated&&h.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(h,y){function T(C){if(b.documentMode){var R=xe.get(this,"handle"),I=d.event.fix(C);I.type=C.type==="focusin"?"focus":"blur",I.isSimulated=!0,R(C),I.target===I.currentTarget&&R(I)}else d.event.simulate(y,C.target,d.event.fix(C))}d.event.special[h]={setup:function(){var C;if(or(this,h,!0),b.documentMode)C=xe.get(this,y),C||this.addEventListener(y,T),xe.set(this,y,(C||0)+1);else return!1},trigger:function(){return or(this,h),!0},teardown:function(){var C;if(b.documentMode)C=xe.get(this,y)-1,C?xe.set(this,y,C):(this.removeEventListener(y,T),xe.remove(this,y));else return!1},_default:function(C){return xe.get(C.target,h)},delegateType:y},d.event.special[y]={setup:function(){var C=this.ownerDocument||this.document||this,R=b.documentMode?this:C,I=xe.get(R,y);I||(b.documentMode?this.addEventListener(y,T):C.addEventListener(h,T,!0)),xe.set(R,y,(I||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,R=b.documentMode?this:C,I=xe.get(R,y)-1;I?xe.set(R,y,I):(b.documentMode?this.removeEventListener(y,T):C.removeEventListener(h,T,!0),xe.remove(R,y))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(h,y){d.event.special[h]={delegateType:y,bindType:y,handle:function(T){var C,R=this,I=T.relatedTarget,k=T.handleObj;return(!I||I!==R&&!d.contains(R,I))&&(T.type=k.origType,C=k.handler.apply(this,arguments),T.type=y),C}}}),d.fn.extend({on:function(h,y,T,C){return vr(this,h,y,T,C)},one:function(h,y,T,C){return vr(this,h,y,T,C,1)},off:function(h,y,T){var C,R;if(h&&h.preventDefault&&h.handleObj)return C=h.handleObj,d(h.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(typeof h=="object"){for(R in h)this.off(R,y,h[R]);return this}return(y===!1||typeof y=="function")&&(T=y,y=void 0),T===!1&&(T=Vt),this.each(function(){d.event.remove(this,h,T,y)})}});var Bt=/<script|<style|<link/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Zt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function En(h,y){return D(h,"table")&&D(y.nodeType!==11?y:y.firstChild,"tr")&&d(h).children("tbody")[0]||h}function br(h){return h.type=(h.getAttribute("type")!==null)+"/"+h.type,h}function gi(h){return(h.type||"").slice(0,5)==="true/"?h.type=h.type.slice(5):h.removeAttribute("type"),h}function pi(h,y){var T,C,R,I,k,W,H;if(y.nodeType===1){if(xe.hasData(h)&&(I=xe.get(h),H=I.events,H)){xe.remove(y,"handle events");for(R in H)for(T=0,C=H[R].length;T<C;T++)d.event.add(y,R,H[R][T])}de.hasData(h)&&(k=de.access(h),W=d.extend({},k),de.set(y,W))}}function Ro(h,y){var T=y.nodeName.toLowerCase();T==="input"&&gt.test(h.type)?y.checked=h.checked:(T==="input"||T==="textarea")&&(y.defaultValue=h.defaultValue)}function Jr(h,y,T,C){y=o(y);var R,I,k,W,H,Z,le=0,pe=h.length,ne=pe-1,Ee=y[0],je=m(Ee);if(je||pe>1&&typeof Ee=="string"&&!g.checkClone&&Lt.test(Ee))return h.each(function(it){var et=h.eq(it);je&&(y[0]=Ee.call(this,it,et.html())),Jr(et,y,T,C)});if(pe&&(R=kt(y,h[0].ownerDocument,!1,h,C),I=R.firstChild,R.childNodes.length===1&&(R=I),I||C)){for(k=d.map(st(R,"script"),br),W=k.length;le<pe;le++)H=R,le!==ne&&(H=d.clone(H,!0,!0),W&&d.merge(k,st(H,"script"))),T.call(h[le],H,le);if(W)for(Z=k[k.length-1].ownerDocument,d.map(k,gi),le=0;le<W;le++)H=k[le],Kt.test(H.type||"")&&!xe.access(H,"globalEval")&&d.contains(Z,H)&&(H.src&&(H.type||"").toLowerCase()!=="module"?d._evalUrl&&!H.noModule&&d._evalUrl(H.src,{nonce:H.nonce||H.getAttribute("nonce")},Z):x(H.textContent.replace(Zt,""),H,Z))}return h}function yi(h,y,T){for(var C,R=y?d.filter(y,h):h,I=0;(C=R[I])!=null;I++)!T&&C.nodeType===1&&d.cleanData(st(C)),C.parentNode&&(T&&Ve(C)&&Dt(st(C,"script")),C.parentNode.removeChild(C));return h}d.extend({htmlPrefilter:function(h){return h},clone:function(h,y,T){var C,R,I,k,W=h.cloneNode(!0),H=Ve(h);if(!g.noCloneChecked&&(h.nodeType===1||h.nodeType===11)&&!d.isXMLDoc(h))for(k=st(W),I=st(h),C=0,R=I.length;C<R;C++)Ro(I[C],k[C]);if(y)if(T)for(I=I||st(h),k=k||st(W),C=0,R=I.length;C<R;C++)pi(I[C],k[C]);else pi(h,W);return k=st(W,"script"),k.length>0&&Dt(k,!H&&st(h,"script")),W},cleanData:function(h){for(var y,T,C,R=d.event.special,I=0;(T=h[I])!==void 0;I++)if(Ie(T)){if(y=T[xe.expando]){if(y.events)for(C in y.events)R[C]?d.event.remove(T,C):d.removeEvent(T,C,y.handle);T[xe.expando]=void 0}T[de.expando]&&(T[de.expando]=void 0)}}}),d.fn.extend({detach:function(h){return yi(this,h,!0)},remove:function(h){return yi(this,h)},text:function(h){return we(this,function(y){return y===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=y)})},null,h,arguments.length)},append:function(){return Jr(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=En(this,h);y.appendChild(h)}})},prepend:function(){return Jr(this,arguments,function(h){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=En(this,h);y.insertBefore(h,y.firstChild)}})},before:function(){return Jr(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this)})},after:function(){return Jr(this,arguments,function(h){this.parentNode&&this.parentNode.insertBefore(h,this.nextSibling)})},empty:function(){for(var h,y=0;(h=this[y])!=null;y++)h.nodeType===1&&(d.cleanData(st(h,!1)),h.textContent="");return this},clone:function(h,y){return h=h??!1,y=y??h,this.map(function(){return d.clone(this,h,y)})},html:function(h){return we(this,function(y){var T=this[0]||{},C=0,R=this.length;if(y===void 0&&T.nodeType===1)return T.innerHTML;if(typeof y=="string"&&!Bt.test(y)&&!ct[($t.exec(y)||["",""])[1].toLowerCase()]){y=d.htmlPrefilter(y);try{for(;C<R;C++)T=this[C]||{},T.nodeType===1&&(d.cleanData(st(T,!1)),T.innerHTML=y);T=0}catch{}}T&&this.empty().append(y)},null,h,arguments.length)},replaceWith:function(){var h=[];return Jr(this,arguments,function(y){var T=this.parentNode;d.inArray(this,h)<0&&(d.cleanData(st(this)),T&&T.replaceChild(y,this))},h)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(h,y){d.fn[h]=function(T){for(var C,R=[],I=d(T),k=I.length-1,W=0;W<=k;W++)C=W===k?this:this.clone(!0),d(I[W])[y](C),s.apply(R,C.get());return this.pushStack(R)}});var wa=new RegExp("^("+ae+")(?!px)[a-z%]+$","i"),xa=/^--/,Hn=function(h){var y=h.ownerDocument.defaultView;return(!y||!y.opener)&&(y=e),y.getComputedStyle(h)},en=function(h,y,T){var C,R,I={};for(R in y)I[R]=h.style[R],h.style[R]=y[R];C=T.call(h);for(R in y)h.style[R]=I[R];return C},Ea=new RegExp(ve.join("|"),"i");(function(){function h(){if(Z){H.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Z.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ce.appendChild(H).appendChild(Z);var le=e.getComputedStyle(Z);T=le.top!=="1%",W=y(le.marginLeft)===12,Z.style.right="60%",I=y(le.right)===36,C=y(le.width)===36,Z.style.position="absolute",R=y(Z.offsetWidth/3)===12,Ce.removeChild(H),Z=null}}function y(le){return Math.round(parseFloat(le))}var T,C,R,I,k,W,H=b.createElement("div"),Z=b.createElement("div");Z.style&&(Z.style.backgroundClip="content-box",Z.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=Z.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return h(),C},pixelBoxStyles:function(){return h(),I},pixelPosition:function(){return h(),T},reliableMarginLeft:function(){return h(),W},scrollboxSize:function(){return h(),R},reliableTrDimensions:function(){var le,pe,ne,Ee;return k==null&&(le=b.createElement("table"),pe=b.createElement("tr"),ne=b.createElement("div"),le.style.cssText="position:absolute;left:-11111px;border-collapse:separate",pe.style.cssText="box-sizing:content-box;border:1px solid",pe.style.height="1px",ne.style.height="9px",ne.style.display="block",Ce.appendChild(le).appendChild(pe).appendChild(ne),Ee=e.getComputedStyle(pe),k=parseInt(Ee.height,10)+parseInt(Ee.borderTopWidth,10)+parseInt(Ee.borderBottomWidth,10)===pe.offsetHeight,Ce.removeChild(le)),k}}))})();function Ir(h,y,T){var C,R,I,k,W=xa.test(y),H=h.style;return T=T||Hn(h),T&&(k=T.getPropertyValue(y)||T[y],W&&k&&(k=k.replace(F,"$1")||void 0),k===""&&!Ve(h)&&(k=d.style(h,y)),!g.pixelBoxStyles()&&wa.test(k)&&Ea.test(y)&&(C=H.width,R=H.minWidth,I=H.maxWidth,H.minWidth=H.maxWidth=H.width=k,k=T.width,H.width=C,H.minWidth=R,H.maxWidth=I)),k!==void 0?k+"":k}function Ta(h,y){return{get:function(){if(h()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var Ca=["Webkit","Moz","ms"],mi=b.createElement("div").style,sr={};function Da(h){for(var y=h[0].toUpperCase()+h.slice(1),T=Ca.length;T--;)if(h=Ca[T]+y,h in mi)return h}function _n(h){var y=d.cssProps[h]||sr[h];return y||(h in mi?h:sr[h]=Da(h)||h)}var Tn=/^(none|table(?!-c[ea]).+)/,gr={position:"absolute",visibility:"hidden",display:"block"},bi={letterSpacing:"0",fontWeight:"400"};function Qs(h,y,T){var C=Se.exec(y);return C?Math.max(0,C[2]-(T||0))+(C[3]||"px"):y}function Po(h,y,T,C,R,I){var k=y==="width"?1:0,W=0,H=0,Z=0;if(T===(C?"border":"content"))return 0;for(;k<4;k+=2)T==="margin"&&(Z+=d.css(h,T+ve[k],!0,R)),C?(T==="content"&&(H-=d.css(h,"padding"+ve[k],!0,R)),T!=="margin"&&(H-=d.css(h,"border"+ve[k]+"Width",!0,R))):(H+=d.css(h,"padding"+ve[k],!0,R),T!=="padding"?H+=d.css(h,"border"+ve[k]+"Width",!0,R):W+=d.css(h,"border"+ve[k]+"Width",!0,R));return!C&&I>=0&&(H+=Math.max(0,Math.ceil(h["offset"+y[0].toUpperCase()+y.slice(1)]-I-H-W-.5))||0),H+Z}function js(h,y,T){var C=Hn(h),R=!g.boxSizingReliable()||T,I=R&&d.css(h,"boxSizing",!1,C)==="border-box",k=I,W=Ir(h,y,C),H="offset"+y[0].toUpperCase()+y.slice(1);if(wa.test(W)){if(!T)return W;W="auto"}return(!g.boxSizingReliable()&&I||!g.reliableTrDimensions()&&D(h,"tr")||W==="auto"||!parseFloat(W)&&d.css(h,"display",!1,C)==="inline")&&h.getClientRects().length&&(I=d.css(h,"boxSizing",!1,C)==="border-box",k=H in h,k&&(W=h[H])),W=parseFloat(W)||0,W+Po(h,y,T||(I?"border":"content"),k,C,W)+"px"}d.extend({cssHooks:{opacity:{get:function(h,y){if(y){var T=Ir(h,"opacity");return T===""?"1":T}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(h,y,T,C){if(!(!h||h.nodeType===3||h.nodeType===8||!h.style)){var R,I,k,W=Me(y),H=xa.test(y),Z=h.style;if(H||(y=_n(W)),k=d.cssHooks[y]||d.cssHooks[W],T!==void 0){if(I=typeof T,I==="string"&&(R=Se.exec(T))&&R[1]&&(T=$e(h,y,R),I="number"),T==null||T!==T)return;I==="number"&&!H&&(T+=R&&R[3]||(d.cssNumber[W]?"":"px")),!g.clearCloneStyle&&T===""&&y.indexOf("background")===0&&(Z[y]="inherit"),(!k||!("set"in k)||(T=k.set(h,T,C))!==void 0)&&(H?Z.setProperty(y,T):Z[y]=T)}else return k&&"get"in k&&(R=k.get(h,!1,C))!==void 0?R:Z[y]}},css:function(h,y,T,C){var R,I,k,W=Me(y),H=xa.test(y);return H||(y=_n(W)),k=d.cssHooks[y]||d.cssHooks[W],k&&"get"in k&&(R=k.get(h,!0,T)),R===void 0&&(R=Ir(h,y,C)),R==="normal"&&y in bi&&(R=bi[y]),T===""||T?(I=parseFloat(R),T===!0||isFinite(I)?I||0:R):R}}),d.each(["height","width"],function(h,y){d.cssHooks[y]={get:function(T,C,R){if(C)return Tn.test(d.css(T,"display"))&&(!T.getClientRects().length||!T.getBoundingClientRect().width)?en(T,gr,function(){return js(T,y,R)}):js(T,y,R)},set:function(T,C,R){var I,k=Hn(T),W=!g.scrollboxSize()&&k.position==="absolute",H=W||R,Z=H&&d.css(T,"boxSizing",!1,k)==="border-box",le=R?Po(T,y,R,Z,k):0;return Z&&W&&(le-=Math.ceil(T["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(k[y])-Po(T,y,"border",!1,k)-.5)),le&&(I=Se.exec(C))&&(I[3]||"px")!=="px"&&(T.style[y]=C,C=d.css(T,y)),Qs(T,C,le)}}}),d.cssHooks.marginLeft=Ta(g.reliableMarginLeft,function(h,y){if(y)return(parseFloat(Ir(h,"marginLeft"))||h.getBoundingClientRect().left-en(h,{marginLeft:0},function(){return h.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(h,y){d.cssHooks[h+y]={expand:function(T){for(var C=0,R={},I=typeof T=="string"?T.split(" "):[T];C<4;C++)R[h+ve[C]+y]=I[C]||I[C-2]||I[0];return R}},h!=="margin"&&(d.cssHooks[h+y].set=Qs)}),d.fn.extend({css:function(h,y){return we(this,function(T,C,R){var I,k,W={},H=0;if(Array.isArray(C)){for(I=Hn(T),k=C.length;H<k;H++)W[C[H]]=d.css(T,C[H],!1,I);return W}return R!==void 0?d.style(T,C,R):d.css(T,C)},h,y,arguments.length>1)}});function ur(h,y,T,C,R){return new ur.prototype.init(h,y,T,C,R)}d.Tween=ur,ur.prototype={constructor:ur,init:function(h,y,T,C,R,I){this.elem=h,this.prop=T,this.easing=R||d.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=C,this.unit=I||(d.cssNumber[T]?"":"px")},cur:function(){var h=ur.propHooks[this.prop];return h&&h.get?h.get(this):ur.propHooks._default.get(this)},run:function(h){var y,T=ur.propHooks[this.prop];return this.options.duration?this.pos=y=d.easing[this.easing](h,this.options.duration*h,0,1,this.options.duration):this.pos=y=h,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),T&&T.set?T.set(this):ur.propHooks._default.set(this),this}},ur.prototype.init.prototype=ur.prototype,ur.propHooks={_default:{get:function(h){var y;return h.elem.nodeType!==1||h.elem[h.prop]!=null&&h.elem.style[h.prop]==null?h.elem[h.prop]:(y=d.css(h.elem,h.prop,""),!y||y==="auto"?0:y)},set:function(h){d.fx.step[h.prop]?d.fx.step[h.prop](h):h.elem.nodeType===1&&(d.cssHooks[h.prop]||h.elem.style[_n(h.prop)]!=null)?d.style(h.elem,h.prop,h.now+h.unit):h.elem[h.prop]=h.now}}},ur.propHooks.scrollTop=ur.propHooks.scrollLeft={set:function(h){h.elem.nodeType&&h.elem.parentNode&&(h.elem[h.prop]=h.now)}},d.easing={linear:function(h){return h},swing:function(h){return .5-Math.cos(h*Math.PI)/2},_default:"swing"},d.fx=ur.prototype.init,d.fx.step={};var qn,wi,Oc=/^(?:toggle|show|hide)$/,Nc=/queueHooks$/;function Mo(){wi&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Mo):e.setTimeout(Mo,d.fx.interval),d.fx.tick())}function Js(){return e.setTimeout(function(){qn=void 0}),qn=Date.now()}function xi(h,y){var T,C=0,R={height:h};for(y=y?1:0;C<4;C+=2-y)T=ve[C],R["margin"+T]=R["padding"+T]=h;return y&&(R.opacity=R.width=h),R}function eu(h,y,T){for(var C,R=(Dr.tweeners[y]||[]).concat(Dr.tweeners["*"]),I=0,k=R.length;I<k;I++)if(C=R[I].call(T,y,h))return C}function kc(h,y,T){var C,R,I,k,W,H,Z,le,pe="width"in y||"height"in y,ne=this,Ee={},je=h.style,it=h.nodeType&&Ge(h),et=xe.get(h,"fxshow");T.queue||(k=d._queueHooks(h,"fx"),k.unqueued==null&&(k.unqueued=0,W=k.empty.fire,k.empty.fire=function(){k.unqueued||W()}),k.unqueued++,ne.always(function(){ne.always(function(){k.unqueued--,d.queue(h,"fx").length||k.empty.fire()})}));for(C in y)if(R=y[C],Oc.test(R)){if(delete y[C],I=I||R==="toggle",R===(it?"hide":"show"))if(R==="show"&&et&&et[C]!==void 0)it=!0;else continue;Ee[C]=et&&et[C]||d.style(h,C)}if(H=!d.isEmptyObject(y),!(!H&&d.isEmptyObject(Ee))){pe&&h.nodeType===1&&(T.overflow=[je.overflow,je.overflowX,je.overflowY],Z=et&&et.display,Z==null&&(Z=xe.get(h,"display")),le=d.css(h,"display"),le==="none"&&(Z?le=Z:(ot([h],!0),Z=h.style.display||Z,le=d.css(h,"display"),ot([h]))),(le==="inline"||le==="inline-block"&&Z!=null)&&d.css(h,"float")==="none"&&(H||(ne.done(function(){je.display=Z}),Z==null&&(le=je.display,Z=le==="none"?"":le)),je.display="inline-block")),T.overflow&&(je.overflow="hidden",ne.always(function(){je.overflow=T.overflow[0],je.overflowX=T.overflow[1],je.overflowY=T.overflow[2]})),H=!1;for(C in Ee)H||(et?"hidden"in et&&(it=et.hidden):et=xe.access(h,"fxshow",{display:Z}),I&&(et.hidden=!it),it&&ot([h],!0),ne.done(function(){it||ot([h]),xe.remove(h,"fxshow");for(C in Ee)d.style(h,C,Ee[C])})),H=eu(it?et[C]:0,C,ne),C in et||(et[C]=H.start,it&&(H.end=H.start,H.start=0))}}function Bc(h,y){var T,C,R,I,k;for(T in h)if(C=Me(T),R=y[C],I=h[T],Array.isArray(I)&&(R=I[1],I=h[T]=I[0]),T!==C&&(h[C]=I,delete h[T]),k=d.cssHooks[C],k&&"expand"in k){I=k.expand(I),delete h[C];for(T in I)T in h||(h[T]=I[T],y[T]=R)}else y[C]=R}function Dr(h,y,T){var C,R,I=0,k=Dr.prefilters.length,W=d.Deferred().always(function(){delete H.elem}),H=function(){if(R)return!1;for(var pe=qn||Js(),ne=Math.max(0,Z.startTime+Z.duration-pe),Ee=ne/Z.duration||0,je=1-Ee,it=0,et=Z.tweens.length;it<et;it++)Z.tweens[it].run(je);return W.notifyWith(h,[Z,je,ne]),je<1&&et?ne:(et||W.notifyWith(h,[Z,1,0]),W.resolveWith(h,[Z]),!1)},Z=W.promise({elem:h,props:d.extend({},y),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},T),originalProperties:y,originalOptions:T,startTime:qn||Js(),duration:T.duration,tweens:[],createTween:function(pe,ne){var Ee=d.Tween(h,Z.opts,pe,ne,Z.opts.specialEasing[pe]||Z.opts.easing);return Z.tweens.push(Ee),Ee},stop:function(pe){var ne=0,Ee=pe?Z.tweens.length:0;if(R)return this;for(R=!0;ne<Ee;ne++)Z.tweens[ne].run(1);return pe?(W.notifyWith(h,[Z,1,0]),W.resolveWith(h,[Z,pe])):W.rejectWith(h,[Z,pe]),this}}),le=Z.props;for(Bc(le,Z.opts.specialEasing);I<k;I++)if(C=Dr.prefilters[I].call(Z,h,le,Z.opts),C)return m(C.stop)&&(d._queueHooks(Z.elem,Z.opts.queue).stop=C.stop.bind(C)),C;return d.map(le,eu,Z),m(Z.opts.start)&&Z.opts.start.call(h,Z),Z.progress(Z.opts.progress).done(Z.opts.done,Z.opts.complete).fail(Z.opts.fail).always(Z.opts.always),d.fx.timer(d.extend(H,{elem:h,anim:Z,queue:Z.opts.queue})),Z}d.Animation=d.extend(Dr,{tweeners:{"*":[function(h,y){var T=this.createTween(h,y);return $e(T.elem,h,Se.exec(y),T),T}]},tweener:function(h,y){m(h)?(y=h,h=["*"]):h=h.match(j);for(var T,C=0,R=h.length;C<R;C++)T=h[C],Dr.tweeners[T]=Dr.tweeners[T]||[],Dr.tweeners[T].unshift(y)},prefilters:[kc],prefilter:function(h,y){y?Dr.prefilters.unshift(h):Dr.prefilters.push(h)}}),d.speed=function(h,y,T){var C=h&&typeof h=="object"?d.extend({},h):{complete:T||!T&&y||m(h)&&h,duration:h,easing:T&&y||y&&!m(y)&&y};return d.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in d.fx.speeds?C.duration=d.fx.speeds[C.duration]:C.duration=d.fx.speeds._default),(C.queue==null||C.queue===!0)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){m(C.old)&&C.old.call(this),C.queue&&d.dequeue(this,C.queue)},C},d.fn.extend({fadeTo:function(h,y,T,C){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:y},h,T,C)},animate:function(h,y,T,C){var R=d.isEmptyObject(h),I=d.speed(y,T,C),k=function(){var W=Dr(this,d.extend({},h),I);(R||xe.get(this,"finish"))&&W.stop(!0)};return k.finish=k,R||I.queue===!1?this.each(k):this.queue(I.queue,k)},stop:function(h,y,T){var C=function(R){var I=R.stop;delete R.stop,I(T)};return typeof h!="string"&&(T=y,y=h,h=void 0),y&&this.queue(h||"fx",[]),this.each(function(){var R=!0,I=h!=null&&h+"queueHooks",k=d.timers,W=xe.get(this);if(I)W[I]&&W[I].stop&&C(W[I]);else for(I in W)W[I]&&W[I].stop&&Nc.test(I)&&C(W[I]);for(I=k.length;I--;)k[I].elem===this&&(h==null||k[I].queue===h)&&(k[I].anim.stop(T),R=!1,k.splice(I,1));(R||!T)&&d.dequeue(this,h)})},finish:function(h){return h!==!1&&(h=h||"fx"),this.each(function(){var y,T=xe.get(this),C=T[h+"queue"],R=T[h+"queueHooks"],I=d.timers,k=C?C.length:0;for(T.finish=!0,d.queue(this,h,[]),R&&R.stop&&R.stop.call(this,!0),y=I.length;y--;)I[y].elem===this&&I[y].queue===h&&(I[y].anim.stop(!0),I.splice(y,1));for(y=0;y<k;y++)C[y]&&C[y].finish&&C[y].finish.call(this);delete T.finish})}}),d.each(["toggle","show","hide"],function(h,y){var T=d.fn[y];d.fn[y]=function(C,R,I){return C==null||typeof C=="boolean"?T.apply(this,arguments):this.animate(xi(y,!0),C,R,I)}}),d.each({slideDown:xi("show"),slideUp:xi("hide"),slideToggle:xi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(h,y){d.fn[h]=function(T,C,R){return this.animate(y,T,C,R)}}),d.timers=[],d.fx.tick=function(){var h,y=0,T=d.timers;for(qn=Date.now();y<T.length;y++)h=T[y],!h()&&T[y]===h&&T.splice(y--,1);T.length||d.fx.stop(),qn=void 0},d.fx.timer=function(h){d.timers.push(h),d.fx.start()},d.fx.interval=13,d.fx.start=function(){wi||(wi=!0,Mo())},d.fx.stop=function(){wi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(h,y){return h=d.fx&&d.fx.speeds[h]||h,y=y||"fx",this.queue(y,function(T,C){var R=e.setTimeout(T,h);C.stop=function(){e.clearTimeout(R)}})},function(){var h=b.createElement("input"),y=b.createElement("select"),T=y.appendChild(b.createElement("option"));h.type="checkbox",g.checkOn=h.value!=="",g.optSelected=T.selected,h=b.createElement("input"),h.value="t",h.type="radio",g.radioValue=h.value==="t"}();var tu,Sa=d.expr.attrHandle;d.fn.extend({attr:function(h,y){return we(this,d.attr,h,y,arguments.length>1)},removeAttr:function(h){return this.each(function(){d.removeAttr(this,h)})}}),d.extend({attr:function(h,y,T){var C,R,I=h.nodeType;if(!(I===3||I===8||I===2)){if(typeof h.getAttribute>"u")return d.prop(h,y,T);if((I!==1||!d.isXMLDoc(h))&&(R=d.attrHooks[y.toLowerCase()]||(d.expr.match.bool.test(y)?tu:void 0)),T!==void 0){if(T===null){d.removeAttr(h,y);return}return R&&"set"in R&&(C=R.set(h,T,y))!==void 0?C:(h.setAttribute(y,T+""),T)}return R&&"get"in R&&(C=R.get(h,y))!==null?C:(C=d.find.attr(h,y),C??void 0)}},attrHooks:{type:{set:function(h,y){if(!g.radioValue&&y==="radio"&&D(h,"input")){var T=h.value;return h.setAttribute("type",y),T&&(h.value=T),y}}}},removeAttr:function(h,y){var T,C=0,R=y&&y.match(j);if(R&&h.nodeType===1)for(;T=R[C++];)h.removeAttribute(T)}}),tu={set:function(h,y,T){return y===!1?d.removeAttr(h,T):h.setAttribute(T,T),T}},d.each(d.expr.match.bool.source.match(/\w+/g),function(h,y){var T=Sa[y]||d.find.attr;Sa[y]=function(C,R,I){var k,W,H=R.toLowerCase();return I||(W=Sa[H],Sa[H]=k,k=T(C,R,I)!=null?H:null,Sa[H]=W),k}});var Fc=/^(?:input|select|textarea|button)$/i,zc=/^(?:a|area)$/i;d.fn.extend({prop:function(h,y){return we(this,d.prop,h,y,arguments.length>1)},removeProp:function(h){return this.each(function(){delete this[d.propFix[h]||h]})}}),d.extend({prop:function(h,y,T){var C,R,I=h.nodeType;if(!(I===3||I===8||I===2))return(I!==1||!d.isXMLDoc(h))&&(y=d.propFix[y]||y,R=d.propHooks[y]),T!==void 0?R&&"set"in R&&(C=R.set(h,T,y))!==void 0?C:h[y]=T:R&&"get"in R&&(C=R.get(h,y))!==null?C:h[y]},propHooks:{tabIndex:{get:function(h){var y=d.find.attr(h,"tabindex");return y?parseInt(y,10):Fc.test(h.nodeName)||zc.test(h.nodeName)&&h.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(h){var y=h.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function(h){var y=h.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function Cn(h){var y=h.match(j)||[];return y.join(" ")}function Dn(h){return h.getAttribute&&h.getAttribute("class")||""}function Io(h){return Array.isArray(h)?h:typeof h=="string"?h.match(j)||[]:[]}d.fn.extend({addClass:function(h){var y,T,C,R,I,k;return m(h)?this.each(function(W){d(this).addClass(h.call(this,W,Dn(this)))}):(y=Io(h),y.length?this.each(function(){if(C=Dn(this),T=this.nodeType===1&&" "+Cn(C)+" ",T){for(I=0;I<y.length;I++)R=y[I],T.indexOf(" "+R+" ")<0&&(T+=R+" ");k=Cn(T),C!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(h){var y,T,C,R,I,k;return m(h)?this.each(function(W){d(this).removeClass(h.call(this,W,Dn(this)))}):arguments.length?(y=Io(h),y.length?this.each(function(){if(C=Dn(this),T=this.nodeType===1&&" "+Cn(C)+" ",T){for(I=0;I<y.length;I++)for(R=y[I];T.indexOf(" "+R+" ")>-1;)T=T.replace(" "+R+" "," ");k=Cn(T),C!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(h,y){var T,C,R,I,k=typeof h,W=k==="string"||Array.isArray(h);return m(h)?this.each(function(H){d(this).toggleClass(h.call(this,H,Dn(this),y),y)}):typeof y=="boolean"&&W?y?this.addClass(h):this.removeClass(h):(T=Io(h),this.each(function(){if(W)for(I=d(this),R=0;R<T.length;R++)C=T[R],I.hasClass(C)?I.removeClass(C):I.addClass(C);else(h===void 0||k==="boolean")&&(C=Dn(this),C&&xe.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||h===!1?"":xe.get(this,"__className__")||""))}))},hasClass:function(h){var y,T,C=0;for(y=" "+h+" ";T=this[C++];)if(T.nodeType===1&&(" "+Cn(Dn(T))+" ").indexOf(y)>-1)return!0;return!1}});var Gc=/\r/g;d.fn.extend({val:function(h){var y,T,C,R=this[0];return arguments.length?(C=m(h),this.each(function(I){var k;this.nodeType===1&&(C?k=h.call(this,I,d(this).val()):k=h,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=d.map(k,function(W){return W==null?"":W+""})),y=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!y||!("set"in y)||y.set(this,k,"value")===void 0)&&(this.value=k))})):R?(y=d.valHooks[R.type]||d.valHooks[R.nodeName.toLowerCase()],y&&"get"in y&&(T=y.get(R,"value"))!==void 0?T:(T=R.value,typeof T=="string"?T.replace(Gc,""):T??"")):void 0}}),d.extend({valHooks:{option:{get:function(h){var y=d.find.attr(h,"value");return y??Cn(d.text(h))}},select:{get:function(h){var y,T,C,R=h.options,I=h.selectedIndex,k=h.type==="select-one",W=k?null:[],H=k?I+1:R.length;for(I<0?C=H:C=k?I:0;C<H;C++)if(T=R[C],(T.selected||C===I)&&!T.disabled&&(!T.parentNode.disabled||!D(T.parentNode,"optgroup"))){if(y=d(T).val(),k)return y;W.push(y)}return W},set:function(h,y){for(var T,C,R=h.options,I=d.makeArray(y),k=R.length;k--;)C=R[k],(C.selected=d.inArray(d.valHooks.option.get(C),I)>-1)&&(T=!0);return T||(h.selectedIndex=-1),I}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(h,y){if(Array.isArray(y))return h.checked=d.inArray(d(h).val(),y)>-1}},g.checkOn||(d.valHooks[this].get=function(h){return h.getAttribute("value")===null?"on":h.value})});var Aa=e.location,ru={guid:Date.now()},Oo=/\?/;d.parseXML=function(h){var y,T;if(!h||typeof h!="string")return null;try{y=new e.DOMParser().parseFromString(h,"text/xml")}catch{}return T=y&&y.getElementsByTagName("parsererror")[0],(!y||T)&&d.error("Invalid XML: "+(T?d.map(T.childNodes,function(C){return C.textContent}).join(`
`):h)),y};var nu=/^(?:focusinfocus|focusoutblur)$/,au=function(h){h.stopPropagation()};d.extend(d.event,{trigger:function(h,y,T,C){var R,I,k,W,H,Z,le,pe,ne=[T||b],Ee=c.call(h,"type")?h.type:h,je=c.call(h,"namespace")?h.namespace.split("."):[];if(I=pe=k=T=T||b,!(T.nodeType===3||T.nodeType===8)&&!nu.test(Ee+d.event.triggered)&&(Ee.indexOf(".")>-1&&(je=Ee.split("."),Ee=je.shift(),je.sort()),H=Ee.indexOf(":")<0&&"on"+Ee,h=h[d.expando]?h:new d.Event(Ee,typeof h=="object"&&h),h.isTrigger=C?2:3,h.namespace=je.join("."),h.rnamespace=h.namespace?new RegExp("(^|\\.)"+je.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h.result=void 0,h.target||(h.target=T),y=y==null?[h]:d.makeArray(y,[h]),le=d.event.special[Ee]||{},!(!C&&le.trigger&&le.trigger.apply(T,y)===!1))){if(!C&&!le.noBubble&&!w(T)){for(W=le.delegateType||Ee,nu.test(W+Ee)||(I=I.parentNode);I;I=I.parentNode)ne.push(I),k=I;k===(T.ownerDocument||b)&&ne.push(k.defaultView||k.parentWindow||e)}for(R=0;(I=ne[R++])&&!h.isPropagationStopped();)pe=I,h.type=R>1?W:le.bindType||Ee,Z=(xe.get(I,"events")||Object.create(null))[h.type]&&xe.get(I,"handle"),Z&&Z.apply(I,y),Z=H&&I[H],Z&&Z.apply&&Ie(I)&&(h.result=Z.apply(I,y),h.result===!1&&h.preventDefault());return h.type=Ee,!C&&!h.isDefaultPrevented()&&(!le._default||le._default.apply(ne.pop(),y)===!1)&&Ie(T)&&H&&m(T[Ee])&&!w(T)&&(k=T[H],k&&(T[H]=null),d.event.triggered=Ee,h.isPropagationStopped()&&pe.addEventListener(Ee,au),T[Ee](),h.isPropagationStopped()&&pe.removeEventListener(Ee,au),d.event.triggered=void 0,k&&(T[H]=k)),h.result}},simulate:function(h,y,T){var C=d.extend(new d.Event,T,{type:h,isSimulated:!0});d.event.trigger(C,null,y)}}),d.fn.extend({trigger:function(h,y){return this.each(function(){d.event.trigger(h,y,this)})},triggerHandler:function(h,y){var T=this[0];if(T)return d.event.trigger(h,y,T,!0)}});var Uc=/\[\]$/,iu=/\r?\n/g,Vc=/^(?:submit|button|image|reset|file)$/i,Hc=/^(?:input|select|textarea|keygen)/i;function No(h,y,T,C){var R;if(Array.isArray(y))d.each(y,function(I,k){T||Uc.test(h)?C(h,k):No(h+"["+(typeof k=="object"&&k!=null?I:"")+"]",k,T,C)});else if(!T&&S(y)==="object")for(R in y)No(h+"["+R+"]",y[R],T,C);else C(h,y)}d.param=function(h,y){var T,C=[],R=function(I,k){var W=m(k)?k():k;C[C.length]=encodeURIComponent(I)+"="+encodeURIComponent(W??"")};if(h==null)return"";if(Array.isArray(h)||h.jquery&&!d.isPlainObject(h))d.each(h,function(){R(this.name,this.value)});else for(T in h)No(T,h[T],y,R);return C.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var h=d.prop(this,"elements");return h?d.makeArray(h):this}).filter(function(){var h=this.type;return this.name&&!d(this).is(":disabled")&&Hc.test(this.nodeName)&&!Vc.test(h)&&(this.checked||!gt.test(h))}).map(function(h,y){var T=d(this).val();return T==null?null:Array.isArray(T)?d.map(T,function(C){return{name:y.name,value:C.replace(iu,`\r
`)}}):{name:y.name,value:T.replace(iu,`\r
`)}}).get()}});var _c=/%20/g,qc=/#.*$/,Wc=/([?&])_=[^&]*/,Yc=/^(.*?):[ \t]*([^\r\n]*)$/mg,Xc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$c=/^(?:GET|HEAD)$/,Kc=/^\/\//,ou={},ko={},su="*/".concat("*"),Bo=b.createElement("a");Bo.href=Aa.href;function uu(h){return function(y,T){typeof y!="string"&&(T=y,y="*");var C,R=0,I=y.toLowerCase().match(j)||[];if(m(T))for(;C=I[R++];)C[0]==="+"?(C=C.slice(1)||"*",(h[C]=h[C]||[]).unshift(T)):(h[C]=h[C]||[]).push(T)}}function lu(h,y,T,C){var R={},I=h===ko;function k(W){var H;return R[W]=!0,d.each(h[W]||[],function(Z,le){var pe=le(y,T,C);if(typeof pe=="string"&&!I&&!R[pe])return y.dataTypes.unshift(pe),k(pe),!1;if(I)return!(H=pe)}),H}return k(y.dataTypes[0])||!R["*"]&&k("*")}function Fo(h,y){var T,C,R=d.ajaxSettings.flatOptions||{};for(T in y)y[T]!==void 0&&((R[T]?h:C||(C={}))[T]=y[T]);return C&&d.extend(!0,h,C),h}function Zc(h,y,T){for(var C,R,I,k,W=h.contents,H=h.dataTypes;H[0]==="*";)H.shift(),C===void 0&&(C=h.mimeType||y.getResponseHeader("Content-Type"));if(C){for(R in W)if(W[R]&&W[R].test(C)){H.unshift(R);break}}if(H[0]in T)I=H[0];else{for(R in T){if(!H[0]||h.converters[R+" "+H[0]]){I=R;break}k||(k=R)}I=I||k}if(I)return I!==H[0]&&H.unshift(I),T[I]}function Qc(h,y,T,C){var R,I,k,W,H,Z={},le=h.dataTypes.slice();if(le[1])for(k in h.converters)Z[k.toLowerCase()]=h.converters[k];for(I=le.shift();I;)if(h.responseFields[I]&&(T[h.responseFields[I]]=y),!H&&C&&h.dataFilter&&(y=h.dataFilter(y,h.dataType)),H=I,I=le.shift(),I){if(I==="*")I=H;else if(H!=="*"&&H!==I){if(k=Z[H+" "+I]||Z["* "+I],!k){for(R in Z)if(W=R.split(" "),W[1]===I&&(k=Z[H+" "+W[0]]||Z["* "+W[0]],k)){k===!0?k=Z[R]:Z[R]!==!0&&(I=W[0],le.unshift(W[1]));break}}if(k!==!0)if(k&&h.throws)y=k(y);else try{y=k(y)}catch(pe){return{state:"parsererror",error:k?pe:"No conversion from "+H+" to "+I}}}}return{state:"success",data:y}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Aa.href,type:"GET",isLocal:Xc.test(Aa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":su,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(h,y){return y?Fo(Fo(h,d.ajaxSettings),y):Fo(d.ajaxSettings,h)},ajaxPrefilter:uu(ou),ajaxTransport:uu(ko),ajax:function(h,y){typeof h=="object"&&(y=h,h=void 0),y=y||{};var T,C,R,I,k,W,H,Z,le,pe,ne=d.ajaxSetup({},y),Ee=ne.context||ne,je=ne.context&&(Ee.nodeType||Ee.jquery)?d(Ee):d.event,it=d.Deferred(),et=d.Callbacks("once memory"),Ht=ne.statusCode||{},Pt={},Or={},Nr="canceled",at={readyState:0,getResponseHeader:function(ut){var St;if(H){if(!I)for(I={};St=Yc.exec(R);)I[St[1].toLowerCase()+" "]=(I[St[1].toLowerCase()+" "]||[]).concat(St[2]);St=I[ut.toLowerCase()+" "]}return St==null?null:St.join(", ")},getAllResponseHeaders:function(){return H?R:null},setRequestHeader:function(ut,St){return H==null&&(ut=Or[ut.toLowerCase()]=Or[ut.toLowerCase()]||ut,Pt[ut]=St),this},overrideMimeType:function(ut){return H==null&&(ne.mimeType=ut),this},statusCode:function(ut){var St;if(ut)if(H)at.always(ut[at.status]);else for(St in ut)Ht[St]=[Ht[St],ut[St]];return this},abort:function(ut){var St=ut||Nr;return T&&T.abort(St),Sn(0,St),this}};if(it.promise(at),ne.url=((h||ne.url||Aa.href)+"").replace(Kc,Aa.protocol+"//"),ne.type=y.method||y.type||ne.method||ne.type,ne.dataTypes=(ne.dataType||"*").toLowerCase().match(j)||[""],ne.crossDomain==null){W=b.createElement("a");try{W.href=ne.url,W.href=W.href,ne.crossDomain=Bo.protocol+"//"+Bo.host!=W.protocol+"//"+W.host}catch{ne.crossDomain=!0}}if(ne.data&&ne.processData&&typeof ne.data!="string"&&(ne.data=d.param(ne.data,ne.traditional)),lu(ou,ne,y,at),H)return at;Z=d.event&&ne.global,Z&&d.active++===0&&d.event.trigger("ajaxStart"),ne.type=ne.type.toUpperCase(),ne.hasContent=!$c.test(ne.type),C=ne.url.replace(qc,""),ne.hasContent?ne.data&&ne.processData&&(ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ne.data=ne.data.replace(_c,"+")):(pe=ne.url.slice(C.length),ne.data&&(ne.processData||typeof ne.data=="string")&&(C+=(Oo.test(C)?"&":"?")+ne.data,delete ne.data),ne.cache===!1&&(C=C.replace(Wc,"$1"),pe=(Oo.test(C)?"&":"?")+"_="+ru.guid+++pe),ne.url=C+pe),ne.ifModified&&(d.lastModified[C]&&at.setRequestHeader("If-Modified-Since",d.lastModified[C]),d.etag[C]&&at.setRequestHeader("If-None-Match",d.etag[C])),(ne.data&&ne.hasContent&&ne.contentType!==!1||y.contentType)&&at.setRequestHeader("Content-Type",ne.contentType),at.setRequestHeader("Accept",ne.dataTypes[0]&&ne.accepts[ne.dataTypes[0]]?ne.accepts[ne.dataTypes[0]]+(ne.dataTypes[0]!=="*"?", "+su+"; q=0.01":""):ne.accepts["*"]);for(le in ne.headers)at.setRequestHeader(le,ne.headers[le]);if(ne.beforeSend&&(ne.beforeSend.call(Ee,at,ne)===!1||H))return at.abort();if(Nr="abort",et.add(ne.complete),at.done(ne.success),at.fail(ne.error),T=lu(ko,ne,y,at),!T)Sn(-1,"No Transport");else{if(at.readyState=1,Z&&je.trigger("ajaxSend",[at,ne]),H)return at;ne.async&&ne.timeout>0&&(k=e.setTimeout(function(){at.abort("timeout")},ne.timeout));try{H=!1,T.send(Pt,Sn)}catch(ut){if(H)throw ut;Sn(-1,ut)}}function Sn(ut,St,Ra,Go){var kr,Pa,Br,tn,rn,wr=St;H||(H=!0,k&&e.clearTimeout(k),T=void 0,R=Go||"",at.readyState=ut>0?4:0,kr=ut>=200&&ut<300||ut===304,Ra&&(tn=Zc(ne,at,Ra)),!kr&&d.inArray("script",ne.dataTypes)>-1&&d.inArray("json",ne.dataTypes)<0&&(ne.converters["text script"]=function(){}),tn=Qc(ne,tn,at,kr),kr?(ne.ifModified&&(rn=at.getResponseHeader("Last-Modified"),rn&&(d.lastModified[C]=rn),rn=at.getResponseHeader("etag"),rn&&(d.etag[C]=rn)),ut===204||ne.type==="HEAD"?wr="nocontent":ut===304?wr="notmodified":(wr=tn.state,Pa=tn.data,Br=tn.error,kr=!Br)):(Br=wr,(ut||!wr)&&(wr="error",ut<0&&(ut=0))),at.status=ut,at.statusText=(St||wr)+"",kr?it.resolveWith(Ee,[Pa,wr,at]):it.rejectWith(Ee,[at,wr,Br]),at.statusCode(Ht),Ht=void 0,Z&&je.trigger(kr?"ajaxSuccess":"ajaxError",[at,ne,kr?Pa:Br]),et.fireWith(Ee,[at,wr]),Z&&(je.trigger("ajaxComplete",[at,ne]),--d.active||d.event.trigger("ajaxStop")))}return at},getJSON:function(h,y,T){return d.get(h,y,T,"json")},getScript:function(h,y){return d.get(h,void 0,y,"script")}}),d.each(["get","post"],function(h,y){d[y]=function(T,C,R,I){return m(C)&&(I=I||R,R=C,C=void 0),d.ajax(d.extend({url:T,type:y,dataType:I,data:C,success:R},d.isPlainObject(T)&&T))}}),d.ajaxPrefilter(function(h){var y;for(y in h.headers)y.toLowerCase()==="content-type"&&(h.contentType=h.headers[y]||"")}),d._evalUrl=function(h,y,T){return d.ajax({url:h,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){d.globalEval(C,y,T)}})},d.fn.extend({wrapAll:function(h){var y;return this[0]&&(m(h)&&(h=h.call(this[0])),y=d(h,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map(function(){for(var T=this;T.firstElementChild;)T=T.firstElementChild;return T}).append(this)),this},wrapInner:function(h){return m(h)?this.each(function(y){d(this).wrapInner(h.call(this,y))}):this.each(function(){var y=d(this),T=y.contents();T.length?T.wrapAll(h):y.append(h)})},wrap:function(h){var y=m(h);return this.each(function(T){d(this).wrapAll(y?h.call(this,T):h)})},unwrap:function(h){return this.parent(h).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(h){return!d.expr.pseudos.visible(h)},d.expr.pseudos.visible=function(h){return!!(h.offsetWidth||h.offsetHeight||h.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var jc={0:200,1223:204},La=d.ajaxSettings.xhr();g.cors=!!La&&"withCredentials"in La,g.ajax=La=!!La,d.ajaxTransport(function(h){var y,T;if(g.cors||La&&!h.crossDomain)return{send:function(C,R){var I,k=h.xhr();if(k.open(h.type,h.url,h.async,h.username,h.password),h.xhrFields)for(I in h.xhrFields)k[I]=h.xhrFields[I];h.mimeType&&k.overrideMimeType&&k.overrideMimeType(h.mimeType),!h.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest");for(I in C)k.setRequestHeader(I,C[I]);y=function(W){return function(){y&&(y=T=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,W==="abort"?k.abort():W==="error"?typeof k.status!="number"?R(0,"error"):R(k.status,k.statusText):R(jc[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=y(),T=k.onerror=k.ontimeout=y("error"),k.onabort!==void 0?k.onabort=T:k.onreadystatechange=function(){k.readyState===4&&e.setTimeout(function(){y&&T()})},y=y("abort");try{k.send(h.hasContent&&h.data||null)}catch(W){if(y)throw W}},abort:function(){y&&y()}}}),d.ajaxPrefilter(function(h){h.crossDomain&&(h.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(h){return d.globalEval(h),h}}}),d.ajaxPrefilter("script",function(h){h.cache===void 0&&(h.cache=!1),h.crossDomain&&(h.type="GET")}),d.ajaxTransport("script",function(h){if(h.crossDomain||h.scriptAttrs){var y,T;return{send:function(C,R){y=d("<script>").attr(h.scriptAttrs||{}).prop({charset:h.scriptCharset,src:h.url}).on("load error",T=function(I){y.remove(),T=null,I&&R(I.type==="error"?404:200,I.type)}),b.head.appendChild(y[0])},abort:function(){T&&T()}}}});var fu=[],zo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var h=fu.pop()||d.expando+"_"+ru.guid++;return this[h]=!0,h}}),d.ajaxPrefilter("json jsonp",function(h,y,T){var C,R,I,k=h.jsonp!==!1&&(zo.test(h.url)?"url":typeof h.data=="string"&&(h.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zo.test(h.data)&&"data");if(k||h.dataTypes[0]==="jsonp")return C=h.jsonpCallback=m(h.jsonpCallback)?h.jsonpCallback():h.jsonpCallback,k?h[k]=h[k].replace(zo,"$1"+C):h.jsonp!==!1&&(h.url+=(Oo.test(h.url)?"&":"?")+h.jsonp+"="+C),h.converters["script json"]=function(){return I||d.error(C+" was not called"),I[0]},h.dataTypes[0]="json",R=e[C],e[C]=function(){I=arguments},T.always(function(){R===void 0?d(e).removeProp(C):e[C]=R,h[C]&&(h.jsonpCallback=y.jsonpCallback,fu.push(C)),I&&m(R)&&R(I[0]),I=R=void 0}),"script"}),g.createHTMLDocument=function(){var h=b.implementation.createHTMLDocument("").body;return h.innerHTML="<form></form><form></form>",h.childNodes.length===2}(),d.parseHTML=function(h,y,T){if(typeof h!="string")return[];typeof y=="boolean"&&(T=y,y=!1);var C,R,I;return y||(g.createHTMLDocument?(y=b.implementation.createHTMLDocument(""),C=y.createElement("base"),C.href=b.location.href,y.head.appendChild(C)):y=b),R=K.exec(h),I=!T&&[],R?[y.createElement(R[1])]:(R=kt([h],y,I),I&&I.length&&d(I).remove(),d.merge([],R.childNodes))},d.fn.load=function(h,y,T){var C,R,I,k=this,W=h.indexOf(" ");return W>-1&&(C=Cn(h.slice(W)),h=h.slice(0,W)),m(y)?(T=y,y=void 0):y&&typeof y=="object"&&(R="POST"),k.length>0&&d.ajax({url:h,type:R||"GET",dataType:"html",data:y}).done(function(H){I=arguments,k.html(C?d("<div>").append(d.parseHTML(H)).find(C):H)}).always(T&&function(H,Z){k.each(function(){T.apply(this,I||[H.responseText,Z,H])})}),this},d.expr.pseudos.animated=function(h){return d.grep(d.timers,function(y){return h===y.elem}).length},d.offset={setOffset:function(h,y,T){var C,R,I,k,W,H,Z,le=d.css(h,"position"),pe=d(h),ne={};le==="static"&&(h.style.position="relative"),W=pe.offset(),I=d.css(h,"top"),H=d.css(h,"left"),Z=(le==="absolute"||le==="fixed")&&(I+H).indexOf("auto")>-1,Z?(C=pe.position(),k=C.top,R=C.left):(k=parseFloat(I)||0,R=parseFloat(H)||0),m(y)&&(y=y.call(h,T,d.extend({},W))),y.top!=null&&(ne.top=y.top-W.top+k),y.left!=null&&(ne.left=y.left-W.left+R),"using"in y?y.using.call(h,ne):pe.css(ne)}},d.fn.extend({offset:function(h){if(arguments.length)return h===void 0?this:this.each(function(R){d.offset.setOffset(this,h,R)});var y,T,C=this[0];if(C)return C.getClientRects().length?(y=C.getBoundingClientRect(),T=C.ownerDocument.defaultView,{top:y.top+T.pageYOffset,left:y.left+T.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var h,y,T,C=this[0],R={top:0,left:0};if(d.css(C,"position")==="fixed")y=C.getBoundingClientRect();else{for(y=this.offset(),T=C.ownerDocument,h=C.offsetParent||T.documentElement;h&&(h===T.body||h===T.documentElement)&&d.css(h,"position")==="static";)h=h.parentNode;h&&h!==C&&h.nodeType===1&&(R=d(h).offset(),R.top+=d.css(h,"borderTopWidth",!0),R.left+=d.css(h,"borderLeftWidth",!0))}return{top:y.top-R.top-d.css(C,"marginTop",!0),left:y.left-R.left-d.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var h=this.offsetParent;h&&d.css(h,"position")==="static";)h=h.offsetParent;return h||Ce})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(h,y){var T=y==="pageYOffset";d.fn[h]=function(C){return we(this,function(R,I,k){var W;if(w(R)?W=R:R.nodeType===9&&(W=R.defaultView),k===void 0)return W?W[y]:R[I];W?W.scrollTo(T?W.pageXOffset:k,T?k:W.pageYOffset):R[I]=k},h,C,arguments.length)}}),d.each(["top","left"],function(h,y){d.cssHooks[y]=Ta(g.pixelPosition,function(T,C){if(C)return C=Ir(T,y),wa.test(C)?d(T).position()[y]+"px":C})}),d.each({Height:"height",Width:"width"},function(h,y){d.each({padding:"inner"+h,content:y,"":"outer"+h},function(T,C){d.fn[C]=function(R,I){var k=arguments.length&&(T||typeof R!="boolean"),W=T||(R===!0||I===!0?"margin":"border");return we(this,function(H,Z,le){var pe;return w(H)?C.indexOf("outer")===0?H["inner"+h]:H.document.documentElement["client"+h]:H.nodeType===9?(pe=H.documentElement,Math.max(H.body["scroll"+h],pe["scroll"+h],H.body["offset"+h],pe["offset"+h],pe["client"+h])):le===void 0?d.css(H,Z,W):d.style(H,Z,le,W)},y,k?R:void 0,k)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(h,y){d.fn[y]=function(T){return this.on(y,T)}}),d.fn.extend({bind:function(h,y,T){return this.on(h,null,y,T)},unbind:function(h,y){return this.off(h,null,y)},delegate:function(h,y,T,C){return this.on(y,h,T,C)},undelegate:function(h,y,T){return arguments.length===1?this.off(h,"**"):this.off(y,h||"**",T)},hover:function(h,y){return this.on("mouseenter",h).on("mouseleave",y||h)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(h,y){d.fn[y]=function(T,C){return arguments.length>0?this.on(y,null,T,C):this.trigger(y)}});var Jc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(h,y){var T,C,R;if(typeof y=="string"&&(T=h[y],y=h,h=T),!!m(h))return C=i.call(arguments,2),R=function(){return h.apply(y||this,C.concat(i.call(arguments)))},R.guid=h.guid=h.guid||d.guid++,R},d.holdReady=function(h){h?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=D,d.isFunction=m,d.isWindow=w,d.camelCase=Me,d.type=S,d.now=Date.now,d.isNumeric=function(h){var y=d.type(h);return(y==="number"||y==="string")&&!isNaN(h-parseFloat(h))},d.trim=function(h){return h==null?"":(h+"").replace(Jc,"$1")};var eh=e.jQuery,th=e.$;return d.noConflict=function(h){return e.$===d&&(e.$=th),h&&e.jQuery===d&&(e.jQuery=eh),d},typeof r>"u"&&(e.jQuery=e.$=d),d})}(ji)),ji.exports}/*!
Copyright (c) The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the Software), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/var Bl;function Tb(){return Bl||(Bl=1,function(t){(function(){var e=function(a,i){!a||!i||(i.fn.cyPanzoom=i.fn.cytoscapePanzoom=function(o){return n.apply(this,[o,a,i]),this},a("core","panzoom",function(o){return n.apply(this,[o,a,i]),this}))},r={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},n=function(a,i,o){var s=this,u=o.extend(!0,{},r,a),l=a,f={destroy:function(){var c=o(s.container()),p=c.find(".cy-panzoom");p.data("winbdgs").forEach(function(v){o(window).unbind(v.evt,v.fn)}),p.data("cybdgs").forEach(function(v){s.off(v.evt,v.fn)}),p.remove()},init:function(){return o(s.container()).each(function(){var c=o(this);c.cytoscape=i;var p=[],v=o(window),g=function(Re,Le){p.push({evt:Re,fn:Le}),v.bind(Re,Le)},m=function(Re,Le){for(var Ue=0;Ue<p.length;Ue++){var we=p[Ue];if(we.evt===Re&&we.fn===Le){p.splice(Ue,1);break}}v.unbind(Re,Le)},w=[],b=function(Re,Le){w.push({evt:Re,fn:Le}),s.on(Re,Le)},E=o('<div class="cy-panzoom"></div>');c.prepend(E),E.css("position","absolute"),E.data("winbdgs",p),E.data("cybdgs",w),u.zoomOnly&&E.addClass("cy-panzoom-zoom-only");var x=o('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+u.zoomInIcon+'"></span></div>');E.append(x);var S=o('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+u.zoomOutIcon+'"></span></div>');E.append(S);var L=o('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+u.resetIcon+'"></span></div>');E.append(L);var M=o('<div class="cy-panzoom-slider"></div>');E.append(M),M.append('<div class="cy-panzoom-slider-background"></div>');var d=o('<div class="cy-panzoom-slider-handle"><span class="icon '+u.sliderHandleIcon+'"></span></div>');M.append(d);var A=o('<div class="cy-panzoom-no-zoom-tick"></div>');M.append(A);var D=o('<div class="cy-panzoom-panner"></div>');E.append(D);var P=o('<div class="cy-panzoom-panner-handle"></div>');D.append(P);var O=o('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),N=o('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),B=o('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),F=o('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(O).append(N).append(B).append(F);var U=o('<div class="cy-panzoom-pan-indicator"></div>');D.append(U);function V(Re){var Le={x:Re.originalEvent.pageX-D.offset().left-D.width()/2,y:Re.originalEvent.pageY-D.offset().top-D.height()/2},Ue=u.panDragAreaSize,we=Math.sqrt(Le.x*Le.x+Le.y*Le.y),Te=Math.min(we/Ue,1);if(we<u.panInactiveArea)return{x:NaN,y:NaN};Le={x:Le.x/we,y:Le.y/we},Te=Math.max(u.panMinPercentSpeed,Te);var Oe={x:-1*Le.x*(Te*u.panDistance),y:-1*Le.y*(Te*u.panDistance)};return Oe}function _(){clearInterval(he),m("mousemove",ye),U.hide()}function q(Re){var Le=Re,Ue=Math.sqrt(Le.x*Le.x+Le.y*Le.y),we={x:-1*Le.x/Ue,y:-1*Le.y/Ue},Te=D.width(),Oe=D.height(),Fe=Ue/u.panDistance,Me=Math.max(u.panIndicatorMinOpacity,Fe),Ie=255-Math.round(Me*255);U.show().css({left:Te/2*we.x+Te/2,top:Oe/2*we.y+Oe/2,background:"rgb("+Ie+", "+Ie+", "+Ie+")"})}function Y(){s.pan(),s.zoom(),ie=c.width()/2,ue=c.height()/2}var Q=!1;function $(){Q=!0,Y()}function K(){Q=!1}var ie,ue;function fe(Re){Q||Y(),s.zoom({level:Re,renderedPosition:{x:ie,y:ue}})}var he,ye=function(Re){Re.stopPropagation(),Re.preventDefault(),clearInterval(he);var Le=V(Re);if(isNaN(Le.x)||isNaN(Le.y)){U.hide();return}q(Le),he=setInterval(function(){s.panBy(Le)},u.panSpeed)};P.bind("mousedown",function(Re){ye(Re),g("mousemove",ye)}),P.bind("mouseup",function(){_()}),g("mouseup blur",function(){_()}),M.bind("mousedown",function(){return!1});var be=!1,te=2;function j(Re,Le){Le===void 0&&(Le=0);var Ue=te,we=0+Ue,Te=M.height()-d.height()-2*Ue,Oe=Re.pageY-M.offset().top-Le;Oe<we&&(Oe=we),Oe>Te&&(Oe=Te);var Fe=1-(Oe-we)/(Te-we);d.css("top",Oe);var Me=u.minZoom,Ie=u.maxZoom,Xe=Math.log(Me)/Math.log(Ie),xe=(1-Xe)*Fe+Xe,de=Math.pow(Ie,xe);de<Me?de=Me:de>Ie&&(de=Ie),fe(de)}var se,me;d.bind("mousedown",se=function(Re){var Le=Re.target===d[0]?Re.offsetY:0;be=!0,$(),d.addClass("active");var Ue=0;return g("mousemove",me=function(we){var Te=+new Date;if(Te>Ue+10)Ue=Te;else return!1;return j(we,Le),!1}),g("mouseup",function(){m("mousemove",me),be=!1,d.removeClass("active"),K()}),!1}),M.bind("mousedown",function(Re){Re.target!==d[0]&&(se(Re),j(Re))});function Ae(){var Re=s.zoom(),Le=u.minZoom,Ue=u.maxZoom,we=Math.log(Le)/Math.log(Ue),Te=Math.log(Re)/Math.log(Ue),Oe=1-(Te-we)/(1-we),Fe=te,Me=M.height()-d.height()-2*te,Ie=Oe*(Me-Fe);Ie<Fe&&(Ie=Fe),Ie>Me&&(Ie=Me),d.css("top",Ie)}Ae(),b("zoom",function(){be||Ae()}),function(){var Re=1,Le=u.minZoom,Ue=u.maxZoom,we=Math.log(Le)/Math.log(Ue),Te=Math.log(Re)/Math.log(Ue),Oe=1-(Te-we)/(1-we);if(Oe>1||Oe<0){A.hide();return}var Fe=te,Me=M.height()-d.height()-2*te,Ie=Oe*(Me-Fe);Ie<Fe&&(Ie=Fe),Ie>Me&&(Ie=Me),A.css("top",Ie)}();function Be(Re,Le){var Ue;Re.bind("mousedown",function(we){if(we.preventDefault(),we.stopPropagation(),we.button==0){var Te=function(){var Oe=s.zoom(),Fe=s.zoom()*Le;Fe<u.minZoom&&(Fe=u.minZoom),Fe>u.maxZoom&&(Fe=u.maxZoom),!(Fe==u.maxZoom&&Oe==u.maxZoom||Fe==u.minZoom&&Oe==u.minZoom)&&fe(Fe)};return $(),Te(),Ue=setInterval(Te,u.zoomDelay),!1}}),g("mouseup blur",function(){clearInterval(Ue),K()})}Be(x,1+u.zoomFactor),Be(S,1-u.zoomFactor),L.bind("mousedown",function(Re){if(Re.button==0){var Le=u.fitSelector?s.elements(u.fitSelector):s.elements();if(Le.size()===0)s.reset();else{var Ue=typeof u.animateOnFit=="function"?u.animateOnFit.call():u.animateOnFit;Ue?s.animate({fit:{eles:Le,padding:u.fitPadding}},{duration:u.fitAnimationDuration}):s.fit(Le,u.fitPadding)}return!1}})})}};return f[l]?f[l].apply(this,Array.prototype.slice.call(arguments,1)):typeof l=="object"||!l?f.init.apply(this,arguments):(o.error("No such function `"+l+"` for jquery.cytoscapePanzoom"),o(this))};t.exports&&(t.exports=function(a,i){e(a,i||Eb())}),typeof cytoscape<"u"&&typeof jQuery<"u"&&e(cytoscape,jQuery)})()}(ss)),ss.exports}var Cb=Tb();const Db=Fl(Cb);var Sb=500;function Ab(t){t===void 0&&(t=Sb);var e=null;return this.on("click",function(r){e&&e===r.target?(e=null,r.preventDefault(),r.stopPropagation(),r.target.emit("dblclick",[r])):(e=r.target,setTimeout(function(){e&&e===r.target&&(e=null,r.target.emit("dblclick:timeout",[r]))},t))}),this}function Ic(t){if(t){var e="dblclick";t("core",e,Ab)}}typeof window.cytoscape<"u"&&Ic(window.cytoscape);let qt,un,fr,Ds=[];const Lb="#777777",Ar=document.getElementById("cy"),Rb=()=>{Ar&&(Pr.use(Ic),Pr.use(wb),Pr.use(Db),qt=Pr({container:Ar,wheelSensitivity:.5,style:Pr.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(Ar.parentNode).color,"border-width":3,color:window.getComputedStyle(Ar).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(Ar).backgroundColor,"text-border-color":window.getComputedStyle(Ar).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(Ar).color,"text-background-color":window.getComputedStyle(Ar).backgroundColor,"text-border-color":window.getComputedStyle(Ar).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),qt.panzoom({maxZoom:2,minZoom:.3}),qt.minZoom(.3),qt.maxZoom(2),qt.dblclick(),Pb())},Pb=()=>{fetch(Ar.dataset.url).then(t=>t.json()).then(t=>{Mb(t)})},Mb=t=>{for(un in t.entities){let e={group:"nodes",data:{id:t.entities[un].id,name:t.entities[un].name,image:t.entities[un].image,link:t.entities[un].link}};Ds.push(e)}for(fr in t.relations){let e={group:"edges",data:{source:t.relations[fr].source,target:t.relations[fr].target,name:t.relations[fr].text,colour:t.relations[fr].colour,attitude:t.relations[fr].attitude,shape:t.relations[fr].shape,edit_url:t.relations[fr].edit_url}};e.data.colour||(e.data.colour=Lb),e.data.attitude||(e.data.attitude=0),e.data.attitude=Bb(e.data.attitude),Ds.push(e)}Ib()},Ib=()=>{qt.add(Ds),qt.nodes().forEach(function(t){t.connectedEdges().length==0&&Ob(t)}),Nb(),kb(),Fb()};function Ob(t){t.hide()}function Nb(){qt.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function kb(){qt.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),qt.nodes().on("mouseover",function(t){un=qt.getElementById(t.target.id()),un.addClass("node-hover")}),qt.nodes().on("mouseout",function(){un.removeClass("node-hover")}),qt.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),qt.edges().on("mouseover",function(t){fr=qt.getElementById(t.target.id()),fr.style("label",fr._private.data.name),fr.style("overlay-opacity",.1)}),qt.edges().on("mouseout",function(){fr.style("label",""),fr.style("overlay-opacity",0)})}function Bb(t){return(t+100)/100*2+2}async function Fb(){let t=!0;for(;t;)qt.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),Ar.classList.remove("hidden")}Rb();
