import{c as Yi,g as vl}from"./_commonjsHelpers-725317a4.js";function Pt(t){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fs(t,e,r){return e&&Qs(t.prototype,e),r&&Qs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tr(t,e){return Rc(t)||Bc(t,e)||pl(t,e)||Fc()}function Rc(t){if(Array.isArray(t))return t}function Bc(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,i,s;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(n.push(i.value),!(e&&n.length===e));a=!0);}catch(u){o=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function pl(t,e){if(t){if(typeof t=="string")return js(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return js(t,e)}}function js(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yl(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pl(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,i=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return o=u.done,u},e:function(u){i=!0,s=u},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}}}var Nt=typeof window>"u"?null:window,Js=Nt?Nt.navigator:null;Nt&&Nt.document;var zc=Pt(""),ml=Pt({}),Gc=Pt(function(){}),Hc=typeof HTMLElement>"u"?"undefined":Pt(HTMLElement),_a=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},qe=function(e){return e!=null&&Pt(e)==zc},Ct=function(e){return e!=null&&Pt(e)===Gc},pt=function(e){return!hr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},it=function(e){return e!=null&&Pt(e)===ml&&!pt(e)&&e.constructor===Object},Uc=function(e){return e!=null&&Pt(e)===ml},Oe=function(e){return e!=null&&Pt(e)===Pt(1)&&!isNaN(e)},Vc=function(e){return Oe(e)&&Math.floor(e)===e},Pi=function(e){if(Hc!=="undefined")return e!=null&&e instanceof HTMLElement},hr=function(e){return $a(e)||bl(e)},$a=function(e){return _a(e)==="collection"&&e._private.single},bl=function(e){return _a(e)==="collection"&&!e._private.single},cs=function(e){return _a(e)==="core"},wl=function(e){return _a(e)==="stylesheet"},qc=function(e){return _a(e)==="event"},fn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Yc=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Xc=function(e){return it(e)&&Oe(e.x1)&&Oe(e.x2)&&Oe(e.y1)&&Oe(e.y2)},Wc=function(e){return Uc(e)&&Ct(e.then)},_c=function(){return Js&&Js.userAgent.match(/msie|trident|edge/i)},Ba=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);return o.join("$")});var n=function a(){var o=this,i=arguments,s,u=r.apply(o,i),l=a.cache;return(s=l[u])||(s=l[u]=e.apply(o,i)),s};return n.cache={},n},hs=Ba(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Xi=Ba(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),El=Ba(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),eu=function(e){return fn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},It="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",$c="rgb[a]?\\(("+It+"[%]?)\\s*,\\s*("+It+"[%]?)\\s*,\\s*("+It+"[%]?)(?:\\s*,\\s*("+It+"))?\\)",Kc="rgb[a]?\\((?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)\\s*,\\s*(?:"+It+"[%]?)(?:\\s*,\\s*(?:"+It+"))?\\)",Zc="hsl[a]?\\(("+It+")\\s*,\\s*("+It+"[%])\\s*,\\s*("+It+"[%])(?:\\s*,\\s*("+It+"))?\\)",Qc="hsl[a]?\\((?:"+It+")\\s*,\\s*(?:"+It+"[%])\\s*,\\s*(?:"+It+"[%])(?:\\s*,\\s*(?:"+It+"))?\\)",jc="\\#[0-9a-fA-F]{3}",Jc="\\#[0-9a-fA-F]{6}",xl=function(e,r){return e<r?-1:e>r?1:0},eh=function(e,r){return-1*xl(e,r)},_e=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),o=0;o<a.length;o++){var i=a[o];t[i]=n[i]}}return t},th=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,o,i=16;return r?(n=parseInt(e[1]+e[1],i),a=parseInt(e[2]+e[2],i),o=parseInt(e[3]+e[3],i)):(n=parseInt(e[1]+e[2],i),a=parseInt(e[3]+e[4],i),o=parseInt(e[5]+e[6],i)),[n,a,o]}},rh=function(e){var r,n,a,o,i,s,u,l;function f(v,m,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?v+(m-v)*6*w:w<1/2?m:w<2/3?v+(m-v)*(2/3-w)*6:v}var h=new RegExp("^"+Zc+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(h[2]),a<0||a>100||(a=a/100,o=parseFloat(h[3]),o<0||o>100)||(o=o/100,i=h[4],i!==void 0&&(i=parseFloat(i),i<0||i>1)))return;if(a===0)s=u=l=Math.round(o*255);else{var p=o<.5?o*(1+a):o+a-o*a,g=2*o-p;s=Math.round(255*f(g,p,n+1/3)),u=Math.round(255*f(g,p,n)),l=Math.round(255*f(g,p,n-1/3))}r=[s,u,l,i]}return r},nh=function(e){var r,n=new RegExp("^"+$c+"$").exec(e);if(n){r=[];for(var a=[],o=1;o<=3;o++){var i=n[o];if(i[i.length-1]==="%"&&(a[o]=!0),i=parseFloat(i),a[o]&&(i=i/100*255),i<0||i>255)return;r.push(Math.floor(i))}var s=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},ah=function(e){return oh[e.toLowerCase()]},ih=function(e){return(pt(e)?e:null)||ah(e)||th(e)||nh(e)||rh(e)},oh={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Tl=function(e){for(var r=e.map,n=e.keys,a=n.length,o=0;o<a;o++){var i=n[o];if(it(i))throw Error("Tried to set map with object key");o<n.length-1?(r[i]==null&&(r[i]={}),r=r[i]):r[i]=e.value}},Cl=function(e){for(var r=e.map,n=e.keys,a=n.length,o=0;o<a;o++){var i=n[o];if(it(i))throw Error("Tried to get map with object key");if(r=r[i],r==null)return r}return r};function sh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var On=sh,Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uh(t,e){return e={exports:{}},t(e,e.exports),e.exports}var lh=typeof Oa=="object"&&Oa&&Oa.Object===Object&&Oa,fh=lh,ch=typeof self=="object"&&self&&self.Object===Object&&self,hh=fh||ch||Function("return this")(),Wi=hh,dh=function(){return Wi.Date.now()},Mo=dh,vh=/\s/;function gh(t){for(var e=t.length;e--&&vh.test(t.charAt(e)););return e}var ph=gh,yh=/^\s+/;function mh(t){return t&&t.slice(0,ph(t)+1).replace(yh,"")}var bh=mh,wh=Wi.Symbol,ta=wh,Dl=Object.prototype,Eh=Dl.hasOwnProperty,xh=Dl.toString,Ca=ta?ta.toStringTag:void 0;function Th(t){var e=Eh.call(t,Ca),r=t[Ca];try{t[Ca]=void 0;var n=!0}catch{}var a=xh.call(t);return n&&(e?t[Ca]=r:delete t[Ca]),a}var Ch=Th,Dh=Object.prototype,Sh=Dh.toString;function Lh(t){return Sh.call(t)}var Ah=Lh,Oh="[object Null]",Mh="[object Undefined]",tu=ta?ta.toStringTag:void 0;function Nh(t){return t==null?t===void 0?Mh:Oh:tu&&tu in Object(t)?Ch(t):Ah(t)}var Sl=Nh;function Ih(t){return t!=null&&typeof t=="object"}var Ph=Ih,kh="[object Symbol]";function Rh(t){return typeof t=="symbol"||Ph(t)&&Sl(t)==kh}var Ka=Rh,ru=0/0,Bh=/^[-+]0x[0-9a-f]+$/i,Fh=/^0b[01]+$/i,zh=/^0o[0-7]+$/i,Gh=parseInt;function Hh(t){if(typeof t=="number")return t;if(Ka(t))return ru;if(On(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=On(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bh(t);var r=Fh.test(t);return r||zh.test(t)?Gh(t.slice(2),r?2:8):Bh.test(t)?ru:+t}var nu=Hh,Uh="Expected a function",Vh=Math.max,qh=Math.min;function Yh(t,e,r){var n,a,o,i,s,u,l=0,f=!1,h=!1,p=!0;if(typeof t!="function")throw new TypeError(Uh);e=nu(e)||0,On(r)&&(f=!!r.leading,h="maxWait"in r,o=h?Vh(nu(r.maxWait)||0,e):o,p="trailing"in r?!!r.trailing:p);function g(I){var d=n,L=a;return n=a=void 0,l=I,i=t.apply(L,d),i}function v(I){return l=I,s=setTimeout(b,e),f?g(I):i}function m(I){var d=I-u,L=I-l,D=e-d;return h?qh(D,o-L):D}function w(I){var d=I-u,L=I-l;return u===void 0||d>=e||d<0||h&&L>=o}function b(){var I=Mo();if(w(I))return T(I);s=setTimeout(b,m(I))}function T(I){return s=void 0,p&&n?g(I):(n=a=void 0,i)}function E(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function S(){return s===void 0?i:T(Mo())}function A(){var I=Mo(),d=w(I);if(n=arguments,a=this,u=I,d){if(s===void 0)return v(u);if(h)return clearTimeout(s),s=setTimeout(b,e),g(u)}return s===void 0&&(s=setTimeout(b,e)),i}return A.cancel=E,A.flush=S,A}var _i=Yh,No=Nt?Nt.performance:null,Ll=No&&No.now?function(){return No.now()}:function(){return Date.now()},Xh=function(){if(Nt){if(Nt.requestAnimationFrame)return function(t){Nt.requestAnimationFrame(t)};if(Nt.mozRequestAnimationFrame)return function(t){Nt.mozRequestAnimationFrame(t)};if(Nt.webkitRequestAnimationFrame)return function(t){Nt.webkitRequestAnimationFrame(t)};if(Nt.msRequestAnimationFrame)return function(t){Nt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Ll())},1e3/60)}}(),ki=function(e){return Xh(e)},Yr=Ll,$n=9261,Al=65599,Ma=5381,Ol=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n,n=r,a;a=e.next(),!a.done;)n=n*Al+a.value|0;return n},Fa=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n;return r*Al+e|0},za=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ma;return(r<<5)+r+e|0},Wh=function(e,r){return e*2097152+r},rn=function(e){return e[0]*2097152+e[1]},hi=function(e,r){return[Fa(e[0],r[0]),za(e[1],r[1])]},_h=function(e,r){var n={value:0,done:!1},a=0,o=e.length,i={next:function(){return a<o?n.value=e[a++]:n.done=!0,n}};return Ol(i,r)},Mn=function(e,r){var n={value:0,done:!1},a=0,o=e.length,i={next:function(){return a<o?n.value=e.charCodeAt(a++):n.done=!0,n}};return Ol(i,r)},Ml=function(){return $h(arguments)},$h=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=Mn(a):r=Mn(a,r)}return r},au=!0,Kh=console.warn!=null,Zh=console.trace!=null,ds=Number.MAX_SAFE_INTEGER||9007199254740991,Nl=function(){return!0},Ri=function(){return!1},iu=function(){return 0},vs=function(){},At=function(e){throw new Error(e)},Il=function(e){if(e!==void 0)au=!!e;else return au},ct=function(e){Il()&&(Kh?console.warn(e):(console.log(e),Zh&&console.trace()))},Qh=function(e){return _e({},e)},Rr=function(e){return e==null?e:pt(e)?e.slice():it(e)?Qh(e):e},jh=function(e){return e.slice()},Pl=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Jh={},kl=function(){return Jh},Xt=function(e){var r=Object.keys(e);return function(n){for(var a={},o=0;o<r.length;o++){var i=r[o],s=n==null?void 0:n[i];a[i]=s===void 0?e[i]:s}return a}},cn=function(e,r,n){for(var a=e.length-1;a>=0&&!(e[a]===r&&(e.splice(a,1),n));a--);},gs=function(e){e.splice(0,e.length)},ed=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},Dr=function(e,r,n){return n&&(r=El(n,r)),e[r]},an=function(e,r,n,a){n&&(r=El(n,r)),e[r]=a},td=function(){function t(){ls(this,t),this._obj={}}return fs(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Br=typeof Map<"u"?Map:td,rd="undefined",nd=function(){function t(e){if(ls(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return fs(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),ia=(typeof Set>"u"?"undefined":Pt(Set))!==rd?Set:nd,$i=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!cs(e)){At("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){At("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new ia,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var i=r.renderedPosition,s=e.pan(),u=e.zoom();o.position={x:(i.x-s.x)/u,y:(i.y-s.y)/u}}var l=[];pt(r.classes)?l=r.classes:qe(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,h=l.length;f<h;f++){var p=l[f];!p||p===""||o.classes.add(p)}this.createEmitter();var g=r.style||r.css;g&&(ct("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g)),(n===void 0||n)&&this.restore()},ou=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,o){var i;it(n)&&!hr(n)&&(i=n,n=i.roots||i.root,a=i.visit,o=i.directed),o=arguments.length===2&&!Ct(a)?a:o,a=Ct(a)?a:function(){};for(var s=this._private.cy,u=n=qe(n)?this.filter(n):n,l=[],f=[],h={},p={},g={},v=0,m,w=this.byGroup(),b=w.nodes,T=w.edges,E=0;E<u.length;E++){var S=u[E],A=S.id();S.isNode()&&(l.unshift(S),e.bfs&&(g[A]=!0,f.push(S)),p[A]=0)}for(var I=function(){var z=e.bfs?l.shift():l.pop(),k=z.id();if(e.dfs){if(g[k])return"continue";g[k]=!0,f.push(z)}var H=p[k],q=h[k],U=q!=null?q.source():null,X=q!=null?q.target():null,W=q==null?void 0:z.same(U)?X[0]:U[0],Q=void 0;if(Q=a(z,q,W,v++,H),Q===!0)return m=z,"break";if(Q===!1)return"break";for(var K=z.connectedEdges().filter(function(de){return(!o||de.source().same(z))&&T.has(de)}),$=0;$<K.length;$++){var ee=K[$],oe=ee.connectedNodes().filter(function(de){return!de.same(z)&&b.has(de)}),ce=oe.id();oe.length!==0&&!g[ce]&&(oe=oe[0],l.push(oe),e.bfs&&(g[ce]=!0,f.push(oe)),h[ce]=ee,p[ce]=p[k]+1)}};l.length!==0;){var d=I();if(d!=="continue"&&d==="break")break}for(var L=s.collection(),D=0;D<f.length;D++){var N=f[D],P=h[N.id()];P!=null&&L.push(P),L.push(N)}return{path:s.collection(L),found:s.collection(m)}}},Ga={breadthFirstSearch:ou({bfs:!0}),depthFirstSearch:ou({dfs:!0})};Ga.bfs=Ga.breadthFirstSearch;Ga.dfs=Ga.depthFirstSearch;var ad=uh(function(t,e){(function(){var r,n,a,o,i,s,u,l,f,h,p,g,v,m,w;a=Math.floor,h=Math.min,n=function(b,T){return b<T?-1:b>T?1:0},f=function(b,T,E,S,A){var I;if(E==null&&(E=0),A==null&&(A=n),E<0)throw new Error("lo must be non-negative");for(S==null&&(S=b.length);E<S;)I=a((E+S)/2),A(T,b[I])<0?S=I:E=I+1;return[].splice.apply(b,[E,E-E].concat(T)),T},s=function(b,T,E){return E==null&&(E=n),b.push(T),m(b,0,b.length-1,E)},i=function(b,T){var E,S;return T==null&&(T=n),E=b.pop(),b.length?(S=b[0],b[0]=E,w(b,0,T)):S=E,S},l=function(b,T,E){var S;return E==null&&(E=n),S=b[0],b[0]=T,w(b,0,E),S},u=function(b,T,E){var S;return E==null&&(E=n),b.length&&E(b[0],T)<0&&(S=[b[0],T],T=S[0],b[0]=S[1],w(b,0,E)),T},o=function(b,T){var E,S,A,I,d,L;for(T==null&&(T=n),I=(function(){L=[];for(var D=0,N=a(b.length/2);0<=N?D<N:D>N;0<=N?D++:D--)L.push(D);return L}).apply(this).reverse(),d=[],S=0,A=I.length;S<A;S++)E=I[S],d.push(w(b,E,T));return d},v=function(b,T,E){var S;if(E==null&&(E=n),S=b.indexOf(T),S!==-1)return m(b,0,S,E),w(b,S,E)},p=function(b,T,E){var S,A,I,d,L;if(E==null&&(E=n),A=b.slice(0,T),!A.length)return A;for(o(A,E),L=b.slice(T),I=0,d=L.length;I<d;I++)S=L[I],u(A,S,E);return A.sort(E).reverse()},g=function(b,T,E){var S,A,I,d,L,D,N,P,F;if(E==null&&(E=n),T*10<=b.length){if(I=b.slice(0,T).sort(E),!I.length)return I;for(A=I[I.length-1],N=b.slice(T),d=0,D=N.length;d<D;d++)S=N[d],E(S,A)<0&&(f(I,S,0,null,E),I.pop(),A=I[I.length-1]);return I}for(o(b,E),F=[],L=0,P=h(T,b.length);0<=P?L<P:L>P;0<=P?++L:--L)F.push(i(b,E));return F},m=function(b,T,E,S){var A,I,d;for(S==null&&(S=n),A=b[E];E>T;){if(d=E-1>>1,I=b[d],S(A,I)<0){b[E]=I,E=d;continue}break}return b[E]=A},w=function(b,T,E){var S,A,I,d,L;for(E==null&&(E=n),A=b.length,L=T,I=b[T],S=2*T+1;S<A;)d=S+1,d<A&&!(E(b[S],b[d])<0)&&(S=d),b[T]=b[S],T=S,S=2*T+1;return b[T]=I,m(b,L,T,E)},r=function(){b.push=s,b.pop=i,b.replace=l,b.pushpop=u,b.heapify=o,b.updateItem=v,b.nlargest=p,b.nsmallest=g;function b(T){this.cmp=T??n,this.nodes=[]}return b.prototype.push=function(T){return s(this.nodes,T,this.cmp)},b.prototype.pop=function(){return i(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},b.prototype.replace=function(T){return l(this.nodes,T,this.cmp)},b.prototype.pushpop=function(T){return u(this.nodes,T,this.cmp)},b.prototype.heapify=function(){return o(this.nodes,this.cmp)},b.prototype.updateItem=function(T){return v(this.nodes,T,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var T;return T=new b,T.nodes=this.nodes.slice(0),T},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,T){return t.exports=T()}(this,function(){return r})}).call(Oa)}),Za=ad,id=Xt({root:null,weight:function(e){return 1},directed:!1}),od={dijkstra:function(e){if(!it(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=id(e),a=n.root,o=n.weight,i=n.directed,s=this,u=o,l=qe(a)?this.filter(a)[0]:a[0],f={},h={},p={},g=this.byGroup(),v=g.nodes,m=g.edges;m.unmergeBy(function(H){return H.isLoop()});for(var w=function(q){return f[q.id()]},b=function(q,U){f[q.id()]=U,T.updateItem(q)},T=new Za(function(H,q){return w(H)-w(q)}),E=0;E<v.length;E++){var S=v[E];f[S.id()]=S.same(l)?0:1/0,T.push(S)}for(var A=function(q,U){for(var X=(i?q.edgesTo(U):q.edgesWith(U)).intersect(m),W=1/0,Q,K=0;K<X.length;K++){var $=X[K],ee=u($);(ee<W||!Q)&&(W=ee,Q=$)}return{edge:Q,dist:W}};T.size()>0;){var I=T.pop(),d=w(I),L=I.id();if(p[L]=d,d!==1/0)for(var D=I.neighborhood().intersect(v),N=0;N<D.length;N++){var P=D[N],F=P.id(),z=A(I,P),k=d+z.dist;k<w(P)&&(b(P,k),h[F]={node:I,edge:z.edge})}}return{distanceTo:function(q){var U=qe(q)?v.filter(q)[0]:q[0];return p[U.id()]},pathTo:function(q){var U=qe(q)?v.filter(q)[0]:q[0],X=[],W=U,Q=W.id();if(U.length>0)for(X.unshift(U);h[Q];){var K=h[Q];X.unshift(K.edge),X.unshift(K.node),W=K.node,Q=W.id()}return s.spawn(X)}}}},sd={kruskal:function(e){e=e||function(E){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,o=n.length,i=new Array(o),s=n,u=function(S){for(var A=0;A<i.length;A++){var I=i[A];if(I.has(S))return A}},l=0;l<o;l++)i[l]=this.spawn(n[l]);for(var f=a.sort(function(E,S){return e(E)-e(S)}),h=0;h<f.length;h++){var p=f[h],g=p.source()[0],v=p.target()[0],m=u(g),w=u(v),b=i[m],T=i[w];m!==w&&(s.merge(p),b.merge(T),i.splice(w,1))}return s}},ud=Xt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),ld={aStar:function(e){var r=this.cy(),n=ud(e),a=n.root,o=n.goal,i=n.heuristic,s=n.directed,u=n.weight;a=r.collection(a)[0],o=r.collection(o)[0];var l=a.id(),f=o.id(),h={},p={},g={},v=new Za(function(Q,K){return p[Q.id()]-p[K.id()]}),m=new ia,w={},b={},T=function(K,$){v.push(K),m.add($)},E,S,A=function(){E=v.pop(),S=E.id(),m.delete(S)},I=function(K){return m.has(K)};T(a,l),h[l]=0,p[l]=i(a);for(var d=0;v.size()>0;){if(A(),d++,S===f){for(var L=[],D=o,N=f,P=b[N];L.unshift(D),P!=null&&L.unshift(P),D=w[N],D!=null;)N=D.id(),P=b[N];return{found:!0,distance:h[S],path:this.spawn(L),steps:d}}g[S]=!0;for(var F=E._private.edges,z=0;z<F.length;z++){var k=F[z];if(this.hasElementWithId(k.id())&&!(s&&k.data("source")!==S)){var H=k.source(),q=k.target(),U=H.id()!==S?H:q,X=U.id();if(this.hasElementWithId(X)&&!g[X]){var W=h[S]+u(k);if(!I(X)){h[X]=W,p[X]=W+i(U),T(U,X),w[X]=E,b[X]=k;continue}W<h[X]&&(h[X]=W,p[X]=W+i(U),w[X]=E,b[X]=k)}}}}return{found:!1,distance:void 0,path:void 0,steps:d}}},fd=Xt({weight:function(e){return 1},directed:!1}),cd={floydWarshall:function(e){for(var r=this.cy(),n=fd(e),a=n.weight,o=n.directed,i=a,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,h=f*f,p=function(ee){return u.indexOf(ee)},g=function(ee){return u[ee]},v=new Array(h),m=0;m<h;m++){var w=m%f,b=(m-w)/f;b===w?v[m]=0:v[m]=1/0}for(var T=new Array(h),E=new Array(h),S=0;S<l.length;S++){var A=l[S],I=A.source()[0],d=A.target()[0];if(I!==d){var L=p(I),D=p(d),N=L*f+D,P=i(A);if(v[N]>P&&(v[N]=P,T[N]=D,E[N]=A),!o){var F=D*f+L;!o&&v[F]>P&&(v[F]=P,T[F]=L,E[F]=A)}}}for(var z=0;z<f;z++)for(var k=0;k<f;k++)for(var H=k*f+z,q=0;q<f;q++){var U=k*f+q,X=z*f+q;v[H]+v[X]<v[U]&&(v[U]=v[H]+v[X],T[U]=T[H])}var W=function(ee){return(qe(ee)?r.filter(ee):ee)[0]},Q=function(ee){return p(W(ee))},K={distance:function(ee,oe){var ce=Q(ee),de=Q(oe);return v[ce*f+de]},path:function(ee,oe){var ce=Q(ee),de=Q(oe),we=g(ce);if(ce===de)return we.collection();if(T[ce*f+de]==null)return r.collection();var fe=r.collection(),j=ce,ae;for(fe.merge(we);ce!==de;)j=ce,ce=T[ce*f+de],ae=E[j*f+ce],fe.merge(ae),fe.merge(g(ce));return fe}};return K}},hd=Xt({weight:function(e){return 1},directed:!1,root:null}),dd={bellmanFord:function(e){var r=this,n=hd(e),a=n.weight,o=n.directed,i=n.root,s=a,u=this,l=this.cy(),f=this.byGroup(),h=f.edges,p=f.nodes,g=p.length,v=new Br,m=!1,w=[];i=l.collection(i)[0],h.unmergeBy(function(De){return De.isLoop()});for(var b=h.length,T=function(Ee){var Me=v.get(Ee.id());return Me||(Me={},v.set(Ee.id(),Me)),Me},E=function(Ee){return(qe(Ee)?l.$(Ee):Ee)[0]},S=function(Ee){return T(E(Ee)).dist},A=function(Ee){for(var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,Xe=E(Ee),Ye=[],Re=Xe;;){if(Re==null)return r.spawn();var Ue=T(Re),me=Ue.edge,B=Ue.pred;if(Ye.unshift(Re[0]),Re.same(Me)&&Ye.length>0)break;me!=null&&Ye.unshift(me),Re=B}return u.spawn(Ye)},I=0;I<g;I++){var d=p[I],L=T(d);d.same(i)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var D=!1,N=function(Ee,Me,Xe,Ye,Re,Ue){var me=Ye.dist+Ue;me<Re.dist&&!Xe.same(Ye.edge)&&(Re.dist=me,Re.pred=Ee,Re.edge=Xe,D=!0)},P=1;P<g;P++){D=!1;for(var F=0;F<b;F++){var z=h[F],k=z.source(),H=z.target(),q=s(z),U=T(k),X=T(H);N(k,H,z,U,X,q),o||N(H,k,z,X,U,q)}if(!D)break}if(D)for(var W=[],Q=0;Q<b;Q++){var K=h[Q],$=K.source(),ee=K.target(),oe=s(K),ce=T($).dist,de=T(ee).dist;if(ce+oe<de||!o&&de+oe<ce)if(m||(ct("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var we=[];ce+oe<de&&we.push($),!o&&de+oe<ce&&we.push(ee);for(var fe=we.length,j=0;j<fe;j++){var ae=we[j],he=[ae];he.push(T(ae).edge);for(var Le=T(ae).pred;he.indexOf(Le)===-1;)he.push(Le),he.push(T(Le).edge),Le=T(Le).pred;he=he.slice(he.indexOf(Le));for(var Fe=he[0].id(),Ce=0,pe=2;pe<he.length;pe+=2)he[pe].id()<Fe&&(Fe=he[pe].id(),Ce=pe);he=he.slice(Ce).concat(he.slice(0,Ce)),he.push(he[0]);var be=he.map(function(De){return De.id()}).join(",");W.indexOf(be)===-1&&(w.push(u.spawn(he)),W.push(be))}}else break}return{distanceTo:S,pathTo:A,hasNegativeWeightCycle:m,negativeWeightCycles:w}}},vd=Math.sqrt(2),gd=function(e,r,n){n.length===0&&At("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],o=a[1],i=a[2],s=r[o],u=r[i],l=n,f=l.length-1;f>=0;f--){var h=l[f],p=h[1],g=h[2];(r[p]===s&&r[g]===u||r[p]===u&&r[g]===s)&&l.splice(f,1)}for(var v=0;v<l.length;v++){var m=l[v];m[1]===u?(l[v]=m.slice(),l[v][1]=s):m[2]===u&&(l[v]=m.slice(),l[v][2]=s)}for(var w=0;w<r.length;w++)r[w]===u&&(r[w]=s);return l},Io=function(e,r,n,a){for(;n>a;){var o=Math.floor(Math.random()*r.length);r=gd(o,e,r),n--}return r},pd={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(X){return X.isLoop()});var o=n.length,i=a.length,s=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/vd);if(o<2){At("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<i;f++){var h=a[f];l.push([f,n.indexOf(h.source()),n.indexOf(h.target())])}for(var p=1/0,g=[],v=new Array(o),m=new Array(o),w=new Array(o),b=function(W,Q){for(var K=0;K<o;K++)Q[K]=W[K]},T=0;T<=s;T++){for(var E=0;E<o;E++)m[E]=E;var S=Io(m,l.slice(),o,u),A=S.slice();b(m,w);var I=Io(m,S,u,2),d=Io(w,A,u,2);I.length<=d.length&&I.length<p?(p=I.length,g=I,b(m,v)):d.length<=I.length&&d.length<p&&(p=d.length,g=d,b(w,v))}for(var L=this.spawn(g.map(function(X){return a[X[0]]})),D=this.spawn(),N=this.spawn(),P=v[0],F=0;F<v.length;F++){var z=v[F],k=n[F];z===P?D.merge(k):N.merge(k)}var H=function(W){var Q=e.spawn();return W.forEach(function(K){Q.merge(K),K.connectedEdges().forEach(function($){e.contains($)&&!L.contains($)&&Q.merge($)})}),Q},q=[H(D),H(N)],U={cut:L,components:q,partition1:D,partition2:N};return U}},yd=function(e){return{x:e.x,y:e.y}},Ki=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Rl=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Kn=function(e){return{x:e[0],y:e[1]}},md=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,o=r;o<n;o++){var i=e[o];isFinite(i)&&(a=Math.min(i,a))}return a},bd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,o=r;o<n;o++){var i=e[o];isFinite(i)&&(a=Math.max(i,a))}return a},wd=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,o=0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a+=s,o++)}return a/o},Ed=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];i?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}o&&e.sort(function(p,g){return p-g});var f=e.length,h=Math.floor(f/2);return f%2!==0?e[h+1+s]:(e[h-1+s]+e[h+s])/2},xd=function(e){return Math.PI*e/180},di=function(e,r){return Math.atan2(r,e)-Math.PI/2},ps=Math.log2||function(t){return Math.log(t)/Math.log(2)},Bl=function(e){return e>0?1:e<0?-1:0},Nn=function(e,r){return Math.sqrt(Cn(e,r))},Cn=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},Td=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var o=0;o<r;o++)e[o]=e[o]/n;return e},Ft=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},Qn=function(e,r,n,a){return{x:Ft(e.x,r.x,n.x,a),y:Ft(e.y,r.y,n.y,a)}},Cd=function(e,r,n,a){var o={x:r.x-e.x,y:r.y-e.y},i=Nn(e,r),s={x:o.x/i,y:o.y/i};return n=n??0,a=a??n*i,{x:e.x+s.x*a,y:e.y+s.y*a}},Ha=function(e,r,n){return Math.max(e,Math.min(n,r))},fr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Dd=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Sd=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Ld=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},Fl=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Ad=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ci=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Di=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,o,i;if(r.length===1)n=a=o=i=r[0];else if(r.length===2)n=o=r[0],i=a=r[1];else if(r.length===4){var s=Tr(r,4);n=s[0],a=s[1],o=s[2],i=s[3]}return e.x1-=i,e.x2+=a,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},su=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},ys=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ra=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Od=function(e,r){return ra(e,r.x,r.y)},zl=function(e,r){return ra(e,r.x1,r.y1)&&ra(e,r.x2,r.y2)},Gl=function(e,r,n,a,o,i,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?In(o,i):u,f=o/2,h=i/2;l=Math.min(l,f,h);var p=l!==f,g=l!==h,v;if(p){var m=n-f+l-s,w=a-h-s,b=n+f-l+s,T=w;if(v=sn(e,r,n,a,m,w,b,T,!1),v.length>0)return v}if(g){var E=n+f+s,S=a-h+l-s,A=E,I=a+h-l+s;if(v=sn(e,r,n,a,E,S,A,I,!1),v.length>0)return v}if(p){var d=n-f+l-s,L=a+h+s,D=n+f-l+s,N=L;if(v=sn(e,r,n,a,d,L,D,N,!1),v.length>0)return v}if(g){var P=n-f-s,F=a-h+l-s,z=P,k=a+h-l+s;if(v=sn(e,r,n,a,P,F,z,k,!1),v.length>0)return v}var H;{var q=n-f+l,U=a-h+l;if(H=Na(e,r,n,a,q,U,l+s),H.length>0&&H[0]<=q&&H[1]<=U)return[H[0],H[1]]}{var X=n+f-l,W=a-h+l;if(H=Na(e,r,n,a,X,W,l+s),H.length>0&&H[0]>=X&&H[1]<=W)return[H[0],H[1]]}{var Q=n+f-l,K=a+h-l;if(H=Na(e,r,n,a,Q,K,l+s),H.length>0&&H[0]>=Q&&H[1]>=K)return[H[0],H[1]]}{var $=n-f+l,ee=a+h-l;if(H=Na(e,r,n,a,$,ee,l+s),H.length>0&&H[0]<=$&&H[1]>=ee)return[H[0],H[1]]}return[]},Md=function(e,r,n,a,o,i,s){var u=s,l=Math.min(n,o),f=Math.max(n,o),h=Math.min(a,i),p=Math.max(a,i);return l-u<=e&&e<=f+u&&h-u<=r&&r<=p+u},Nd=function(e,r,n,a,o,i,s,u,l){var f={x1:Math.min(n,s,o)-l,x2:Math.max(n,s,o)+l,y1:Math.min(a,u,i)-l,y2:Math.max(a,u,i)+l};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},Id=function(e,r,n,a){n-=a;var o=r*r-4*e*n;if(o<0)return[];var i=Math.sqrt(o),s=2*e,u=(-r+i)/s,l=(-r-i)/s;return[u,l]},Pd=function(e,r,n,a,o){var i=1e-5;e===0&&(e=i),r/=e,n/=e,a/=e;var s,u,l,f,h,p,g,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,o[1]=0,g=r/3,s>0){h=l+Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=l-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),o[0]=-g+h+p,g+=(h+p)/2,o[4]=o[2]=-g,g=Math.sqrt(3)*(-p+h)/2,o[3]=g,o[5]=-g;return}if(o[5]=o[3]=0,s===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-g+2*v,o[4]=o[2]=-(v+g);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),v=2*Math.sqrt(u),o[0]=-g+v*Math.cos(f/3),o[2]=-g+v*Math.cos((f+2*Math.PI)/3),o[4]=-g+v*Math.cos((f+4*Math.PI)/3)},kd=function(e,r,n,a,o,i,s,u){var l=1*n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s+a*a-4*a*i+2*a*u+4*i*i-4*i*u+u*u,f=1*9*n*o-3*n*n-3*n*s-6*o*o+3*o*s+9*a*i-3*a*a-3*a*u-6*i*i+3*i*u,h=1*3*n*n-6*n*o+n*s-n*e+2*o*o+2*o*e-s*e+3*a*a-6*a*i+a*u-a*r+2*i*i+2*i*r-u*r,p=1*n*o-n*n+n*e-o*e+a*i-a*a+a*r-i*r,g=[];Pd(l,f,h,p,g);for(var v=1e-7,m=[],w=0;w<6;w+=2)Math.abs(g[w+1])<v&&g[w]>=0&&g[w]<=1&&m.push(g[w]);m.push(1),m.push(0);for(var b=-1,T,E,S,A=0;A<m.length;A++)T=Math.pow(1-m[A],2)*n+2*(1-m[A])*m[A]*o+m[A]*m[A]*s,E=Math.pow(1-m[A],2)*a+2*(1-m[A])*m[A]*i+m[A]*m[A]*u,S=Math.pow(T-e,2)+Math.pow(E-r,2),b>=0?S<b&&(b=S):b=S;return b},Rd=function(e,r,n,a,o,i){var s=[e-n,r-a],u=[o-n,i-a],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],h=s[0]*u[0]+s[1]*u[1],p=h*h/l;return h<0?f:p>l?(e-o)*(e-o)+(r-i)*(r-i):f-p},lr=function(e,r,n){for(var a,o,i,s,u,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],o=n[f*2+1],f+1<n.length/2?(i=n[(f+1)*2],s=n[(f+1)*2+1]):(i=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==e&&i==e))if(a>=e&&e>=i||a<=e&&e<=i)u=(e-a)/(i-a)*(s-o)+o,u>r&&l++;else continue;return l%2!==0},Xr=function(e,r,n,a,o,i,s,u,l){var f=new Array(n.length),h;u[0]!=null?(h=Math.atan(u[1]/u[0]),u[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=u;for(var p=Math.cos(-h),g=Math.sin(-h),v=0;v<f.length/2;v++)f[v*2]=i/2*(n[v*2]*p-n[v*2+1]*g),f[v*2+1]=s/2*(n[v*2+1]*p+n[v*2]*g),f[v*2]+=a,f[v*2+1]+=o;var m;if(l>0){var w=Fi(f,-l);m=Bi(w)}else m=f;return lr(e,r,m)},Bd=function(e,r,n,a,o,i,s,u){for(var l=new Array(n.length*2),f=0;f<u.length;f++){var h=u[f];l[f*4+0]=h.startX,l[f*4+1]=h.startY,l[f*4+2]=h.stopX,l[f*4+3]=h.stopY;var p=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(p<=Math.pow(h.radius,2))return!0}return lr(e,r,l)},Bi=function(e){for(var r=new Array(e.length/2),n,a,o,i,s,u,l,f,h=0;h<e.length/4;h++){n=e[h*4],a=e[h*4+1],o=e[h*4+2],i=e[h*4+3],h<e.length/4-1?(s=e[(h+1)*4],u=e[(h+1)*4+1],l=e[(h+1)*4+2],f=e[(h+1)*4+3]):(s=e[0],u=e[1],l=e[2],f=e[3]);var p=sn(n,a,o,i,s,u,l,f,!0);r[h*2]=p[0],r[h*2+1]=p[1]}return r},Fi=function(e,r){for(var n=new Array(e.length*2),a,o,i,s,u=0;u<e.length/2;u++){a=e[u*2],o=e[u*2+1],u<e.length/2-1?(i=e[(u+1)*2],s=e[(u+1)*2+1]):(i=e[0],s=e[1]);var l=s-o,f=-(i-a),h=Math.sqrt(l*l+f*f),p=l/h,g=f/h;n[u*4]=a+p*r,n[u*4+1]=o+g*r,n[u*4+2]=i+p*r,n[u*4+3]=s+g*r}return n},Fd=function(e,r,n,a,o,i){var s=n-e,u=a-r;s/=o,u/=i;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var h=f/l;return[(n-e)*h+e,(a-r)*h+r]},An=function(e,r,n,a,o,i,s){return e-=o,r-=i,e/=n/2+s,r/=a/2+s,e*e+r*r<=1},Na=function(e,r,n,a,o,i,s){var u=[n-e,a-r],l=[e-o,r-i],f=u[0]*u[0]+u[1]*u[1],h=2*(l[0]*u[0]+l[1]*u[1]),p=l[0]*l[0]+l[1]*l[1]-s*s,g=h*h-4*f*p;if(g<0)return[];var v=(-h+Math.sqrt(g))/(2*f),m=(-h-Math.sqrt(g))/(2*f),w=Math.min(v,m),b=Math.max(v,m),T=[];if(w>=0&&w<=1&&T.push(w),b>=0&&b<=1&&T.push(b),T.length===0)return[];var E=T[0]*u[0]+e,S=T[0]*u[1]+r;if(T.length>1){if(T[0]==T[1])return[E,S];var A=T[1]*u[0]+e,I=T[1]*u[1]+r;return[E,S,A,I]}else return[E,S]},Po=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},sn=function(e,r,n,a,o,i,s,u,l){var f=e-o,h=n-e,p=s-o,g=r-i,v=a-r,m=u-i,w=p*g-m*f,b=h*g-v*f,T=m*h-p*v;if(T!==0){var E=w/T,S=b/T,A=.001,I=0-A,d=1+A;return I<=E&&E<=d&&I<=S&&S<=d?[e+E*h,r+E*v]:l?[e+E*h,r+E*v]:[]}else return w===0||b===0?Po(e,n,s)===s?[s,u]:Po(e,n,o)===o?[o,i]:Po(o,s,n)===n?[n,a]:[]:[]},Ua=function(e,r,n,a,o,i,s,u){var l=[],f,h=new Array(n.length),p=!0;i==null&&(p=!1);var g;if(p){for(var v=0;v<h.length/2;v++)h[v*2]=n[v*2]*i+a,h[v*2+1]=n[v*2+1]*s+o;if(u>0){var m=Fi(h,-u);g=Bi(m)}else g=h}else g=n;for(var w,b,T,E,S=0;S<g.length/2;S++)w=g[S*2],b=g[S*2+1],S<g.length/2-1?(T=g[(S+1)*2],E=g[(S+1)*2+1]):(T=g[0],E=g[1]),f=sn(e,r,a,o,w,b,T,E),f.length!==0&&l.push(f[0],f[1]);return l},zd=function(e,r,n,a,o,i,s,u,l){var f=[],h,p=new Array(n.length*2);l.forEach(function(T,E){E===0?(p[p.length-2]=T.startX,p[p.length-1]=T.startY):(p[E*4-2]=T.startX,p[E*4-1]=T.startY),p[E*4]=T.stopX,p[E*4+1]=T.stopY,h=Na(e,r,a,o,T.cx,T.cy,T.radius),h.length!==0&&f.push(h[0],h[1])});for(var g=0;g<p.length/4;g++)h=sn(e,r,a,o,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),h.length!==0&&f.push(h[0],h[1]);if(f.length>2){for(var v=[f[0],f[1]],m=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),w=1;w<f.length/2;w++){var b=Math.pow(f[w*2]-e,2)+Math.pow(f[w*2+1]-r,2);b<=m&&(v[0]=f[w*2],v[1]=f[w*2+1],m=b)}return v}return f},vi=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),i=(o-n)/o;return i<0&&(i=1e-5),[r[0]+i*a[0],r[1]+i*a[1]]},nr=function(e,r){var n=Wo(e,r);return n=Hl(n),n},Hl=function(e){for(var r,n,a=e.length/2,o=1/0,i=1/0,s=-1/0,u=-1/0,l=0;l<a;l++)r=e[2*l],n=e[2*l+1],o=Math.min(o,r),s=Math.max(s,r),i=Math.min(i,n),u=Math.max(u,n);for(var f=2/(s-o),h=2/(u-i),p=0;p<a;p++)r=e[2*p]=e[2*p]*f,n=e[2*p+1]=e[2*p+1]*h,o=Math.min(o,r),s=Math.max(s,r),i=Math.min(i,n),u=Math.max(u,n);if(i<-1)for(var g=0;g<a;g++)n=e[2*g+1]=e[2*g+1]+(-1-i);return e},Wo=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var o=new Array(e*2),i,s=0;s<e;s++)i=s*n+a,o[2*s]=Math.cos(i),o[2*s+1]=Math.sin(-i);return o},In=function(e,r){return Math.min(e/4,r/4,8)},Ul=function(e,r){return Math.min(e/10,r/10,8)},ms=function(){return 8},Gd=function(e,r,n){return[e-2*r+n,2*(r-e),e]},_o=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Hd=Xt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Ud={pageRank:function(e){for(var r=Hd(e),n=r.dampingFactor,a=r.precision,o=r.iterations,i=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,h=l.length,p=h*h,g=f.length,v=new Array(p),m=new Array(h),w=(1-n)/h,b=0;b<h;b++){for(var T=0;T<h;T++){var E=b*h+T;v[E]=0}m[b]=0}for(var S=0;S<g;S++){var A=f[S],I=A.data("source"),d=A.data("target");if(I!==d){var L=l.indexOfId(I),D=l.indexOfId(d),N=i(A),P=D*h+L;v[P]+=N,m[L]+=N}}for(var F=1/h+w,z=0;z<h;z++)if(m[z]===0)for(var k=0;k<h;k++){var H=k*h+z;v[H]=F}else for(var q=0;q<h;q++){var U=q*h+z;v[U]=v[U]/m[z]+w}for(var X=new Array(h),W=new Array(h),Q,K=0;K<h;K++)X[K]=1;for(var $=0;$<o;$++){for(var ee=0;ee<h;ee++)W[ee]=0;for(var oe=0;oe<h;oe++)for(var ce=0;ce<h;ce++){var de=oe*h+ce;W[oe]+=v[de]*X[ce]}Td(W),Q=X,X=W,W=Q;for(var we=0,fe=0;fe<h;fe++){var j=Q[fe]-X[fe];we+=j*j}if(we<a)break}var ae={rank:function(Le){return Le=s.collection(Le)[0],X[l.indexOf(Le)]}};return ae}},uu=Xt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),jn={degreeCentralityNormalized:function(e){e=uu(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var f={},h={},p=0,g=0,v=0;v<a;v++){var m=n[v],w=m.id();e.root=m;var b=this.degreeCentrality(e);p<b.indegree&&(p=b.indegree),g<b.outdegree&&(g=b.outdegree),f[w]=b.indegree,h[w]=b.outdegree}return{indegree:function(E){return p==0?0:(qe(E)&&(E=r.filter(E)),f[E.id()]/p)},outdegree:function(E){return g===0?0:(qe(E)&&(E=r.filter(E)),h[E.id()]/g)}}}else{for(var o={},i=0,s=0;s<a;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);i<l.degree&&(i=l.degree),o[u.id()]=l.degree}return{degree:function(E){return i===0?0:(qe(E)&&(E=r.filter(E)),o[E.id()]/i)}}}},degreeCentrality:function(e){e=uu(e);var r=this.cy(),n=this,a=e,o=a.root,i=a.weight,s=a.directed,u=a.alpha;if(o=r.collection(o)[0],s){for(var g=o.connectedEdges(),v=g.filter(function(I){return I.target().same(o)&&n.has(I)}),m=g.filter(function(I){return I.source().same(o)&&n.has(I)}),w=v.length,b=m.length,T=0,E=0,S=0;S<v.length;S++)T+=i(v[S]);for(var A=0;A<m.length;A++)E+=i(m[A]);return{indegree:Math.pow(w,1-u)*Math.pow(T,u),outdegree:Math.pow(b,1-u)*Math.pow(E,u)}}else{for(var l=o.connectedEdges().intersection(n),f=l.length,h=0,p=0;p<l.length;p++)h+=i(l[p]);return{degree:Math.pow(f,1-u)*Math.pow(h,u)}}}};jn.dc=jn.degreeCentrality;jn.dcn=jn.degreeCentralityNormalised=jn.degreeCentralityNormalized;var lu=Xt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Jn={closenessCentralityNormalized:function(e){for(var r=lu(e),n=r.harmonic,a=r.weight,o=r.directed,i=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:o}),h=0;h<l.length;h++){for(var p=0,g=l[h],v=0;v<l.length;v++)if(h!==v){var m=f.distance(g,l[v]);n?p+=1/m:p+=m}n||(p=1/p),u<p&&(u=p),s[g.id()]=p}return{closeness:function(b){return u==0?0:(qe(b)?b=i.filter(b)[0].id():b=b.id(),s[b]/u)}}},closenessCentrality:function(e){var r=lu(e),n=r.root,a=r.weight,o=r.directed,i=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:o}),u=0,l=this.nodes(),f=0;f<l.length;f++){var h=l[f];if(!h.same(n)){var p=s.distanceTo(h);i?u+=1/p:u+=p}}return i?u:1/u}};Jn.cc=Jn.closenessCentrality;Jn.ccn=Jn.closenessCentralityNormalised=Jn.closenessCentralityNormalized;var Vd=Xt({weight:null,directed:!1}),$o={betweennessCentrality:function(e){for(var r=Vd(e),n=r.directed,a=r.weight,o=a!=null,i=this.cy(),s=this.nodes(),u={},l={},f=0,h={set:function(E,S){l[E]=S,S>f&&(f=S)},get:function(E){return l[E]}},p=0;p<s.length;p++){var g=s[p],v=g.id();n?u[v]=g.outgoers().nodes():u[v]=g.openNeighborhood().nodes(),h.set(v,0)}for(var m=function(E){for(var S=s[E].id(),A=[],I={},d={},L={},D=new Za(function(ce,de){return L[ce]-L[de]}),N=0;N<s.length;N++){var P=s[N].id();I[P]=[],d[P]=0,L[P]=1/0}for(d[S]=1,L[S]=0,D.push(S);!D.empty();){var F=D.pop();if(A.push(F),o)for(var z=0;z<u[F].length;z++){var k=u[F][z],H=i.getElementById(F),q=void 0;H.edgesTo(k).length>0?q=H.edgesTo(k)[0]:q=k.edgesTo(H)[0];var U=a(q);k=k.id(),L[k]>L[F]+U&&(L[k]=L[F]+U,D.nodes.indexOf(k)<0?D.push(k):D.updateItem(k),d[k]=0,I[k]=[]),L[k]==L[F]+U&&(d[k]=d[k]+d[F],I[k].push(F))}else for(var X=0;X<u[F].length;X++){var W=u[F][X].id();L[W]==1/0&&(D.push(W),L[W]=L[F]+1),L[W]==L[F]+1&&(d[W]=d[W]+d[F],I[W].push(F))}}for(var Q={},K=0;K<s.length;K++)Q[s[K].id()]=0;for(;A.length>0;){for(var $=A.pop(),ee=0;ee<I[$].length;ee++){var oe=I[$][ee];Q[oe]=Q[oe]+d[oe]/d[$]*(1+Q[$])}$!=s[E].id()&&h.set($,h.get($)+Q[$])}},w=0;w<s.length;w++)m(w);var b={betweenness:function(E){var S=i.collection(E).id();return h.get(S)},betweennessNormalized:function(E){if(f==0)return 0;var S=i.collection(E).id();return h.get(S)/f}};return b.betweennessNormalised=b.betweennessNormalized,b}};$o.bc=$o.betweennessCentrality;var qd=Xt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Yd=function(e){return qd(e)},Xd=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},Wd=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},Vl=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var o=0;o<r;o++)n+=e[o*r+a];for(var i=0;i<r;i++)e[i*r+a]=e[i*r+a]/n}},_d=function(e,r,n){for(var a=new Array(n*n),o=0;o<n;o++){for(var i=0;i<n;i++)a[o*n+i]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)a[o*n+u]+=e[o*n+s]*r[s*n+u]}return a},$d=function(e,r,n){for(var a=e.slice(0),o=1;o<n;o++)e=_d(e,a,r);return e},Kd=function(e,r,n){for(var a=new Array(r*r),o=0;o<r*r;o++)a[o]=Math.pow(e[o],n);return Vl(a,r),a},Zd=function(e,r,n,a){for(var o=0;o<n;o++){var i=Math.round(e[o]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[o]*Math.pow(10,a))/Math.pow(10,a);if(i!==s)return!1}return!0},Qd=function(e,r,n,a){for(var o=[],i=0;i<r;i++){for(var s=[],u=0;u<r;u++)Math.round(e[i*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&o.push(a.collection(s))}return o},jd=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Jd=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&jd(e[r],e[n])&&e.splice(n,1);return e},fu=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),o=Yd(e),i={},s=0;s<r.length;s++)i[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),h,p=0;p<l;p++)f[p]=0;for(var g=0;g<n.length;g++){var v=n[g],m=i[v.source().id()],w=i[v.target().id()],b=Xd(v,o.attributes);f[m*u+w]+=b,f[w*u+m]+=b}Wd(f,u,o.multFactor),Vl(f,u);for(var T=!0,E=0;T&&E<o.maxIterations;)T=!1,h=$d(f,u,o.expandFactor),f=Kd(h,u,o.inflateFactor),Zd(f,h,l,4)||(T=!0),E++;var S=Qd(f,u,r,a);return S=Jd(S),S},ev={markovClustering:fu,mcl:fu},tv=function(e){return e},ql=function(e,r){return Math.abs(r-e)},cu=function(e,r,n){return e+ql(r,n)},hu=function(e,r,n){return e+Math.pow(n-r,2)},rv=function(e){return Math.sqrt(e)},nv=function(e,r,n){return Math.max(e,ql(r,n))},Da=function(e,r,n,a,o){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:tv,s=a,u,l,f=0;f<e;f++)u=r(f),l=n(f),s=o(s,u,l);return i(s)},na={euclidean:function(e,r,n){return e>=2?Da(e,r,n,0,hu,rv):Da(e,r,n,0,cu)},squaredEuclidean:function(e,r,n){return Da(e,r,n,0,hu)},manhattan:function(e,r,n){return Da(e,r,n,0,cu)},max:function(e,r,n){return Da(e,r,n,-1/0,nv)}};na["squared-euclidean"]=na.squaredEuclidean;na.squaredeuclidean=na.squaredEuclidean;function Zi(t,e,r,n,a,o){var i;return Ct(t)?i=t:i=na[t]||na.euclidean,e===0&&Ct(t)?i(a,o):i(e,r,n,a,o)}var av=Xt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),bs=function(e){return av(e)},zi=function(e,r,n,a,o){var i=o!=="kMedoids",s=i?function(h){return n[h]}:function(h){return a[h](n)},u=function(p){return a[p](r)},l=n,f=r;return Zi(e,a.length,s,u,l,f)},ko=function(e,r,n){for(var a=n.length,o=new Array(a),i=new Array(a),s=new Array(r),u=null,l=0;l<a;l++)o[l]=e.min(n[l]).value,i[l]=e.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var h=0;h<a;h++)u[h]=Math.random()*(i[h]-o[h])+o[h];s[f]=u}return s},Yl=function(e,r,n,a,o){for(var i=1/0,s=0,u=0;u<r.length;u++){var l=zi(n,e,r[u],a,o);l<i&&(i=l,s=u)}return s},Xl=function(e,r,n){for(var a=[],o=null,i=0;i<r.length;i++)o=r[i],n[o.id()]===e&&a.push(o);return a},iv=function(e,r,n){return Math.abs(r-e)<=n},ov=function(e,r,n){for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++){var i=Math.abs(e[a][o]-r[a][o]);if(i>n)return!1}return!0},sv=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},du=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var o=e[Math.floor(Math.random()*e.length)];sv(o,n,a);)o=e[Math.floor(Math.random()*e.length)];n[a]=o}else for(var i=0;i<r;i++)n[i]=e[Math.floor(Math.random()*e.length)];return n},vu=function(e,r,n){for(var a=0,o=0;o<r.length;o++)a+=zi("manhattan",r[o],e,n,"kMedoids");return a},uv=function(e){var r=this.cy(),n=this.nodes(),a=null,o=bs(e),i=new Array(o.k),s={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=ko(n,o.k,o.attributes)):Pt(o.testCentroids)==="object"?u=o.testCentroids:u=ko(n,o.k,o.attributes):u=ko(n,o.k,o.attributes);for(var l=!0,f=0;l&&f<o.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],s[a.id()]=Yl(a,u,o.distance,o.attributes,"kMeans");l=!1;for(var p=0;p<o.k;p++){var g=Xl(p,n,s);if(g.length!==0){for(var v=o.attributes.length,m=u[p],w=new Array(v),b=new Array(v),T=0;T<v;T++){b[T]=0;for(var E=0;E<g.length;E++)a=g[E],b[T]+=o.attributes[T](a);w[T]=b[T]/g.length,iv(w[T],m[T],o.sensitivityThreshold)||(l=!0)}u[p]=w,i[p]=r.collection(g)}}f++}return i},lv=function(e){var r=this.cy(),n=this.nodes(),a=null,o=bs(e),i=new Array(o.k),s,u={},l,f=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(Pt(o.testCentroids)==="object"?s=o.testCentroids:s=du(n,o.k)):s=du(n,o.k);for(var h=!0,p=0;h&&p<o.maxIterations;){for(var g=0;g<n.length;g++)a=n[g],u[a.id()]=Yl(a,s,o.distance,o.attributes,"kMedoids");h=!1;for(var v=0;v<s.length;v++){var m=Xl(v,n,u);if(m.length!==0){f[v]=vu(s[v],m,o.attributes);for(var w=0;w<m.length;w++)l=vu(m[w],m,o.attributes),l<f[v]&&(f[v]=l,s[v]=m[w],h=!0);i[v]=r.collection(m)}}p++}return i},fv=function(e,r,n,a,o){for(var i,s,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)a[u][l]=Math.pow(n[u][l],o.m);for(var f=0;f<e.length;f++)for(var h=0;h<o.attributes.length;h++){i=0,s=0;for(var p=0;p<r.length;p++)i+=a[p][f]*o.attributes[h](r[p]),s+=a[p][f];e[f][h]=i/s}},cv=function(e,r,n,a,o){for(var i=0;i<e.length;i++)r[i]=e[i].slice();for(var s,u,l,f=2/(o.m-1),h=0;h<n.length;h++)for(var p=0;p<a.length;p++){s=0;for(var g=0;g<n.length;g++)u=zi(o.distance,a[p],n[h],o.attributes,"cmeans"),l=zi(o.distance,a[p],n[g],o.attributes,"cmeans"),s+=Math.pow(u/l,f);e[p][h]=1/s}},hv=function(e,r,n,a){for(var o=new Array(n.k),i=0;i<o.length;i++)o[i]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);o[u].push(e[l])}for(var h=0;h<o.length;h++)o[h]=a.collection(o[h]);return o},gu=function(e){var r=this.cy(),n=this.nodes(),a=bs(e),o,i,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);s=new Array(n.length);for(var h=0;h<n.length;h++)s[h]=new Array(a.k);for(var p=0;p<n.length;p++){for(var g=0,v=0;v<a.k;v++)s[p][v]=Math.random(),g+=s[p][v];for(var m=0;m<a.k;m++)s[p][m]=s[p][m]/g}i=new Array(a.k);for(var w=0;w<a.k;w++)i[w]=new Array(a.attributes.length);l=new Array(n.length);for(var b=0;b<n.length;b++)l[b]=new Array(a.k);for(var T=!0,E=0;T&&E<a.maxIterations;)T=!1,fv(i,n,s,l,a),cv(s,u,i,n,a),ov(s,u,a.sensitivityThreshold)||(T=!0),E++;return o=hv(n,s,a,r),{clusters:o,degreeOfMembership:s}},dv={kMeans:uv,kMedoids:lv,fuzzyCMeans:gu,fcm:gu},vv=Xt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),gv={single:"min",complete:"max"},pv=function(e){var r=vv(e),n=gv[r.linkage];return n!=null&&(r.linkage=n),r},pu=function(e,r,n,a,o){for(var i=0,s=1/0,u,l=o.attributes,f=function(D,N){return Zi(o.distance,l.length,function(P){return l[P](D)},function(P){return l[P](N)},D,N)},h=0;h<e.length;h++){var p=e[h].key,g=n[p][a[p]];g<s&&(i=p,s=g)}if(o.mode==="threshold"&&s>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var v=r[i],m=r[a[i]],w;o.mode==="dendrogram"?w={left:v,right:m,key:v.key}:w={value:v.value.concat(m.value),key:v.key},e[v.index]=w,e.splice(m.index,1),r[v.key]=w;for(var b=0;b<e.length;b++){var T=e[b];v.key===T.key?u=1/0:o.linkage==="min"?(u=n[v.key][T.key],n[v.key][T.key]>n[m.key][T.key]&&(u=n[m.key][T.key])):o.linkage==="max"?(u=n[v.key][T.key],n[v.key][T.key]<n[m.key][T.key]&&(u=n[m.key][T.key])):o.linkage==="mean"?u=(n[v.key][T.key]*v.size+n[m.key][T.key]*m.size)/(v.size+m.size):o.mode==="dendrogram"?u=f(T.value,v.value):u=f(T.value[0],v.value[0]),n[v.key][T.key]=n[T.key][v.key]=u}for(var E=0;E<e.length;E++){var S=e[E].key;if(a[S]===v.key||a[S]===m.key){for(var A=S,I=0;I<e.length;I++){var d=e[I].key;n[S][d]<n[S][A]&&(A=d)}a[S]=A}e[E].index=E}return v.key=m.key=v.index=m.index=null,!0},gi=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},yv=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:a,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},mv=function t(e,r,n){if(!e)return[];var a=[],o=[],i=[];return r===0?(e.left&&gi(e.left,a),e.right&&gi(e.right,o),i=a.concat(o),[n.collection(i)]):r===1?e.value?[n.collection(e.value)]:(e.left&&gi(e.left,a),e.right&&gi(e.right,o),[n.collection(a),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),a.concat(o))},yu=function(e){for(var r=this.cy(),n=this.nodes(),a=pv(e),o=a.attributes,i=function(E,S){return Zi(a.distance,o.length,function(A){return o[A](E)},function(A){return o[A](S)},E,S)},s=[],u=[],l=[],f=[],h=0;h<n.length;h++){var p={value:a.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};s[h]=p,f[h]=p,u[h]=[],l[h]=0}for(var g=0;g<s.length;g++)for(var v=0;v<=g;v++){var m=void 0;a.mode==="dendrogram"?m=g===v?1/0:i(s[g].value,s[v].value):m=g===v?1/0:i(s[g].value[0],s[v].value[0]),u[g][v]=m,u[v][g]=m,m<u[g][l[g]]&&(l[g]=v)}for(var w=pu(s,f,u,l,a);w;)w=pu(s,f,u,l,a);var b;return a.mode==="dendrogram"?(b=mv(s[0],a.dendrogramDepth,r),a.addDendrogram&&yv(s[0],r)):(b=new Array(s.length),s.forEach(function(T,E){T.key=T.index=null,b[E]=r.collection(T.value)})),b},bv={hierarchicalClustering:yu,hca:yu},wv=Xt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ev=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||At("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(o){return o===n})||Oe(n)||At("Preference must be one of [".concat(a.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),wv(e)},xv=function(e,r,n,a){var o=function(s,u){return a[u](s)};return-Zi(e,a.length,function(i){return o(r,i)},function(i){return o(n,i)},r,n)},Tv=function(e,r){var n=null;return r==="median"?n=Ed(e):r==="mean"?n=wd(e):r==="min"?n=md(e):r==="max"?n=bd(e):n=r,n},Cv=function(e,r,n){for(var a=[],o=0;o<e;o++)r[o*e+o]+n[o*e+o]>0&&a.push(o);return a},mu=function(e,r,n){for(var a=[],o=0;o<e;o++){for(var i=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[o*e+l]>s&&(i=l,s=r[o*e+l])}i>0&&a.push(i)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},Dv=function(e,r,n){for(var a=mu(e,r,n),o=0;o<n.length;o++){for(var i=[],s=0;s<a.length;s++)a[s]===n[o]&&i.push(s);for(var u=-1,l=-1/0,f=0;f<i.length;f++){for(var h=0,p=0;p<i.length;p++)h+=r[i[p]*e+i[f]];h>l&&(u=f,l=h)}n[o]=i[u]}return a=mu(e,r,n),a},bu=function(e){for(var r=this.cy(),n=this.nodes(),a=Ev(e),o={},i=0;i<n.length;i++)o[n[i].id()]=i;var s,u,l,f,h,p;s=n.length,u=s*s,l=new Array(u);for(var g=0;g<u;g++)l[g]=-1/0;for(var v=0;v<s;v++)for(var m=0;m<s;m++)v!==m&&(l[v*s+m]=xv(a.distance,n[v],n[m],a.attributes));f=Tv(l,a.preference);for(var w=0;w<s;w++)l[w*s+w]=f;h=new Array(u);for(var b=0;b<u;b++)h[b]=0;p=new Array(u);for(var T=0;T<u;T++)p[T]=0;for(var E=new Array(s),S=new Array(s),A=new Array(s),I=0;I<s;I++)E[I]=0,S[I]=0,A[I]=0;for(var d=new Array(s*a.minIterations),L=0;L<d.length;L++)d[L]=0;var D;for(D=0;D<a.maxIterations;D++){for(var N=0;N<s;N++){for(var P=-1/0,F=-1/0,z=-1,k=0,H=0;H<s;H++)E[H]=h[N*s+H],k=p[N*s+H]+l[N*s+H],k>=P?(F=P,P=k,z=H):k>F&&(F=k);for(var q=0;q<s;q++)h[N*s+q]=(1-a.damping)*(l[N*s+q]-P)+a.damping*E[q];h[N*s+z]=(1-a.damping)*(l[N*s+z]-F)+a.damping*E[z]}for(var U=0;U<s;U++){for(var X=0,W=0;W<s;W++)E[W]=p[W*s+U],S[W]=Math.max(0,h[W*s+U]),X+=S[W];X-=S[U],S[U]=h[U*s+U],X+=S[U];for(var Q=0;Q<s;Q++)p[Q*s+U]=(1-a.damping)*Math.min(0,X-S[Q])+a.damping*E[Q];p[U*s+U]=(1-a.damping)*(X-S[U])+a.damping*E[U]}for(var K=0,$=0;$<s;$++){var ee=p[$*s+$]+h[$*s+$]>0?1:0;d[D%a.minIterations*s+$]=ee,K+=ee}if(K>0&&(D>=a.minIterations-1||D==a.maxIterations-1)){for(var oe=0,ce=0;ce<s;ce++){A[ce]=0;for(var de=0;de<a.minIterations;de++)A[ce]+=d[de*s+ce];(A[ce]===0||A[ce]===a.minIterations)&&oe++}if(oe===s)break}}for(var we=Cv(s,h,p),fe=Dv(s,l,we),j={},ae=0;ae<we.length;ae++)j[we[ae]]=[];for(var he=0;he<n.length;he++){var Le=o[n[he].id()],Fe=fe[Le];Fe!=null&&j[Fe].push(n[he])}for(var Ce=new Array(we.length),pe=0;pe<we.length;pe++)Ce[pe]=r.collection(j[we[pe]]);return Ce},Sv={affinityPropagation:bu,ap:bu},Lv=Xt({root:void 0,directed:!1}),Av={hierholzer:function(e){if(!it(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Lv(e),a=n.root,o=n.directed,i=this,s=!1,u,l,f;a&&(f=qe(a)?this.filter(a)[0].id():a[0].id());var h={},p={};o?i.forEach(function(T){var E=T.id();if(T.isNode()){var S=T.indegree(!0),A=T.outdegree(!0),I=S-A,d=A-S;I==1?u?s=!0:u=E:d==1?l?s=!0:l=E:(d>1||I>1)&&(s=!0),h[E]=[],T.outgoers().forEach(function(L){L.isEdge()&&h[E].push(L.id())})}else p[E]=[void 0,T.target().id()]}):i.forEach(function(T){var E=T.id();if(T.isNode()){var S=T.degree(!0);S%2&&(u?l?s=!0:l=E:u=E),h[E]=[],T.connectedEdges().forEach(function(A){return h[E].push(A.id())})}else p[E]=[T.source().id(),T.target().id()]});var g={found:!1,trail:void 0};if(s)return g;if(l&&u)if(o){if(f&&l!=f)return g;f=l}else{if(f&&l!=f&&u!=f)return g;f||(f=l)}else f||(f=i[0].id());var v=function(E){for(var S=E,A=[E],I,d,L;h[S].length;)I=h[S].shift(),d=p[I][0],L=p[I][1],S!=L?(h[L]=h[L].filter(function(D){return D!=I}),S=L):!o&&S!=d&&(h[d]=h[d].filter(function(D){return D!=I}),S=d),A.unshift(I),A.unshift(S);return A},m=[],w=[];for(w=v(f);w.length!=1;)h[w[0]].length==0?(m.unshift(i.getElementById(w.shift())),m.unshift(i.getElementById(w.shift()))):w=v(w.shift()).concat(w);m.unshift(i.getElementById(w.shift()));for(var b in h)if(h[b].length)return g;return g.found=!0,g.trail=this.spawn(m,!0),g}},pi=function(){var e=this,r={},n=0,a=0,o=[],i=[],s={},u=function(p,g){for(var v=i.length-1,m=[],w=e.spawn();i[v].x!=p||i[v].y!=g;)m.push(i.pop().edge),v--;m.push(i.pop().edge),m.forEach(function(b){var T=b.connectedNodes().intersection(e);w.merge(b),T.forEach(function(E){var S=E.id(),A=E.connectedEdges().intersection(e);w.merge(E),r[S].cutVertex?w.merge(A.filter(function(I){return I.isLoop()})):w.merge(A)})}),o.push(w)},l=function h(p,g,v){p===v&&(a+=1),r[g]={id:n,low:n++,cutVertex:!1};var m=e.getElementById(g).connectedEdges().intersection(e);if(m.size()===0)o.push(e.spawn(e.getElementById(g)));else{var w,b,T,E;m.forEach(function(S){w=S.source().id(),b=S.target().id(),T=w===g?b:w,T!==v&&(E=S.id(),s[E]||(s[E]=!0,i.push({x:g,y:T,edge:S})),T in r?r[g].low=Math.min(r[g].low,r[T].id):(h(p,T,g),r[g].low=Math.min(r[g].low,r[T].low),r[g].id<=r[T].low&&(r[g].cutVertex=!0,u(g,T))))})}};e.forEach(function(h){if(h.isNode()){var p=h.id();p in r||(a=0,l(p,p),r[p].cutVertex=a>1)}});var f=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(f),components:o}},Ov={hopcroftTarjanBiconnected:pi,htbc:pi,htb:pi,hopcroftTarjanBiconnectedComponents:pi},yi=function(){var e=this,r={},n=0,a=[],o=[],i=e.spawn(e),s=function u(l){o.push(l),r[l]={index:n,low:n++,explored:!1};var f=e.getElementById(l).connectedEdges().intersection(e);if(f.forEach(function(m){var w=m.target().id();w!==l&&(w in r||u(w),r[w].explored||(r[l].low=Math.min(r[l].low,r[w].low)))}),r[l].index===r[l].low){for(var h=e.spawn();;){var p=o.pop();if(h.merge(e.getElementById(p)),r[p].low=r[l].index,r[p].explored=!0,p===l)break}var g=h.edgesWith(h),v=h.merge(g);a.push(v),i=i.difference(v)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:i,components:a}},Mv={tarjanStronglyConnected:yi,tsc:yi,tscc:yi,tarjanStronglyConnectedComponents:yi},Wl={};[Ga,od,sd,ld,cd,dd,pd,Ud,jn,Jn,$o,ev,dv,bv,Sv,Av,Ov,Mv].forEach(function(t){_e(Wl,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var _l=0,$l=1,Kl=2,Wr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=_l,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Wr.prototype={fulfill:function(e){return wu(this,$l,"fulfillValue",e)},reject:function(e){return wu(this,Kl,"rejectReason",e)},then:function(e,r){var n=this,a=new Wr;return n.onFulfilled.push(xu(e,a,"fulfill")),n.onRejected.push(xu(r,a,"reject")),Zl(n),a.proxy}};var wu=function(e,r,n,a){return e.state===_l&&(e.state=r,e[n]=a,Zl(e)),e},Zl=function(e){e.state===$l?Eu(e,"onFulfilled",e.fulfillValue):e.state===Kl&&Eu(e,"onRejected",e.rejectReason)},Eu=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var o=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},xu=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var o;try{o=e(a)}catch(i){r.reject(i);return}Nv(r,o)}}},Nv=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Pt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){e.reject(o);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(o){a||(a=!0,o===r?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){a||(a=!0,e.reject(o))})}catch(o){a||e.reject(o)}return}e.fulfill(r)};Wr.all=function(t){return new Wr(function(e,r){for(var n=new Array(t.length),a=0,o=function(u,l){n[u]=l,a++,a===t.length&&e(n)},i=0;i<t.length;i++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(h){o(s,h)},function(h){r(h)});else{var f=u;o(s,f)}})(i)})};Wr.resolve=function(t){return new Wr(function(e,r){e(t)})};Wr.reject=function(t){return new Wr(function(e,r){r(t)})};var oa=typeof Promise<"u"?Promise:Wr,Ko=function(e,r,n){var a=cs(e),o=!a,i=this._private=_e({duration:1e3},r,n);if(i.target=e,i.style=i.style||i.css,i.started=!1,i.playing=!1,i.hooked=!1,i.applying=!1,i.progress=0,i.completes=[],i.frames=[],i.complete&&Ct(i.complete)&&i.completes.push(i.complete),o){var s=e.position();i.startPosition=i.startPosition||{x:s.x,y:s.y},i.startStyle=i.startStyle||e.cy().style().getAnimationStartStyle(e,i.style)}if(a){var u=e.pan();i.startPan={x:u.x,y:u.y},i.startZoom=e.zoom()}this.length=1,this[0]=this},Pn=Ko.prototype;_e(Pn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),hr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,f){var h=e[l];h!=null&&(e[l]=e[f],e[f]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var o=e.style[a],i=o.name,s=e.startStyle[i];e.startStyle[i]=o,e.style[a]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new oa(function(a,o){n.push(function(){a()})})}});Pn.complete=Pn.completed;Pn.run=Pn.play;Pn.running=Pn.playing;var Iv={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var i=a[0];if(i)return i._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var i=0;i<a.length;i++){var s=a[i];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,o=a.length!==void 0,i=o?a:[a],s=this._private.cy||this,u=!o,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=_e({},r,n);var h=Object.keys(r).length===0;if(h)return new Ko(i[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var p=r.renderedPosition,g=s.pan(),v=s.zoom();r.position=Rl(p,v,g)}if(u&&r.panBy!=null){var m=r.panBy,w=s.pan();r.pan={x:w.x+m.x,y:w.y+m.y}}var b=r.center||r.centre;if(u&&b!=null){var T=s.getCenterPan(b.eles,r.zoom);T!=null&&(r.pan=T)}if(u&&r.fit!=null){var E=r.fit,S=s.getFitViewport(E.eles||E.boundingBox,E.padding);S!=null&&(r.pan=S.pan,r.zoom=S.zoom)}if(u&&it(r.zoom)){var A=s.getZoomedViewport(r.zoom);A!=null?(A.zoomed&&(r.zoom=A.zoom),A.panned&&(r.pan=A.pan)):r.zoom=null}return new Ko(i[0],r)}},animate:function(){return function(r,n){var a=this,o=a.length!==void 0,i=o?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=_e({},r,n));for(var u=0;u<i.length;u++){var l=i[u],f=l.animated()&&(r.queue===void 0||r.queue),h=l.animation(r,f?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var a=this,o=a.length!==void 0,i=o?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<i.length;u++){for(var l=i[u],f=l._private,h=f.animation.current,p=0;p<h.length;p++){var g=h[p],v=g._private;n&&(v.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},Pv=Array.isArray,Qi=Pv,kv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rv=/^\w*$/;function Bv(t,e){if(Qi(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Ka(t)?!0:Rv.test(t)||!kv.test(t)||e!=null&&t in Object(e)}var Fv=Bv,zv="[object AsyncFunction]",Gv="[object Function]",Hv="[object GeneratorFunction]",Uv="[object Proxy]";function Vv(t){if(!On(t))return!1;var e=Sl(t);return e==Gv||e==Hv||e==zv||e==Uv}var qv=Vv,Yv=Wi["__core-js_shared__"],Ro=Yv,Tu=function(){var t=/[^.]+$/.exec(Ro&&Ro.keys&&Ro.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xv(t){return!!Tu&&Tu in t}var Wv=Xv,_v=Function.prototype,$v=_v.toString;function Kv(t){if(t!=null){try{return $v.call(t)}catch{}try{return t+""}catch{}}return""}var Zv=Kv,Qv=/[\\^$.*+?()[\]{}|]/g,jv=/^\[object .+?Constructor\]$/,Jv=Function.prototype,eg=Object.prototype,tg=Jv.toString,rg=eg.hasOwnProperty,ng=RegExp("^"+tg.call(rg).replace(Qv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ag(t){if(!On(t)||Wv(t))return!1;var e=qv(t)?ng:jv;return e.test(Zv(t))}var ig=ag;function og(t,e){return t==null?void 0:t[e]}var sg=og;function ug(t,e){var r=sg(t,e);return ig(r)?r:void 0}var ws=ug,lg=ws(Object,"create"),Va=lg;function fg(){this.__data__=Va?Va(null):{},this.size=0}var cg=fg;function hg(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dg=hg,vg="__lodash_hash_undefined__",gg=Object.prototype,pg=gg.hasOwnProperty;function yg(t){var e=this.__data__;if(Va){var r=e[t];return r===vg?void 0:r}return pg.call(e,t)?e[t]:void 0}var mg=yg,bg=Object.prototype,wg=bg.hasOwnProperty;function Eg(t){var e=this.__data__;return Va?e[t]!==void 0:wg.call(e,t)}var xg=Eg,Tg="__lodash_hash_undefined__";function Cg(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Va&&e===void 0?Tg:e,this}var Dg=Cg;function sa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sa.prototype.clear=cg;sa.prototype.delete=dg;sa.prototype.get=mg;sa.prototype.has=xg;sa.prototype.set=Dg;var Cu=sa;function Sg(){this.__data__=[],this.size=0}var Lg=Sg;function Ag(t,e){return t===e||t!==t&&e!==e}var Ql=Ag;function Og(t,e){for(var r=t.length;r--;)if(Ql(t[r][0],e))return r;return-1}var ji=Og,Mg=Array.prototype,Ng=Mg.splice;function Ig(t){var e=this.__data__,r=ji(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ng.call(e,r,1),--this.size,!0}var Pg=Ig;function kg(t){var e=this.__data__,r=ji(e,t);return r<0?void 0:e[r][1]}var Rg=kg;function Bg(t){return ji(this.__data__,t)>-1}var Fg=Bg;function zg(t,e){var r=this.__data__,n=ji(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Gg=zg;function ua(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ua.prototype.clear=Lg;ua.prototype.delete=Pg;ua.prototype.get=Rg;ua.prototype.has=Fg;ua.prototype.set=Gg;var Hg=ua,Ug=ws(Wi,"Map"),Vg=Ug;function qg(){this.size=0,this.__data__={hash:new Cu,map:new(Vg||Hg),string:new Cu}}var Yg=qg;function Xg(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Wg=Xg;function _g(t,e){var r=t.__data__;return Wg(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ji=_g;function $g(t){var e=Ji(this,t).delete(t);return this.size-=e?1:0,e}var Kg=$g;function Zg(t){return Ji(this,t).get(t)}var Qg=Zg;function jg(t){return Ji(this,t).has(t)}var Jg=jg;function ep(t,e){var r=Ji(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var tp=ep;function la(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}la.prototype.clear=Yg;la.prototype.delete=Kg;la.prototype.get=Qg;la.prototype.has=Jg;la.prototype.set=tp;var jl=la,rp="Expected a function";function Es(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rp);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Es.Cache||jl),r}Es.Cache=jl;var np=Es,ap=500;function ip(t){var e=np(t,function(n){return r.size===ap&&r.clear(),n}),r=e.cache;return e}var op=ip,sp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,up=/\\(\\)?/g,lp=op(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sp,function(r,n,a,o){e.push(a?o.replace(up,"$1"):n||r)}),e}),Jl=lp;function fp(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var ef=fp,cp=1/0,Du=ta?ta.prototype:void 0,Su=Du?Du.toString:void 0;function tf(t){if(typeof t=="string")return t;if(Qi(t))return ef(t,tf)+"";if(Ka(t))return Su?Su.call(t):"";var e=t+"";return e=="0"&&1/t==-cp?"-0":e}var hp=tf;function dp(t){return t==null?"":hp(t)}var rf=dp;function vp(t,e){return Qi(t)?t:Fv(t,e)?[t]:Jl(rf(t))}var nf=vp,gp=1/0;function pp(t){if(typeof t=="string"||Ka(t))return t;var e=t+"";return e=="0"&&1/t==-gp?"-0":e}var xs=pp;function yp(t,e){e=nf(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[xs(e[r++])];return r&&r==n?t:void 0}var mp=yp;function bp(t,e,r){var n=t==null?void 0:mp(t,e);return n===void 0?r:n}var wp=bp,Ep=function(){try{var t=ws(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Lu=Ep;function xp(t,e,r){e=="__proto__"&&Lu?Lu(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Tp=xp,Cp=Object.prototype,Dp=Cp.hasOwnProperty;function Sp(t,e,r){var n=t[e];(!(Dp.call(t,e)&&Ql(n,r))||r===void 0&&!(e in t))&&Tp(t,e,r)}var Lp=Sp,Ap=9007199254740991,Op=/^(?:0|[1-9]\d*)$/;function Mp(t,e){var r=typeof t;return e=e??Ap,!!e&&(r=="number"||r!="symbol"&&Op.test(t))&&t>-1&&t%1==0&&t<e}var Np=Mp;function Ip(t,e,r,n){if(!On(t))return t;e=nf(e,t);for(var a=-1,o=e.length,i=o-1,s=t;s!=null&&++a<o;){var u=xs(e[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(a!=i){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=On(f)?f:Np(e[a+1])?[]:{})}Lp(s,u,l),s=s[u]}return t}var Pp=Ip;function kp(t,e,r){return t==null?t:Pp(t,e,r)}var Rp=kp;function Bp(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Fp=Bp;function zp(t){return Qi(t)?ef(t,xs):Ka(t)?[t]:Fp(Jl(rf(t)))}var Gp=zp,Hp={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,o){},onSet:function(a){},canSet:function(a){return!0}};return e=_e({},r,e),function(a,o){var i=e,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(qe(a)){var h=a.indexOf(".")!==-1,p=h&&Gp(a);if(i.allowGetting&&o===void 0){var g;return f&&(i.beforeGet(f),p&&f._private[i.field][a]===void 0?g=wp(f._private[i.field],p):g=f._private[i.field][a]),g}else if(i.allowSetting&&o!==void 0){var v=!i.immutableKeys[a];if(v){var m=gl({},a,o);i.beforeSet(s,m);for(var w=0,b=l.length;w<b;w++){var T=l[w];i.canSet(T)&&(p&&f._private[i.field][a]===void 0?Rp(T._private[i.field],p,o):T._private[i.field][a]=o)}i.updateStyle&&s.updateStyle(),i.onSet(s),i.settingTriggersEvent&&s[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&it(a)){var E=a,S,A,I=Object.keys(E);i.beforeSet(s,E);for(var d=0;d<I.length;d++){S=I[d],A=E[S];var L=!i.immutableKeys[S];if(L)for(var D=0;D<l.length;D++){var N=l[D];i.canSet(N)&&(N._private[i.field][S]=A)}}i.updateStyle&&s.updateStyle(),i.onSet(s),i.settingTriggersEvent&&s[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&Ct(a)){var P=a;s.on(i.bindingEvent,P)}else if(i.allowGetting&&a===void 0){var F;return f&&(i.beforeGet(f),F=f._private[i.field]),F}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=_e({},r,e),function(a){var o=e,i=this,s=i.length!==void 0,u=s?i:[i];if(qe(a)){for(var l=a.split(/\s+/),f=l.length,h=0;h<f;h++){var p=l[h];if(!fn(p)){var g=!o.immutableKeys[p];if(g)for(var v=0,m=u.length;v<m;v++)u[v]._private[o.field][p]=void 0}}o.triggerEvent&&i[o.triggerFnName](o.event)}else if(a===void 0){for(var w=0,b=u.length;w<b;w++)for(var T=u[w]._private[o.field],E=Object.keys(T),S=0;S<E.length;S++){var A=E[S],I=!o.immutableKeys[A];I&&(T[A]=void 0)}o.triggerEvent&&i[o.triggerFnName](o.event)}return i}}},Up={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var o=this,i=Array.prototype.slice.call(arguments,0);return new oa(function(s,u){var l=function(g){o.off.apply(o,h),s(g)},f=i.concat([l]),h=f.concat([]);o.on.apply(o,f)})}}},ft={};[Iv,Hp,Up].forEach(function(t){_e(ft,t)});var Vp={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop()},Si={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else pt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],o=new ia(e),i=0;i<r.length;i++){for(var s=r[i],u=s._private,l=u.classes,f=!1,h=0;h<e.length;h++){var p=e[h],g=l.has(p);if(!g){f=!0;break}}f||(f=l.size!==e.length),f&&(u.classes=o,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){pt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,o=[],i=0,s=n.length;i<s;i++)for(var u=n[i],l=u._private.classes,f=!1,h=0;h<e.length;h++){var p=e[h],g=l.has(p),v=!1;r||a&&!g?(l.add(p),v=!0):(!r||a&&g)&&(l.delete(p),v=!0),!f&&v&&(o.push(u),f=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Si.className=Si.classNames=Si.classes;var at={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:It,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};at.variable="(?:[\\w-.]|(?:\\\\"+at.metaChar+"))+";at.className="(?:[\\w-]|(?:\\\\"+at.metaChar+"))+";at.value=at.string+"|"+at.number;at.id=at.variable;(function(){var t,e,r;for(t=at.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],at.comparatorOp+="|@"+e;for(t=at.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(at.comparatorOp+="|\\!"+e)})();var vt=function(){return{checks:[]}},Be={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Zo=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return eh(t.selector,e.selector)}),qp=function(){for(var t={},e,r=0;r<Zo.length;r++)e=Zo[r],t[e.selector]=e.matches;return t}(),Yp=function(e,r){return qp[e](r)},Xp="("+Zo.map(function(t){return t.selector}).join("|")+")",Vn=function(e){return e.replace(new RegExp("\\\\("+at.metaChar+")","g"),function(r,n){return n})},nn=function(e,r,n){e[e.length-1]=n},Qo=[{name:"group",query:!0,regex:"("+at.group+")",populate:function(e,r,n){var a=Tr(n,1),o=a[0];r.checks.push({type:Be.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:Xp,populate:function(e,r,n){var a=Tr(n,1),o=a[0];r.checks.push({type:Be.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+at.id+")",populate:function(e,r,n){var a=Tr(n,1),o=a[0];r.checks.push({type:Be.ID,value:Vn(o)})}},{name:"className",query:!0,regex:"\\.("+at.className+")",populate:function(e,r,n){var a=Tr(n,1),o=a[0];r.checks.push({type:Be.CLASS,value:Vn(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+at.variable+")\\s*\\]",populate:function(e,r,n){var a=Tr(n,1),o=a[0];r.checks.push({type:Be.DATA_EXIST,field:Vn(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+at.variable+")\\s*("+at.comparatorOp+")\\s*("+at.value+")\\s*\\]",populate:function(e,r,n){var a=Tr(n,3),o=a[0],i=a[1],s=a[2],u=new RegExp("^"+at.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:Be.DATA_COMPARE,field:Vn(o),operator:i,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+at.boolOp+")\\s*("+at.variable+")\\s*\\]",populate:function(e,r,n){var a=Tr(n,2),o=a[0],i=a[1];r.checks.push({type:Be.DATA_BOOL,field:Vn(i),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+at.meta+")\\s*("+at.comparatorOp+")\\s*("+at.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Tr(n,3),o=a[0],i=a[1],s=a[2];r.checks.push({type:Be.META_COMPARE,field:Vn(o),operator:i,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:at.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,o=e.compoundCount,i=e[e.length-1];n!=null&&(i.subject=n,e.currentSubject=null),i.edgeCount=a,i.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=vt();return s}},{name:"directedEdge",separator:!0,regex:at.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,o=vt();return n.checks.push({type:Be.DIRECTED_EDGE,source:a,target:o}),nn(e,r,n),e.edgeCount++,o}else{var i=vt(),s=r,u=vt();return i.checks.push({type:Be.NODE_SOURCE,source:s,target:u}),nn(e,r,i),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:at.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,o=vt();return n.checks.push({type:Be.UNDIRECTED_EDGE,nodes:[a,o]}),nn(e,r,n),e.edgeCount++,o}else{var i=vt(),s=r,u=vt();return i.checks.push({type:Be.NODE_NEIGHBOR,node:s,neighbor:u}),nn(e,r,i),u}}},{name:"child",separator:!0,regex:at.child,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),o=e[e.length-1];return n.checks.push({type:Be.CHILD,parent:o,child:a}),nn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var i=vt(),s=e[e.length-1],u=vt(),l=vt(),f=vt(),h=vt();return i.checks.push({type:Be.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Be.TRUE}],h.checks.push({type:Be.TRUE}),u.checks.push({type:Be.PARENT,parent:h,child:f}),nn(e,s,i),e.currentSubject=l,e.compoundCount++,f}else{var p=vt(),g=vt(),v=[{type:Be.PARENT,parent:p,child:g}];return p.checks=r.checks,r.checks=v,e.compoundCount++,g}}},{name:"descendant",separator:!0,regex:at.descendant,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),o=e[e.length-1];return n.checks.push({type:Be.DESCENDANT,ancestor:o,descendant:a}),nn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var i=vt(),s=e[e.length-1],u=vt(),l=vt(),f=vt(),h=vt();return i.checks.push({type:Be.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:Be.TRUE}],h.checks.push({type:Be.TRUE}),u.checks.push({type:Be.ANCESTOR,ancestor:h,descendant:f}),nn(e,s,i),e.currentSubject=l,e.compoundCount++,f}else{var p=vt(),g=vt(),v=[{type:Be.ANCESTOR,ancestor:p,descendant:g}];return p.checks=r.checks,r.checks=v,e.compoundCount++,g}}},{name:"subject",modifier:!0,regex:at.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ct("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],o=a==null?null:a.type;o===Be.DIRECTED_EDGE?a.type=Be.NODE_TARGET:o===Be.UNDIRECTED_EDGE&&(a.type=Be.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Qo.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Wp=function(e){for(var r,n,a,o=0;o<Qo.length;o++){var i=Qo[o],s=i.name,u=e.match(i.regexObj);if(u!=null){n=u,r=i,a=s;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:e}},_p=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},$p=function(e){var r=this,n=r.inputText=e,a=r[0]=vt();for(r.length=1,n=_p(n);;){var o=Wp(n);if(o.expr==null)return ct("The selector `"+e+"`is invalid"),!1;var i=o.match.slice(1),s=o.expr.populate(r,a,i);if(s===!1)return!1;if(s!=null&&(a=s),n=o.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return ct("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return ct("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&ct("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Kp=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},r=function(f){return qe(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},a=function(f,h){var p=f.type,g=f.value;switch(p){case Be.GROUP:{var v=e(g);return v.substring(0,v.length-1)}case Be.DATA_COMPARE:{var m=f.field,w=f.operator;return"["+m+n(e(w))+r(g)+"]"}case Be.DATA_BOOL:{var b=f.operator,T=f.field;return"["+e(b)+T+"]"}case Be.DATA_EXIST:{var E=f.field;return"["+E+"]"}case Be.META_COMPARE:{var S=f.operator,A=f.field;return"[["+A+n(e(S))+r(g)+"]]"}case Be.STATE:return g;case Be.ID:return"#"+g;case Be.CLASS:return"."+g;case Be.PARENT:case Be.CHILD:return o(f.parent,h)+n(">")+o(f.child,h);case Be.ANCESTOR:case Be.DESCENDANT:return o(f.ancestor,h)+" "+o(f.descendant,h);case Be.COMPOUND_SPLIT:{var I=o(f.left,h),d=o(f.subject,h),L=o(f.right,h);return I+(I.length>0?" ":"")+d+L}case Be.TRUE:return""}},o=function(f,h){return f.checks.reduce(function(p,g,v){return p+(h===f&&v===0?"$":"")+a(g,h)},"")},i="",s=0;s<this.length;s++){var u=this[s];i+=o(u,u.subject),this.length>1&&s<this.length-1&&(i+=", ")}return this.toStringCache=i,i},Zp={parse:$p,toString:Kp},af=function(e,r,n){var a,o=qe(e),i=Oe(e),s=qe(n),u,l,f=!1,h=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(o||s||f)&&(u=!o&&!i?"":""+e,l=""+n),f&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=e===n;break;case">":p=!0,a=e>n;break;case">=":p=!0,a=e>=n;break;case"<":p=!0,a=e<n;break;case"<=":p=!0,a=e<=n;break;default:a=!1;break}return h&&(e!=null||!p)&&(a=!a),a},Qp=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},jp=function(e){return e!==void 0},Ts=function(e,r){return e.data(r)},Jp=function(e,r){return e[r]()},Ot=[],wt=function(e,r){return e.checks.every(function(n){return Ot[n.type](n,r)})};Ot[Be.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Ot[Be.STATE]=function(t,e){var r=t.value;return Yp(r,e)};Ot[Be.ID]=function(t,e){var r=t.value;return e.id()===r};Ot[Be.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Ot[Be.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return af(Jp(e,r),n,a)};Ot[Be.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return af(Ts(e,r),n,a)};Ot[Be.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Qp(Ts(e,r),n)};Ot[Be.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,jp(Ts(e,r))};Ot[Be.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),o=e.target();return wt(r,a)&&wt(n,o)||wt(n,a)&&wt(r,o)};Ot[Be.NODE_NEIGHBOR]=function(t,e){return wt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&wt(t.neighbor,r)})};Ot[Be.DIRECTED_EDGE]=function(t,e){return wt(t.source,e.source())&&wt(t.target,e.target())};Ot[Be.NODE_SOURCE]=function(t,e){return wt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&wt(t.target,r)})};Ot[Be.NODE_TARGET]=function(t,e){return wt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&wt(t.source,r)})};Ot[Be.CHILD]=function(t,e){return wt(t.child,e)&&wt(t.parent,e.parent())};Ot[Be.PARENT]=function(t,e){return wt(t.parent,e)&&e.children().some(function(r){return wt(t.child,r)})};Ot[Be.DESCENDANT]=function(t,e){return wt(t.descendant,e)&&e.ancestors().some(function(r){return wt(t.ancestor,r)})};Ot[Be.ANCESTOR]=function(t,e){return wt(t.ancestor,e)&&e.descendants().some(function(r){return wt(t.descendant,r)})};Ot[Be.COMPOUND_SPLIT]=function(t,e){return wt(t.subject,e)&&wt(t.left,e)&&wt(t.right,e)};Ot[Be.TRUE]=function(){return!0};Ot[Be.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Ot[Be.FILTER]=function(t,e){var r=t.value;return r(e)};var ey=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Be.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var i=0;i<r.length;i++){var s=r[i];if(wt(s,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},ty=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(wt(a,e))return!0}return!1},ry={matches:ty,filter:ey},hn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||qe(e)&&e.match(/^\s*$/)||(hr(e)?this.addQuery({checks:[{type:Be.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:Be.FILTER,value:e}]}):qe(e)?this.parse(e)||(this.invalid=!0):At("A selector must be created from a string; found "))},dn=hn.prototype;[Zp,ry].forEach(function(t){return _e(dn,t)});dn.text=function(){return this.inputText};dn.size=function(){return this.length};dn.eq=function(t){return this[t]};dn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};dn.addQuery=function(t){this[this.length++]=t};dn.selector=dn.toString;var un={allAre:function(e){var r=new hn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new hn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};un.allAreNeighbours=un.allAreNeighbors;un.has=un.contains;un.equal=un.equals=un.same;var br=function(e,r){return function(a,o,i,s){var u=a,l=this,f;if(u==null?f="":hr(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var h=l[0]._private,p=h.traversalCache=h.traversalCache||{},g=p[r]=p[r]||[],v=Mn(f),m=g[v];return m||(g[v]=e.call(l,a,o,i,s))}else return e.call(l,a,o,i,s)}},aa={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var o=this[a],i=o._private.parent;i&&r.push(i)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var o=n[a];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],o=a.parents();r=r||o,r=r.intersect(o)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:br(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,o=0;o<a.length;o++)e.push(a[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var o=0;o<a.length;o++){var i=a[o];r.push(i),i.children().nonempty()&&n(i.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Cs(t,e,r,n){for(var a=[],o=new ia,i=t.cy(),s=i.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?a.push(l):s&&n(a,o,l)}for(;a.length>0;){var f=a.shift();e(f),o.add(f.id()),s&&n(a,o,f)}return t}function of(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var o=n[a];e.has(o.id())||t.push(o)}}aa.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Cs(this,t,e,of)};function sf(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}aa.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Cs(this,t,e,sf)};function ny(t,e,r){sf(t,e,r),of(t,e,r)}aa.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Cs(this,t,e,ny)};aa.ancestors=aa.parents;var qa,uf;qa=uf={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ft.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ft.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};qa.attr=qa.data;qa.removeAttr=qa.removeData;var ay=uf,eo={};function Bo(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],o=a._private.edges,i=0;i<o.length;i++){var s=o[i];!e&&s.isLoop()||(n+=t(a,s))}return n}else return}}_e(eo,{degree:Bo(function(t,e){return e.source().same(e.target())?2:1}),indegree:Bo(function(t,e){return e.target().same(t)?1:0}),outdegree:Bo(function(t,e){return e.source().same(t)?1:0})});function qn(t,e){return function(r){for(var n,a=this.nodes(),o=0;o<a.length;o++){var i=a[o],s=i[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}_e(eo,{minDegree:qn("degree",function(t,e){return t<e}),maxDegree:qn("degree",function(t,e){return t>e}),minIndegree:qn("indegree",function(t,e){return t<e}),maxIndegree:qn("indegree",function(t,e){return t>e}),minOutdegree:qn("outdegree",function(t,e){return t<e}),maxOutdegree:qn("outdegree",function(t,e){return t>e})});_e(eo,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var Lr,lf,ff=function(e,r,n){for(var a=0;a<e.length;a++){var o=e[a];if(!o.locked()){var i=o._private.position,s={x:r.x!=null?r.x-i.x:0,y:r.y!=null?r.y-i.y:0};o.isParent()&&!(s.x===0&&s.y===0)&&o.children().shift(s,n),o.dirtyBoundingBoxCache()}}},Au={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){ff(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Lr=lf={position:ft.data(Au),silentPosition:ft.data(_e({},Au,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){ff(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(it(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var n=e,a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var i=this[o],s=void 0;(s=n(i,o))&&(r?i.silentPosition(s):i.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(it(e)?(a={x:Oe(e.x)?e.x:0,y:Oe(e.y)?e.y:0},n=r):qe(e)&&Oe(r)&&(a={x:0,y:0},a[e]=r),a!=null){var o=this.cy();o.startBatch();for(var i=0;i<this.length;i++){var s=this[i];if(!(o.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+a.x,y:u.y+a.y};n?s.silentPosition(l):s.position(l)}}o.endBatch()}return this},silentShift:function(e,r){return it(e)?this.shift(e,!0):qe(e)&&Oe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),o=a.zoom(),i=a.pan(),s=it(e)?e:void 0,u=s!==void 0||r!==void 0&&qe(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(e,(r-i[e])/o):s!==void 0&&f.position(Rl(s,o,i))}else{var h=n.position();return s=Ki(h,o,i),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),o=it(e)?e:void 0,i=o!==void 0||r!==void 0&&qe(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(i)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,h=f&&f.length>0,p=h;h&&(f=f[0]);var g=p?f.position():{x:0,y:0};r!==void 0?l.position(e,r+g[e]):o!==void 0&&l.position({x:o.x+g.x,y:o.y+g.y})}else{var v=n.position(),m=s?n.parent():null,w=m&&m.length>0,b=w;w&&(m=m[0]);var T=b?m.position():{x:0,y:0};return o={x:v.x-T.x,y:v.y-T.y},e===void 0?o:o[e]}else if(!i)return;return this}};Lr.modelPosition=Lr.point=Lr.position;Lr.modelPositions=Lr.points=Lr.positions;Lr.renderedPoint=Lr.renderedPosition;Lr.relativePoint=Lr.relativePosition;var iy=lf,ea,gn;ea=gn={};gn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),o=e.x1*n+a.x,i=e.x2*n+a.x,s=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:o,x2:i,y1:s,y2:u,w:i-o,h:u-s}};gn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};gn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(i){if(!i.isParent())return;var s=i._private,u=i.children(),l=i.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:i.pstyle("min-width").pfValue,left:i.pstyle("min-width-bias-left"),right:i.pstyle("min-width-bias-right")},height:{val:i.pstyle("min-height").pfValue,top:i.pstyle("min-height-bias-top"),bottom:i.pstyle("min-height-bias-bottom")}},h=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),p=s.position;(h.w===0||h.h===0)&&(h={w:i.pstyle("width").pfValue,h:i.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function g(D,N,P){var F=0,z=0,k=N+P;return D>0&&k>0&&(F=N/k*D,z=P/k*D),{biasDiff:F,biasComplementDiff:z}}function v(D,N,P,F){if(P.units==="%")switch(F){case"width":return D>0?P.pfValue*D:0;case"height":return N>0?P.pfValue*N:0;case"average":return D>0&&N>0?P.pfValue*(D+N)/2:0;case"min":return D>0&&N>0?D>N?P.pfValue*N:P.pfValue*D:0;case"max":return D>0&&N>0?D>N?P.pfValue*D:P.pfValue*N:0;default:return 0}else return P.units==="px"?P.pfValue:0}var m=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(m=m*100/f.width.val);var w=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(w=w*100/f.width.val);var b=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(b=b*100/f.height.val);var T=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(T=T*100/f.height.val);var E=g(f.width.val-h.w,m,w),S=E.biasDiff,A=E.biasComplementDiff,I=g(f.height.val-h.h,b,T),d=I.biasDiff,L=I.biasComplementDiff;s.autoPadding=v(h.w,h.h,i.pstyle("padding"),i.pstyle("padding-relative-to").value),s.autoWidth=Math.max(h.w,f.width.val),p.x=(-S+h.x1+h.x2+A)/2,s.autoHeight=Math.max(h.h,f.height.val),p.y=(-d+h.y1+h.y2+L)/2}for(var n=0;n<this.length;n++){var a=this[n],o=a._private;(!o.compoundBoundsClean||t)&&(r(a),e.batching()||(o.compoundBoundsClean=!0))}return this};var mr=function(e){return e===1/0||e===-1/0?0:e},Cr=function(e,r,n,a,o){a-r===0||o-n===0||r==null||n==null||a==null||o==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Dn=function(e,r){return r==null?e:Cr(e,r.x1,r.y1,r.x2,r.y2)},Sa=function(e,r,n){return Dr(e,r,n)},mi=function(e,r,n){if(!r.cy().headless()){var a=r._private,o=a.rstyle,i=o.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=o.srcX,l=o.srcY):n==="target"?(u=o.tgtX,l=o.tgtY):(u=o.midX,l=o.midY);var f=a.arrowBounds=a.arrowBounds||{},h=f[n]=f[n]||{};h.x1=u-i,h.y1=l-i,h.x2=u+i,h.y2=l+i,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Ci(h,1),Cr(e,h.x1,h.y1,h.x2,h.y2)}}},Fo=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var o=r._private,i=o.rstyle,s=r.pstyle(a+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=Sa(i,"labelWidth",n),h=Sa(i,"labelHeight",n),p=Sa(i,"labelX",n),g=Sa(i,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,m=r.pstyle(a+"text-margin-y").pfValue,w=r.isEdge(),b=r.pstyle(a+"text-rotation"),T=r.pstyle("text-outline-width").pfValue,E=r.pstyle("text-border-width").pfValue,S=E/2,A=r.pstyle("text-background-padding").pfValue,I=2,d=h,L=f,D=L/2,N=d/2,P,F,z,k;if(w)P=p-D,F=p+D,z=g-N,k=g+N;else{switch(u.value){case"left":P=p-L,F=p;break;case"center":P=p-D,F=p+D;break;case"right":P=p,F=p+L;break}switch(l.value){case"top":z=g-d,k=g;break;case"center":z=g-N,k=g+N;break;case"bottom":z=g,k=g+d;break}}P+=v-Math.max(T,S)-A-I,F+=v+Math.max(T,S)+A+I,z+=m-Math.max(T,S)-A-I,k+=m+Math.max(T,S)+A+I;var H=n||"main",q=o.labelBounds,U=q[H]=q[H]||{};U.x1=P,U.y1=z,U.x2=F,U.y2=k,U.w=F-P,U.h=k-z;var X=w&&b.strValue==="autorotate",W=b.pfValue!=null&&b.pfValue!==0;if(X||W){var Q=X?Sa(o.rstyle,"labelAngle",n):b.pfValue,K=Math.cos(Q),$=Math.sin(Q),ee=(P+F)/2,oe=(z+k)/2;if(!w){switch(u.value){case"left":ee=F;break;case"right":ee=P;break}switch(l.value){case"top":oe=k;break;case"bottom":oe=z;break}}var ce=function(Fe,Ce){return Fe=Fe-ee,Ce=Ce-oe,{x:Fe*K-Ce*$+ee,y:Fe*$+Ce*K+oe}},de=ce(P,z),we=ce(P,k),fe=ce(F,z),j=ce(F,k);P=Math.min(de.x,we.x,fe.x,j.x),F=Math.max(de.x,we.x,fe.x,j.x),z=Math.min(de.y,we.y,fe.y,j.y),k=Math.max(de.y,we.y,fe.y,j.y)}var ae=H+"Rot",he=q[ae]=q[ae]||{};he.x1=P,he.y1=z,he.x2=F,he.y2=k,he.w=F-P,he.h=k-z,Cr(e,P,z,F,k),Cr(o.labelBounds.all,P,z,F,k)}return e}},oy=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var o=r.pstyle("outline-offset").value,i=r.pstyle("shape").value,s=a+o,u=(e.w+s*2)/e.w,l=(e.h+s*2)/e.h,f=0,h=0;["diamond","pentagon","round-triangle"].includes(i)?(u=(e.w+s*2.4)/e.w,h=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(i)?u=(e.w+s*2.4)/e.w:i==="star"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.6)/e.h,h=-s/3.8):i==="triangle"?(u=(e.w+s*2.8)/e.w,l=(e.h+s*2.4)/e.h,h=-s/1.4):i==="vee"&&(u=(e.w+s*4.4)/e.w,l=(e.h+s*3.8)/e.h,h=-s*.5);var p=e.h*l-e.h,g=e.w*u-e.w;if(Di(e,[Math.ceil(p/2),Math.ceil(g/2)]),f!=0||h!==0){var v=Ld(e,f,h);Fl(e,v)}}}},sy=function(e,r){var n=e._private.cy,a=n.styleEnabled(),o=n.headless(),i=fr(),s=e._private,u=e.isNode(),l=e.isEdge(),f,h,p,g,v,m,w=s.rstyle,b=u&&a?e.pstyle("bounds-expansion").pfValue:[0],T=function(be){return be.pstyle("display").value!=="none"},E=!a||T(e)&&(!l||T(e.source())&&T(e.target()));if(E){var S=0,A=0;a&&r.includeOverlays&&(S=e.pstyle("overlay-opacity").value,S!==0&&(A=e.pstyle("overlay-padding").value));var I=0,d=0;a&&r.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(d=e.pstyle("underlay-padding").value));var L=Math.max(A,d),D=0,N=0;if(a&&(D=e.pstyle("width").pfValue,N=D/2),u&&r.includeNodes){var P=e.position();v=P.x,m=P.y;var F=e.outerWidth(),z=F/2,k=e.outerHeight(),H=k/2;f=v-z,h=v+z,p=m-H,g=m+H,Cr(i,f,p,h,g),a&&r.includeOutlines&&oy(i,e)}else if(l&&r.includeEdges)if(a&&!o){var q=e.pstyle("curve-style").strValue;if(f=Math.min(w.srcX,w.midX,w.tgtX),h=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),g=Math.max(w.srcY,w.midY,w.tgtY),f-=N,h+=N,p-=N,g+=N,Cr(i,f,p,h,g),q==="haystack"){var U=w.haystackPts;if(U&&U.length===2){if(f=U[0].x,p=U[0].y,h=U[1].x,g=U[1].y,f>h){var X=f;f=h,h=X}if(p>g){var W=p;p=g,g=W}Cr(i,f-N,p-N,h+N,g+N)}}else if(q==="bezier"||q==="unbundled-bezier"||q.endsWith("segments")||q.endsWith("taxi")){var Q;switch(q){case"bezier":case"unbundled-bezier":Q=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":Q=w.linePts;break}if(Q!=null)for(var K=0;K<Q.length;K++){var $=Q[K];f=$.x-N,h=$.x+N,p=$.y-N,g=$.y+N,Cr(i,f,p,h,g)}}}else{var ee=e.source(),oe=ee.position(),ce=e.target(),de=ce.position();if(f=oe.x,h=de.x,p=oe.y,g=de.y,f>h){var we=f;f=h,h=we}if(p>g){var fe=p;p=g,g=fe}f-=N,h+=N,p-=N,g+=N,Cr(i,f,p,h,g)}if(a&&r.includeEdges&&l&&(mi(i,e,"mid-source"),mi(i,e,"mid-target"),mi(i,e,"source"),mi(i,e,"target")),a){var j=e.pstyle("ghost").value==="yes";if(j){var ae=e.pstyle("ghost-offset-x").pfValue,he=e.pstyle("ghost-offset-y").pfValue;Cr(i,i.x1+ae,i.y1+he,i.x2+ae,i.y2+he)}}var Le=s.bodyBounds=s.bodyBounds||{};su(Le,i),Di(Le,b),Ci(Le,1),a&&(f=i.x1,h=i.x2,p=i.y1,g=i.y2,Cr(i,f-L,p-L,h+L,g+L));var Fe=s.overlayBounds=s.overlayBounds||{};su(Fe,i),Di(Fe,b),Ci(Fe,1);var Ce=s.labelBounds=s.labelBounds||{};Ce.all!=null?Sd(Ce.all):Ce.all=fr(),a&&r.includeLabels&&(r.includeMainLabels&&Fo(i,e,null),l&&(r.includeSourceLabels&&Fo(i,e,"source"),r.includeTargetLabels&&Fo(i,e,"target")))}return i.x1=mr(i.x1),i.y1=mr(i.y1),i.x2=mr(i.x2),i.y2=mr(i.y2),i.w=mr(i.x2-i.x1),i.h=mr(i.y2-i.y1),i.w>0&&i.h>0&&E&&(Di(i,b),Ci(i,1)),i},cf=function(e){var r=0,n=function(i){return(i?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},hf=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(i){return Math.round(i)};return _h([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},Ou=function(e,r){var n=e._private,a,o=e.isEdge(),i=r==null?Mu:cf(r),s=i===Mu,u=hf(e),l=n.bbCachePosKey===u,f=r.useCache&&l,h=function(m){return m._private.bbCache==null||m._private.styleDirty},p=!f||h(e)||o&&h(e.source())||h(e.target());if(p?(l||e.recalculateRenderedStyle(f),a=sy(e,Ya),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!s){var g=e.isNode();a=fr(),(r.includeNodes&&g||r.includeEdges&&!g)&&(r.includeOverlays?Dn(a,n.overlayBounds):Dn(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?Dn(a,n.labelBounds.all):(r.includeMainLabels&&Dn(a,n.labelBounds.mainRot),r.includeSourceLabels&&Dn(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Dn(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Ya={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Mu=cf(Ya),Nu=Xt(Ya);gn.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Ya:t=Nu(t),e=Ou(this[0],t);else{e=fr(),t=t||Ya;var r=Nu(t),n=this,a=n.cy(),o=a.styleEnabled();if(o)for(var i=0;i<n.length;i++){var s=n[i],u=s._private,l=hf(s),f=u.bbCachePosKey===l,h=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var p=0;p<n.length;p++){var g=n[p];Dn(e,Ou(g,r))}}return e.x1=mr(e.x1),e.y1=mr(e.y1),e.x2=mr(e.x2),e.y2=mr(e.y2),e.w=mr(e.x2-e.x1),e.h=mr(e.y2-e.y1),e};gn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};gn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(l){return l.isParent()}),e=e.not(a)),it(t)){var o=t;t=function(){return o}}var i=function(f,h){return f._private.bbAtOldPos=t(f,h)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(i).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=Dd(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};ea.boundingbox=ea.bb=ea.boundingBox;ea.renderedBoundingbox=ea.renderedBoundingBox;var uy=gn,Ia,Qa;Ia=Qa={};var df=function(e){e.uppercaseName=eu(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=eu(e.outerName),Ia[e.name]=function(){var n=this[0],a=n._private,o=a.cy,i=o._private.styleEnabled;if(n)if(i){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Ia["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,o=a.cy,i=o._private.styleEnabled;if(n)if(i){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},Ia["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Ia["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};df({name:"width"});df({name:"height"});Qa.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Qa.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Qa.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var ly=Qa,fy=function(e,r){if(e.isEdge())return r(e)},cy=function(e,r){if(e.isEdge()){var n=e.cy();return Ki(r(e),n.zoom(),n.pan())}},hy=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),o=n.zoom();return r(e).map(function(i){return Ki(i,o,a)})}},dy=function(e){return e.renderer().getControlPoints(e)},vy=function(e){return e.renderer().getSegmentPoints(e)},gy=function(e){return e.renderer().getSourceEndpoint(e)},py=function(e){return e.renderer().getTargetEndpoint(e)},yy=function(e){return e.renderer().getEdgeMidpoint(e)},Iu={controlPoints:{get:dy,mult:!0},segmentPoints:{get:vy,mult:!0},sourceEndpoint:{get:gy},targetEndpoint:{get:py},midpoint:{get:yy}},my=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},by=Object.keys(Iu).reduce(function(t,e){var r=Iu[e],n=my(e);return t[e]=function(){return fy(this,r.get)},r.mult?t[n]=function(){return hy(this,r.get)}:t[n]=function(){return cy(this,r.get)},t},{}),wy=_e({},iy,uy,ly,by);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var vf=function(e,r){this.recycle(e,r)};function La(){return!1}function bi(){return!0}vf.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=La,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?bi:La):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*a+o.x,y:n.y*a+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=bi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=bi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bi,this.stopPropagation()},isDefaultPrevented:La,isPropagationStopped:La,isImmediatePropagationStopped:La};var gf=/^([^.]+)(\.(?:[^.]+))?$/,Ey=".*",pf={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Pu=Object.keys(pf),xy={};function to(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xy,e=arguments.length>1?arguments[1]:void 0,r=0;r<Pu.length;r++){var n=Pu[r];this[n]=t[n]||pf[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var vn=to.prototype,yf=function(e,r,n,a,o,i,s){Ct(a)&&(o=a,a=null),s&&(i==null?i=s:i=_e({},i,s));for(var u=pt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!fn(f)){var h=f.match(gf);if(h){var p=h[1],g=h[2]?h[2]:null,v=r(e,f,p,g,a,o,i);if(v===!1)break}}}},ku=function(e,r){return e.addEventFields(e.context,r),new vf(r.type,r)},Ty=function(e,r,n){if(qc(n)){r(e,n);return}else if(it(n)){r(e,ku(e,n));return}for(var a=pt(n)?n:n.split(/\s+/),o=0;o<a.length;o++){var i=a[o];if(!fn(i)){var s=i.match(gf);if(s){var u=s[1],l=s[2]?s[2]:null,f=ku(e,{type:u,namespace:l,target:e.context});r(e,f)}}}};vn.on=vn.addListener=function(t,e,r,n,a){return yf(this,function(o,i,s,u,l,f,h){Ct(f)&&o.listeners.push({event:i,callback:f,type:s,namespace:u,qualifier:l,conf:h})},t,e,r,n,a),this};vn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};vn.removeListener=vn.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=jh(this.listeners));for(var o=this.listeners,i=function(l){var f=o[l];yf(a,function(h,p,g,v,m,w){if((f.type===g||t==="*")&&(!v&&f.namespace!==".*"||f.namespace===v)&&(!m||h.qualifierCompare(f.qualifier,m))&&(!w||f.callback===w))return o.splice(l,1),!1},t,e,r,n)},s=o.length-1;s>=0;s--)i(s);return this};vn.removeAllListeners=function(){return this.removeListener("*")};vn.emit=vn.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,pt(e)||(e=[e]),Ty(this,function(o,i){r!=null&&(n=[{event:i.event,type:i.type,namespace:i.namespace,callback:r}],a=n.length);for(var s=function(f){var h=n[f];if(h.type===i.type&&(!h.namespace||h.namespace===i.namespace||h.namespace===Ey)&&o.eventMatches(o.context,h,i)){var p=[i];e!=null&&ed(p,e),o.beforeEmit(o.context,h,i),h.conf&&h.conf.one&&(o.listeners=o.listeners.filter(function(m){return m!==h}));var g=o.callbackContext(o.context,h,i),v=h.callback.apply(g,p);o.afterEmit(o.context,h,i),v===!1&&(i.stopPropagation(),i.preventDefault())}},u=0;u<a;u++)s(u);o.bubble(o.context)&&!i.isPropagationStopped()&&o.parent(o.context).emit(i,e)},t),this.emitting--,this};var Cy={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&$a(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},wi=function(e){return qe(e)?new hn(e):e},mf={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new to(Cy,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=wi(r),o=0;o<this.length;o++){var i=this[o];i.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=wi(r),o=0;o<this.length;o++){var i=this[o];i.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=wi(r),o=0;o<this.length;o++){var i=this[o];i.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=wi(r),o=0;o<this.length;o++){var i=this[o];i.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ft.eventAliasesOn(mf);var bf={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(qe(e)||hr(e))return new hn(e).filter(this);if(Ct(e)){for(var n=this.spawn(),a=this,o=0;o<a.length;o++){var i=a[o],s=r?e.apply(r,[i,o,a]):e(i,o,a);s&&n.push(i)}return n}return this.spawn()},not:function(e){if(e){qe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],o=e.has(a);o||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(qe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,o=e,i=this.length<e.length,s=i?a:o,u=i?o:a,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(e){var r=this._private.cy;qe(e)&&(e=r.$(e));var n=this.spawn(),a=this,o=e,i=function(u,l){for(var f=0;f<u.length;f++){var h=u[f],p=h._private.data.id,g=l.hasElementWithId(p);g||n.push(h)}};return i(a,o),i(o,a),n},diff:function(e){var r=this._private.cy;qe(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),o=this.spawn(),i=this,s=e,u=function(f,h,p){for(var g=0;g<f.length;g++){var v=f[g],m=v._private.data.id,w=h.hasElementWithId(m);w?o.merge(v):p.push(v)}};return u(i,s,n),u(s,i,a),{left:n,right:a,both:o}},add:function(e){var r=this._private.cy;if(!e)return this;if(qe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),o=0;o<e.length;o++){var i=e[o],s=!this.has(i);s&&a.push(i)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&qe(e)){var a=e;e=n.mutableElements().filter(a)}for(var o=r.map,i=0;i<e.length;i++){var s=e[i],u=s._private.data.id,l=!o.has(u);if(l){var f=this.length++;this[f]=s,o.set(u,{ele:s,index:f})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,o=a.map;this[e]=void 0,o.delete(n);var i=e===this.length-1;if(this.length>1&&!i){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,o.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,o=a.get(n);if(!o)return this;var i=o.index;return this.unmergeAt(i),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&qe(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,o=0;o<a.length;o++){var i=a[o],s=r?e.apply(r,[i,o,a]):e(i,o,a);n.push(s)}return n},reduce:function(e,r){for(var n=r,a=this,o=0;o<a.length;o++)n=e(n,a[o],o,a);return n},max:function(e,r){for(var n=-1/0,a,o=this,i=0;i<o.length;i++){var s=o[i],u=r?e.apply(r,[s,i,o]):e(s,i,o);u>n&&(n=u,a=s)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,o=this,i=0;i<o.length;i++){var s=o[i],u=r?e.apply(r,[s,i,o]):e(s,i,o);u<n&&(n=u,a=s)}return{value:n,ele:a}}},st=bf;st.u=st["|"]=st["+"]=st.union=st.or=st.add;st["\\"]=st["!"]=st["-"]=st.difference=st.relativeComplement=st.subtract=st.not;st.n=st["&"]=st["."]=st.and=st.intersection=st.intersect;st["^"]=st["(+)"]=st["(-)"]=st.symmetricDifference=st.symdiff=st.xor;st.fnFilter=st.filterFn=st.stdFilter=st.filter;st.complement=st.abscomp=st.absoluteComplement;var Dy={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},wf=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function o(f){var h=f.pstyle("z-compound-depth");return h.value==="auto"?a?f.zDepth():0:h.value==="bottom"?-1:h.value==="top"?ds:0}var i=o(e)-o(r);if(i!==0)return i;function s(f){var h=f.pstyle("z-index-compare");return h.value==="auto"&&f.isNode()?1:0}var u=s(e)-s(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},Gi={forEach:function(e,r){if(Ct(e))for(var n=this.length,a=0;a<n;a++){var o=this[a],i=r?e.apply(r,[o,a,this]):e(o,a,this);if(i===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var o=e;o>=0&&o<r&&o<a;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(wf)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:ds-1}else{var o=r.source,i=r.target,s=o.zDepth(),u=i.zDepth();return Math.max(s,u,0)}}}};Gi.each=Gi.forEach;var Sy=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Pt(Symbol))!=e&&Pt(Symbol.iterator)!=e;r&&(Gi[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},o=0,i=this.length;return gl({next:function(){return o<i?a.value=n[o++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};Sy();var Ly=Xt({nodeDimensionsIncludeLabels:!1}),Li={layoutDimensions:function(e){e=Ly(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(A){return!A.isParent()}),o=this.cy(),i=r.eles,s=function(I){return I.id()},u=Ba(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(I,d,L){var D={x:d.x1+d.w/2,y:d.y1+d.h/2},N={x:(L.x-D.x)*I,y:(L.y-D.y)*I};return{x:D.x+N.x,y:D.y+N.y}},f=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!f)return null;for(var I=fr(),d=0;d<a.length;d++){var L=a[d],D=u(L,d);Ad(I,D.x,D.y)}return I},p=h(),g=Ba(function(A,I){var d=u(A,I);if(f){var L=Math.abs(r.spacingFactor);d=l(L,p,d)}return r.transform!=null&&(d=r.transform(A,d)),d},s);if(r.animate){for(var v=0;v<a.length;v++){var m=a[v],w=g(m,v),b=r.animateFilter==null||r.animateFilter(m,v);if(b){var T=m.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}else m.position(w)}if(r.fit){var E=o.animation({fit:{boundingBox:i.boundingBoxAt(g),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else if(r.zoom!==void 0&&r.pan!==void 0){var S=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}e.animations.forEach(function(A){return A.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),oa.all(e.animations.map(function(A){return A.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(g),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(_e({},e,{eles:this}))}};Li.createLayout=Li.makeLayout=Li.layout;function Ef(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],o;return(o=a[t])!=null||(o=a[t]=e(r)),o}function ro(t,e){return t=Mn(t),function(n){return Ef(t,e,n)}}function no(t,e){t=Mn(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return Ef(t,r,a)}}var qt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),o=this;e=!!(e||e===void 0),a&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=o;return e?i.emitAndNotify("style"):i.emit("style"),o.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var o=n._private.style[e];return o??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,o=n.style();if(it(e)){var i=e;o.applyBypass(this,i,a),this.emitAndNotify("style")}else if(qe(e))if(r===void 0){var s=this[0];return s?o.getStylePropertyValue(s,e):void 0}else o.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),o=this;if(e===void 0)for(var i=0;i<o.length;i++){var s=o[i];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var l=o[u];a.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,o=n.pstyle("opacity").value;if(!r)return o;var i=a.data.parent?n.parents():null;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=u.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function zo(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var o=n[a];if(!e(o))return!1}return!0}function Ds(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var o=this[0],i=a.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!i||zo(o,n);var u=s.source,l=s.target;return r(u)&&(!i||zo(u,r))&&(u===l||r(l)&&(!i||zo(l,r)))}}}var fa=ro("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});qt.takesUpSpace=no("takesUpSpace",Ds({ok:fa}));var Ay=ro("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&fa(t)}),Oy=ro("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&fa(t)});qt.interactive=no("interactive",Ds({ok:Ay,parentOk:Oy,edgeOkViaNode:fa}));qt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var My=ro("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&fa(t)}),Ny=fa;qt.visible=no("visible",Ds({ok:My,edgeOkViaNode:Ny}));qt.hidden=function(){var t=this[0];if(t)return!t.visible()};qt.isBundledBezier=no("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qt.bypass=qt.css=qt.style;qt.renderedCss=qt.renderedStyle;qt.removeBypass=qt.removeCss=qt.removeStyle;qt.pstyle=qt.parsedStyle;var ln={};function Ru(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Ct(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&pt(e[0])){for(var i=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(u);if(h!==void 0&&(l=h,!h))return this}l&&(u._private[t.field]=t.value,f&&r.push(u))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),i&&p.emit(i)}return this}}function ca(t){ln[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},ln[t.on]=Ru({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),ln[t.off]=Ru({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}ca({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ca({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ca({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ca({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ln.deselect=ln.unselect;ln.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ca({field:"active",on:"activate",off:"unactivate"});ca({field:"pannable",on:"panify",off:"unpanify"});ln.inactive=function(){var t=this[0];if(t)return!t._private.active};var Zt={},Bu=function(e){return function(n){for(var a=this,o=[],i=0;i<a.length;i++){var s=a[i];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var h=l[f],p=h.source(),g=h.target();if(e.noIncomingEdges&&g===s&&p!==s||e.noOutgoingEdges&&p===s&&g!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(n)}},Fu=function(e){return function(r){for(var n=this,a=[],o=0;o<n.length;o++){var i=n[o];if(i.isNode())for(var s=i.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),h=l.target();e.outgoing&&f===i?(a.push(l),a.push(h)):e.incoming&&h===i&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(r)}},zu=function(e){return function(r){for(var n=this,a=[],o={};;){var i=e.outgoing?n.outgoers():n.incomers();if(i.length===0)break;for(var s=!1,u=0;u<i.length;u++){var l=i[u],f=l.id();o[f]||(o[f]=!0,a.push(l),s=!0)}if(!s)break;n=i}return this.spawn(a,!0).filter(r)}};Zt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};_e(Zt,{roots:Bu({noIncomingEdges:!0}),leaves:Bu({noOutgoingEdges:!0}),outgoers:br(Fu({outgoing:!0}),"outgoers"),successors:zu({outgoing:!0}),incomers:br(Fu({incoming:!0}),"incomers"),predecessors:zu({incoming:!0})});_e(Zt,{neighborhood:br(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],o=a.connectedEdges(),i=0;i<o.length;i++){var s=o[i],u=s.source(),l=s.target(),f=a===u?l:u;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Zt.neighbourhood=Zt.neighborhood;Zt.closedNeighbourhood=Zt.closedNeighborhood;Zt.openNeighbourhood=Zt.openNeighborhood;_e(Zt,{source:br(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:br(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Gu({attr:"source"}),targets:Gu({attr:"target"})});function Gu(t){return function(r){for(var n=[],a=0;a<this.length;a++){var o=this[a],i=o._private[t.attr];i&&n.push(i)}return this.spawn(n,!0).filter(r)}}_e(Zt,{edgesWith:br(Hu(),"edgesWith"),edgesTo:br(Hu({thisIsSrc:!0}),"edgesTo")});function Hu(t){return function(r){var n=[],a=this._private.cy,o=t||{};qe(r)&&(r=a.$(r));for(var i=0;i<r.length;i++)for(var s=r[i]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,h=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),p=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),g=h||p;g&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!h||o.thisIsTgt&&!p)||n.push(l))}return this.spawn(n,!0)}}_e(Zt,{connectedEdges:br(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var o=a._private.edges,i=0;i<o.length;i++){var s=o[i];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:br(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:br(Uu(),"parallelEdges"),codirectedEdges:br(Uu({codirected:!0}),"codirectedEdges")});function Uu(t){var e={codirected:!1};return t=_e({},e,t),function(n){for(var a=[],o=this.edges(),i=t,s=0;s<o.length;s++)for(var u=o[s],l=u._private,f=l.source,h=f._private.data.id,p=l.data.target,g=f._private.edges,v=0;v<g.length;v++){var m=g[v],w=m._private.data,b=w.target,T=w.source,E=b===p&&T===h,S=h===b&&p===T;(i.codirected&&E||!i.codirected&&(E||S))&&a.push(m)}return this.spawn(a,!0).filter(n)}}_e(Zt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),o=e==null?r.nodes():e.nodes(),i=[];e!=null&&o.empty()&&(o=e.sources());var s=function(f,h){a.merge(f),o.unmerge(f),h.merge(f)};if(o.empty())return r.spawn();var u=function(){var f=n.collection();i.push(f);var h=o[0];s(h,f),r.bfs({directed:!1,roots:h,visit:function(g){return s(g,f)}}),f.forEach(function(p){p.connectedEdges().forEach(function(g){r.has(g)&&f.has(g.source())&&f.has(g.target())&&f.merge(g)})})};do u();while(o.length>0);return i},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Zt.componentsOf=Zt.components;var Yt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){At("A collection must have a reference to the core");return}var o=new Br,i=!1;if(!r)r=[];else if(r.length>0&&it(r[0])&&!$a(r[0])){i=!0;for(var s=[],u=new ia,l=0,f=r.length;l<f;l++){var h=r[l];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=Pl();else if(e.hasElementWithId(p.id)||u.has(p.id))continue;var g=new $i(e,h,!1);s.push(g),u.add(p.id)}r=s}this.length=0;for(var v=0,m=r.length;v<m;v++){var w=r[v][0];if(w!=null){var b=w._private.data.id;(!n||!o.has(b))&&(n&&o.set(b,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var E=this.lazyMap=new Br,S=this.eles,A=0;A<S.length;A++){var I=S[A];E.set(I.id(),{index:A,ele:I})}}},n&&(this._private.map=o),i&&!a&&this.restore()},bt=$i.prototype=Yt.prototype=Object.create(Array.prototype);bt.instanceString=function(){return"collection"};bt.spawn=function(t,e){return new Yt(this.cy(),t,e)};bt.spawnSelf=function(){return this.spawn(this)};bt.cy=function(){return this._private.cy};bt.renderer=function(){return this._private.cy.renderer()};bt.element=function(){return this[0]};bt.collection=function(){return bl(this)?this:new Yt(this._private.cy,[this])};bt.unique=function(){return new Yt(this._private.cy,this,!0)};bt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};bt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Yt(e)};bt.$id=bt.getElementById;bt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};bt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};bt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};bt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(it(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var o=!1,i={},s=t.data.source,u=t.data.target;s!=null&&s!=a.source&&(i.source=""+s,o=!0),u!=null&&u!=a.target&&(i.target=""+u,o=!0),o&&(e=e.move(i))}else{var l="parent"in t.data,f=t.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var h=function(m,w,b){var T=t[m];T!=null&&T!==n[m]&&(T?e[w]():e[b]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:Rr(n.data),position:Rr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var g=0;return n.classes.forEach(function(v){return p.classes+=g++===0?v:" "+v}),p}}};bt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};bt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),o=new $i(t,a,!1);e.push(o)}return new Yt(t,e)};bt.copy=bt.clone;bt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,o=[],i=[],s,u=0,l=r.length;u<l;u++){var f=r[u];e&&!f.removed()||(f.isNode()?o.push(f):i.push(f))}s=o.concat(i);var h,p=function(){s.splice(h,1),h--};for(h=0;h<s.length;h++){var g=s[h],v=g._private,m=v.data;if(g.clearTraversalCache(),!(!e&&!v.removed)){if(m.id===void 0)m.id=Pl();else if(Oe(m.id))m.id=""+m.id;else if(fn(m.id)||!qe(m.id)){At("Can not create element with invalid string ID `"+m.id+"`"),p();continue}else if(n.hasElementWithId(m.id)){At("Can not create second element with ID `"+m.id+"`"),p();continue}}var w=m.id;if(g.isNode()){var b=v.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(g.isEdge()){for(var T=g,E=["source","target"],S=E.length,A=!1,I=0;I<S;I++){var d=E[I],L=m[d];Oe(L)&&(L=m[d]=""+m[d]),L==null||L===""?(At("Can not create edge `"+w+"` with unspecified "+d),A=!0):n.hasElementWithId(L)||(At("Can not create edge `"+w+"` with nonexistant "+d+" `"+L+"`"),A=!0)}if(A){p();continue}var D=n.getElementById(m.source),N=n.getElementById(m.target);D.same(N)?D._private.edges.push(T):(D._private.edges.push(T),N._private.edges.push(T)),T._private.source=D,T._private.target=N}v.map=new Br,v.map.set(w,{ele:g,index:0}),v.removed=!1,e&&n.addToPool(g)}for(var P=0;P<o.length;P++){var F=o[P],z=F._private.data;Oe(z.parent)&&(z.parent=""+z.parent);var k=z.parent,H=k!=null;if(H||F._private.parent){var q=F._private.parent?n.collection().merge(F._private.parent):n.getElementById(k);if(q.empty())z.parent=void 0;else if(q[0].removed())ct("Node added with missing parent, reference to parent removed"),z.parent=void 0,F._private.parent=null;else{for(var U=!1,X=q;!X.empty();){if(F.same(X)){U=!0,z.parent=void 0;break}X=X.parent()}U||(q[0]._private.children.push(F),F._private.parent=q[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var W=s.length===r.length?r:new Yt(n,s),Q=0;Q<W.length;Q++){var K=W[Q];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var $;a.hasCompoundNodes?$=n.collection().merge(W).merge(W.connectedNodes()).merge(W.parent()):$=W,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?W.emitAndNotify("add"):e&&W.emit("add")}return r};bt.removed=function(){var t=this[0];return t&&t._private.removed};bt.inside=function(){var t=this[0];return t&&!t._private.removed};bt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},o=r._private.cy;function i(k){for(var H=k._private.edges,q=0;q<H.length;q++)u(H[q])}function s(k){for(var H=k._private.children,q=0;q<H.length;q++)u(H[q])}function u(k){var H=a[k.id()];e&&k.removed()||H||(a[k.id()]=!0,k.isNode()?(n.push(k),i(k),s(k)):n.unshift(k))}for(var l=0,f=r.length;l<f;l++){var h=r[l];u(h)}function p(k,H){var q=k._private.edges;cn(q,H),k.clearTraversalCache()}function g(k){k.clearTraversalCache()}var v=[];v.ids={};function m(k,H){H=H[0],k=k[0];var q=k._private.children,U=k.id();cn(q,H),H._private.parent=null,v.ids[U]||(v.ids[U]=!0,v.push(k))}r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var w=0;w<n.length;w++){var b=n[w];if(b.isEdge()){var T=b.source()[0],E=b.target()[0];p(T,b),p(E,b);for(var S=b.parallelEdges(),A=0;A<S.length;A++){var I=S[A];g(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var d=b.parent();d.length!==0&&m(d,b)}e&&(b._private.removed=!0)}var L=o._private.elements;o._private.hasCompoundNodes=!1;for(var D=0;D<L.length;D++){var N=L[D];if(N.isParent()){o._private.hasCompoundNodes=!0;break}}var P=new Yt(this.cy(),n);P.size()>0&&(t?P.emitAndNotify("remove"):e&&P.emit("remove"));for(var F=0;F<v.length;F++){var z=v[F];(!e||!z.removed())&&z.updateStyle()}return P};bt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,o=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var i=o(t.source),s=o(t.target),u=i!=null&&e.hasElementWithId(i),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var v=r[g],m=v._private.data;v.isEdge()&&(u&&(m.source=i),l&&(m.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=o(t.parent),h=f===null||e.hasElementWithId(f);if(h){var p=f===null?void 0:f;e.batch(function(){var g=r.remove(n,a);g.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var m=r[v],w=m._private.data;m.isNode()&&(w.parent=p)}g.restore(n,a)}),r.emitAndNotify("move")}}return this};[Wl,Vp,Si,un,aa,ay,eo,wy,mf,bf,Dy,Gi,Li,qt,ln,Zt].forEach(function(t){_e(bt,t)});var Iy={add:function(e){var r,n=this;if(hr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var o=[],i=0;i<a.length;i++){var s=a[i];o.push(s.json())}r=new Yt(n,o)}}else if(pt(e)){var u=e;r=new Yt(n,u)}else if(it(e)&&(pt(e.nodes)||pt(e.edges))){for(var l=e,f=[],h=["nodes","edges"],p=0,g=h.length;p<g;p++){var v=h[p],m=l[v];if(pt(m))for(var w=0,b=m.length;w<b;w++){var T=_e({group:v},m[w]);f.push(T)}}r=new Yt(n,f)}else{var E=e;r=new $i(n,E).collection()}return r},remove:function(e){if(!hr(e)){if(qe(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Py(t,e,r,n){var a=4,o=.001,i=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=f?new Float32Array(u):new Array(u);function g(N,P){return 1-3*P+3*N}function v(N,P){return 3*P-6*N}function m(N){return 3*N}function w(N,P,F){return((g(P,F)*N+v(P,F))*N+m(P))*N}function b(N,P,F){return 3*g(P,F)*N*N+2*v(P,F)*N+m(P)}function T(N,P){for(var F=0;F<a;++F){var z=b(P,t,r);if(z===0)return P;var k=w(P,t,r)-N;P-=k/z}return P}function E(){for(var N=0;N<u;++N)p[N]=w(N*l,t,r)}function S(N,P,F){var z,k,H=0;do k=P+(F-P)/2,z=w(k,t,r)-N,z>0?F=k:P=k;while(Math.abs(z)>i&&++H<s);return k}function A(N){for(var P=0,F=1,z=u-1;F!==z&&p[F]<=N;++F)P+=l;--F;var k=(N-p[F])/(p[F+1]-p[F]),H=P+k*l,q=b(H,t,r);return q>=o?T(N,H):q===0?H:S(N,P,P+l)}var I=!1;function d(){I=!0,(t!==e||r!==n)&&E()}var L=function(P){return I||d(),t===e&&r===n?P:P===0?0:P===1?1:w(A(P),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var D="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return D},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var ky=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,o){var i={x:n.x+o.dx*a,v:n.v+o.dv*a,tension:n.tension,friction:n.friction};return{dx:i.v,dv:t(i)}}function r(n,a){var o={dx:n.v,dv:t(n)},i=e(n,a*.5,o),s=e(n,a*.5,i),u=e(n,a,s),l=1/6*(o.dx+2*(i.dx+s.dx)+u.dx),f=1/6*(o.dv+2*(i.dv+s.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,o,i){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,h=16/1e3,p,g,v;for(a=parseFloat(a)||500,o=parseFloat(o)||20,i=i||null,s.tension=a,s.friction=o,p=i!==null,p?(l=n(a,o),g=l/i*h):g=h;v=r(v||s,g),u.push(1+v.x),l+=16,Math.abs(v.x)>f&&Math.abs(v.v)>f;);return p?function(m){return u[m*(u.length-1)|0]}:l}}(),mt=function(e,r,n,a){var o=Py(e,r,n,a);return function(i,s,u){return i+(s-i)*o(u)}},Ai={linear:function(e,r,n){return e+(r-e)*n},ease:mt(.25,.1,.25,1),"ease-in":mt(.42,0,1,1),"ease-out":mt(0,0,.58,1),"ease-in-out":mt(.42,0,.58,1),"ease-in-sine":mt(.47,0,.745,.715),"ease-out-sine":mt(.39,.575,.565,1),"ease-in-out-sine":mt(.445,.05,.55,.95),"ease-in-quad":mt(.55,.085,.68,.53),"ease-out-quad":mt(.25,.46,.45,.94),"ease-in-out-quad":mt(.455,.03,.515,.955),"ease-in-cubic":mt(.55,.055,.675,.19),"ease-out-cubic":mt(.215,.61,.355,1),"ease-in-out-cubic":mt(.645,.045,.355,1),"ease-in-quart":mt(.895,.03,.685,.22),"ease-out-quart":mt(.165,.84,.44,1),"ease-in-out-quart":mt(.77,0,.175,1),"ease-in-quint":mt(.755,.05,.855,.06),"ease-out-quint":mt(.23,1,.32,1),"ease-in-out-quint":mt(.86,0,.07,1),"ease-in-expo":mt(.95,.05,.795,.035),"ease-out-expo":mt(.19,1,.22,1),"ease-in-out-expo":mt(1,0,0,1),"ease-in-circ":mt(.6,.04,.98,.335),"ease-out-circ":mt(.075,.82,.165,1),"ease-in-out-circ":mt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Ai.linear;var a=ky(e,r,n);return function(o,i,s){return o+(i-o)*a(s)}},"cubic-bezier":mt};function Vu(t,e,r,n,a){if(n===1||e===r)return r;var o=a(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function qu(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Yn(t,e,r,n,a){var o=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var i=qu(t,a),s=qu(e,a);if(Oe(i)&&Oe(s))return Vu(o,i,s,r,n);if(pt(i)&&pt(s)){for(var u=[],l=0;l<s.length;l++){var f=i[l],h=s[l];if(f!=null&&h!=null){var p=Vu(o,f,h,r,n);u.push(p)}else u.push(h)}return u}}function Ry(t,e,r,n){var a=!n,o=t._private,i=e._private,s=i.easing,u=i.startTime,l=n?t:t.cy(),f=l.style();if(!i.easingImpl)if(s==null)i.easingImpl=Ai.linear;else{var h;if(qe(s)){var p=f.parse("transition-timing-function",s);h=p.value}else h=s;var g,v;qe(h)?(g=h,v=[]):(g=h[1],v=h.slice(2).map(function(W){return+W})),v.length>0?(g==="spring"&&v.push(i.duration),i.easingImpl=Ai[g].apply(null,v)):i.easingImpl=Ai[g]}var m=i.easingImpl,w;if(i.duration===0?w=1:w=(r-u)/i.duration,i.applying&&(w=i.progress),w<0?w=0:w>1&&(w=1),i.delay==null){var b=i.startPosition,T=i.position;if(T&&a&&!t.locked()){var E={};Aa(b.x,T.x)&&(E.x=Yn(b.x,T.x,w,m)),Aa(b.y,T.y)&&(E.y=Yn(b.y,T.y,w,m)),t.position(E)}var S=i.startPan,A=i.pan,I=o.pan,d=A!=null&&n;d&&(Aa(S.x,A.x)&&(I.x=Yn(S.x,A.x,w,m)),Aa(S.y,A.y)&&(I.y=Yn(S.y,A.y,w,m)),t.emit("pan"));var L=i.startZoom,D=i.zoom,N=D!=null&&n;N&&(Aa(L,D)&&(o.zoom=Ha(o.minZoom,Yn(L,D,w,m),o.maxZoom)),t.emit("zoom")),(d||N)&&t.emit("viewport");var P=i.style;if(P&&P.length>0&&a){for(var F=0;F<P.length;F++){var z=P[F],k=z.name,H=z,q=i.startStyle[k],U=f.properties[q.name],X=Yn(q,H,w,m,U);f.overrideBypass(t,k,X)}t.emit("style")}}return i.progress=w,w}function Aa(t,e){return t==null||e==null?!1:Oe(t)&&Oe(e)?!0:!!(t&&e)}function By(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Yu(t,e){var r=e._private.aniEles,n=[];function a(f,h){var p=f._private,g=p.animation.current,v=p.animation.queue,m=!1;if(g.length===0){var w=v.shift();w&&g.push(w)}for(var b=function(I){for(var d=I.length-1;d>=0;d--){var L=I[d];L()}I.splice(0,I.length)},T=g.length-1;T>=0;T--){var E=g[T],S=E._private;if(S.stopped){g.splice(T,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.frames);continue}!S.playing&&!S.applying||(S.playing&&S.applying&&(S.applying=!1),S.started||By(f,E,t),Ry(f,E,t,h),S.applying&&(S.applying=!1),b(S.frames),S.step!=null&&S.step(t),E.completed()&&(g.splice(T,1),S.hooked=!1,S.playing=!1,S.started=!1,b(S.completes)),m=!0)}return!h&&g.length===0&&v.length===0&&n.push(f),m}for(var o=!1,i=0;i<r.length;i++){var s=r[i],u=a(s);o=o||u}var l=a(e,!0);(o||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var Fy={animate:ft.animate(),animation:ft.animation(),animated:ft.animated(),clearQueue:ft.clearQueue(),delay:ft.delay(),delayAnimation:ft.delayAnimation(),stop:ft.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ki(function(o){Yu(o,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,i){Yu(i,e)},n.beforeRenderPriorities.animations):r()}},zy={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&$a(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Ei=function(e){return qe(e)?new hn(e):e},xf={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new to(zy,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Ei(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Ei(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Ei(r),n),this},once:function(e,r,n){return this.emitter().one(e,Ei(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ft.eventAliasesOn(xf);var jo={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};jo.jpeg=jo.jpg;var Oi={layout:function(e){var r=this;if(e==null){At("Layout options must be specified to make a layout");return}if(e.name==null){At("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){At("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;qe(e.eles)?o=r.$(e.eles):o=e.eles!=null?e.eles:r.$();var i=new a(_e({},e,{cy:r,eles:o}));return i}};Oi.createLayout=Oi.makeLayout=Oi.layout;var Gy={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var o=n[a],i=e[o],s=r.getElementById(o);s.data(i)}})}},Hy=Xt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Jo={renderTo:function(e,r,n,a){var o=this._private.renderer;return o.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){At("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ct("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=Hy(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Jo.invalidateDimensions=Jo.resize;var Mi={collection:function(e,r){return qe(e)?this.$(e):hr(e)?e.collection():pt(e)?(r||(r={}),new Yt(this,e,r.unique,r.removed)):new Yt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Mi.elements=Mi.filter=Mi.$;var jt={},ka="t",Uy="f";jt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),o=0;o<t.length;o++){var i=t[o],s=e.getContextMeta(i);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,i);i._private.appliedInitStyle?e.updateTransitions(i,l.diffProps):i._private.appliedInitStyle=!0;var f=e.updateStyleHints(i);f&&a.push(i)}}return a};jt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,o=n[a];if(o)return o;for(var i=[],s={},u=0;u<r.length;u++){var l=r[u],f=t[u]===ka,h=e[u]===ka,p=f!==h,g=l.mappedProperties.length>0;if(p||h&&g){var v=void 0;p&&g||p?v=l.properties:g&&(v=l.mappedProperties);for(var m=0;m<v.length;m++){for(var w=v[m],b=w.name,T=!1,E=u+1;E<r.length;E++){var S=r[E],A=e[E]===ka;if(A&&(T=S.properties[w.name]!=null,T))break}!s[b]&&!T&&(s[b]=!0,i.push(b))}}}return n[a]=i,i};jt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",o=0;o<e.length;o++){var i=e[o],s=i.selector&&i.selector.matches(t);s?r+=ka:r+=Uy}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};jt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},o=0;o<r.length;o++){var i=r[o],s=e[o]===ka;if(s)for(var u=0;u<i.properties.length;u++){var l=i.properties[u];a[l.name]=l}}return n[e]=a,a};jt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,o={},i=n.types,s=0;s<a.length;s++){var u=a[s],l=e[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===i.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var h=f.mapping,p=h.fnValue=l.value(r);if(p===h.prevFnValue)continue}var g=o[u]={prev:f};n.applyParsedProperty(r,l),g.next=r.pstyle(u),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:o}};jt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,o=function(he,Le,Fe){return r.getPropertiesHash(he,Le,Fe)},i=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var f=a[l];e.styleKeys[f]=[$n,Ma]}for(var h=function(he,Le){return e.styleKeys[Le][0]=Fa(he,e.styleKeys[Le][0])},p=function(he,Le){return e.styleKeys[Le][1]=za(he,e.styleKeys[Le][1])},g=function(he,Le){h(he,Le),p(he,Le)},v=function(he,Le){for(var Fe=0;Fe<he.length;Fe++){var Ce=he.charCodeAt(Fe);h(Ce,Le),p(Ce,Le)}},m=2e9,w=function(he){return-128<he&&he<128&&Math.floor(he)!==he?m-(he*1024|0):he},b=0;b<n.length;b++){var T=n[b],E=u[T];if(E!=null){var S=this.properties[T],A=S.type,I=S.groupKey,d=void 0;S.hashOverride!=null?d=S.hashOverride(t,E):E.pfValue!=null&&(d=E.pfValue);var L=S.enums==null?E.value:null,D=d!=null,N=L!=null,P=D||N,F=E.units;if(A.number&&P&&!A.multiple){var z=D?d:L;g(w(z),I),!D&&F!=null&&v(F,I)}else v(E.strValue,I)}}for(var k=[$n,Ma],H=0;H<a.length;H++){var q=a[H],U=e.styleKeys[q];k[0]=Fa(U[0],k[0]),k[1]=za(U[1],k[1])}e.styleKey=Wh(k[0],k[1]);var X=e.styleKeys;e.labelDimsKey=rn(X.labelDimensions);var W=o(t,["label"],X.labelDimensions);if(e.labelKey=rn(W),e.labelStyleKey=rn(hi(X.commonLabel,W)),!s){var Q=o(t,["source-label"],X.labelDimensions);e.sourceLabelKey=rn(Q),e.sourceLabelStyleKey=rn(hi(X.commonLabel,Q));var K=o(t,["target-label"],X.labelDimensions);e.targetLabelKey=rn(K),e.targetLabelStyleKey=rn(hi(X.commonLabel,K))}if(s){var $=e.styleKeys,ee=$.nodeBody,oe=$.nodeBorder,ce=$.nodeOutline,de=$.backgroundImage,we=$.compound,fe=$.pie,j=[ee,oe,ce,de,we,fe].filter(function(ae){return ae!=null}).reduce(hi,[$n,Ma]);e.nodeKey=rn(j),e.hasPie=fe!=null&&fe[0]!==$n&&fe[1]!==Ma}return i!==e.styleKey};jt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};jt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,o,i=r.types,s=r.properties[n.name].type,u=n.bypass,l=a[n.name],f=l&&l.bypass,h=t._private,p="mapping",g=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},v=function(){var ee=g(l),oe=g(n);r.checkTriggers(t,n.name,ee,oe)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var m=function(){ct("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case i.mapData:{for(var w=n.field.split("."),b=h.data,T=0;T<w.length&&b;T++){var E=w[T];b=b[E]}if(b==null)return m(),!1;var S;if(Oe(b)){var A=n.fieldMax-n.fieldMin;A===0?S=0:S=(b-n.fieldMin)/A}else return ct("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+b+"` for `"+t.id()+"` is non-numeric)"),!1;if(S<0?S=0:S>1&&(S=1),s.color){var I=n.valueMin[0],d=n.valueMax[0],L=n.valueMin[1],D=n.valueMax[1],N=n.valueMin[2],P=n.valueMax[2],F=n.valueMin[3]==null?1:n.valueMin[3],z=n.valueMax[3]==null?1:n.valueMax[3],k=[Math.round(I+(d-I)*S),Math.round(L+(D-L)*S),Math.round(N+(P-N)*S),Math.round(F+(z-F)*S)];o={bypass:n.bypass,name:n.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else if(s.number){var H=n.valueMin+(n.valueMax-n.valueMin)*S;o=this.parse(n.name,H,n.bypass,p)}else return!1;if(!o)return m(),!1;o.mapping=n,n=o;break}case i.data:{for(var q=n.field.split("."),U=h.data,X=0;X<q.length&&U;X++){var W=q[X];U=U[W]}if(U!=null&&(o=this.parse(n.name,U,n.bypass,p)),!o)return m(),!1;o.mapping=n,n=o;break}case i.fn:{var Q=n.value,K=n.fnValue!=null?n.fnValue:Q(t);if(n.prevFnValue=K,K==null)return ct("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(n.name,K,n.bypass,p),!o)return ct("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=Rr(n),n=o;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,v(),!0};jt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,o=Object.keys(a),i=0;i<o.length;i++){var s=o[i],u=a[s];u!=null&&(u.bypass?u.bypassed=null:a[s]=null)}}};jt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};jt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,i=t.pstyle("transition-delay").pfValue;if(a.length>0&&o>0){for(var s={},u=!1,l=0;l<a.length;l++){var f=a[l],h=t.pstyle(f),p=e[f];if(p){var g=p.prev,v=g,m=p.next!=null?p.next:h,w=!1,b=void 0,T=1e-6;v&&(Oe(v.pfValue)&&Oe(m.pfValue)?(w=m.pfValue-v.pfValue,b=v.pfValue+T*w):Oe(v.value)&&Oe(m.value)?(w=m.value-v.value,b=v.value+T*w):pt(v.value)&&pt(m.value)&&(w=v.value[0]!==m.value[0]||v.value[1]!==m.value[1]||v.value[2]!==m.value[2],b=v.strValue),w&&(s[f]=m.strValue,this.applyBypass(t,f,b),u=!0))}}if(!u)return;n.transitioning=!0,new oa(function(E){i>0?t.delayAnimation(i).play().promise().then(E):E()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};jt.checkTrigger=function(t,e,r,n,a,o){var i=this.properties[e],s=a(i);s!=null&&s(r,n)&&o(i)};jt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};jt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(o){o.isBundledBezier()&&o.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};jt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ja={};ja.applyBypass=function(t,e,r,n){var a=this,o=[],i=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var u=a.properties[s],l=u.name,f=this.parse(l,r,!0);f&&o.push(f)}}else if(qe(e)){var h=this.parse(e,r,!0);h&&o.push(h)}else if(it(e)){var p=e;n=r;for(var g=Object.keys(p),v=0;v<g.length;v++){var m=g[v],w=p[m];if(w===void 0&&(w=p[Xi(m)]),w!==void 0){var b=this.parse(m,w,!0);b&&o.push(b)}}}else return!1;if(o.length===0)return!1;for(var T=!1,E=0;E<t.length;E++){for(var S=t[E],A={},I=void 0,d=0;d<o.length;d++){var L=o[d];if(n){var D=S.pstyle(L.name);I=A[L.name]={prev:D}}T=this.applyParsedProperty(S,Rr(L))||T,n&&(I.next=S.pstyle(L.name))}T&&this.updateStyleHints(S),n&&this.updateTransitions(S,A,i)}return T};ja.overrideBypass=function(t,e,r){e=hs(e);for(var n=0;n<t.length;n++){var a=t[n],o=a._private.style[e],i=this.properties[e].type,s=i.color,u=i.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(a,e,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),s?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,l,r)}};ja.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ja.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var o=t[a],i={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],f=o.pstyle(l.name);if(!(!f||!f.bypass)){var h="",p=this.parse(u,h,!0),g=i[l.name]={prev:f};this.applyParsedProperty(o,p),g.next=o.pstyle(l.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,i,n)}};var Ss={};Ss.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Ss.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var Fr={};Fr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Fr.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var o=r.properties[a],i=r.getStylePropertyValue(t,o.name,e);i!=null&&(n[o.name]=i,n[Xi(o.name)]=i)}return n}};Fr.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};Fr.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var o=a.type,i=t.pstyle(a.name);if(i){var s=i.value,u=i.units,l=i.strValue;if(r&&o.number&&s!=null&&Oe(s)){var f=t.cy().zoom(),h=function(w){return w*f},p=function(w,b){return h(w)+b},g=pt(s),v=g?u.every(function(m){return m!=null}):u!=null;return v?g?s.map(function(m,w){return p(m,u[w])}).join(" "):p(s,u):g?s.map(function(m){return qe(m)?m:""+h(m)}).join(" "):""+h(s)}else if(l!=null)return l}return null}};Fr.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],o=a.name,i=t.pstyle(o);i!==void 0&&(it(i)?i=this.parse(o,i.strValue):i=this.parse(o,i)),i&&(r[o]=i)}return r};Fr.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var o=Object.keys(n),i=0;i<o.length;i++){var s=o[i],u=n[s],l=a[s]||a[hs(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};Fr.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,o,i,s,u,l;for(u=0;u<e.length;u++)if(a=e[u],o=t.pstyle(a,!1),o!=null)if(o.pfValue!=null)n[0]=Fa(s,n[0]),n[1]=za(s,n[1]);else for(i=o.strValue,l=0;l<i.length;l++)s=i.charCodeAt(l),n[0]=Fa(s,n[0]),n[1]=za(s,n[1]);return n};Fr.getPropertiesHash=Fr.getNonDefaultPropertiesHash;var ao={};ao.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,o=n.style||n.css,i=Object.keys(o);e.selector(a);for(var s=0;s<i.length;s++){var u=i[s],l=o[u];e.css(u,l)}}return e};ao.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};ao.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,o={},i=0;i<a.length;i++){var s=a[i];o[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:o})}return t};var Ls={};Ls.appendFromString=function(t){var e=this,r=this,n=""+t,a,o,i;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function u(){o.length>i.length?o=o.substr(i.length):o=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){ct("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var h=f[1];if(h!=="core"){var p=new hn(h);if(p.invalid){ct("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),s();continue}}var g=f[2],v=!1;o=g;for(var m=[];;){var w=o.match(/^\s*$/);if(w)break;var b=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){ct("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),v=!0;break}i=b[0];var T=b[1],E=b[2],S=e.properties[T];if(!S){ct("Skipping property: Invalid property name in: "+i),u();continue}var A=r.parse(T,E);if(!A){ct("Skipping property: Invalid property definition in: "+i),u();continue}m.push({name:T,val:E}),u()}if(v){s();break}r.selector(h);for(var I=0;I<m.length;I++){var d=m[I];r.css(d.name,d.val)}s()}return r};Ls.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Ut={};(function(){var t=It,e=Kc,r=Qc,n=jc,a=Jc,o=function(j){return"^"+j+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(j){var ae=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+j+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Ut.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(j,ae){switch(j.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return qe(j[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(j){var ae=j.length;return ae===1||ae===2||ae===4}}};var u={zeroNonZero:function(j,ae){return(j==null||ae==null)&&j!==ae||j==0&&ae!=0?!0:j!=0&&ae==0},any:function(j,ae){return j!=ae},emptyNonEmpty:function(j,ae){var he=fn(j),Le=fn(ae);return he&&!Le||!he&&Le}},l=Ut.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],h=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],p=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],g=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],m=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],b=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],T=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],E=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],S=function(j,ae){return ae.value==="label"?-j.poolIndex():ae.pfValue},A=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:S},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],I=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],d=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],L=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],D=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],N=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],P=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],F=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],z=[];Ut.pieBackgroundN=16,z.push({name:"pie-size",type:l.sizeMaybePercent});for(var k=1;k<=Ut.pieBackgroundN;k++)z.push({name:"pie-"+k+"-background-color",type:l.color}),z.push({name:"pie-"+k+"-background-size",type:l.percent}),z.push({name:"pie-"+k+"-background-opacity",type:l.zeroOneNumber});var H=[],q=Ut.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(fe){q.forEach(function(j){var ae=j+"-"+fe.name,he=fe.type,Le=fe.triggersBounds;H.push({name:ae,type:he,triggersBounds:Le})})},{});var U=Ut.properties=[].concat(m,E,w,b,T,P,v,g,f,h,p,A,I,d,L,z,D,N,H,F),X=Ut.propertyGroups={behavior:m,transition:E,visibility:w,overlay:b,underlay:T,ghost:P,commonLabel:v,labelDimensions:g,mainLabel:f,sourceLabel:h,targetLabel:p,nodeBody:A,nodeBorder:I,nodeOutline:d,backgroundImage:L,pie:z,compound:D,edgeLine:N,edgeArrow:H,core:F},W=Ut.propertyGroupNames={},Q=Ut.propertyGroupKeys=Object.keys(X);Q.forEach(function(fe){W[fe]=X[fe].map(function(j){return j.name}),X[fe].forEach(function(j){return j.groupKey=fe})});var K=Ut.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Ut.propertyNames=U.map(function(fe){return fe.name});for(var $=0;$<U.length;$++){var ee=U[$];U[ee.name]=ee}for(var oe=0;oe<K.length;oe++){var ce=K[oe],de=U[ce.pointsTo],we={name:ce.name,alias:!0,pointsTo:de};U.push(we),U[ce.name]=we}})();Ut.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Ut.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=_e({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=Ut.pieBackgroundN;f++){var h=l.name.replace("{{i}}",f),p=l.value;u[h]=p}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return Ut.arrowPrefixes.forEach(function(f){var h=f+"-"+l.name,p=l.value;u[h]=p}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var o=a.name,i=e[o],s=this.parse(o,i);r[o]=s}}return t.defaultProperties=r,t.defaultProperties};Ut.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var io={};io.parse=function(t,e,r,n){var a=this;if(Ct(e))return a.parseImplWarn(t,e,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,i=r?"t":"f",s=""+e,u=Ml(t,s,i,o),l=a.propCache=a.propCache||[],f;return(f=l[u])||(f=l[u]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=Rr(f),f&&(f.value=Rr(f.value))),f};io.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&ct("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&ct("The style value of `label` is deprecated for `"+a.name+"`"),a};io.parseImpl=function(t,e,r,n){var a=this;t=hs(t);var o=a.properties[t],i=e,s=a.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=qe(e);u&&(e=e.trim());var l=o.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var f,h;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(r)return!1;var p=s.data;return{name:t,value:f,strValue:""+e,mapped:p,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(s.mapData.regex).exec(e))){if(r||l.multiple)return!1;var g=s.mapData;if(!(l.color||l.number))return!1;var v=this.parse(t,h[4]);if(!v||v.mapped)return!1;var m=this.parse(t,h[5]);if(!m||m.mapped)return!1;if(v.pfValue===m.pfValue||v.strValue===m.strValue)return ct("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(l.color){var w=v.value,b=m.value,T=w[0]===b[0]&&w[1]===b[1]&&w[2]===b[2]&&(w[3]===b[3]||(w[3]==null||w[3]===1)&&(b[3]==null||b[3]===1));if(T)return!1}return{name:t,value:h,strValue:""+e,mapped:g,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:v.value,valueMax:m.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var E;if(u?E=e.split(/\s+/):pt(e)?E=e:E=[e],l.evenMultiple&&E.length%2!==0)return null;for(var S=[],A=[],I=[],d="",L=!1,D=0;D<E.length;D++){var N=a.parse(t,E[D],r,"multiple");L=L||qe(N.value),S.push(N.value),I.push(N.pfValue!=null?N.pfValue:N.value),A.push(N.units),d+=(D>0?" ":"")+N.strValue}return l.validate&&!l.validate(S,A)?null:l.singleEnum&&L?S.length===1&&qe(S[0])?{name:t,value:S[0],strValue:S[0],bypass:r}:null:{name:t,value:S,pfValue:I,strValue:d,bypass:r,units:A}}var P=function(){for(var j=0;j<l.enums.length;j++){var ae=l.enums[j];if(ae===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var F,z="px";if(l.units&&(F=l.units),l.implicitUnits&&(z=l.implicitUnits),!l.unitless)if(u){var k="px|em"+(l.allowPercent?"|\\%":"");F&&(k=F);var H=e.match("^("+It+")("+k+")?$");H&&(e=H[1],F=H[2]||z)}else(!F||l.implicitUnits)&&(F=z);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=i,P();if(l.integer&&!Vc(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var q={name:t,value:e,strValue:""+e+(F||""),units:F,bypass:r};return l.unitless||F!=="px"&&F!=="em"?q.pfValue=e:q.pfValue=F==="px"||!F?e:this.getEmSizeInPixels()*e,(F==="ms"||F==="s")&&(q.pfValue=F==="ms"?e:1e3*e),(F==="deg"||F==="rad")&&(q.pfValue=F==="rad"?e:xd(e)),F==="%"&&(q.pfValue=e/100),q}else if(l.propList){var U=[],X=""+e;if(X!=="none"){for(var W=X.split(/\s*,\s*|\s+/),Q=0;Q<W.length;Q++){var K=W[Q].trim();a.properties[K]?U.push(K):ct("`"+K+"` is not a valid property name")}if(U.length===0)return null}return{name:t,value:U,strValue:U.length===0?"none":U.join(" "),bypass:r}}else if(l.color){var $=ih(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var ee=P();if(ee)return ee}for(var oe=l.regexes?l.regexes:[l.regex],ce=0;ce<oe.length;ce++){var de=new RegExp(oe[ce]),we=de.exec(e);if(we)return{name:t,value:l.singleRegexMatchValue?we[1]:we,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?P():null};var Kt=function t(e){if(!(this instanceof t))return new t(e);if(!cs(e)){At("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Qt=Kt.prototype;Qt.instanceString=function(){return"style"};Qt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var o=a[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Qt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Qt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Qt.selector=function(t){var e=t==="core"?null:new hn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Qt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],o=r[a.name];o===void 0&&(o=r[Xi(a.name)]),o!==void 0&&this.cssRule(a.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Qt.style=Qt.css;Qt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Qt.append=function(t){return wl(t)?t.appendToStyle(this):pt(t)?this.appendFromJson(t):qe(t)&&this.appendFromString(t),this};Kt.fromJson=function(t,e){var r=new Kt(t);return r.fromJson(e),r};Kt.fromString=function(t,e){return new Kt(t).fromString(e)};[jt,ja,Ss,Fr,ao,Ls,Ut,io].forEach(function(t){_e(Qt,t)});Kt.types=Qt.types;Kt.properties=Qt.properties;Kt.propertyGroups=Qt.propertyGroups;Kt.propertyGroupNames=Qt.propertyGroupNames;Kt.propertyGroupKeys=Qt.propertyGroupKeys;var Vy={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return wl(e)?r.style=e.generateStyle(this):pt(e)?r.style=Kt.fromJson(this,e):qe(e)?r.style=Kt.fromString(this,e):r.style=Kt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},qy="single",kn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=qy),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,o,i,s;switch(e.length){case 0:return r;case 1:if(qe(e[0]))return n=e[0],r[n];if(it(e[0])){if(!this._private.panningEnabled)return this;o=e[0],i=o.x,s=o.y,Oe(i)&&(r.x=i),Oe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Oe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,o,i,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:it(e)&&(s=n[0],u=s.x,l=s.y,Oe(u)&&(a.x+=u),Oe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:o=e,i=r,(o==="x"||o==="y")&&Oe(i)&&(a[o]+=i),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Oe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(qe(e)){var a=e;e=this.$(a)}else if(Xc(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else hr(e)||(e=this.mutableElements());if(!(hr(e)&&e.empty())){n=n||e.boundingBox();var i=this.width(),s=this.height(),u;if(r=Oe(r)?r:0,!isNaN(i)&&!isNaN(s)&&i>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((i-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(i-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Oe(e)&&Oe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Oe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Oe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,o,i,s=!1;if(r.zoomingEnabled||(s=!0),Oe(e)?i=e:it(e)&&(i=e.level,e.position!=null?o=Ki(e.position,a,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!r.panningEnabled&&(s=!0)),i=i>r.maxZoom?r.maxZoom:i,i=i<r.minZoom?r.minZoom:i,s||!Oe(i)||i===a||o!=null&&(!Oe(o.x)||!Oe(o.y)))return null;if(o!=null){var u=n,l=a,f=i,h={x:-f/l*(o.x-u.x)+o.x,y:-f/l*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:f,pan:h}}else return{zoomed:!0,panned:!1,zoom:i,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,o=[],i=!1,s=!1;if(!e)return this;if(Oe(e.zoom)||(n=!1),it(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?i=!0:(r.zoom=u,o.push("zoom"))}if(a&&(!i||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;Oe(l.x)&&(r.pan.x=l.x,s=!1),Oe(l.y)&&(r.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(qe(e)){var n=e;e=this.mutableElements().filter(n)}else hr(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),o=this.width(),i=this.height();r=r===void 0?this._private.zoom:r;var s={x:(o-r*(a.x1+a.x2))/2,y:(i-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),o=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-o("padding-left")-o("padding-right"),height:r.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};kn.centre=kn.center;kn.autolockNodes=kn.autolock;kn.autoungrabifyNodes=kn.autoungrabify;var Xa={data:ft.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ft.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ft.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ft.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Xa.attr=Xa.data;Xa.removeAttr=Xa.removeData;var Wa=function(e){var r=this;e=_e({},e);var n=e.container;n&&!Pi(n)&&Pi(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var o=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var i=Nt!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=_e({name:i?"grid":"null"},s.layout),s.renderer=_e({name:i?"canvas":"null"},s.renderer);var u=function(v,m,w){return m!==void 0?m:w!==void 0?w:v},l=this._private={container:n,ready:!1,options:s,elements:new Yt(this),listeners:[],aniEles:new Yt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?i:s.styleEnabled,zoom:Oe(s.zoom)?s.zoom:1,pan:{x:it(s.pan)&&Oe(s.pan.x)?s.pan.x:0,y:it(s.pan)&&Oe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(v,m){var w=v.some(Wc);if(w)return oa.all(v).then(m);m(v)};l.styleEnabled&&r.setStyle([]);var h=_e({},s,s.renderer);r.initRenderer(h);var p=function(v,m,w){r.notifications(!1);var b=r.mutableElements();b.length>0&&b.remove(),v!=null&&(it(v)||pt(v))&&r.add(v),r.one("layoutready",function(E){r.notifications(!0),r.emit(E),r.one("load",m),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var T=_e({},r._private.options.layout);T.eles=r.elements(),r.layout(T).run()};f([s.style,s.elements],function(g){var v=g[0],m=g[1];l.styleEnabled&&r.style().append(v),p(m,function(){r.startAnimationLoop(),l.ready=!0,Ct(s.ready)&&r.on("ready",s.ready);for(var w=0;w<o.length;w++){var b=o[w];r.on("ready",b)}a&&(a.readies=[]),r.emit("ready")},s.done)})},Hi=Wa.prototype;_e(Hi,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Nt;var r=this._private.container.ownerDocument;return r===void 0||r==null?Nt:r.defaultView||Nt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!Pi(e)&&Pi(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(_e({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Rr(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),o=function(S){return r.getElementById(S.id())};if(it(e)){if(r.startBatch(),e.elements){var i={},s=function(S,A){for(var I=[],d=[],L=0;L<S.length;L++){var D=S[L];if(!D.data.id){ct("cy.json() cannot handle elements without an ID attribute");continue}var N=""+D.data.id,P=r.getElementById(N);i[N]=!0,P.length!==0?d.push({ele:P,json:D}):(A&&(D.group=A),I.push(D))}r.add(I);for(var F=0;F<d.length;F++){var z=d[F],k=z.ele,H=z.json;k.json(H)}};if(pt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],h=e.elements[f];pt(h)&&s(h,f)}var p=r.collection();a.filter(function(E){return!i[E.id()]}).forEach(function(E){E.isParent()?p.merge(E):E.remove()}),p.forEach(function(E){return E.children().move({parent:null})}),p.forEach(function(E){return o(E).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<g.length;v++){var m=g[v];e[m]!=null&&r[m](e[m])}return r.endBatch(),this}else{var w=!!e,b={};w?b.elements=this.elements().map(function(E){return E.json()}):(b.elements={},a.forEach(function(E){var S=E.group();b.elements[S]||(b.elements[S]=[]),b.elements[S].push(E.json())})),this._private.styleEnabled&&(b.style=r.style().json()),b.data=Rr(r.data());var T=n.options;return b.zoomingEnabled=n.zoomingEnabled,b.userZoomingEnabled=n.userZoomingEnabled,b.zoom=n.zoom,b.minZoom=n.minZoom,b.maxZoom=n.maxZoom,b.panningEnabled=n.panningEnabled,b.userPanningEnabled=n.userPanningEnabled,b.pan=Rr(n.pan),b.boxSelectionEnabled=n.boxSelectionEnabled,b.renderer=Rr(T.renderer),b.hideEdgesOnViewport=T.hideEdgesOnViewport,b.textureOnViewport=T.textureOnViewport,b.wheelSensitivity=T.wheelSensitivity,b.motionBlur=T.motionBlur,b.multiClickDebounceTime=T.multiClickDebounceTime,b}}});Hi.$id=Hi.getElementById;[Iy,Fy,xf,jo,Oi,Gy,Jo,Mi,Vy,kn,Xa].forEach(function(t){_e(Hi,t)});var Yy={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Xy={maximal:!1,acyclic:!1},Xn=function(e){return e.scratch("breadthfirst")},Xu=function(e,r){return e.scratch("breadthfirst",r)};function Tf(t){this.options=_e({},Yy,Xy,t)}Tf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(Ce){return!Ce.isParent()}),o=n,i=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,u=fr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(hr(e.roots))l=e.roots;else if(pt(e.roots)){for(var f=[],h=0;h<e.roots.length;h++){var p=e.roots[h],g=r.getElementById(p);f.push(g)}l=r.collection(f)}else if(qe(e.roots))l=r.$(e.roots);else if(i)l=a.roots();else{var v=n.components();l=r.collection();for(var m=function(pe){var be=v[pe],De=be.maxDegree(!1),Ee=be.filter(function(Me){return Me.degree(!1)===De});l=l.add(Ee)},w=0;w<v.length;w++)m(w)}var b=[],T={},E=function(pe,be){b[be]==null&&(b[be]=[]);var De=b[be].length;b[be].push(pe),Xu(pe,{index:De,depth:be})},S=function(pe,be){var De=Xn(pe),Ee=De.depth,Me=De.index;b[Ee][Me]=null,E(pe,be)};o.bfs({roots:l,directed:e.directed,visit:function(pe,be,De,Ee,Me){var Xe=pe[0],Ye=Xe.id();E(Xe,Me),T[Ye]=!0}});for(var A=[],I=0;I<a.length;I++){var d=a[I];T[d.id()]||A.push(d)}var L=function(pe){for(var be=b[pe],De=0;De<be.length;De++){var Ee=be[De];if(Ee==null){be.splice(De,1),De--;continue}Xu(Ee,{depth:pe,index:De})}},D=function(){for(var pe=0;pe<b.length;pe++)L(pe)},N=function(pe,be){for(var De=Xn(pe),Ee=pe.incomers().filter(function(B){return B.isNode()&&n.has(B)}),Me=-1,Xe=pe.id(),Ye=0;Ye<Ee.length;Ye++){var Re=Ee[Ye],Ue=Xn(Re);Me=Math.max(Me,Ue.depth)}if(De.depth<=Me){if(!e.acyclic&&be[Xe])return null;var me=Me+1;return S(pe,me),be[Xe]=me,!0}return!1};if(i&&s){var P=[],F={},z=function(pe){return P.push(pe)},k=function(){return P.shift()};for(a.forEach(function(Ce){return P.push(Ce)});P.length>0;){var H=k(),q=N(H,F);if(q)H.outgoers().filter(function(Ce){return Ce.isNode()&&n.has(Ce)}).forEach(z);else if(q===null){ct("Detected double maximal shift for node `"+H.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var U=0;if(e.avoidOverlap)for(var X=0;X<a.length;X++){var W=a[X],Q=W.layoutDimensions(e),K=Q.w,$=Q.h;U=Math.max(U,K,$)}var ee={},oe=function(pe){if(ee[pe.id()])return ee[pe.id()];for(var be=Xn(pe).depth,De=pe.neighborhood(),Ee=0,Me=0,Xe=0;Xe<De.length;Xe++){var Ye=De[Xe];if(!(Ye.isEdge()||Ye.isParent()||!a.has(Ye))){var Re=Xn(Ye);if(Re!=null){var Ue=Re.index,me=Re.depth;if(!(Ue==null||me==null)){var B=b[me].length;me<be&&(Ee+=Ue/B,Me++)}}}}return Me=Math.max(1,Me),Ee=Ee/Me,Me===0&&(Ee=0),ee[pe.id()]=Ee,Ee},ce=function(pe,be){var De=oe(pe),Ee=oe(be),Me=De-Ee;return Me===0?xl(pe.id(),be.id()):Me};e.depthSort!==void 0&&(ce=e.depthSort);for(var de=0;de<b.length;de++)b[de].sort(ce),L(de);for(var we=[],fe=0;fe<A.length;fe++)we.push(A[fe]);b.unshift(we),D();for(var j=0,ae=0;ae<b.length;ae++)j=Math.max(b[ae].length,j);var he={x:u.x1+u.w/2,y:u.x1+u.h/2},Le=b.reduce(function(Ce,pe){return Math.max(Ce,pe.length)},0),Fe=function(pe){var be=Xn(pe),De=be.depth,Ee=be.index,Me=b[De].length,Xe=Math.max(u.w/((e.grid?Le:Me)+1),U),Ye=Math.max(u.h/(b.length+1),U),Re=Math.min(u.w/2/b.length,u.h/2/b.length);if(Re=Math.max(Re,U),e.circle){var me=Re*De+Re-(b.length>0&&b[0].length<=3?Re/2:0),B=2*Math.PI/b[De].length*Ee;return De===0&&b[0].length===1&&(me=1),{x:he.x+me*Math.cos(B),y:he.y+me*Math.sin(B)}}else{var Ue={x:he.x+(Ee+1-(Me+1)/2)*Xe,y:(De+1)*Ye};return Ue}};return n.nodes().layoutPositions(this,e,Fe),this};var Wy={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Cf(t){this.options=_e({},Wy,t)}Cf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var i=fr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:i.x1+i.w/2,y:i.y1+i.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=u/Math.max(1,o.length-1),f,h=0,p=0;p<o.length;p++){var g=o[p],v=g.layoutDimensions(e),m=v.w,w=v.h;h=Math.max(h,m,w)}if(Oe(e.radius)?f=e.radius:o.length<=1?f=0:f=Math.min(i.h,i.w)/2-h,o.length>1&&e.avoidOverlap){h*=1.75;var b=Math.cos(l)-Math.cos(0),T=Math.sin(l)-Math.sin(0),E=Math.sqrt(h*h/(b*b+T*T));f=Math.max(E,f)}var S=function(I,d){var L=e.startAngle+d*l*(a?1:-1),D=f*Math.cos(L),N=f*Math.sin(L),P={x:s.x+D,y:s.y+N};return P};return n.nodes().layoutPositions(this,e,S),this};var _y={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Df(t){this.options=_e({},_y,t)}Df.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,o=a.nodes().not(":parent"),i=fr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:i.x1+i.w/2,y:i.y1+i.h/2},u=[],l=0,f=0;f<o.length;f++){var h=o[f],p=void 0;p=e.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var g=0;g<o.length;g++){var v=o[g],m=v.layoutDimensions(e);l=Math.max(l,m.w,m.h)}u.sort(function(Ce,pe){return pe.value-Ce.value});for(var w=e.levelWidth(o),b=[[]],T=b[0],E=0;E<u.length;E++){var S=u[E];if(T.length>0){var A=Math.abs(T[0].value-S.value);A>=w&&(T=[],b.push(T))}T.push(S)}var I=l+e.minNodeSpacing;if(!e.avoidOverlap){var d=b.length>0&&b[0].length>1,L=Math.min(i.w,i.h)/2-I,D=L/(b.length+d?1:0);I=Math.min(I,D)}for(var N=0,P=0;P<b.length;P++){var F=b[P],z=e.sweep===void 0?2*Math.PI-2*Math.PI/F.length:e.sweep,k=F.dTheta=z/Math.max(1,F.length-1);if(F.length>1&&e.avoidOverlap){var H=Math.cos(k)-Math.cos(0),q=Math.sin(k)-Math.sin(0),U=Math.sqrt(I*I/(H*H+q*q));N=Math.max(U,N)}F.r=N,N+=I}if(e.equidistant){for(var X=0,W=0,Q=0;Q<b.length;Q++){var K=b[Q],$=K.r-W;X=Math.max(X,$)}W=0;for(var ee=0;ee<b.length;ee++){var oe=b[ee];ee===0&&(W=oe.r),oe.r=W,W+=X}}for(var ce={},de=0;de<b.length;de++)for(var we=b[de],fe=we.dTheta,j=we.r,ae=0;ae<we.length;ae++){var he=we[ae],Le=e.startAngle+(r?1:-1)*fe*ae,Fe={x:s.x+j*Math.cos(Le),y:s.y+j*Math.sin(Le)};ce[he.node.id()]=Fe}return a.nodes().layoutPositions(this,e,function(Ce){var pe=Ce.id();return ce[pe]}),this};var Go,$y={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function oo(t){this.options=_e({},$y,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var o=a.source().data("id"),i=a.target().data("id"),s=e.some(function(l){return l.data("id")===o}),u=e.some(function(l){return l.data("id")===i});return!s||!u});this.options.eles=this.options.eles.not(n)}oo.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Go=!0:Go=!1;var n=Ky(e,r,t);Go&&jy(n),t.randomize&&Jy(n);var a=Yr(),o=function(){em(n,e,t),t.fit===!0&&e.fit(t.padding)},i=function(p){return!(r.stopped||p>=t.numIter||(tm(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),g=Sf(n,t,p);p.layoutPositions(r,t,g)}},u=0,l=!0;if(t.animate===!0){var f=function h(){for(var p=0;l&&p<t.refresh;)l=i(u),u++,p++;if(!l)_u(n,t),s();else{var g=Yr();g-a>=t.animationThreshold&&o(),ki(h)}};f()}else{for(;l;)l=i(u),u++;_u(n,t),s()}return this};oo.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};oo.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ky=function(e,r,n){for(var a=n.eles.edges(),o=n.eles.nodes(),i=fr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:i.w,clientHeight:i.h,boundingBox:i},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var h=u[f],p=0;p<h.length;p++){var g=h[p];l[g.id()]=f}for(var f=0;f<s.nodeSize;f++){var v=o[f],m=v.layoutDimensions(n),w={};w.isLocked=v.locked(),w.id=v.data("id"),w.parentId=v.data("parent"),w.cmptId=l[v.id()],w.children=[],w.positionX=v.position("x"),w.positionY=v.position("y"),w.offsetX=0,w.offsetY=0,w.height=m.w,w.width=m.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(v.style("padding")),w.padRight=parseFloat(v.style("padding")),w.padTop=parseFloat(v.style("padding")),w.padBottom=parseFloat(v.style("padding")),w.nodeRepulsion=Ct(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=f}for(var b=[],T=0,E=-1,S=[],f=0;f<s.nodeSize;f++){var v=s.layoutNodes[f],A=v.parentId;A!=null?s.layoutNodes[s.idToIndex[A]].children.push(v.id):(b[++E]=v.id,S.push(v.id))}for(s.graphSet.push(S);T<=E;){var I=b[T++],d=s.idToIndex[I],g=s.layoutNodes[d],L=g.children;if(L.length>0){s.graphSet.push(L);for(var f=0;f<L.length;f++)b[++E]=L[f]}}for(var f=0;f<s.graphSet.length;f++)for(var D=s.graphSet[f],p=0;p<D.length;p++){var N=s.idToIndex[D[p]];s.indexToGraph[N]=f}for(var f=0;f<s.edgeSize;f++){var P=a[f],F={};F.id=P.data("id"),F.sourceId=P.data("source"),F.targetId=P.data("target");var z=Ct(n.idealEdgeLength)?n.idealEdgeLength(P):n.idealEdgeLength,k=Ct(n.edgeElasticity)?n.edgeElasticity(P):n.edgeElasticity,H=s.idToIndex[F.sourceId],q=s.idToIndex[F.targetId],U=s.indexToGraph[H],X=s.indexToGraph[q];if(U!=X){for(var W=Zy(F.sourceId,F.targetId,s),Q=s.graphSet[W],K=0,w=s.layoutNodes[H];Q.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],K++;for(w=s.layoutNodes[q];Q.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],K++;z*=K*n.nestingFactor}F.idealLength=z,F.elasticity=k,s.layoutEdges.push(F)}return s},Zy=function(e,r,n){var a=Qy(e,r,0,n);return 2>a.count?0:a.graph},Qy=function t(e,r,n,a){var o=a.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var i=0,s=0;s<o.length;s++){var u=o[s],l=a.idToIndex[u],f=a.layoutNodes[l].children;if(f.length!==0){var h=a.indexToGraph[a.idToIndex[f[0]]],p=t(e,r,h,a);if(p.count!==0)if(p.count===1){if(i++,i===2)break}else return p}}return{count:i,graph:n}},jy,Jy=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,o=0;o<e.nodeSize;o++){var i=e.layoutNodes[o];i.children.length===0&&!i.isLocked&&(i.positionX=Math.random()*n,i.positionY=Math.random()*a)}},Sf=function(e,r,n){var a=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(i){var s=e.layoutNodes[e.idToIndex[i.data("id")]];o.x1=Math.min(o.x1,s.positionX),o.x2=Math.max(o.x2,s.positionX),o.y1=Math.min(o.y1,s.positionY),o.y2=Math.max(o.y2,s.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(i,s){var u=e.layoutNodes[e.idToIndex[i.data("id")]];if(r.boundingBox){var l=(u.positionX-o.x1)/o.w,f=(u.positionY-o.y1)/o.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},em=function(e,r,n){var a=n.layout,o=n.eles.nodes(),i=Sf(e,n,o);o.positions(i),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},tm=function(e,r,n){rm(e,r),im(e),om(e,r),sm(e),um(e)},rm=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],o=a.length,i=0;i<o;i++)for(var s=e.layoutNodes[e.idToIndex[a[i]]],u=i+1;u<o;u++){var l=e.layoutNodes[e.idToIndex[a[u]]];nm(s,l,e,r)}},Wu=function(e){return-e+2*e*Math.random()},nm=function(e,r,n,a){var o=e.cmptId,i=r.cmptId;if(!(o!==i&&!n.isCompound)){var s=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;s===0&&u===0&&(s=Wu(l),u=Wu(l));var f=am(e,r,s,u);if(f>0)var h=a.nodeOverlap*f,p=Math.sqrt(s*s+u*u),g=h*s/p,v=h*u/p;else var m=Ui(e,s,u),w=Ui(r,-1*s,-1*u),b=w.x-m.x,T=w.y-m.y,E=b*b+T*T,p=Math.sqrt(E),h=(e.nodeRepulsion+r.nodeRepulsion)/E,g=h*b/p,v=h*T/p;e.isLocked||(e.offsetX-=g,e.offsetY-=v),r.isLocked||(r.offsetX+=g,r.offsetY+=v)}},am=function(e,r,n,a){if(n>0)var o=e.maxX-r.minX;else var o=r.maxX-e.minX;if(a>0)var i=e.maxY-r.minY;else var i=r.maxY-e.minY;return o>=0&&i>=0?Math.sqrt(o*o+i*i):0},Ui=function(e,r,n){var a=e.positionX,o=e.positionY,i=e.height||1,s=e.width||1,u=n/r,l=i/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=o+i/2,f):0<r&&-1*l<=u&&u<=l?(f.x=a+s/2,f.y=o+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=a-s/2,f.y=o-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=a+i*r/2/n,f.y=o+i/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=a-i*r/2/n,f.y=o-i/2),f)},im=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],o=e.idToIndex[a.sourceId],i=e.layoutNodes[o],s=e.idToIndex[a.targetId],u=e.layoutNodes[s],l=u.positionX-i.positionX,f=u.positionY-i.positionY;if(!(l===0&&f===0)){var h=Ui(i,l,f),p=Ui(u,-1*l,-1*f),g=p.x-h.x,v=p.y-h.y,m=Math.sqrt(g*g+v*v),w=Math.pow(a.idealLength-m,2)/a.elasticity;if(m!==0)var b=w*g/m,T=w*v/m;else var b=0,T=0;i.isLocked||(i.offsetX+=b,i.offsetY+=T),u.isLocked||(u.offsetX-=b,u.offsetY-=T)}}},om=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var o=e.graphSet[a],i=o.length;if(a===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],f=e.layoutNodes[e.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var h=0;h<i;h++){var p=e.layoutNodes[e.idToIndex[o[h]]];if(!p.isLocked){var g=s-p.positionX,v=u-p.positionY,m=Math.sqrt(g*g+v*v);if(m>n){var w=r.gravity*g/m,b=r.gravity*v/m;p.offsetX+=w,p.offsetY+=b}}}}},sm=function(e,r){var n=[],a=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;a<=o;){var i=n[a++],s=e.idToIndex[i],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,h=u.offsetY,p=0;p<l.length;p++){var g=e.layoutNodes[e.idToIndex[l[p]]];g.offsetX+=f,g.offsetY+=h,n[++o]=l[p]}u.offsetX=0,u.offsetY=0}}},um=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var o=lm(a.offsetX,a.offsetY,e.temperature);a.positionX+=o.x,a.positionY+=o.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,fm(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},lm=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var o={x:n*e/a,y:n*r/a};else var o={x:e,y:r};return o},fm=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],o=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,o=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,o=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,o=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,o=!0),o)return t(a,r)}},_u=function(e,r){for(var n=e.layoutNodes,a=[],o=0;o<n.length;o++){var i=n[o],s=i.cmptId,u=a[s]=a[s]||[];u.push(i)}for(var l=0,o=0;o<a.length;o++){var f=a[o];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var h=0;h<f.length;h++){var p=f[h];f.x1=Math.min(f.x1,p.positionX-p.width/2),f.x2=Math.max(f.x2,p.positionX+p.width/2),f.y1=Math.min(f.y1,p.positionY-p.height/2),f.y2=Math.max(f.y2,p.positionY+p.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(T,E){return E.w*E.h-T.w*T.h});for(var g=0,v=0,m=0,w=0,b=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<a.length;o++){var f=a[o];if(f){for(var h=0;h<f.length;h++){var p=f[h];p.isLocked||(p.positionX+=g-f.x1,p.positionY+=v-f.y1)}g+=f.w+r.componentSpacing,m+=f.w+r.componentSpacing,w=Math.max(w,f.h),m>b&&(v+=w+r.componentSpacing,g=0,m=0,w=0)}}},cm={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Lf(t){this.options=_e({},cm,t)}Lf.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var o=fr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:o.x1,y:o.y1}});else{var i=a.size(),s=Math.sqrt(i*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),f=function(oe){if(oe==null)return Math.min(u,l);var ce=Math.min(u,l);ce==u?u=oe:l=oe},h=function(oe){if(oe==null)return Math.max(u,l);var ce=Math.max(u,l);ce==u?u=oe:l=oe},p=e.rows,g=e.cols!=null?e.cols:e.columns;if(p!=null&&g!=null)u=p,l=g;else if(p!=null&&g==null)u=p,l=Math.ceil(i/u);else if(p==null&&g!=null)l=g,u=Math.ceil(i/l);else if(l*u>i){var v=f(),m=h();(v-1)*m>=i?f(v-1):(m-1)*v>=i&&h(m-1)}else for(;l*u<i;){var w=f(),b=h();(b+1)*w>=i?h(b+1):f(w+1)}var T=o.w/l,E=o.h/u;if(e.condense&&(T=0,E=0),e.avoidOverlap)for(var S=0;S<a.length;S++){var A=a[S],I=A._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var d=A.layoutDimensions(e),L=e.avoidOverlapPadding,D=d.w+L,N=d.h+L;T=Math.max(T,D),E=Math.max(E,N)}for(var P={},F=function(oe,ce){return!!P["c-"+oe+"-"+ce]},z=function(oe,ce){P["c-"+oe+"-"+ce]=!0},k=0,H=0,q=function(){H++,H>=l&&(H=0,k++)},U={},X=0;X<a.length;X++){var W=a[X],Q=e.position(W);if(Q&&(Q.row!==void 0||Q.col!==void 0)){var K={row:Q.row,col:Q.col};if(K.col===void 0)for(K.col=0;F(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;F(K.row,K.col);)K.row++;U[W.id()]=K,z(K.row,K.col)}}var $=function(oe,ce){var de,we;if(oe.locked()||oe.isParent())return!1;var fe=U[oe.id()];if(fe)de=fe.col*T+T/2+o.x1,we=fe.row*E+E/2+o.y1;else{for(;F(k,H);)q();de=H*T+T/2+o.x1,we=k*E+E/2+o.y1,z(k,H),q()}return{x:de,y:we}};a.layoutPositions(this,e,$)}return this};var hm={ready:function(){},stop:function(){}};function As(t){this.options=_e({},hm,t)}As.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};As.prototype.stop=function(){return this};var dm={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Af(t){this.options=_e({},dm,t)}Af.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ct(t.positions);function a(o){if(t.positions==null)return yd(o.position());if(n)return t.positions(o);var i=t.positions[o._private.data.id];return i??null}return r.layoutPositions(this,t,function(o,i){var s=a(o);return o.locked()||s==null?!1:s}),this};var vm={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Of(t){this.options=_e({},vm,t)}Of.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=fr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(i,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var gm=[{name:"breadthfirst",impl:Tf},{name:"circle",impl:Cf},{name:"concentric",impl:Df},{name:"cose",impl:oo},{name:"grid",impl:Lf},{name:"null",impl:As},{name:"preset",impl:Af},{name:"random",impl:Of}];function Mf(t){this.options=t,this.notifications=0}var $u=function(){},Ku=function(){throw new Error("A headless instance can not render images")};Mf.prototype={recalculateRenderedStyle:$u,notify:function(){this.notifications++},init:$u,isHeadless:function(){return!0},png:Ku,jpg:Ku};var Os={};Os.arrowShapeWidth=.3;Os.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,f,h,p,g,v,m){var w=g.x-h/2-m,b=g.x+h/2+m,T=g.y-h/2-m,E=g.y+h/2+m,S=w<=l&&l<=b&&T<=f&&f<=E;return S},n=function(l,f,h,p,g){var v=l*Math.cos(p)-f*Math.sin(p),m=l*Math.sin(p)+f*Math.cos(p),w=v*h,b=m*h,T=w+g.x,E=b+g.y;return{x:T,y:E}},a=function(l,f,h,p){for(var g=[],v=0;v<l.length;v+=2){var m=l[v],w=l[v+1];g.push(n(m,w,f,h,p))}return g},o=function(l){for(var f=[],h=0;h<l.length;h++){var p=l[h];f.push(p.x,p.y)}return f},i=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){qe(f)&&(f=t[f]),t[l]=_e({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,g,v,m,w,b){var T=o(a(this.points,v+2*b,m,w)),E=lr(p,g,T);return E},roughCollide:r,draw:function(p,g,v,m){var w=a(this.points,g,v,m);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:i},f)};s("none",{collide:Ri,roughCollide:Ri,draw:vs,spacing:iu,gap:iu}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,h,p,g){var v=a(this.points,f,h,p),m=this.controlPoint,w=n(m[0],m[1],f,h,p);e.arrowShapeImpl(this.name)(l,v,w)},gap:function(l){return i(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,h,p,g,v,m){var w=o(a(this.points,h+2*m,p,g)),b=o(a(this.pointsTee,h+2*m,p,g)),T=lr(l,f,w)||lr(l,f,b);return T},draw:function(l,f,h,p,g){var v=a(this.points,f,h,p),m=a(this.pointsTee,f,h,p);e.arrowShapeImpl(this.name)(l,v,m)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,h,p,g,v,m){var w=g,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2),T=o(a(this.points,h+2*m,p,g));return lr(l,f,T)||b},draw:function(l,f,h,p,g){var v=a(this.pointsTr,f,h,p);e.arrowShapeImpl(this.name)(l,v,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var h=this.baseCrossLinePts.slice(),p=f/l,g=3,v=5;return h[g]=h[g]-p,h[v]=h[v]-p,h},collide:function(l,f,h,p,g,v,m){var w=o(a(this.points,h+2*m,p,g)),b=o(a(this.crossLinePts(h,v),h+2*m,p,g)),T=lr(l,f,w)||lr(l,f,b);return T},draw:function(l,f,h,p,g){var v=a(this.points,f,h,p),m=a(this.crossLinePts(f,g),f,h,p);e.arrowShapeImpl(this.name)(l,v,m)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return i(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,h,p,g,v,m){var w=g,b=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((h+2*m)*this.radius,2);return b},draw:function(l,f,h,p,g){e.arrowShapeImpl(this.name)(l,p.x,p.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Bn={};Bn.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],o=n[1],i=n[4],s=r.pan(),u=r.zoom(),l=((t-a)/i-s.x)/u,f=((e-o)/i-s.y)/u;return[l,f]};Bn.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(b){return parseFloat(r.getPropertyValue(b))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},i=t.clientWidth,s=t.clientHeight,u=a.left+a.right,l=a.top+a.bottom,f=o.left+o.right,h=e.width/(i+f),p=i-u,g=s-l,v=e.left+a.left+o.left,m=e.top+a.top+o.top;return this.containerBB=[v,m,p,g,h]};Bn.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Bn.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Bn.findNearestElements=function(t,e,r,n){var a=this,o=this,i=o.getCachedZSortedEles(),s=[],u=o.cy.zoom(),l=o.cy.hasCompoundNodes(),f=(n?24:8)/u,h=(n?8:2)/u,p=(n?8:2)/u,g=1/0,v,m;r&&(i=i.interactive);function w(d,L){if(d.isNode()){if(m)return;m=d,s.push(d)}if(d.isEdge()&&(L==null||L<g))if(v){if(v.pstyle("z-compound-depth").value===d.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===d.pstyle("z-compound-depth").value){for(var D=0;D<s.length;D++)if(s[D].isEdge()){s[D]=d,v=d,g=L??g;break}}}else s.push(d),v=d,g=L??g}function b(d){var L=d.outerWidth()+2*h,D=d.outerHeight()+2*h,N=L/2,P=D/2,F=d.position(),z=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue,k=d._private.rscratch;if(F.x-N<=t&&t<=F.x+N&&F.y-P<=e&&e<=F.y+P){var H=o.nodeShapes[a.getNodeShape(d)];if(H.checkPoint(t,e,0,L,D,F.x,F.y,z,k))return w(d,0),!0}}function T(d){var L=d._private,D=L.rscratch,N=d.pstyle("width").pfValue,P=d.pstyle("arrow-scale").value,F=N/2+f,z=F*F,k=F*2,X=L.source,W=L.target,H;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var q=D.allpts,U=0;U+3<q.length;U+=2)if(Md(t,e,q[U],q[U+1],q[U+2],q[U+3],k)&&z>(H=Rd(t,e,q[U],q[U+1],q[U+2],q[U+3])))return w(d,H),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var q=D.allpts,U=0;U+5<D.allpts.length;U+=4)if(Nd(t,e,q[U],q[U+1],q[U+2],q[U+3],q[U+4],q[U+5],k)&&z>(H=kd(t,e,q[U],q[U+1],q[U+2],q[U+3],q[U+4],q[U+5])))return w(d,H),!0}for(var X=X||L.source,W=W||L.target,Q=a.getArrowWidth(N,P),K=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],U=0;U<K.length;U++){var $=K[U],ee=o.arrowShapes[d.pstyle($.name+"-arrow-shape").value],oe=d.pstyle("width").pfValue;if(ee.roughCollide(t,e,Q,$.angle,{x:$.x,y:$.y},oe,f)&&ee.collide(t,e,Q,$.angle,{x:$.x,y:$.y},oe,f))return w(d),!0}l&&s.length>0&&(b(X),b(W))}function E(d,L,D){return Dr(d,L,D)}function S(d,L){var D=d._private,N=p,P;L?P=L+"-":P="",d.boundingBox();var F=D.labelBounds[L||"main"],z=d.pstyle(P+"label").value,k=d.pstyle("text-events").strValue==="yes";if(!(!k||!z)){var H=E(D.rscratch,"labelX",L),q=E(D.rscratch,"labelY",L),U=E(D.rscratch,"labelAngle",L),X=d.pstyle(P+"text-margin-x").pfValue,W=d.pstyle(P+"text-margin-y").pfValue,Q=F.x1-N-X,K=F.x2+N-X,$=F.y1-N-W,ee=F.y2+N-W;if(U){var oe=Math.cos(U),ce=Math.sin(U),de=function(Fe,Ce){return Fe=Fe-H,Ce=Ce-q,{x:Fe*oe-Ce*ce+H,y:Fe*ce+Ce*oe+q}},we=de(Q,$),fe=de(Q,ee),j=de(K,$),ae=de(K,ee),he=[we.x+X,we.y+W,j.x+X,j.y+W,ae.x+X,ae.y+W,fe.x+X,fe.y+W];if(lr(t,e,he))return w(d),!0}else if(ra(F,t,e))return w(d),!0}}for(var A=i.length-1;A>=0;A--){var I=i[A];I.isNode()?b(I)||S(I):T(I)||S(I)||S(I,"source")||S(I,"target")}return s};Bn.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,o=[],i=Math.min(t,r),s=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=i,r=s,e=u,n=l;for(var f=fr({x1:t,y1:e,x2:r,y2:n}),h=0;h<a.length;h++){var p=a[h];if(p.isNode()){var g=p,v=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ys(f,v)&&!zl(v,f)&&o.push(g)}else{var m=p,w=m._private,b=w.rscratch;if(b.startX!=null&&b.startY!=null&&!ra(f,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!ra(f,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var T=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,E=!0,S=0;S<T.length;S++)if(!Od(f,T[S])){E=!1;break}E&&o.push(m)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&o.push(m)}}return o};var Vi={};Vi.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",o=e.edgeType==="segments",i=e.edgeType==="compound",s=e.edgeType==="self",u,l,f,h,p,g,b,T;if(r?(f=e.haystackPts[0],h=e.haystackPts[1],p=e.haystackPts[2],g=e.haystackPts[3]):(f=e.arrowStartX,h=e.arrowStartY,p=e.arrowEndX,g=e.arrowEndY),b=e.midX,T=e.midY,o)u=f-e.segpts[0],l=h-e.segpts[1];else if(a||i||s||n){var v=e.allpts,m=Ft(v[0],v[2],v[4],.1),w=Ft(v[1],v[3],v[5],.1);u=f-m,l=h-w}else u=f-b,l=h-T;e.srcArrowAngle=di(u,l);var b=e.midX,T=e.midY;if(r&&(b=(f+p)/2,T=(h+g)/2),u=p-f,l=g-h,o){var v=e.allpts;if(v.length/2%2===0){var E=v.length/2,S=E-2;u=v[E]-v[S],l=v[E+1]-v[S+1]}else if(e.isRound)u=e.midVector[1],l=-e.midVector[0];else{var E=v.length/2-1,S=E-2;u=v[E]-v[S],l=v[E+1]-v[S+1]}}else if(a||i||s){var v=e.allpts,A=e.ctrlpts,I,d,L,D;if(A.length/2%2===0){var N=v.length/2-1,P=N+2,F=P+2;I=Ft(v[N],v[P],v[F],0),d=Ft(v[N+1],v[P+1],v[F+1],0),L=Ft(v[N],v[P],v[F],1e-4),D=Ft(v[N+1],v[P+1],v[F+1],1e-4)}else{var P=v.length/2-1,N=P-2,F=P+2;I=Ft(v[N],v[P],v[F],.4999),d=Ft(v[N+1],v[P+1],v[F+1],.4999),L=Ft(v[N],v[P],v[F],.5),D=Ft(v[N+1],v[P+1],v[F+1],.5)}u=L-I,l=D-d}if(e.midtgtArrowAngle=di(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,o){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var E=v.length/2-1,z=E+2;u=-(v[z]-v[E]),l=-(v[z+1]-v[E+1])}}}if(e.midsrcArrowAngle=di(u,l),o)u=p-e.segpts[e.segpts.length-2],l=g-e.segpts[e.segpts.length-1];else if(a||i||s||n){var v=e.allpts,k=v.length,m=Ft(v[k-6],v[k-4],v[k-2],.9),w=Ft(v[k-5],v[k-3],v[k-1],.9);u=p-m,l=g-w}else u=p-b,l=g-T;e.tgtArrowAngle=di(u,l)};Vi.getArrowWidth=Vi.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var es,ts,kr={},yr={},Zu,Qu,Ln,Ni,qr,Tn,Sn,Pr,Wn,xi,Nf,If,rs,ns,ju,Ju=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},pm=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},ym=function(e,r,n,a,o){if(e!==ju?Ju(r,e,kr):pm(yr,kr),Ju(r,n,yr),Zu=kr.nx*yr.ny-kr.ny*yr.nx,Qu=kr.nx*yr.nx-kr.ny*-yr.ny,qr=Math.asin(Math.max(-1,Math.min(1,Zu))),Math.abs(qr)<1e-6){es=r.x,ts=r.y,Sn=Wn=0;return}Ln=1,Ni=!1,Qu<0?qr<0?qr=Math.PI+qr:(qr=Math.PI-qr,Ln=-1,Ni=!0):qr>0&&(Ln=-1,Ni=!0),r.radius!==void 0?Wn=r.radius:Wn=a,Tn=qr/2,xi=Math.min(kr.len/2,yr.len/2),o?(Pr=Math.abs(Math.cos(Tn)*Wn/Math.sin(Tn)),Pr>xi?(Pr=xi,Sn=Math.abs(Pr*Math.sin(Tn)/Math.cos(Tn))):Sn=Wn):(Pr=Math.min(xi,Wn),Sn=Math.abs(Pr*Math.sin(Tn)/Math.cos(Tn))),rs=r.x+yr.nx*Pr,ns=r.y+yr.ny*Pr,es=rs-yr.ny*Sn*Ln,ts=ns+yr.nx*Sn*Ln,Nf=r.x+kr.nx*Pr,If=r.y+kr.ny*Pr,ju=r};function Pf(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Ms(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(ym(t,e,r,n,a),{cx:es,cy:ts,radius:Sn,startX:Nf,startY:If,stopX:rs,stopY:ns,startAngle:kr.ang+Math.PI/2*Ln,endAngle:yr.ang-Math.PI/2*Ln,counterClockwise:Ni})}var Jt={};Jt.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,o,i=t.pstyle("source-endpoint"),s=t.pstyle("target-endpoint"),u=i.units!=null&&s.units!=null,l=function(A,I,d,L){var D=L-I,N=d-A,P=Math.sqrt(N*N+D*D);return{x:-D/P,y:N/P}},f=t.pstyle("edge-distances").value;switch(f){case"node-position":o=r;break;case"intersection":o=n;break;case"endpoints":{if(u){var h=this.manualEndptToPx(t.source()[0],i),p=Tr(h,2),g=p[0],v=p[1],m=this.manualEndptToPx(t.target()[0],s),w=Tr(m,2),b=w[0],T=w[1],E={x1:g,y1:v,x2:b,y2:T};a=l(g,v,b,T),o=E}else ct("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=n;break}}return{midptPts:o,vectorNormInverse:a}};Jt.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var o=Math.random()*2*Math.PI;a.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,a.target={x:Math.cos(o),y:Math.sin(o)}}var i=n.source,s=n.target,u=i.position(),l=s.position(),f=i.width(),h=s.width(),p=i.height(),g=s.height(),v=r.pstyle("haystack-radius").value,m=v/2;a.haystackPts=a.allpts=[a.source.x*f*m+u.x,a.source.y*p*m+u.y,a.target.x*h*m+l.x,a.target.y*g*m+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Jt.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),o=t.pstyle("segment-radii"),i=t.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),u=o.pfValue[o.pfValue.length-1],l=i.pfValue[i.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<s;f++){var h=n.pfValue[f],p=a.pfValue[f],g=1-h,v=h,m=this.findMidptPtsEtc(t,e),w=m.midptPts,b=m.vectorNormInverse,T={x:w.x1*g+w.x2*v,y:w.y1*g+w.y2*v};r.segpts.push(T.x+b.x*p,T.y+b.y*p),r.radii.push(o.pfValue[f]!==void 0?o.pfValue[f]:u),r.isArcRadius.push((i.pfValue[f]!==void 0?i.pfValue[f]:l)==="arc-radius")}};Jt.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,o=e.dirCounts,i=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var p=r,g=h;n&&(p=0,g=u);var v=l-Math.PI/2,m=v-f/2,w=v+f/2,b=l+"_"+f;p=o[b]===void 0?o[b]=0:++o[b],a.ctrlpts=[i.x+Math.cos(m)*1.4*g*(p/3+1),i.y+Math.sin(m)*1.4*g*(p/3+1),i.x+Math.cos(w)*1.4*g*(p/3+1),i.y+Math.sin(w)*1.4*g*(p/3+1)]};Jt.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var o=e.srcPos,i=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),g=p?p.pfValue[0]:void 0,v=r,m=h;n&&(v=0,m=g);var w=50,b={x:o.x-s/2,y:o.y-u/2},T={x:i.x-l/2,y:i.y-f/2},E={x:Math.min(b.x,T.x),y:Math.min(b.y,T.y)},S=.5,A=Math.max(S,Math.log(s*.01)),I=Math.max(S,Math.log(l*.01));a.ctrlpts=[E.x,E.y-(1+Math.pow(w,1.12)/100)*m*(v/3+1)*A,E.x-(1+Math.pow(w,1.12)/100)*m*(v/3+1)*I,E.y]};Jt.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Jt.findBezierPoints=function(t,e,r,n,a){var o=t._private.rscratch,i=t.pstyle("control-point-step-size").pfValue,s=t.pstyle("control-point-distances"),u=t.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,f=s?s.pfValue[0]:void 0,h=u.value[0],p=n;o.edgeType=p?"multibezier":"bezier",o.ctrlpts=[];for(var g=0;g<l;g++){var v=(.5-e.eles.length/2+r)*i*(a?-1:1),m=void 0,w=Bl(v);p&&(f=s?s.pfValue[g]:i,h=u.value[g]),n?m=f:m=f!==void 0?w*f:void 0;var b=m!==void 0?m:v,T=1-h,E=h,S=this.findMidptPtsEtc(t,e),A=S.midptPts,I=S.vectorNormInverse,d={x:A.x1*T+A.x2*E,y:A.y1*T+A.y2*E};o.ctrlpts.push(d.x+I.x*b,d.y+I.y*b)}};Jt.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",o="leftward",i="rightward",s="downward",u="upward",l="auto",f=e.posPts,h=e.srcW,p=e.srcH,g=e.tgtW,v=e.tgtH,m=t.pstyle("edge-distances").value,w=m!=="node-position",b=t.pstyle("taxi-direction").value,T=b,E=t.pstyle("taxi-turn"),S=E.units==="%",A=E.pfValue,I=A<0,d=t.pstyle("taxi-turn-min-distance").pfValue,L=w?(h+g)/2:0,D=w?(p+v)/2:0,N=f.x2-f.x1,P=f.y2-f.y1,F=function(ze,Ge){return ze>0?Math.max(ze-Ge,0):Math.min(ze+Ge,0)},z=F(N,L),k=F(P,D),H=!1;T===l?b=Math.abs(z)>Math.abs(k)?a:n:T===u||T===s?(b=n,H=!0):(T===o||T===i)&&(b=a,H=!0);var q=b===n,U=q?k:z,X=q?P:N,W=Bl(X),Q=!1;!(H&&(S||I))&&(T===s&&X<0||T===u&&X>0||T===o&&X>0||T===i&&X<0)&&(W*=-1,U=W*Math.abs(U),Q=!0);var K;if(S){var $=A<0?1+A:A;K=$*U}else{var ee=A<0?U:0;K=ee+A*W}var oe=function(ze){return Math.abs(ze)<d||Math.abs(ze)>=Math.abs(U)},ce=oe(K),de=oe(Math.abs(U)-Math.abs(K)),we=ce||de;if(we&&!Q)if(q){var fe=Math.abs(X)<=p/2,j=Math.abs(N)<=g/2;if(fe){var ae=(f.x1+f.x2)/2,he=f.y1,Le=f.y2;r.segpts=[ae,he,ae,Le]}else if(j){var Fe=(f.y1+f.y2)/2,Ce=f.x1,pe=f.x2;r.segpts=[Ce,Fe,pe,Fe]}else r.segpts=[f.x1,f.y2]}else{var be=Math.abs(X)<=h/2,De=Math.abs(P)<=v/2;if(be){var Ee=(f.y1+f.y2)/2,Me=f.x1,Xe=f.x2;r.segpts=[Me,Ee,Xe,Ee]}else if(De){var Ye=(f.x1+f.x2)/2,Re=f.y1,Ue=f.y2;r.segpts=[Ye,Re,Ye,Ue]}else r.segpts=[f.x2,f.y1]}else if(q){var me=f.y1+K+(w?p/2*W:0),B=f.x1,J=f.x2;r.segpts=[B,me,J,me]}else{var ye=f.x1+K+(w?h/2*W:0),ue=f.y1,se=f.y2;r.segpts=[ye,ue,ye,se]}if(r.isRound){var Se=t.pstyle("taxi-radius").value,le=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Se),r.isArcRadius=new Array(r.segpts.length/2).fill(le)}};Jt.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,o=e.srcW,i=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,f=e.tgtShape,h=e.srcCornerRadius,p=e.tgtCornerRadius,g=e.srcRs,v=e.tgtRs,m=!Oe(r.startX)||!Oe(r.startY),w=!Oe(r.arrowStartX)||!Oe(r.arrowStartY),b=!Oe(r.endX)||!Oe(r.endY),T=!Oe(r.arrowEndX)||!Oe(r.arrowEndY),E=3,S=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=E*S,I=Nn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),d=I<A,L=Nn({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),D=L<A,N=!1;if(m||w||d){N=!0;var P={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},F=Math.sqrt(P.x*P.x+P.y*P.y),z={x:P.x/F,y:P.y/F},k=Math.max(o,i),H={x:r.ctrlpts[0]+z.x*2*k,y:r.ctrlpts[1]+z.y*2*k},q=l.intersectLine(n.x,n.y,o,i,H.x,H.y,0,h,g);d?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(A-I),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(A-I)):(r.ctrlpts[0]=q[0]+z.x*A,r.ctrlpts[1]=q[1]+z.y*A)}if(b||T||D){N=!0;var U={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},X=Math.sqrt(U.x*U.x+U.y*U.y),W={x:U.x/X,y:U.y/X},Q=Math.max(o,i),K={x:r.ctrlpts[0]+W.x*2*Q,y:r.ctrlpts[1]+W.y*2*Q},$=f.intersectLine(a.x,a.y,s,u,K.x,K.y,0,p,v);D?(r.ctrlpts[0]=r.ctrlpts[0]+W.x*(A-L),r.ctrlpts[1]=r.ctrlpts[1]+W.y*(A-L)):(r.ctrlpts[0]=$[0]+W.x*A,r.ctrlpts[1]=$[1]+W.y*A)}N&&this.findEndpoints(t)}};Jt.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Ft(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Ft(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var i=e.radii[o/2-1],s=e.isArcRadius[o/2-1];e.roundCorners.push(Ms({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:i},{x:e.allpts[o+2],y:e.allpts[o+3]},i,s))}}if(e.segpts.length%4===0){var u=e.segpts.length/2,l=u-2;e.midX=(e.segpts[l]+e.segpts[u])/2,e.midY=(e.segpts[l+1]+e.segpts[u+1])/2}else{var f=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[f],e.midY=e.segpts[f+1];else{var h={x:e.segpts[f],y:e.segpts[f+1]},p=e.roundCorners[f/2],g=[h.x-p.cx,h.y-p.cy],v=p.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(m){return m*v}),e.midX=p.cx+g[0],e.midY=p.cy+g[1],e.midVector=g}}}};Jt.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Oe(e.startX)&&Oe(e.startY)&&Oe(e.endX)&&Oe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ct("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Jt.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),o={map:new Br,get:function(d){var L=this.map.get(d[0]);return L!=null?L.get(d[1]):null},set:function(d,L){var D=this.map.get(d[0]);D==null&&(D=new Br,this.map.set(d[0],D)),D.set(d[1],L)}},i=[],s=[],u=0;u<t.length;u++){var l=t[u],f=l._private,h=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(h==="haystack"){s.push(l);continue}var p=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),g=h==="unbundled-bezier"||h==="bezier",v=f.source,m=f.target,w=v.poolIndex(),b=m.poolIndex(),T=[w,b].sort(),E=o.get(T);E==null&&(E={eles:[]},o.set(T,E),i.push(T)),E.eles.push(l),p&&(E.hasUnbundled=!0),g&&(E.hasBezier=!0)}}for(var S=function(d){var L=i[d],D=o.get(L),N=void 0;if(!D.hasUnbundled){var P=D.eles[0].parallelEdges().filter(function(ye){return ye.isBundledBezier()});gs(D.eles),P.forEach(function(ye){return D.eles.push(ye)}),D.eles.sort(function(ye,ue){return ye.poolIndex()-ue.poolIndex()})}var F=D.eles[0],z=F.source(),k=F.target();if(z.poolIndex()>k.poolIndex()){var H=z;z=k,k=H}var q=D.srcPos=z.position(),U=D.tgtPos=k.position(),X=D.srcW=z.outerWidth(),W=D.srcH=z.outerHeight(),Q=D.tgtW=k.outerWidth(),K=D.tgtH=k.outerHeight(),$=D.srcShape=r.nodeShapes[e.getNodeShape(z)],ee=D.tgtShape=r.nodeShapes[e.getNodeShape(k)],oe=D.srcCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,ce=D.tgtCornerRadius=k.pstyle("corner-radius").value==="auto"?"auto":k.pstyle("corner-radius").pfValue,de=D.tgtRs=k._private.rscratch,we=D.srcRs=z._private.rscratch;D.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var fe=0;fe<D.eles.length;fe++){var j=D.eles[fe],ae=j[0]._private.rscratch,he=j.pstyle("curve-style").value,Le=he==="unbundled-bezier"||he.endsWith("segments")||he.endsWith("taxi"),Fe=!z.same(j.source());if(!D.calculatedIntersection&&z!==k&&(D.hasBezier||D.hasUnbundled)){D.calculatedIntersection=!0;var Ce=$.intersectLine(q.x,q.y,X,W,U.x,U.y,0,oe,we),pe=D.srcIntn=Ce,be=ee.intersectLine(U.x,U.y,Q,K,q.x,q.y,0,ce,de),De=D.tgtIntn=be,Ee=D.intersectionPts={x1:Ce[0],x2:be[0],y1:Ce[1],y2:be[1]},Me=D.posPts={x1:q.x,x2:U.x,y1:q.y,y2:U.y},Xe=be[1]-Ce[1],Ye=be[0]-Ce[0],Re=Math.sqrt(Ye*Ye+Xe*Xe),Ue=D.vector={x:Ye,y:Xe},me=D.vectorNorm={x:Ue.x/Re,y:Ue.y/Re},B={x:-me.y,y:me.x};D.nodesOverlap=!Oe(Re)||ee.checkPoint(Ce[0],Ce[1],0,Q,K,U.x,U.y,ce,de)||$.checkPoint(be[0],be[1],0,X,W,q.x,q.y,oe,we),D.vectorNormInverse=B,N={nodesOverlap:D.nodesOverlap,dirCounts:D.dirCounts,calculatedIntersection:!0,hasBezier:D.hasBezier,hasUnbundled:D.hasUnbundled,eles:D.eles,srcPos:U,tgtPos:q,srcW:Q,srcH:K,tgtW:X,tgtH:W,srcIntn:De,tgtIntn:pe,srcShape:ee,tgtShape:$,posPts:{x1:Me.x2,y1:Me.y2,x2:Me.x1,y2:Me.y1},intersectionPts:{x1:Ee.x2,y1:Ee.y2,x2:Ee.x1,y2:Ee.y1},vector:{x:-Ue.x,y:-Ue.y},vectorNorm:{x:-me.x,y:-me.y},vectorNormInverse:{x:-B.x,y:-B.y}}}var J=Fe?N:D;ae.nodesOverlap=J.nodesOverlap,ae.srcIntn=J.srcIntn,ae.tgtIntn=J.tgtIntn,ae.isRound=he.startsWith("round"),a&&(z.isParent()||z.isChild()||k.isParent()||k.isChild())&&(z.parents().anySame(k)||k.parents().anySame(z)||z.same(k)&&z.isParent())?e.findCompoundLoopPoints(j,J,fe,Le):z===k?e.findLoopPoints(j,J,fe,Le):he.endsWith("segments")?e.findSegmentsPoints(j,J):he.endsWith("taxi")?e.findTaxiPoints(j,J):he==="straight"||!Le&&D.eles.length%2===1&&fe===Math.floor(D.eles.length/2)?e.findStraightEdgePoints(j):e.findBezierPoints(j,J,fe,Le,Fe),e.findEndpoints(j),e.tryToCorrectInvalidPoints(j,J),e.checkForInvalidEdgeWarning(j),e.storeAllpts(j),e.storeEdgeProjections(j),e.calculateArrowAngles(j),e.recalculateEdgeLabelProjections(j),e.calculateLabelAngles(j)}},A=0;A<i.length;A++)S(A);this.findHaystackPoints(s)}};function kf(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Jt.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),kf(e.segpts)};Jt.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),kf(e.ctrlpts)};Jt.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ja={};Ja.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),o=t.outerHeight(),i=t._private.rscratch;if(e.value.length===2){var s=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(s[0]=s[0]*a),e.units[1]==="%"&&(s[1]=s[1]*o),s[0]+=n.x,s[1]+=n.y,s}else{var u=e.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,o),f=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,o,f[0],f[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,i)}};Ja.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],o=n.position(),i=a.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,h=n._private.rscratch,p=a._private.rscratch,g=t.pstyle("curve-style").value,v=t._private.rscratch,m=v.edgeType,w=g==="taxi",b=m==="self"||m==="compound",T=m==="bezier"||m==="multibezier"||b,E=m!=="bezier",S=m==="straight"||m==="segments",A=m==="segments",I=T||E||S,d=b||w,L=t.pstyle("source-endpoint"),D=d?"outside-to-node":L.value,N=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,P=t.pstyle("target-endpoint"),F=d?"outside-to-node":P.value,z=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;v.srcManEndpt=L,v.tgtManEndpt=P;var k,H,q,U;if(T){var X=[v.ctrlpts[0],v.ctrlpts[1]],W=E?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:X;k=W,H=X}else if(S){var Q=A?v.segpts.slice(0,2):[i.x,i.y],K=A?v.segpts.slice(v.segpts.length-2):[o.x,o.y];k=K,H=Q}if(F==="inside-to-node")r=[i.x,i.y];else if(P.units)r=this.manualEndptToPx(a,P);else if(F==="outside-to-line")r=v.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?q=k:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(q=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(i.x,i.y,a.outerWidth(),a.outerHeight(),q[0],q[1],0,z,p),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var $=a._private.rscratch,ee=$.labelWidth,oe=$.labelHeight,ce=$.labelX,de=$.labelY,we=ee/2,fe=oe/2,j=a.pstyle("text-valign").value;j==="top"?de-=fe:j==="bottom"&&(de+=fe);var ae=a.pstyle("text-halign").value;ae==="left"?ce-=we:ae==="right"&&(ce+=we);var he=Ua(q[0],q[1],[ce-we,de-fe,ce+we,de-fe,ce+we,de+fe,ce-we,de+fe],i.x,i.y);if(he.length>0){var Le=o,Fe=Cn(Le,Kn(r)),Ce=Cn(Le,Kn(he)),pe=Fe;if(Ce<Fe&&(r=he,pe=Ce),he.length>2){var be=Cn(Le,{x:he[2],y:he[3]});be<pe&&(r=[he[2],he[3]])}}}var De=vi(r,k,e.arrowShapes[s].spacing(t)+l),Ee=vi(r,k,e.arrowShapes[s].gap(t)+l);if(v.endX=Ee[0],v.endY=Ee[1],v.arrowEndX=De[0],v.arrowEndY=De[1],D==="inside-to-node")r=[o.x,o.y];else if(L.units)r=this.manualEndptToPx(n,L);else if(D==="outside-to-line")r=v.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?U=H:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(U=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),U[0],U[1],0,N,h),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var Me=n._private.rscratch,Xe=Me.labelWidth,Ye=Me.labelHeight,Re=Me.labelX,Ue=Me.labelY,me=Xe/2,B=Ye/2,J=n.pstyle("text-valign").value;J==="top"?Ue-=B:J==="bottom"&&(Ue+=B);var ye=n.pstyle("text-halign").value;ye==="left"?Re-=me:ye==="right"&&(Re+=me);var ue=Ua(U[0],U[1],[Re-me,Ue-B,Re+me,Ue-B,Re+me,Ue+B,Re-me,Ue+B],o.x,o.y);if(ue.length>0){var se=i,Se=Cn(se,Kn(r)),le=Cn(se,Kn(ue)),xe=Se;if(le<Se&&(r=[ue[0],ue[1]],xe=le),ue.length>2){var ze=Cn(se,{x:ue[2],y:ue[3]});ze<xe&&(r=[ue[2],ue[3]])}}}var Ge=vi(r,H,e.arrowShapes[u].spacing(t)+f),Pe=vi(r,H,e.arrowShapes[u].gap(t)+f);v.startX=Pe[0],v.startY=Pe[1],v.arrowStartX=Ge[0],v.arrowStartY=Ge[1],I&&(!Oe(v.startX)||!Oe(v.startY)||!Oe(v.endX)||!Oe(v.endY)?v.badLine=!0:v.badLine=!1)};Ja.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Ja.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Ns={};function mm(t,e,r){for(var n=function(l,f,h,p){return Ft(l,f,h,p)},a=e._private,o=a.rstyle.bezierPts,i=0;i<t.bezierProjPcts.length;i++){var s=t.bezierProjPcts[i];o.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Ns.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)mm(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)o.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var i=r.haystackPts;e.rstyle.haystackPts=[{x:i[0],y:i[1]},{x:i[2],y:i[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Ns.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var zr={};zr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!fn(e)){var r,n,a=t._private,o=t.width(),i=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,h=a.rscratch,p=a.rstyle;switch(l){case"left":r=u.x-o/2-s;break;case"right":r=u.x+o/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-i/2-s;break;case"bottom":n=u.y+i/2+s;break;default:n=u.y}h.labelX=r,h.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Rf=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Bf=function(e,r){var n=r.x-e.x,a=r.y-e.y;return Rf(n,a)},bm=function(e,r,n,a){var o=Ha(0,a-.001,1),i=Ha(0,a+.001,1),s=Qn(e,r,n,o),u=Qn(e,r,n,i);return Bf(s,u)};zr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var i=function(h,p,g){an(r.rscratch,h,p,g),an(r.rstyle,h,p,g)};i("labelX",null,e.x),i("labelY",null,e.y);var s=Rf(n.midDispX,n.midDispY);i("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var h=[],p=0;p+5<n.allpts.length;p+=4){var g={x:n.allpts[p],y:n.allpts[p+1]},v={x:n.allpts[p+2],y:n.allpts[p+3]},m={x:n.allpts[p+4],y:n.allpts[p+5]};h.push({p0:g,p1:v,p2:m,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,b=a.bezierProjPcts.length;function T(d,L,D,N,P){var F=Nn(L,D),z=d.segments[d.segments.length-1],k={p0:L,p1:D,t0:N,t1:P,startDist:z?z.startDist+z.length:0,length:F};d.segments.push(k),d.length+=F}for(var E=0;E<h.length;E++){var S=h[E],A=h[E-1];A&&(S.startDist=A.startDist+A.length),T(S,S.p0,w[E*b],0,a.bezierProjPcts[0]);for(var I=0;I<b-1;I++)T(S,w[E*b+I],w[E*b+I+1],a.bezierProjPcts[I],a.bezierProjPcts[I+1]);T(S,w[E*b+b-1],S.p2,a.bezierProjPcts[b-1],1)}return f.cache=h},l=function(h){var p,g=h==="source";if(o[h]){var v=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),w,b=0,T=0,E=0;E<m.length;E++){for(var S=m[g?E:m.length-1-E],A=0;A<S.segments.length;A++){var I=S.segments[g?A:S.segments.length-1-A],d=E===m.length-1&&A===S.segments.length-1;if(b=T,T+=I.length,T>=v||d){w={cp:S,segment:I};break}}if(w)break}var L=w.cp,D=w.segment,N=(v-b)/D.length,P=D.t1-D.t0,F=g?D.t0+P*N:D.t1-P*N;F=Ha(0,F,1),e=Qn(L.p0,L.p1,L.p2,F),p=bm(L.p0,L.p1,L.p2,F);break}case"straight":case"segments":case"haystack":{for(var z=0,k,H,q,U,X=n.allpts.length,W=0;W+3<X&&(g?(q={x:n.allpts[W],y:n.allpts[W+1]},U={x:n.allpts[W+2],y:n.allpts[W+3]}):(q={x:n.allpts[X-2-W],y:n.allpts[X-1-W]},U={x:n.allpts[X-4-W],y:n.allpts[X-3-W]}),k=Nn(q,U),H=z,z+=k,!(z>=v));W+=2);var Q=v-H,K=Q/k;K=Ha(0,K,1),e=Cd(q,U,K),p=Bf(q,U);break}}i("labelX",h,e.x),i("labelY",h,e.y),i("labelAutoAngle",h,p)}};l("source"),l("target"),this.applyLabelDimensions(t)}};zr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};zr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,i=t.pstyle("text-wrap").strValue,s=Dr(r.rscratch,"labelWrapCachedLines",e)||[],u=i!=="wrap"?1:Math.max(s.length,1),l=a.height/u,f=l*o,h=a.width,p=a.height+(u-1)*(o-1)*l;an(r.rstyle,"labelWidth",e,h),an(r.rscratch,"labelWidth",e,h),an(r.rstyle,"labelHeight",e,p),an(r.rscratch,"labelHeight",e,p),an(r.rscratch,"labelLineHeight",e,f)};zr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,i=function(ee,oe){return oe?(an(r.rscratch,ee,e,oe),oe):Dr(r.rscratch,ee,e)};if(!a)return"";o=="none"||(o=="uppercase"?a=a.toUpperCase():o=="lowercase"&&(a=a.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=i("labelKey");if(u!=null&&i("labelWrapKey")===u)return i("labelWrapCachedText");for(var l="​",f=a.split(`
`),h=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,g=p==="anywhere",v=[],m=/[\s\u200b]+|$/g,w=0;w<f.length;w++){var b=f[w],T=this.calculateLabelDimensions(t,b),E=T.width;if(g){var S=b.split("").join(l);b=S}if(E>h){var A=b.matchAll(m),I="",d=0,L=yl(A),D;try{for(L.s();!(D=L.n()).done;){var N=D.value,P=N[0],F=b.substring(d,N.index);d=N.index+P.length;var z=I.length===0?F:I+F+P,k=this.calculateLabelDimensions(t,z),H=k.width;H<=h?I+=F+P:(I&&v.push(I),I=F+P)}}catch($){L.e($)}finally{L.f()}I.match(/^[\s\u200b]+$/)||v.push(I)}else v.push(b)}i("labelWrapCachedLines",v),a=i("labelWrapCachedText",v.join(`
`)),i("labelWrapKey",u)}else if(s==="ellipsis"){var q=t.pstyle("text-max-width").pfValue,U="",X="…",W=!1;if(this.calculateLabelDimensions(t,a).width<q)return a;for(var Q=0;Q<a.length;Q++){var K=this.calculateLabelDimensions(t,U+a[Q]+X).width;if(K>q)break;U+=a[Q],Q===a.length-1&&(W=!0)}return W||(U+=X),U}return a};zr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};zr.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,o=Mn(e,t._private.labelDimsKey),i=r.labelDimCache||(r.labelDimCache=[]),s=i[o];if(s!=null)return s;var u=0,l=t.pstyle("font-style").strValue,f=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,p=t.pstyle("font-weight").strValue,g=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!g){g=this.labelCalcCanvas=a.createElement("canvas"),v=this.labelCalcCanvasContext=g.getContext("2d");var m=g.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}v.font="".concat(l," ").concat(p," ").concat(f,"px ").concat(h);for(var w=0,b=0,T=e.split(`
`),E=0;E<T.length;E++){var S=T[E],A=v.measureText(S),I=Math.ceil(A.width),d=f;w=Math.max(I,w),b+=d}return w+=u,b+=u,i[o]={width:w,height:b}};zr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),o=e?e+"-":"",i=t.pstyle(o+"text-rotation"),s=i.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:i.pfValue};zr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ff={},el=28,tl=!1;Ff.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<el||t.height()<el))return tl||(ct("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),tl=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var so={};so.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(i),s)for(var u=0;u<i.length;u++){var l=i[u],f=l._private,h=f.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(i){var s=i.target;n(s)}).on("style.* background.*",function(i){var s=i.target;n(s,!1)});var a=function(i){if(i){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var h=0;h<s.length;h++){var p=s[h];p(i,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};so.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};so.recalculateRenderedStyle=function(t,e){var r=function(S){return S._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var i=t[o],s=i._private,u=s.rstyle;i.isEdge()&&(!r(i.source())||!r(i.target()))&&(u.clean=!1),!(e&&u.clean||i.removed())&&i.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(i):n.push(i),u.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],h=f._private,p=h.rstyle,g=f.position();this.recalculateNodeLabelProjection(f),p.nodeX=g.x,p.nodeY=g.y,p.nodeW=f.pstyle("width").pfValue,p.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var m=n[v],w=m._private,b=w.rstyle,T=w.rscratch;b.srcX=T.arrowStartX,b.srcY=T.arrowStartY,b.tgtX=T.arrowEndX,b.tgtY=T.arrowEndY,b.midX=T.midX,b.midY=T.midY,b.labelAngle=T.labelAngle,b.sourceLabelAngle=T.sourceLabelAngle,b.targetLabelAngle=T.targetLabelAngle}}};var uo={};uo.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};uo.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};uo.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(wf),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var zf={};[Bn,Vi,Jt,Ja,Ns,zr,Ff,so,uo].forEach(function(t){_e(zf,t)});var Gf={};Gf.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},o=a[t];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=a[t]=a[t]||{};var i=o.image=new Image;i.addEventListener("load",r),i.addEventListener("error",function(){i.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,i.crossOrigin=e),i.src=t,i};var ha={};ha.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,a)};ha.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||Yc(t);if(e.supportsPassiveEvents==null){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=a}var i=function(u,l,f){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:f??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:i,addEventListener:i,addListener:i,bind:i}};ha.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ha.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ha.load=function(){var t=this,e=t.cy.window(),r=function(B){return B.selected()},n=function(B,J,ye,ue){B==null&&(B=t.cy);for(var se=0;se<J.length;se++){var Se=J[se];B.emit({originalEvent:ye,type:Se,position:ue})}},a=function(B){return B.shiftKey||B.metaKey||B.ctrlKey},o=function(B,J){var ye=!0;if(t.cy.hasCompoundNodes()&&B&&B.pannable())for(var ue=0;J&&ue<J.length;ue++){var B=J[ue];if(B.isNode()&&B.isParent()&&!B.pannable()){ye=!1;break}}else ye=!0;return ye},i=function(B){B[0]._private.grabbed=!0},s=function(B){B[0]._private.grabbed=!1},u=function(B){B[0]._private.rscratch.inDragLayer=!0},l=function(B){B[0]._private.rscratch.inDragLayer=!1},f=function(B){B[0]._private.rscratch.isGrabTarget=!0},h=function(B){B[0]._private.rscratch.isGrabTarget=!1},p=function(B,J){var ye=J.addToList,ue=ye.has(B);!ue&&B.grabbable()&&!B.locked()&&(ye.merge(B),i(B))},g=function(B,J){if(B.cy().hasCompoundNodes()&&!(J.inDragLayer==null&&J.addToList==null)){var ye=B.descendants();J.inDragLayer&&(ye.forEach(u),ye.connectedEdges().forEach(u)),J.addToList&&p(ye,J)}},v=function(B,J){J=J||{};var ye=B.cy().hasCompoundNodes();J.inDragLayer&&(B.forEach(u),B.neighborhood().stdFilter(function(ue){return!ye||ue.isEdge()}).forEach(u)),J.addToList&&B.forEach(function(ue){p(ue,J)}),g(B,J),b(B,{inDragLayer:J.inDragLayer}),t.updateCachedGrabbedEles()},m=v,w=function(B){B&&(t.getCachedZSortedEles().forEach(function(J){s(J),l(J),h(J)}),t.updateCachedGrabbedEles())},b=function(B,J){if(!(J.inDragLayer==null&&J.addToList==null)&&B.cy().hasCompoundNodes()){var ye=B.ancestors().orphans();if(!ye.same(B)){var ue=ye.descendants().spawnSelf().merge(ye).unmerge(B).unmerge(B.descendants()),se=ue.connectedEdges();J.inDragLayer&&(se.forEach(u),ue.forEach(u)),J.addToList&&ue.forEach(function(Se){p(Se,J)})}}},T=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";E?(t.removeObserver=new MutationObserver(function(me){for(var B=0;B<me.length;B++){var J=me[B],ye=J.removedNodes;if(ye)for(var ue=0;ue<ye.length;ue++){var se=ye[ue];if(se===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(me){t.destroy()});var A=_i(function(){t.cy.resize()},100);E&&(t.styleObserver=new MutationObserver(A),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",A),S&&(t.resizeObserver=new ResizeObserver(A),t.resizeObserver.observe(t.container));var I=function(B,J){for(;B!=null;)J(B),B=B.parentNode},d=function(){t.invalidateContainerClientCoordsCache()};I(t.container,function(me){t.registerBinding(me,"transitionend",d),t.registerBinding(me,"animationend",d),t.registerBinding(me,"scroll",d)}),t.registerBinding(t.container,"contextmenu",function(me){me.preventDefault()});var L=function(){return t.selection[4]!==0},D=function(B){for(var J=t.findContainerClientCoords(),ye=J[0],ue=J[1],se=J[2],Se=J[3],le=B.touches?B.touches:[B],xe=!1,ze=0;ze<le.length;ze++){var Ge=le[ze];if(ye<=Ge.clientX&&Ge.clientX<=ye+se&&ue<=Ge.clientY&&Ge.clientY<=ue+Se){xe=!0;break}}if(!xe)return!1;for(var Pe=t.container,$e=B.target,ke=$e.parentNode,Ve=!1;ke;){if(ke===Pe){Ve=!0;break}ke=ke.parentNode}return!!Ve};t.registerBinding(t.container,"mousedown",function(B){if(D(B)&&!(t.hoverData.which===1&&B.which!==1)){B.preventDefault(),T(),t.hoverData.capture=!0,t.hoverData.which=B.which;var J=t.cy,ye=[B.clientX,B.clientY],ue=t.projectIntoViewport(ye[0],ye[1]),se=t.selection,Se=t.findNearestElements(ue[0],ue[1],!0,!1),le=Se[0],xe=t.dragData.possibleDragElements;t.hoverData.mdownPos=ue,t.hoverData.mdownGPos=ye;var ze=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var gt=t.hoverData.down;gt?gt.emit({originalEvent:B,type:"taphold",position:{x:ue[0],y:ue[1]}}):J.emit({originalEvent:B,type:"taphold",position:{x:ue[0],y:ue[1]}})}},t.tapholdDuration)};if(B.which==3){t.hoverData.cxtStarted=!0;var Ge={originalEvent:B,type:"cxttapstart",position:{x:ue[0],y:ue[1]}};le?(le.activate(),le.emit(Ge),t.hoverData.down=le):J.emit(Ge),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(B.which==1){le&&le.activate();{if(le!=null&&t.nodeIsGrabbable(le)){var Pe=function(gt){return{originalEvent:B,type:gt,position:{x:ue[0],y:ue[1]}}},$e=function(gt){gt.emit(Pe("grab"))};if(f(le),!le.selected())xe=t.dragData.possibleDragElements=J.collection(),m(le,{addToList:xe}),le.emit(Pe("grabon")).emit(Pe("grab"));else{xe=t.dragData.possibleDragElements=J.collection();var ke=J.$(function(Ve){return Ve.isNode()&&Ve.selected()&&t.nodeIsGrabbable(Ve)});v(ke,{addToList:xe}),le.emit(Pe("grabon")),ke.forEach($e)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=le,t.hoverData.downs=Se,t.hoverData.downTime=new Date().getTime()}n(le,["mousedown","tapstart","vmousedown"],B,{x:ue[0],y:ue[1]}),le==null?(se[4]=1,t.data.bgActivePosistion={x:ue[0],y:ue[1]},t.redrawHint("select",!0),t.redraw()):le.pannable()&&(se[4]=1),ze()}se[0]=se[2]=ue[0],se[1]=se[3]=ue[1]}},!1),t.registerBinding(e,"mousemove",function(B){var J=t.hoverData.capture;if(!(!J&&!D(B))){var ye=!1,ue=t.cy,se=ue.zoom(),Se=[B.clientX,B.clientY],le=t.projectIntoViewport(Se[0],Se[1]),xe=t.hoverData.mdownPos,ze=t.hoverData.mdownGPos,Ge=t.selection,Pe=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Pe=t.findNearestElement(le[0],le[1],!0,!1));var $e=t.hoverData.last,ke=t.hoverData.down,Ve=[le[0]-Ge[2],le[1]-Ge[3]],gt=t.dragData.possibleDragElements,ht;if(ze){var Dt=Se[0]-ze[0],Et=Dt*Dt,St=Se[1]-ze[1],zt=St*St,ut=Et+zt;t.hoverData.isOverThresholdDrag=ht=ut>=t.desktopTapThreshold2}var lt=a(B);ht&&(t.hoverData.tapholdCancelled=!0);var er=function(){var vr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];vr.length===0?(vr.push(Ve[0]),vr.push(Ve[1])):(vr[0]+=Ve[0],vr[1]+=Ve[1])};ye=!0,n(Pe,["mousemove","vmousemove","tapdrag"],B,{x:le[0],y:le[1]});var ar=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ue.emit({originalEvent:B,type:"boxstart",position:{x:le[0],y:le[1]}}),Ge[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ht){var Gt={originalEvent:B,type:"cxtdrag",position:{x:le[0],y:le[1]}};ke?ke.emit(Gt):ue.emit(Gt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Pe!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:B,type:"cxtdragout",position:{x:le[0],y:le[1]}}),t.hoverData.cxtOver=Pe,Pe&&Pe.emit({originalEvent:B,type:"cxtdragover",position:{x:le[0],y:le[1]}}))}}else if(t.hoverData.dragging){if(ye=!0,ue.panningEnabled()&&ue.userPanningEnabled()){var cr;if(t.hoverData.justStartedPan){var _t=t.hoverData.mdownPos;cr={x:(le[0]-_t[0])*se,y:(le[1]-_t[1])*se},t.hoverData.justStartedPan=!1}else cr={x:Ve[0]*se,y:Ve[1]*se};ue.panBy(cr),ue.emit("dragpan"),t.hoverData.dragged=!0}le=t.projectIntoViewport(B.clientX,B.clientY)}else if(Ge[4]==1&&(ke==null||ke.pannable())){if(ht){if(!t.hoverData.dragging&&ue.boxSelectionEnabled()&&(lt||!ue.panningEnabled()||!ue.userPanningEnabled()))ar();else if(!t.hoverData.selecting&&ue.panningEnabled()&&ue.userPanningEnabled()){var Rt=o(ke,t.hoverData.downs);Rt&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ge[4]=0,t.data.bgActivePosistion=Kn(xe),t.redrawHint("select",!0),t.redraw())}ke&&ke.pannable()&&ke.active()&&ke.unactivate()}}else{if(ke&&ke.pannable()&&ke.active()&&ke.unactivate(),(!ke||!ke.grabbed())&&Pe!=$e&&($e&&n($e,["mouseout","tapdragout"],B,{x:le[0],y:le[1]}),Pe&&n(Pe,["mouseover","tapdragover"],B,{x:le[0],y:le[1]}),t.hoverData.last=Pe),ke)if(ht){if(ue.boxSelectionEnabled()&&lt)ke&&ke.grabbed()&&(w(gt),ke.emit("freeon"),gt.emit("free"),t.dragData.didDrag&&(ke.emit("dragfreeon"),gt.emit("dragfree"))),ar();else if(ke&&ke.grabbed()&&t.nodeIsDraggable(ke)){var xt=!t.dragData.didDrag;xt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||v(gt,{inDragLayer:!0});var Tt={x:0,y:0};if(Oe(Ve[0])&&Oe(Ve[1])&&(Tt.x+=Ve[0],Tt.y+=Ve[1],xt)){var Bt=t.hoverData.dragDelta;Bt&&Oe(Bt[0])&&Oe(Bt[1])&&(Tt.x+=Bt[0],Tt.y+=Bt[1])}t.hoverData.draggingEles=!0,gt.silentShift(Tt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else er();ye=!0}if(Ge[2]=le[0],Ge[3]=le[1],ye)return B.stopPropagation&&B.stopPropagation(),B.preventDefault&&B.preventDefault(),!1}},!1);var N,P,F;t.registerBinding(e,"mouseup",function(B){if(!(t.hoverData.which===1&&B.which!==1&&t.hoverData.capture)){var J=t.hoverData.capture;if(J){t.hoverData.capture=!1;var ye=t.cy,ue=t.projectIntoViewport(B.clientX,B.clientY),se=t.selection,Se=t.findNearestElement(ue[0],ue[1],!0,!1),le=t.dragData.possibleDragElements,xe=t.hoverData.down,ze=a(B);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,xe&&xe.unactivate(),t.hoverData.which===3){var Ge={originalEvent:B,type:"cxttapend",position:{x:ue[0],y:ue[1]}};if(xe?xe.emit(Ge):ye.emit(Ge),!t.hoverData.cxtDragged){var Pe={originalEvent:B,type:"cxttap",position:{x:ue[0],y:ue[1]}};xe?xe.emit(Pe):ye.emit(Pe)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(Se,["mouseup","tapend","vmouseup"],B,{x:ue[0],y:ue[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(xe,["click","tap","vclick"],B,{x:ue[0],y:ue[1]}),P=!1,B.timeStamp-F<=ye.multiClickDebounceTime()?(N&&clearTimeout(N),P=!0,F=null,n(xe,["dblclick","dbltap","vdblclick"],B,{x:ue[0],y:ue[1]})):(N=setTimeout(function(){P||n(xe,["oneclick","onetap","voneclick"],B,{x:ue[0],y:ue[1]})},ye.multiClickDebounceTime()),F=B.timeStamp)),xe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(B)&&(ye.$(r).unselect(["tapunselect"]),le.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=le=ye.collection()),Se==xe&&!t.dragData.didDrag&&!t.hoverData.selecting&&Se!=null&&Se._private.selectable&&(t.hoverData.dragging||(ye.selectionType()==="additive"||ze?Se.selected()?Se.unselect(["tapunselect"]):Se.select(["tapselect"]):ze||(ye.$(r).unmerge(Se).unselect(["tapunselect"]),Se.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var $e=ye.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));t.redrawHint("select",!0),$e.length>0&&t.redrawHint("eles",!0),ye.emit({type:"boxend",originalEvent:B,position:{x:ue[0],y:ue[1]}});var ke=function(ht){return ht.selectable()&&!ht.selected()};ye.selectionType()==="additive"||ze||ye.$(r).unmerge($e).unselect(),$e.emit("box").stdFilter(ke).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!se[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ve=xe&&xe.grabbed();w(le),Ve&&(xe.emit("freeon"),le.emit("free"),t.dragData.didDrag&&(xe.emit("dragfreeon"),le.emit("dragfree")))}}se[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var z=function(B){if(!t.scrollingPage){var J=t.cy,ye=J.zoom(),ue=J.pan(),se=t.projectIntoViewport(B.clientX,B.clientY),Se=[se[0]*ye+ue.x,se[1]*ye+ue.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){B.preventDefault();return}if(J.panningEnabled()&&J.userPanningEnabled()&&J.zoomingEnabled()&&J.userZoomingEnabled()){B.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var le;B.deltaY!=null?le=B.deltaY/-250:B.wheelDeltaY!=null?le=B.wheelDeltaY/1e3:le=B.wheelDelta/1e3,le=le*t.wheelSensitivity;var xe=B.deltaMode===1;xe&&(le*=33);var ze=J.zoom()*Math.pow(10,le);B.type==="gesturechange"&&(ze=t.gestureStartZoom*B.scale),J.zoom({level:ze,renderedPosition:{x:Se[0],y:Se[1]}}),J.emit(B.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(e,"scroll",function(B){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(B){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||B.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(me){t.hasTouchStarted||z(me)},!0),t.registerBinding(t.container,"mouseout",function(B){var J=t.projectIntoViewport(B.clientX,B.clientY);t.cy.emit({originalEvent:B,type:"mouseout",position:{x:J[0],y:J[1]}})},!1),t.registerBinding(t.container,"mouseover",function(B){var J=t.projectIntoViewport(B.clientX,B.clientY);t.cy.emit({originalEvent:B,type:"mouseover",position:{x:J[0],y:J[1]}})},!1);var k,H,q,U,X,W,Q,K,$,ee,oe,ce,de,we=function(B,J,ye,ue){return Math.sqrt((ye-B)*(ye-B)+(ue-J)*(ue-J))},fe=function(B,J,ye,ue){return(ye-B)*(ye-B)+(ue-J)*(ue-J)},j;t.registerBinding(t.container,"touchstart",j=function(B){if(t.hasTouchStarted=!0,!!D(B)){T(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var J=t.cy,ye=t.touchData.now,ue=t.touchData.earlier;if(B.touches[0]){var se=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);ye[0]=se[0],ye[1]=se[1]}if(B.touches[1]){var se=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY);ye[2]=se[0],ye[3]=se[1]}if(B.touches[2]){var se=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY);ye[4]=se[0],ye[5]=se[1]}if(B.touches[1]){t.touchData.singleTouchMoved=!0,w(t.dragData.touchDragEles);var Se=t.findContainerClientCoords();$=Se[0],ee=Se[1],oe=Se[2],ce=Se[3],k=B.touches[0].clientX-$,H=B.touches[0].clientY-ee,q=B.touches[1].clientX-$,U=B.touches[1].clientY-ee,de=0<=k&&k<=oe&&0<=q&&q<=oe&&0<=H&&H<=ce&&0<=U&&U<=ce;var le=J.pan(),xe=J.zoom();X=we(k,H,q,U),W=fe(k,H,q,U),Q=[(k+q)/2,(H+U)/2],K=[(Q[0]-le.x)/xe,(Q[1]-le.y)/xe];var ze=200,Ge=ze*ze;if(W<Ge&&!B.touches[2]){var Pe=t.findNearestElement(ye[0],ye[1],!0,!0),$e=t.findNearestElement(ye[2],ye[3],!0,!0);Pe&&Pe.isNode()?(Pe.activate().emit({originalEvent:B,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start=Pe):$e&&$e.isNode()?($e.activate().emit({originalEvent:B,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start=$e):J.emit({originalEvent:B,type:"cxttapstart",position:{x:ye[0],y:ye[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(B.touches[2])J.boxSelectionEnabled()&&B.preventDefault();else if(!B.touches[1]){if(B.touches[0]){var ke=t.findNearestElements(ye[0],ye[1],!0,!0),Ve=ke[0];if(Ve!=null&&(Ve.activate(),t.touchData.start=Ve,t.touchData.starts=ke,t.nodeIsGrabbable(Ve))){var gt=t.dragData.touchDragEles=J.collection(),ht=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ve.selected()?(ht=J.$(function(ut){return ut.selected()&&t.nodeIsGrabbable(ut)}),v(ht,{addToList:gt})):m(Ve,{addToList:gt}),f(Ve);var Dt=function(lt){return{originalEvent:B,type:lt,position:{x:ye[0],y:ye[1]}}};Ve.emit(Dt("grabon")),ht?ht.forEach(function(ut){ut.emit(Dt("grab"))}):Ve.emit(Dt("grab"))}n(Ve,["touchstart","tapstart","vmousedown"],B,{x:ye[0],y:ye[1]}),Ve==null&&(t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],B,{x:ye[0],y:ye[1]})},t.tapholdDuration)}}if(B.touches.length>=1){for(var Et=t.touchData.startPosition=[null,null,null,null,null,null],St=0;St<ye.length;St++)Et[St]=ue[St]=ye[St];var zt=B.touches[0];t.touchData.startGPosition=[zt.clientX,zt.clientY]}}},!1);var ae;t.registerBinding(e,"touchmove",ae=function(B){var J=t.touchData.capture;if(!(!J&&!D(B))){var ye=t.selection,ue=t.cy,se=t.touchData.now,Se=t.touchData.earlier,le=ue.zoom();if(B.touches[0]){var xe=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);se[0]=xe[0],se[1]=xe[1]}if(B.touches[1]){var xe=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY);se[2]=xe[0],se[3]=xe[1]}if(B.touches[2]){var xe=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY);se[4]=xe[0],se[5]=xe[1]}var ze=t.touchData.startGPosition,Ge;if(J&&B.touches[0]&&ze){for(var Pe=[],$e=0;$e<se.length;$e++)Pe[$e]=se[$e]-Se[$e];var ke=B.touches[0].clientX-ze[0],Ve=ke*ke,gt=B.touches[0].clientY-ze[1],ht=gt*gt,Dt=Ve+ht;Ge=Dt>=t.touchTapThreshold2}if(J&&t.touchData.cxt){B.preventDefault();var Et=B.touches[0].clientX-$,St=B.touches[0].clientY-ee,zt=B.touches[1].clientX-$,ut=B.touches[1].clientY-ee,lt=fe(Et,St,zt,ut),er=lt/W,ar=150,Gt=ar*ar,cr=1.5,_t=cr*cr;if(er>=_t||lt>=Gt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Rt={originalEvent:B,type:"cxttapend",position:{x:se[0],y:se[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Rt),t.touchData.start=null):ue.emit(Rt)}}if(J&&t.touchData.cxt){var Rt={originalEvent:B,type:"cxtdrag",position:{x:se[0],y:se[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Rt):ue.emit(Rt),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var xt=t.findNearestElement(se[0],se[1],!0,!0);(!t.touchData.cxtOver||xt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:B,type:"cxtdragout",position:{x:se[0],y:se[1]}}),t.touchData.cxtOver=xt,xt&&xt.emit({originalEvent:B,type:"cxtdragover",position:{x:se[0],y:se[1]}}))}else if(J&&B.touches[2]&&ue.boxSelectionEnabled())B.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ue.emit({originalEvent:B,type:"boxstart",position:{x:se[0],y:se[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ye[4]=1,!ye||ye.length===0||ye[0]===void 0?(ye[0]=(se[0]+se[2]+se[4])/3,ye[1]=(se[1]+se[3]+se[5])/3,ye[2]=(se[0]+se[2]+se[4])/3+1,ye[3]=(se[1]+se[3]+se[5])/3+1):(ye[2]=(se[0]+se[2]+se[4])/3,ye[3]=(se[1]+se[3]+se[5])/3),t.redrawHint("select",!0),t.redraw();else if(J&&B.touches[1]&&!t.touchData.didSelect&&ue.zoomingEnabled()&&ue.panningEnabled()&&ue.userZoomingEnabled()&&ue.userPanningEnabled()){B.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Tt=t.dragData.touchDragEles;if(Tt){t.redrawHint("drag",!0);for(var Bt=0;Bt<Tt.length;Bt++){var Kr=Tt[Bt]._private;Kr.grabbed=!1,Kr.rscratch.inDragLayer=!1}}var vr=t.touchData.start,Et=B.touches[0].clientX-$,St=B.touches[0].clientY-ee,zt=B.touches[1].clientX-$,ut=B.touches[1].clientY-ee,ga=we(Et,St,zt,ut),lo=ga/X;if(de){var fo=Et-k,ri=St-H,co=zt-q,Zr=ut-U,ni=(fo+co)/2,pa=(ri+Zr)/2,Hr=ue.zoom(),Qr=Hr*lo,yn=ue.pan(),ai=K[0]*Hr+yn.x,jr=K[1]*Hr+yn.y,ii={x:-Qr/Hr*(ai-yn.x-ni)+ai,y:-Qr/Hr*(jr-yn.y-pa)+jr};if(vr&&vr.active()){var Tt=t.dragData.touchDragEles;w(Tt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),vr.unactivate().emit("freeon"),Tt.emit("free"),t.dragData.didDrag&&(vr.emit("dragfreeon"),Tt.emit("dragfree"))}ue.viewport({zoom:Qr,pan:ii,cancelOnFailedZoom:!0}),ue.emit("pinchzoom"),X=ga,k=Et,H=St,q=zt,U=ut,t.pinching=!0}if(B.touches[0]){var xe=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);se[0]=xe[0],se[1]=xe[1]}if(B.touches[1]){var xe=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY);se[2]=xe[0],se[3]=xe[1]}if(B.touches[2]){var xe=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY);se[4]=xe[0],se[5]=xe[1]}}else if(B.touches[0]&&!t.touchData.didSelect){var ir=t.touchData.start,zn=t.touchData.last,xt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(xt=t.findNearestElement(se[0],se[1],!0,!0)),J&&ir!=null&&B.preventDefault(),J&&ir!=null&&t.nodeIsDraggable(ir))if(Ge){var Tt=t.dragData.touchDragEles,ya=!t.dragData.didDrag;ya&&v(Tt,{inDragLayer:!0}),t.dragData.didDrag=!0;var mn={x:0,y:0};if(Oe(Pe[0])&&Oe(Pe[1])&&(mn.x+=Pe[0],mn.y+=Pe[1],ya)){t.redrawHint("eles",!0);var tr=t.touchData.dragDelta;tr&&Oe(tr[0])&&Oe(tr[1])&&(mn.x+=tr[0],mn.y+=tr[1])}t.hoverData.draggingEles=!0,Tt.silentShift(mn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Se[0]&&t.touchData.startPosition[1]==Se[1]&&t.redrawHint("eles",!0),t.redraw()}else{var tr=t.touchData.dragDelta=t.touchData.dragDelta||[];tr.length===0?(tr.push(Pe[0]),tr.push(Pe[1])):(tr[0]+=Pe[0],tr[1]+=Pe[1])}if(n(ir||xt,["touchmove","tapdrag","vmousemove"],B,{x:se[0],y:se[1]}),(!ir||!ir.grabbed())&&xt!=zn&&(zn&&zn.emit({originalEvent:B,type:"tapdragout",position:{x:se[0],y:se[1]}}),xt&&xt.emit({originalEvent:B,type:"tapdragover",position:{x:se[0],y:se[1]}})),t.touchData.last=xt,J)for(var Bt=0;Bt<se.length;Bt++)se[Bt]&&t.touchData.startPosition[Bt]&&Ge&&(t.touchData.singleTouchMoved=!0);if(J&&(ir==null||ir.pannable())&&ue.panningEnabled()&&ue.userPanningEnabled()){var ho=o(ir,t.touchData.starts);ho&&(B.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Kn(t.touchData.startPosition)),t.swipePanning?(ue.panBy({x:Pe[0]*le,y:Pe[1]*le}),ue.emit("dragpan")):Ge&&(t.swipePanning=!0,ue.panBy({x:ke*le,y:gt*le}),ue.emit("dragpan"),ir&&(ir.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var xe=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);se[0]=xe[0],se[1]=xe[1]}}for(var $e=0;$e<se.length;$e++)Se[$e]=se[$e];J&&B.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var he;t.registerBinding(e,"touchcancel",he=function(B){var J=t.touchData.start;t.touchData.capture=!1,J&&J.unactivate()});var Le,Fe,Ce,pe;if(t.registerBinding(e,"touchend",Le=function(B){var J=t.touchData.start,ye=t.touchData.capture;if(ye)B.touches.length===0&&(t.touchData.capture=!1),B.preventDefault();else return;var ue=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var se=t.cy,Se=se.zoom(),le=t.touchData.now,xe=t.touchData.earlier;if(B.touches[0]){var ze=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);le[0]=ze[0],le[1]=ze[1]}if(B.touches[1]){var ze=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY);le[2]=ze[0],le[3]=ze[1]}if(B.touches[2]){var ze=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY);le[4]=ze[0],le[5]=ze[1]}J&&J.unactivate();var Ge;if(t.touchData.cxt){if(Ge={originalEvent:B,type:"cxttapend",position:{x:le[0],y:le[1]}},J?J.emit(Ge):se.emit(Ge),!t.touchData.cxtDragged){var Pe={originalEvent:B,type:"cxttap",position:{x:le[0],y:le[1]}};J?J.emit(Pe):se.emit(Pe)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!B.touches[2]&&se.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var $e=se.collection(t.getAllInBox(ue[0],ue[1],ue[2],ue[3]));ue[0]=void 0,ue[1]=void 0,ue[2]=void 0,ue[3]=void 0,ue[4]=0,t.redrawHint("select",!0),se.emit({type:"boxend",originalEvent:B,position:{x:le[0],y:le[1]}});var ke=function(Gt){return Gt.selectable()&&!Gt.selected()};$e.emit("box").stdFilter(ke).select().emit("boxselect"),$e.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(J!=null&&J.unactivate(),B.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!B.touches[1]){if(!B.touches[0]){if(!B.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ve=t.dragData.touchDragEles;if(J!=null){var gt=J._private.grabbed;w(Ve),t.redrawHint("drag",!0),t.redrawHint("eles",!0),gt&&(J.emit("freeon"),Ve.emit("free"),t.dragData.didDrag&&(J.emit("dragfreeon"),Ve.emit("dragfree"))),n(J,["touchend","tapend","vmouseup","tapdragout"],B,{x:le[0],y:le[1]}),J.unactivate(),t.touchData.start=null}else{var ht=t.findNearestElement(le[0],le[1],!0,!0);n(ht,["touchend","tapend","vmouseup","tapdragout"],B,{x:le[0],y:le[1]})}var Dt=t.touchData.startPosition[0]-le[0],Et=Dt*Dt,St=t.touchData.startPosition[1]-le[1],zt=St*St,ut=Et+zt,lt=ut*Se*Se;t.touchData.singleTouchMoved||(J||se.$(":selected").unselect(["tapunselect"]),n(J,["tap","vclick"],B,{x:le[0],y:le[1]}),Fe=!1,B.timeStamp-pe<=se.multiClickDebounceTime()?(Ce&&clearTimeout(Ce),Fe=!0,pe=null,n(J,["dbltap","vdblclick"],B,{x:le[0],y:le[1]})):(Ce=setTimeout(function(){Fe||n(J,["onetap","voneclick"],B,{x:le[0],y:le[1]})},se.multiClickDebounceTime()),pe=B.timeStamp)),J!=null&&!t.dragData.didDrag&&J._private.selectable&&lt<t.touchTapThreshold2&&!t.pinching&&(se.selectionType()==="single"?(se.$(r).unmerge(J).unselect(["tapunselect"]),J.select(["tapselect"])):J.selected()?J.unselect(["tapunselect"]):J.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var er=0;er<le.length;er++)xe[er]=le[er];t.dragData.didDrag=!1,B.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),B.touches.length<2&&(B.touches.length===1&&(t.touchData.startGPosition=[B.touches[0].clientX,B.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var be=[],De=function(B){return{clientX:B.clientX,clientY:B.clientY,force:1,identifier:B.pointerId,pageX:B.pageX,pageY:B.pageY,radiusX:B.width/2,radiusY:B.height/2,screenX:B.screenX,screenY:B.screenY,target:B.target}},Ee=function(B){return{event:B,touch:De(B)}},Me=function(B){be.push(Ee(B))},Xe=function(B){for(var J=0;J<be.length;J++){var ye=be[J];if(ye.event.pointerId===B.pointerId){be.splice(J,1);return}}},Ye=function(B){var J=be.filter(function(ye){return ye.event.pointerId===B.pointerId})[0];J.event=B,J.touch=De(B)},Re=function(B){B.touches=be.map(function(J){return J.touch})},Ue=function(B){return B.pointerType==="mouse"||B.pointerType===4};t.registerBinding(t.container,"pointerdown",function(me){Ue(me)||(me.preventDefault(),Me(me),Re(me),j(me))}),t.registerBinding(t.container,"pointerup",function(me){Ue(me)||(Xe(me),Re(me),Le(me))}),t.registerBinding(t.container,"pointercancel",function(me){Ue(me)||(Xe(me),Re(me),he(me))}),t.registerBinding(t.container,"pointermove",function(me){Ue(me)||(me.preventDefault(),Ye(me),Re(me),ae(me))})}};var _r={};_r.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,o,i,s,u){this.renderer.nodeShapeImpl("polygon",n,a,o,i,s,this.points)},intersectLine:function(n,a,o,i,s,u,l,f){return Ua(s,u,this.points,n,a,o/2,i/2,l)},checkPoint:function(n,a,o,i,s,u,l,f){return Xr(n,a,this.points,u,l,i,s,[0,-1],o)}}};_r.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,o,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,i,s,u){return Fd(o,i,e,r,n/2+s,a/2+s)},checkPoint:function(e,r,n,a,o,i,s,u){return An(e,r,a,o,i,s,n)}}};_r.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,o,i,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(e.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var f=o/2,h=i/2;s=s==="auto"?Ul(o,i):s;for(var p=new Array(e.length/2),g=0;g<e.length/2;g++)p[g]={x:n+f*e[g*2],y:a+h*e[g*2+1]};var v,m,w,b,T=p.length;for(m=p[T-1],v=0;v<T;v++)w=p[v%T],b=p[(v+1)%T],u[l][v]=Ms(m,w,b,s),m=w,w=b;return u[l]},draw:function(n,a,o,i,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,o,i,s,this.points,this.getOrCreateCorners(a,o,i,s,u,l,"drawCorners"))},intersectLine:function(n,a,o,i,s,u,l,f,h){return zd(s,u,this.points,n,a,o,i,l,this.getOrCreateCorners(n,a,o,i,f,h,"corners"))},checkPoint:function(n,a,o,i,s,u,l,f,h){return Bd(n,a,this.points,u,l,i,s,this.getOrCreateCorners(u,l,i,s,f,h,"corners"))}}};_r.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:nr(4,0),draw:function(e,r,n,a,o,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o,this.points,i)},intersectLine:function(e,r,n,a,o,i,s,u){return Gl(o,i,e,r,n,a,s,u)},checkPoint:function(e,r,n,a,o,i,s,u){var l=a/2,f=o/2;u=u==="auto"?In(a,o):u,u=Math.min(l,f,u);var h=u*2;return!!(Xr(e,r,this.points,i,s,a,o-h,[0,-1],n)||Xr(e,r,this.points,i,s,a-h,o,[0,-1],n)||An(e,r,h,h,i-l+u,s-f+u,n)||An(e,r,h,h,i+l-u,s-f+u,n)||An(e,r,h,h,i+l-u,s+f-u,n)||An(e,r,h,h,i-l+u,s+f-u,n))}}};_r.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:ms(),points:nr(4,0),draw:function(e,r,n,a,o,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o,null,i)},generateCutTrianglePts:function(e,r,n,a,o){var i=o==="auto"?this.cornerLength:o,s=r/2,u=e/2,l=n-u,f=n+u,h=a-s,p=a+s;return{topLeft:[l,h+i,l+i,h,l+i,h+i],topRight:[f-i,h,f,h+i,f-i,h+i],bottomRight:[f,p-i,f-i,p,f-i,p-i],bottomLeft:[l+i,p,l,p-i,l+i,p-i]}},intersectLine:function(e,r,n,a,o,i,s,u){var l=this.generateCutTrianglePts(n+2*s,a+2*s,e,r,u),f=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Ua(o,i,f,e,r)},checkPoint:function(e,r,n,a,o,i,s,u){var l=u==="auto"?this.cornerLength:u;if(Xr(e,r,this.points,i,s,a,o-2*l,[0,-1],n)||Xr(e,r,this.points,i,s,a-2*l,o,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,o,i,s);return lr(e,r,f.topLeft)||lr(e,r,f.topRight)||lr(e,r,f.bottomRight)||lr(e,r,f.bottomLeft)}}};_r.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:nr(4,0),draw:function(e,r,n,a,o,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o)},intersectLine:function(e,r,n,a,o,i,s,u){var l=.15,f=.5,h=.85,p=this.generateBarrelBezierPts(n+2*s,a+2*s,e,r),g=function(w){var b=Qn({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},l),T=Qn({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f),E=Qn({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},h);return[w[0],w[1],b.x,b.y,T.x,T.y,E.x,E.y,w[4],w[5]]},v=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return Ua(o,i,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var o=r/2,i=e/2,s=n-i,u=n+i,l=a-o,f=a+o,h=_o(e,r),p=h.heightOffset,g=h.widthOffset,v=h.ctrlPtOffsetPct*e,m={topLeft:[s,l+p,s+v,l,s+g,l],topRight:[u-g,l,u-v,l,u,l+p],bottomRight:[u,f-p,u-v,f,u-g,f],bottomLeft:[s+g,f,s+v,f,s,f-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},checkPoint:function(e,r,n,a,o,i,s,u){var l=_o(a,o),f=l.heightOffset,h=l.widthOffset;if(Xr(e,r,this.points,i,s,a,o-2*f,[0,-1],n)||Xr(e,r,this.points,i,s,a-2*h,o,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,o,i,s),g=function(L,D,N){var P=N[4],F=N[2],z=N[0],k=N[5],H=N[1],q=Math.min(P,z),U=Math.max(P,z),X=Math.min(k,H),W=Math.max(k,H);if(q<=L&&L<=U&&X<=D&&D<=W){var Q=Gd(P,F,z),K=Id(Q[0],Q[1],Q[2],L),$=K.filter(function(ee){return 0<=ee&&ee<=1});if($.length>0)return $[0]}return null},v=Object.keys(p),m=0;m<v.length;m++){var w=v[m],b=p[w],T=g(e,r,b);if(T!=null){var E=b[5],S=b[3],A=b[1],I=Ft(E,S,A,T);if(b.isTop&&I<=r||b.isBottom&&r<=I)return!0}}return!1}}};_r.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:nr(4,0),draw:function(e,r,n,a,o,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,o,this.points,i)},intersectLine:function(e,r,n,a,o,i,s,u){var l=e-(n/2+s),f=r-(a/2+s),h=f,p=e+(n/2+s),g=sn(o,i,e,r,l,f,p,h,!1);return g.length>0?g:Gl(o,i,e,r,n,a,s,u)},checkPoint:function(e,r,n,a,o,i,s,u){u=u==="auto"?In(a,o):u;var l=2*u;if(Xr(e,r,this.points,i,s,a,o-l,[0,-1],n)||Xr(e,r,this.points,i,s,a-l,o,[0,-1],n))return!0;var f=a/2+2*n,h=o/2+2*n,p=[i-f,s-h,i-f,s,i+f,s,i+f,s-h];return!!(lr(e,r,p)||An(e,r,l,l,i+a/2-u,s+o/2-u,n)||An(e,r,l,l,i-a/2+u,s+o/2-u,n))}}};_r.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",nr(3,0)),this.generateRoundPolygon("round-triangle",nr(3,0)),this.generatePolygon("rectangle",nr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",nr(5,0)),this.generateRoundPolygon("round-pentagon",nr(5,0)),this.generatePolygon("hexagon",nr(6,0)),this.generateRoundPolygon("round-hexagon",nr(6,0)),this.generatePolygon("heptagon",nr(7,0)),this.generateRoundPolygon("round-heptagon",nr(7,0)),this.generatePolygon("octagon",nr(8,0)),this.generateRoundPolygon("round-octagon",nr(8,0));var n=new Array(20);{var a=Wo(5,0),o=Wo(5,Math.PI/5),i=.5*(3-Math.sqrt(5));i*=1.57;for(var s=0;s<o.length/2;s++)o[s*2]*=i,o[s*2+1]*=i;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=o[s*2],n[s*4+3]=o[s*2+1]}n=Hl(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var f=l.join("$"),h="polygon-"+f,p;return(p=this[h])?p:e.generatePolygon(h,l)}};var ei={};ei.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};ei.redraw=function(t){t=t||kl();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};ei.beforeRender=function(t,e){if(!this.destroyed){e==null&&At("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var rl=function(e,r,n){for(var a=e.beforeRenderCallbacks,o=0;o<a.length;o++)a[o].fn(r,n)};ei.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){rl(t,!0,a);var o=Yr();t.render(t.renderOptions);var i=t.lastDrawTime=Yr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=i-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=i-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else rl(t,!1,a);t.skipFrame=!1,ki(n)}};ki(r)}};var wm=function(e){this.init(e)},Hf=wm,da=Hf.prototype;da.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];da.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,o=a.head,i="__________cytoscape_stylesheet",s="__________cytoscape_container",u=a.getElementById(i)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!u){var l=a.createElement("style");l.id=i,l.textContent="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}var f=n.getComputedStyle(r),h=f.getPropertyValue("position");h==="static"&&ct("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Oe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};da.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};da.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};da.isHeadless=function(){return!1};[Os,zf,Gf,ha,_r,ei].forEach(function(t){_e(da,t)});var Ho=1e3/60,Uf={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=_i(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),i=function(l,f){var h=Yr(),p=a.averageRedrawTime,g=a.lastRedrawTime,v=[],m=a.cy.extent(),w=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var b=Yr(),T=b-h,E=b-f;if(g<Ho){var S=Ho-(l?p:0);if(E>=e.deqFastCost*S)break}else if(l){if(T>=e.deqCost*g||T>=e.deqAvgCost*p)break}else if(E>=e.deqNoDrawCost*Ho)break;var A=e.deq(n,w,m);if(A.length>0)for(var I=0;I<A.length;I++)v.push(A[I]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,w,m)&&o())},s=e.priority||vs;a.beforeRender(i,s(n))}}}},Em=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri;ls(this,t),this.idsByKey=new Br,this.keyForId=new Br,this.cachesByLvl=new Br,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return fs(t,[{key:"getIdsFor",value:function(r){r==null&&At("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new ia,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),o=this.getKey(r);return a!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,o=n.get(r);return o||(o=new Br,n.set(r,o),a.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),o=this.getCache(a,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),o=this.getCache(a,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var o=this.getKey(r);this.setCache(o,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(a),o||this.getNumberOfIdsForKey(a)===0}}]),t}(),nl=25,Ti=50,Ii=-4,as=3,xm=7.99,Tm=8,Cm=1024,Dm=1024,Sm=1024,Lm=.2,Am=.8,Om=10,Mm=.15,Nm=.1,Im=.9,Pm=.9,km=100,Rm=1,Zn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Bm=Xt({getKey:null,doesEleInvalidateKey:Ri,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Nl,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Pa=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=Bm(r);_e(n,a),n.lookup=new Em(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},kt=Pa.prototype;kt.reasons=Zn;kt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};kt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};kt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Za(function(r,n){return n.reqs-r.reqs});return e};kt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};kt.getElement=function(t,e,r,n,a){var o=this,i=this.renderer,s=i.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(ps(s*r))),n<Ii)n=Ii;else if(s>=xm||n>as)return null;var l=Math.pow(2,n),f=e.h*l,h=e.w*l,p=i.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,p))return null;var g=u.get(t,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var v;if(f<=nl?v=nl:f<=Ti?v=Ti:v=Math.ceil(f/Ti)*Ti,f>Sm||h>Dm)return null;var m=o.getTextureQueue(v),w=m[m.length-2],b=function(){return o.recycleTexture(v,h)||o.addTexture(v,h)};w||(w=m[m.length-1]),w||(w=b()),w.width-w.usedWidth<h&&(w=b());for(var T=function(q){return q&&q.scaledLabelShown===p},E=a&&a===Zn.dequeue,S=a&&a===Zn.highQuality,A=a&&a===Zn.downscale,I,d=n+1;d<=as;d++){var L=u.get(t,d);if(L){I=L;break}}var D=I&&I.level===n+1?I:null,N=function(){w.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,w.usedWidth,0,h,f)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,h,v),T(D))N();else if(T(I))if(S){for(var P=I.level;P>n;P--)D=o.getElement(t,e,r,P,Zn.downscale);N()}else return o.queueElement(t,I.level-1),I;else{var F;if(!E&&!S&&!A)for(var z=n-1;z>=Ii;z--){var k=u.get(t,z);if(k){F=k;break}}if(T(F))return o.queueElement(t,n),F;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return g={x:w.usedWidth,texture:w,level:n,scale:l,width:h,height:f,scaledLabelShown:p},w.usedWidth+=Math.ceil(h+Tm),w.eleCaches.push(g),u.set(t,n,g),o.checkTextureFullness(w),g};kt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};kt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var o=Ii;o<=as;o++){var i=r.getForCachedKey(t,o);i&&n.push(i)}var s=r.invalidate(t);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};kt.checkTextureUtility=function(t){t.invalidatedWidth>=Lm*t.width&&this.retireTexture(t)};kt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>Am&&t.fullnessChecks>=Om?cn(r,t):t.fullnessChecks++};kt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;cn(n,t),t.retired=!0;for(var o=t.eleCaches,i=0;i<o.length;i++){var s=o[i];a.deleteCache(s.key,s.level)}gs(o);var u=e.getRetiredTextureQueue(r);u.push(t)};kt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(Cm,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};kt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),o=0;o<a.length;o++){var i=a[o];if(i.width>=e)return i.retired=!1,i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,gs(i.eleCaches),i.context.setTransform(1,0,0,1,0,0),i.context.clearRect(0,0,i.width,i.height),cn(a,i),n.push(i),i}};kt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),o=this.getKey(t),i=a[o];if(i)i.level=Math.max(i.level,e),i.eles.merge(t),i.reqs++,n.updateItem(i);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(s),a[o]=s}};kt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],o=e.lookup,i=0;i<Rm&&r.size()>0;i++){var s=r.pop(),u=s.key,l=s.eles[0],f=o.hasCache(l,s.level);if(n[u]=null,f)continue;a.push(s);var h=e.getBoundingBox(l);e.getElement(l,h,t,s.level,Zn.dequeue)}return a};kt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),o=n[a];o!=null&&(o.eles.length===1?(o.reqs=ds,r.updateItem(o),r.pop(),n[a]=null):o.eles.unmerge(t))};kt.onDequeue=function(t){this.onDequeues.push(t)};kt.offDequeue=function(t){cn(this.onDequeues,t)};kt.setupDequeueing=Uf.setupDequeueing({deqRedrawThreshold:km,deqCost:Mm,deqAvgCost:Nm,deqNoDrawCost:Im,deqFastCost:Pm,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var o=0;o<r.length;o++)for(var i=r[o].eles,s=0;s<i.length;s++){var u=i[s].boundingBox();if(ys(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Fm=1,Ra=-4,qi=2,zm=3.99,Gm=50,Hm=50,Um=.15,Vm=.1,qm=.9,Ym=.9,Xm=1,al=250,Wm=4e3*4e3,_m=!0,Vf=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Yr()-2*al,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=_i(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Hm),n.beforeRender(function(i,s){s-r.lastInvalidationTime<=al?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(s,u){return u.reqs-s.reqs};r.layersQueue=new Za(o),r.setupDequeueing()},Wt=Vf.prototype,il=0,$m=Math.pow(2,53)-1;Wt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,a),i={id:il=++il%$m,bb:t,level:e,width:n,height:a,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=i.context,u=-i.bb.x1,l=-i.bb.y1;return s.scale(r,r),s.translate(u,l),i};Wt.getLayers=function(t,e,r){var n=this,a=n.renderer,o=a.cy,i=o.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(ps(i*e)),r<Ra)r=Ra;else if(i>=zm||r>qi)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],h,p=n.levelIsComplete(r,t),g,v=function(){var N=function(H){if(n.validateLayersElesOrdering(H,t),n.levelIsComplete(H,t))return g=u[H],!0},P=function(H){if(!g)for(var q=r+H;Ra<=q&&q<=qi&&!N(q);q+=H);};P(1),P(-1);for(var F=f.length-1;F>=0;F--){var z=f[F];z.invalid&&cn(f,z)}};if(!p)v();else return f;var m=function(){if(!h){h=fr();for(var N=0;N<t.length;N++)Fl(h,t[N].boundingBox())}return h},w=function(N){N=N||{};var P=N.after;m();var F=h.w*l*(h.h*l);if(F>Wm)return null;var z=n.makeLayer(h,r);if(P!=null){var k=f.indexOf(P)+1;f.splice(k,0,z)}else(N.insert===void 0||N.insert)&&f.unshift(z);return z};if(n.skipping&&!s)return null;for(var b=null,T=t.length/Fm,E=!s,S=0;S<t.length;S++){var A=t[S],I=A._private.rscratch,d=I.imgLayerCaches=I.imgLayerCaches||{},L=d[r];if(L){b=L;continue}if((!b||b.eles.length>=T||!zl(b.bb,A.boundingBox()))&&(b=w({insert:!0,after:b}),!b))return null;g||E?n.queueLayer(b,A):n.drawEleInLayer(b,A,r,e),b.eles.push(A),d[r]=b}return g||(E?null:f)};Wt.getEleLevelForLayerLevel=function(t,e){return t};Wt.drawEleInLayer=function(t,e,r,n){var a=this,o=this.renderer,i=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(i,!1),o.drawCachedElement(i,e,null,null,r,_m),o.setImgSmoothing(i,!0))};Wt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,o=0;o<n.length;o++){var i=n[o];if(i.reqs>0||i.invalid)return!1;a+=i.eles.length}return a===e.length};Wt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],o=-1,i=0;i<e.length;i++)if(a.eles[0]===e[i]){o=i;break}if(o<0){this.invalidateLayer(a);continue}for(var s=o,i=0;i<a.eles.length;i++)if(a.eles[i]!==e[s+i]){this.invalidateLayer(a);break}}};Wt.updateElementsInLayers=function(t,e){for(var r=this,n=$a(t[0]),a=0;a<t.length;a++)for(var o=n?null:t[a],i=n?t[a]:t[a].ele,s=i._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=Ra;l<=qi;l++){var f=u[l];f&&(o&&r.getEleLevelForLayerLevel(f.level)!==o.level||e(f,i,o))}};Wt.haveLayers=function(){for(var t=this,e=!1,r=Ra;r<=qi;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Wt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Yr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,o){e.invalidateLayer(n)}))};Wt.invalidateLayer=function(t){if(this.lastInvalidationTime=Yr(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];cn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var o=r[a]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};Wt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,o){var i=n.replacement;if(i||(i=n.replacement=e.makeLayer(n.bb,n.level),i.replaces=n,i.eles=n.eles),!i.reqs)for(var s=0;s<i.eles.length;s++)e.queueLayer(i,i.eles[s])})};Wt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Wt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,o=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;a.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Wt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<Xm&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var i=o.elesQueue.shift();i&&(e.drawEleInLayer(o,i,o.level,t),a++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};Wt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var o=0;o<t.eles.length;o++){var i=t.eles[o]._private,s=i.imgLayerCaches=i.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Wt.requestRedraw=_i(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Wt.setupDequeueing=Uf.setupDequeueing({deqRedrawThreshold:Gm,deqCost:Um,deqAvgCost:Vm,deqNoDrawCost:qm,deqFastCost:Ym,deq:function(e,r){return e.dequeue(r)},onDeqd:vs,shouldRedraw:Nl,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var qf={},ol;function Km(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Zm(t,e,r){for(var n,a=0;a<e.length;a++){var o=e[a];a===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function sl(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var o=n[a];t.lineTo(o.x,o.y)}var i=r,s=r[0];t.moveTo(s.x,s.y);for(var a=1;a<i.length;a++){var o=i[a];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function Qm(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var o=e,i=o[0];t.moveTo(i.x,i.y);for(var s=0;s<o.length;s++){var u=o[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function jm(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}qf.arrowShapeImpl=function(t){return(ol||(ol={polygon:Km,"triangle-backcurve":Zm,"triangle-tee":sl,"circle-triangle":Qm,"triangle-cross":sl,circle:jm}))[t]};var Gr={};Gr.drawElement=function(t,e,r,n,a,o){var i=this;e.isNode()?i.drawNode(t,e,r,n,a,o):i.drawEdge(t,e,r,n,a,o)};Gr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Gr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Gr.drawCachedElementPortion=function(t,e,r,n,a,o,i,s){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var f=r.getElement(e,l,n,a,o);if(f!=null){var h=s(u,e);if(h===0)return;var p=i(u,e),g=l.x1,v=l.y1,m=l.w,w=l.h,b,T,E,S,A;if(p!==0){var I=r.getRotationPoint(e);E=I.x,S=I.y,t.translate(E,S),t.rotate(p),A=u.getImgSmoothing(t),A||u.setImgSmoothing(t,!0);var d=r.getRotationOffset(e);b=d.x,T=d.y}else b=g,T=v;var L;h!==1&&(L=t.globalAlpha,t.globalAlpha=L*h),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,b,T,m,w),h!==1&&(t.globalAlpha=L),p!==0&&(t.rotate(-p),t.translate(-E,-S),A||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Jm=function(){return 0},e0=function(e,r){return e.getTextAngle(r,null)},t0=function(e,r){return e.getTextAngle(r,"source")},r0=function(e,r){return e.getTextAngle(r,"target")},n0=function(e,r){return r.effectiveOpacity()},Uo=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Gr.drawCachedElement=function(t,e,r,n,a,o){var i=this,s=i.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,h=s.tlbTxrCache,p=e.boundingBox(),g=o===!0?u.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||ys(p,n))){var v=e.isEdge(),m=e.element()._private.rscratch.badLine;i.drawElementUnderlay(t,e),i.drawCachedElementPortion(t,e,u,r,a,g,Jm,n0),(!v||!m)&&i.drawCachedElementPortion(t,e,l,r,a,g,e0,Uo),v&&!m&&(i.drawCachedElementPortion(t,e,f,r,a,g,t0,Uo),i.drawCachedElementPortion(t,e,h,r,a,g,r0,Uo)),i.drawElementOverlay(t,e)}};Gr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};Gr.drawCachedElements=function(t,e,r,n){for(var a=this,o=0;o<e.length;o++){var i=e[o];a.drawCachedElement(t,i,r,n)}};Gr.drawCachedNodes=function(t,e,r,n){for(var a=this,o=0;o<e.length;o++){var i=e[o];i.isNode()&&a.drawCachedElement(t,i,r,n)}};Gr.drawLayeredElements=function(t,e,r,n){var a=this,o=a.data.lyrTxrCache.getLayers(e,r);if(o)for(var i=0;i<o.length;i++){var s=o[i],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(t,e,r,n)};var $r={};$r.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this,s=e._private.rscratch;if(!(o&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=o?e.pstyle("opacity").value:1,f=o?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,g=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,m=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,b=l*f,T=l*f,E=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;h==="straight-triangle"?(i.eleStrokeStyle(t,e,H),i.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=g,t.lineCap=v,i.eleStrokeStyle(t,e,H),i.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},S=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(t.lineWidth=g+m,t.lineCap=v,m>0)i.colorStrokeStyle(t,w[0],w[1],w[2],H);else{t.lineCap="butt";return}h==="straight-triangle"?i.drawEdgeTrianglePath(e,t,s.allpts):(i.drawEdgePath(e,t,s.allpts,p),t.lineCap="butt")},A=function(){a&&i.drawEdgeOverlay(t,e)},I=function(){a&&i.drawEdgeUnderlay(t,e)},d=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;i.drawArrowheads(t,e,H)},L=function(){i.drawElementText(t,e,null,n)};t.lineJoin="round";var D=e.pstyle("ghost").value==="yes";if(D){var N=e.pstyle("ghost-offset-x").pfValue,P=e.pstyle("ghost-offset-y").pfValue,F=e.pstyle("ghost-opacity").value,z=b*F;t.translate(N,P),E(z),d(z),t.translate(-N,-P)}else S();I(),E(),d(),A(),L(),r&&t.translate(u.x1,u.y1)}};var Yf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var o=this,i=o.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!i?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,f[0],f[1],f[2],a),o.drawEdgePath(n,r,s.allpts,"solid")}}}};$r.drawEdgeOverlay=Yf("overlay");$r.drawEdgeUnderlay=Yf("underlay");$r.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,o=e,i,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var h=r.join("$"),p=a.pathCacheKey&&a.pathCacheKey===h;p?(i=e=a.pathCache,s=!0):(i=e=new Path2D,a.pathCacheKey=h,a.pathCache=i)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=f;break;case"solid":o.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<r.length;g+=4)e.quadraticCurveTo(r[g],r[g+1],r[g+2],r[g+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var m=yl(a.roundCorners),w;try{for(m.s();!(w=m.n()).done;){var b=w.value;Pf(e,b)}}catch(E){m.e(E)}finally{m.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var T=2;T+1<r.length;T+=2)e.lineTo(r[T],r[T+1]);break}e=o,u?e.stroke(i):e.stroke(),e.setLineDash&&e.setLineDash([])};$r.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var o=[r[a+2]-r[a],r[a+3]-r[a+1]],i=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/i,-o[0]/i],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[a]-u[0],r[a+1]-u[1]),e.lineTo(r[a]+u[0],r[a+1]+u[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};$r.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};$r.drawArrowhead=function(t,e,r,n,a,o,i){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(o)||o==null)){var s=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),g=p.value==="match-line"?h:p.pfValue;p.units==="%"&&(g*=h);var v=e.pstyle("opacity").value;i===void 0&&(i=v);var m=t.globalCompositeOperation;(i!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,h,u,g,n,a,o),t.globalCompositeOperation=m);var w=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,w[0],w[1],w[2],i),s.colorStrokeStyle(t,w[0],w[1],w[2],i),s.drawArrowShape(e,t,f,h,u,g,n,a,o)}}};$r.drawArrowShape=function(t,e,r,n,a,o,i,s,u){var l=this,f=this.usePaths()&&a!=="triangle-cross",h=!1,p,g=e,v={x:i,y:s},m=t.pstyle("arrow-scale").value,w=this.getArrowWidth(n,m),b=l.arrowShapes[a];if(f){var T=l.arrowPathCache=l.arrowPathCache||[],E=Mn(a),S=T[E];S!=null?(p=e=S,h=!0):(p=e=new Path2D,T[E]=p)}h||(e.beginPath&&e.beginPath(),f?b.draw(e,1,0,{x:0,y:0},1):b.draw(e,w,u,v,n),e.closePath&&e.closePath()),e=g,f&&(e.translate(i,s),e.rotate(u),e.scale(w,w)),(r==="filled"||r==="both")&&(f?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=o/(f?w:1),e.lineJoin="miter",f?e.stroke(p):e.stroke()),f&&(e.scale(1/w,1/w),e.rotate(-u),e.translate(-i,-s))};var Is={};Is.safeDrawImage=function(t,e,r,n,a,o,i,s,u,l){if(!(a<=0||o<=0||u<=0||l<=0))try{t.drawImage(e,r,n,a,o,i,s,u,l)}catch(f){ct(f)}};Is.drawInscribedImage=function(t,e,r,n,a){var o=this,i=r.position(),s=i.x,u=i.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),h=f(r,"background-fit","value",n),p=f(r,"background-repeat","value",n),g=r.width(),v=r.height(),m=r.padding()*2,w=g+(f(r,"background-width-relative-to","value",n)==="inner"?0:m),b=v+(f(r,"background-height-relative-to","value",n)==="inner"?0:m),T=r._private.rscratch,E=f(r,"background-clip","value",n),S=E==="node",A=f(r,"background-image-opacity","value",n)*a,I=f(r,"background-image-smoothing","value",n),d=r.pstyle("corner-radius").value;d!=="auto"&&(d=r.pstyle("corner-radius").pfValue);var L=e.width||e.cachedW,D=e.height||e.cachedH;(L==null||D==null)&&(document.body.appendChild(e),L=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var N=L,P=D;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?N=f(r,"background-width","pfValue",n)*w:N=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?P=f(r,"background-height","pfValue",n)*b:P=f(r,"background-height","pfValue",n)),!(N===0||P===0)){if(h==="contain"){var F=Math.min(w/N,b/P);N*=F,P*=F}else if(h==="cover"){var F=Math.max(w/N,b/P);N*=F,P*=F}var z=s-w/2,k=f(r,"background-position-x","units",n),H=f(r,"background-position-x","pfValue",n);k==="%"?z+=(w-N)*H:z+=H;var q=f(r,"background-offset-x","units",n),U=f(r,"background-offset-x","pfValue",n);q==="%"?z+=(w-N)*U:z+=U;var X=u-b/2,W=f(r,"background-position-y","units",n),Q=f(r,"background-position-y","pfValue",n);W==="%"?X+=(b-P)*Q:X+=Q;var K=f(r,"background-offset-y","units",n),$=f(r,"background-offset-y","pfValue",n);K==="%"?X+=(b-P)*$:X+=$,T.pathCache&&(z-=s,X-=u,s=0,u=0);var ee=t.globalAlpha;t.globalAlpha=A;var oe=o.getImgSmoothing(t),ce=!1;if(I==="no"&&oe?(o.setImgSmoothing(t,!1),ce=!0):I==="yes"&&!oe&&(o.setImgSmoothing(t,!0),ce=!0),p==="no-repeat")S&&(t.save(),T.pathCache?t.clip(T.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,b,d,T),t.clip())),o.safeDrawImage(t,e,0,0,L,D,z,X,N,P),S&&t.restore();else{var de=t.createPattern(e,p);t.fillStyle=de,o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,b,d,T),t.translate(z,X),t.fill(),t.translate(-z,-X)}t.globalAlpha=ee,ce&&o.setImgSmoothing(t,oe)}};var Fn={};Fn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(ps(r*n));e=Math.pow(2,a)}var o=t.pstyle("font-size").pfValue*e,i=t.pstyle("min-zoomed-font-size").pfValue;return!(o<i)};Fn.drawElementText=function(t,e,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this;if(n==null){if(o&&!i.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=i.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,f=e.pstyle("label"),h=e.pstyle("source-label"),p=e.pstyle("target-label");if(l||(!f||!f.value)&&(!h||!h.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var g=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(i.drawText(t,e,null,g,o),e.isEdge()&&(i.drawText(t,e,"source",g,o),i.drawText(t,e,"target",g,o))):i.drawText(t,e,a,g,o),r&&t.translate(v.x1,v.y1)};Fn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Fn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,i=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+i+" "+a+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function Vo(t,e,r,n,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,i=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+a-o),t.quadraticCurveTo(e+n,r+a,e+n-o,r+a),t.lineTo(e+o,r+a),t.quadraticCurveTo(e,r+a,e,r+a-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),i?t.stroke():t.fill()}Fn.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,o=e?e+"-":"",i=t.pstyle(o+"text-rotation"),s=Dr(a,"labelAngle",e);return i.strValue==="autorotate"?r=t.isEdge()?s:0:i.strValue==="none"?r=0:r=i.pfValue,r};Fn.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,i=o.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Dr(i,"labelX",r),l=Dr(i,"labelY",r),f,h,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,a);var g=r?r+"-":"",v=Dr(i,"labelWidth",r),m=Dr(i,"labelHeight",r),w=e.pstyle(g+"text-margin-x").pfValue,b=e.pstyle(g+"text-margin-y").pfValue,T=e.isEdge(),E=e.pstyle("text-halign").value,S=e.pstyle("text-valign").value;T&&(E="center",S="center"),u+=w,l+=b;var A;switch(n?A=this.getTextAngle(e,r):A=0,A!==0&&(f=u,h=l,t.translate(f,h),t.rotate(A),u=0,l=0),S){case"top":break;case"center":l+=m/2;break;case"bottom":l+=m;break}var I=e.pstyle("text-background-opacity").value,d=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,D=e.pstyle("text-background-padding").pfValue,N=e.pstyle("text-background-shape").strValue,P=N.indexOf("round")===0,F=2;if(I>0||L>0&&d>0){var z=u-D;switch(E){case"left":z-=v;break;case"center":z-=v/2;break}var k=l-m-D,H=v+2*D,q=m+2*D;if(I>0){var U=t.fillStyle,X=e.pstyle("text-background-color").value;t.fillStyle="rgba("+X[0]+","+X[1]+","+X[2]+","+I*s+")",P?Vo(t,z,k,H,q,F):t.fillRect(z,k,H,q),t.fillStyle=U}if(L>0&&d>0){var W=t.strokeStyle,Q=t.lineWidth,K=e.pstyle("text-border-color").value,$=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+K[0]+","+K[1]+","+K[2]+","+d*s+")",t.lineWidth=L,t.setLineDash)switch($){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(P?Vo(t,z,k,H,q,F,"stroke"):t.strokeRect(z,k,H,q),$==="double"){var ee=L/2;P?Vo(t,z+ee,k+ee,H-ee*2,q-ee*2,F,"stroke"):t.strokeRect(z+ee,k+ee,H-ee*2,q-ee*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=Q,t.strokeStyle=W}}var oe=2*e.pstyle("text-outline-width").pfValue;if(oe>0&&(t.lineWidth=oe),e.pstyle("text-wrap").value==="wrap"){var ce=Dr(i,"labelWrapCachedLines",r),de=Dr(i,"labelLineHeight",r),we=v/2,fe=this.getLabelJustification(e);switch(fe==="auto"||(E==="left"?fe==="left"?u+=-v:fe==="center"&&(u+=-we):E==="center"?fe==="left"?u+=-we:fe==="right"&&(u+=we):E==="right"&&(fe==="center"?u+=we:fe==="right"&&(u+=v))),S){case"top":l-=(ce.length-1)*de;break;case"center":case"bottom":l-=(ce.length-1)*de;break}for(var j=0;j<ce.length;j++)oe>0&&t.strokeText(ce[j],u,l),t.fillText(ce[j],u,l),l+=de}else oe>0&&t.strokeText(p,u,l),t.fillText(p,u,l);A!==0&&(t.rotate(-A),t.translate(-f,-h))}}};var va={};va.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,i=this,s,u,l=e._private,f=l.rscratch,h=e.position();if(!(!Oe(h.x)||!Oe(h.y))&&!(o&&!e.visible())){var p=o?e.effectiveOpacity():1,g=i.usePaths(),v,m=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var b;r&&(b=r,t.translate(-b.x1,-b.y1));for(var T=e.pstyle("background-image"),E=T.value,S=new Array(E.length),A=new Array(E.length),I=0,d=0;d<E.length;d++){var L=E[d],D=S[d]=L!=null&&L!=="none";if(D){var N=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",d);I++,A[d]=i.getCachedImage(L,N,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var P=e.pstyle("background-blacken").value,F=e.pstyle("border-width").pfValue,z=e.pstyle("background-opacity").value*p,k=e.pstyle("border-color").value,H=e.pstyle("border-style").value,q=e.pstyle("border-join").value,U=e.pstyle("border-cap").value,X=e.pstyle("border-position").value,W=e.pstyle("border-dash-pattern").pfValue,Q=e.pstyle("border-dash-offset").pfValue,K=e.pstyle("border-opacity").value*p,$=e.pstyle("outline-width").pfValue,ee=e.pstyle("outline-color").value,oe=e.pstyle("outline-style").value,ce=e.pstyle("outline-opacity").value*p,de=e.pstyle("outline-offset").value,we=e.pstyle("corner-radius").value;we!=="auto"&&(we=e.pstyle("corner-radius").pfValue);var fe=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;i.eleFillStyle(t,e,Se)},j=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K;i.colorStrokeStyle(t,k[0],k[1],k[2],Se)},ae=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ce;i.colorStrokeStyle(t,ee[0],ee[1],ee[2],Se)},he=function(Se,le,xe,ze){var Ge=i.nodePathCache=i.nodePathCache||[],Pe=Ml(xe==="polygon"?xe+","+ze.join(","):xe,""+le,""+Se,""+we),$e=Ge[Pe],ke,Ve=!1;return $e!=null?(ke=$e,Ve=!0,f.pathCache=ke):(ke=new Path2D,Ge[Pe]=f.pathCache=ke),{path:ke,cacheHit:Ve}},Le=e.pstyle("shape").strValue,Fe=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(h.x,h.y);var Ce=he(s,u,Le,Fe);v=Ce.path,m=Ce.cacheHit}var pe=function(){if(!m){var Se=h;g&&(Se={x:0,y:0}),i.nodeShapes[i.getNodeShape(e)].draw(v||t,Se.x,Se.y,s,u,we,f)}g?t.fill(v):t.fill()},be=function(){for(var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xe=l.backgrounding,ze=0,Ge=0;Ge<A.length;Ge++){var Pe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Ge);if(le&&Pe==="over"||!le&&Pe==="inside"){ze++;continue}S[Ge]&&A[Ge].complete&&!A[Ge].error&&(ze++,i.drawInscribedImage(t,A[Ge],e,Ge,Se))}l.backgrounding=ze!==I,xe!==l.backgrounding&&e.updateStyle(!1)},De=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;i.hasPie(e)&&(i.drawPie(t,e,le),Se&&(g||i.nodeShapes[i.getNodeShape(e)].draw(t,h.x,h.y,s,u,we,f)))},Ee=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,le=(P>0?P:-P)*Se,xe=P>0?0:255;P!==0&&(i.colorFillStyle(t,xe,xe,xe,le),g?t.fill(v):t.fill())},Me=function(){if(F>0){if(t.lineWidth=F,t.lineCap=U,t.lineJoin=q,t.setLineDash)switch(H){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(W),t.lineDashOffset=Q;break;case"solid":case"double":t.setLineDash([]);break}if(X!=="center"){if(t.save(),t.lineWidth*=2,X==="inside")g?t.clip(v):t.clip();else{var Se=new Path2D;Se.rect(-s/2-F,-u/2-F,s+2*F,u+2*F),Se.addPath(v),t.clip(Se,"evenodd")}g?t.stroke(v):t.stroke(),t.restore()}else g?t.stroke(v):t.stroke();if(H==="double"){t.lineWidth=F/3;var le=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(v):t.stroke(),t.globalCompositeOperation=le}t.setLineDash&&t.setLineDash([])}},Xe=function(){if($>0){if(t.lineWidth=$,t.lineCap="butt",t.setLineDash)switch(oe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Se=h;g&&(Se={x:0,y:0});var le=i.getNodeShape(e),xe=F;X==="inside"&&(xe=0),X==="outside"&&(xe*=2);var ze=(s+xe+($+de))/s,Ge=(u+xe+($+de))/u,Pe=s*ze,$e=u*Ge,ke=i.nodeShapes[le].points,Ve;if(g){var gt=he(Pe,$e,le,ke);Ve=gt.path}if(le==="ellipse")i.drawEllipsePath(Ve||t,Se.x,Se.y,Pe,$e);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(le)){var ht=0,Dt=0,Et=0;le==="round-diamond"?ht=(xe+de+$)*1.4:le==="round-heptagon"?(ht=(xe+de+$)*1.075,Et=-(xe/2+de+$)/35):le==="round-hexagon"?ht=(xe+de+$)*1.12:le==="round-pentagon"?(ht=(xe+de+$)*1.13,Et=-(xe/2+de+$)/15):le==="round-tag"?(ht=(xe+de+$)*1.12,Dt=(xe/2+$+de)*.07):le==="round-triangle"&&(ht=(xe+de+$)*(Math.PI/2),Et=-(xe+de/2+$)/Math.PI),ht!==0&&(ze=(s+ht)/s,Pe=s*ze,["round-hexagon","round-tag"].includes(le)||(Ge=(u+ht)/u,$e=u*Ge)),we=we==="auto"?Ul(Pe,$e):we;for(var St=Pe/2,zt=$e/2,ut=we+(xe+$+de)/2,lt=new Array(ke.length/2),er=new Array(ke.length/2),ar=0;ar<ke.length/2;ar++)lt[ar]={x:Se.x+Dt+St*ke[ar*2],y:Se.y+Et+zt*ke[ar*2+1]};var Gt,cr,_t,Rt,xt=lt.length;for(cr=lt[xt-1],Gt=0;Gt<xt;Gt++)_t=lt[Gt%xt],Rt=lt[(Gt+1)%xt],er[Gt]=Ms(cr,_t,Rt,ut),cr=_t,_t=Rt;i.drawRoundPolygonPath(Ve||t,Se.x+Dt,Se.y+Et,s*ze,u*Ge,ke,er)}else if(["roundrectangle","round-rectangle"].includes(le))we=we==="auto"?In(Pe,$e):we,i.drawRoundRectanglePath(Ve||t,Se.x,Se.y,Pe,$e,we+(xe+$+de)/2);else if(["cutrectangle","cut-rectangle"].includes(le))we=we==="auto"?ms():we,i.drawCutRectanglePath(Ve||t,Se.x,Se.y,Pe,$e,null,we+(xe+$+de)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(le))we=we==="auto"?In(Pe,$e):we,i.drawBottomRoundRectanglePath(Ve||t,Se.x,Se.y,Pe,$e,we+(xe+$+de)/2);else if(le==="barrel")i.drawBarrelPath(Ve||t,Se.x,Se.y,Pe,$e);else if(le.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(le)){var Tt=(xe+$+de)/s;ke=Bi(Fi(ke,Tt)),i.drawPolygonPath(Ve||t,Se.x,Se.y,s,u,ke)}else{var Bt=(xe+$+de)/s;ke=Bi(Fi(ke,-Bt)),i.drawPolygonPath(Ve||t,Se.x,Se.y,s,u,ke)}if(g?t.stroke(Ve):t.stroke(),oe==="double"){t.lineWidth=xe/3;var Kr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(Ve):t.stroke(),t.globalCompositeOperation=Kr}t.setLineDash&&t.setLineDash([])}},Ye=function(){a&&i.drawNodeOverlay(t,e,h,s,u)},Re=function(){a&&i.drawNodeUnderlay(t,e,h,s,u)},Ue=function(){i.drawElementText(t,e,null,n)},me=e.pstyle("ghost").value==="yes";if(me){var B=e.pstyle("ghost-offset-x").pfValue,J=e.pstyle("ghost-offset-y").pfValue,ye=e.pstyle("ghost-opacity").value,ue=ye*p;t.translate(B,J),ae(),Xe(),fe(ye*z),pe(),be(ue,!0),j(ye*K),Me(),De(P!==0||F!==0),be(ue,!1),Ee(ue),t.translate(-B,-J)}g&&t.translate(-h.x,-h.y),Re(),g&&t.translate(h.x,h.y),ae(),Xe(),fe(),pe(),be(p,!0),j(),Me(),De(P!==0||F!==0),be(p,!1),Ee(),g&&t.translate(-h.x,-h.y),Ue(),Ye(),r&&t.translate(b.x1,b.y1)}};var Xf=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,o,i){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(a=a||n.position(),o==null||i==null){var g=n.padding();o=n.width()+2*g,i=n.height()+2*g}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[h].draw(r,a.x,a.y,o+u*2,i+u*2,p),r.fill()}}}};va.drawNodeOverlay=Xf("overlay");va.drawNodeUnderlay=Xf("underlay");va.hasPie=function(t){return t=t[0],t._private.hasPie};va.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),o=e.pstyle("pie-size"),i=n.x,s=n.y,u=e.width(),l=e.height(),f=Math.min(u,l)/2,h=0,p=this.usePaths();p&&(i=0,s=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2);for(var g=1;g<=a.pieBackgroundN;g++){var v=e.pstyle("pie-"+g+"-background-size").value,m=e.pstyle("pie-"+g+"-background-color").value,w=e.pstyle("pie-"+g+"-background-opacity").value*r,b=v/100;b+h>1&&(b=1-h);var T=1.5*Math.PI+2*Math.PI*h,E=2*Math.PI*b,S=T+E;v===0||h>=1||h+b>1||(t.beginPath(),t.moveTo(i,s),t.arc(i,s,f,T,S),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],w),t.fill(),h+=b)}};var dr={},a0=100;dr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};dr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};dr.createGradientStyleFor=function(t,e,r,n,a){var o,i=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),h=r.midpoint(),p=Nn(l,h),g=Nn(f,h);o=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,g))}else{var v=i?{x:0,y:0}:r.position(),m=r.paddedWidth(),w=r.paddedHeight();o=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(m,w))}else if(r.isEdge()){var b=r.sourceEndpoint(),T=r.targetEndpoint();o=t.createLinearGradient(b.x,b.y,T.x,T.y)}else{var E=i?{x:0,y:0}:r.position(),S=r.paddedWidth(),A=r.paddedHeight(),I=S/2,d=A/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":o=t.createLinearGradient(E.x,E.y-d,E.x,E.y+d);break;case"to-top":o=t.createLinearGradient(E.x,E.y+d,E.x,E.y-d);break;case"to-left":o=t.createLinearGradient(E.x+I,E.y,E.x-I,E.y);break;case"to-right":o=t.createLinearGradient(E.x-I,E.y,E.x+I,E.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(E.x-I,E.y-d,E.x+I,E.y+d);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(E.x-I,E.y+d,E.x+I,E.y-d);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(E.x+I,E.y-d,E.x-I,E.y+d);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(E.x+I,E.y+d,E.x-I,E.y-d);break}}if(!o)return null;for(var D=u.length===s.length,N=s.length,P=0;P<N;P++)o.addColorStop(D?u[P]:P/(N-1),"rgba("+s[P][0]+","+s[P][1]+","+s[P][2]+","+a+")");return o};dr.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};dr.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};dr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};dr.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};dr.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};dr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};dr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],o=n[3],i=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(i=s);var u=a*i,l=o*i,f;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=a+"px",h.style.height=o+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)f=r.canvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=o+"px";for(var p=0;p<e.BUFFER_COUNT;p++)f=r.bufferCanvases[p],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=o+"px";e.textureMult=1,i<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};dr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};dr.render=function(t){t=t||kl();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,o=t.forcedPan,i=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=i.cy,l=i.data,f=l.canvasNeedsRedraw,h=i.textureOnViewport&&!e&&(i.pinching||i.hoverData.dragging||i.swipePanning||i.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:i.motionBlur,g=i.motionBlurPxRatio,v=u.hasCompoundNodes(),m=i.hoverData.draggingEles,w=!!(i.hoverData.selecting||i.touchData.selecting);p=p&&!e&&i.motionBlurEnabled&&!w;var b=p;e||(i.prevPxRatio!==s&&(i.invalidateContainerClientCoordsCache(),i.matchCanvasSize(i.container),i.redrawHint("eles",!0),i.redrawHint("drag",!0)),i.prevPxRatio=s),!e&&i.motionBlurTimeout&&clearTimeout(i.motionBlurTimeout),p&&(i.mbFrames==null&&(i.mbFrames=0),i.mbFrames++,i.mbFrames<3&&(b=!1),i.mbFrames>i.minMbLowQualFrames&&(i.motionBlurPxRatio=i.mbPxRBlurry)),i.clearingMotionBlur&&(i.motionBlurPxRatio=1),i.textureDrawLastFrame&&!h&&(f[i.NODE]=!0,f[i.SELECT_BOX]=!0);var T=u.style(),E=u.zoom(),S=a!==void 0?a:E,A=u.pan(),I={x:A.x,y:A.y},d={zoom:E,pan:{x:A.x,y:A.y}},L=i.prevViewport,D=L===void 0||d.zoom!==L.zoom||d.pan.x!==L.pan.x||d.pan.y!==L.pan.y;!D&&!(m&&!v)&&(i.motionBlurPxRatio=1),o&&(I=o),S*=s,I.x*=s,I.y*=s;var N=i.getCachedZSortedEles();function P(Ce,pe,be,De,Ee){var Me=Ce.globalCompositeOperation;Ce.globalCompositeOperation="destination-out",i.colorFillStyle(Ce,255,255,255,i.motionBlurTransparency),Ce.fillRect(pe,be,De,Ee),Ce.globalCompositeOperation=Me}function F(Ce,pe){var be,De,Ee,Me;!i.clearingMotionBlur&&(Ce===l.bufferContexts[i.MOTIONBLUR_BUFFER_NODE]||Ce===l.bufferContexts[i.MOTIONBLUR_BUFFER_DRAG])?(be={x:A.x*g,y:A.y*g},De=E*g,Ee=i.canvasWidth*g,Me=i.canvasHeight*g):(be=I,De=S,Ee=i.canvasWidth,Me=i.canvasHeight),Ce.setTransform(1,0,0,1,0,0),pe==="motionBlur"?P(Ce,0,0,Ee,Me):!e&&(pe===void 0||pe)&&Ce.clearRect(0,0,Ee,Me),r||(Ce.translate(be.x,be.y),Ce.scale(De,De)),o&&Ce.translate(o.x,o.y),a&&Ce.scale(a,a)}if(h||(i.textureDrawLastFrame=!1),h){if(i.textureDrawLastFrame=!0,!i.textureCache){i.textureCache={},i.textureCache.bb=u.mutableElements().boundingBox(),i.textureCache.texture=i.data.bufferCanvases[i.TEXTURE_BUFFER];var z=i.data.bufferContexts[i.TEXTURE_BUFFER];z.setTransform(1,0,0,1,0,0),z.clearRect(0,0,i.canvasWidth*i.textureMult,i.canvasHeight*i.textureMult),i.render({forcedContext:z,drawOnlyNodeLayer:!0,forcedPxRatio:s*i.textureMult});var d=i.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:i.canvasWidth,height:i.canvasHeight};d.mpan={x:(0-d.pan.x)/d.zoom,y:(0-d.pan.y)/d.zoom}}f[i.DRAG]=!1,f[i.NODE]=!1;var k=l.contexts[i.NODE],H=i.textureCache.texture,d=i.textureCache.viewport;k.setTransform(1,0,0,1,0,0),p?P(k,0,0,d.width,d.height):k.clearRect(0,0,d.width,d.height);var q=T.core("outside-texture-bg-color").value,U=T.core("outside-texture-bg-opacity").value;i.colorFillStyle(k,q[0],q[1],q[2],U),k.fillRect(0,0,d.width,d.height);var E=u.zoom();F(k,!1),k.clearRect(d.mpan.x,d.mpan.y,d.width/d.zoom/s,d.height/d.zoom/s),k.drawImage(H,d.mpan.x,d.mpan.y,d.width/d.zoom/s,d.height/d.zoom/s)}else i.textureOnViewport&&!e&&(i.textureCache=null);var X=u.extent(),W=i.pinching||i.hoverData.dragging||i.swipePanning||i.data.wheelZooming||i.hoverData.draggingEles||i.cy.animated(),Q=i.hideEdgesOnViewport&&W,K=[];if(K[i.NODE]=!f[i.NODE]&&p&&!i.clearedForMotionBlur[i.NODE]||i.clearingMotionBlur,K[i.NODE]&&(i.clearedForMotionBlur[i.NODE]=!0),K[i.DRAG]=!f[i.DRAG]&&p&&!i.clearedForMotionBlur[i.DRAG]||i.clearingMotionBlur,K[i.DRAG]&&(i.clearedForMotionBlur[i.DRAG]=!0),f[i.NODE]||r||n||K[i.NODE]){var $=p&&!K[i.NODE]&&g!==1,k=e||($?i.data.bufferContexts[i.MOTIONBLUR_BUFFER_NODE]:l.contexts[i.NODE]),ee=p&&!$?"motionBlur":void 0;F(k,ee),Q?i.drawCachedNodes(k,N.nondrag,s,X):i.drawLayeredElements(k,N.nondrag,s,X),i.debug&&i.drawDebugPoints(k,N.nondrag),!r&&!p&&(f[i.NODE]=!1)}if(!n&&(f[i.DRAG]||r||K[i.DRAG])){var $=p&&!K[i.DRAG]&&g!==1,k=e||($?i.data.bufferContexts[i.MOTIONBLUR_BUFFER_DRAG]:l.contexts[i.DRAG]);F(k,p&&!$?"motionBlur":void 0),Q?i.drawCachedNodes(k,N.drag,s,X):i.drawCachedElements(k,N.drag,s,X),i.debug&&i.drawDebugPoints(k,N.drag),!r&&!p&&(f[i.DRAG]=!1)}if(i.showFps||!n&&f[i.SELECT_BOX]&&!r){var k=e||l.contexts[i.SELECT_BOX];if(F(k),i.selection[4]==1&&(i.hoverData.selecting||i.touchData.selecting)){var E=i.cy.zoom(),oe=T.core("selection-box-border-width").value/E;k.lineWidth=oe,k.fillStyle="rgba("+T.core("selection-box-color").value[0]+","+T.core("selection-box-color").value[1]+","+T.core("selection-box-color").value[2]+","+T.core("selection-box-opacity").value+")",k.fillRect(i.selection[0],i.selection[1],i.selection[2]-i.selection[0],i.selection[3]-i.selection[1]),oe>0&&(k.strokeStyle="rgba("+T.core("selection-box-border-color").value[0]+","+T.core("selection-box-border-color").value[1]+","+T.core("selection-box-border-color").value[2]+","+T.core("selection-box-opacity").value+")",k.strokeRect(i.selection[0],i.selection[1],i.selection[2]-i.selection[0],i.selection[3]-i.selection[1]))}if(l.bgActivePosistion&&!i.hoverData.selecting){var E=i.cy.zoom(),ce=l.bgActivePosistion;k.fillStyle="rgba("+T.core("active-bg-color").value[0]+","+T.core("active-bg-color").value[1]+","+T.core("active-bg-color").value[2]+","+T.core("active-bg-opacity").value+")",k.beginPath(),k.arc(ce.x,ce.y,T.core("active-bg-size").pfValue/E,0,2*Math.PI),k.fill()}var de=i.lastRedrawTime;if(i.showFps&&de){de=Math.round(de);var we=Math.round(1e3/de);k.setTransform(1,0,0,1,0,0),k.fillStyle="rgba(255, 0, 0, 0.75)",k.strokeStyle="rgba(255, 0, 0, 0.75)",k.lineWidth=1,k.fillText("1 frame = "+de+" ms = "+we+" fps",0,20);var fe=60;k.strokeRect(0,30,250,20),k.fillRect(0,30,250*Math.min(we/fe,1),20)}r||(f[i.SELECT_BOX]=!1)}if(p&&g!==1){var j=l.contexts[i.NODE],ae=i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE],he=l.contexts[i.DRAG],Le=i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG],Fe=function(pe,be,De){pe.setTransform(1,0,0,1,0,0),De||!b?pe.clearRect(0,0,i.canvasWidth,i.canvasHeight):P(pe,0,0,i.canvasWidth,i.canvasHeight);var Ee=g;pe.drawImage(be,0,0,i.canvasWidth*Ee,i.canvasHeight*Ee,0,0,i.canvasWidth,i.canvasHeight)};(f[i.NODE]||K[i.NODE])&&(Fe(j,ae,K[i.NODE]),f[i.NODE]=!1),(f[i.DRAG]||K[i.DRAG])&&(Fe(he,Le,K[i.DRAG]),f[i.DRAG]=!1)}i.prevViewport=d,i.clearingMotionBlur&&(i.clearingMotionBlur=!1,i.motionBlurCleared=!0,i.motionBlur=!0),p&&(i.motionBlurTimeout=setTimeout(function(){i.motionBlurTimeout=null,i.clearedForMotionBlur[i.NODE]=!1,i.clearedForMotionBlur[i.DRAG]=!1,i.motionBlur=!1,i.clearingMotionBlur=!h,i.mbFrames=0,f[i.NODE]=!0,f[i.DRAG]=!0,i.redraw()},a0)),e||u.emit("render")};var pn={};pn.drawPolygonPath=function(t,e,r,n,a,o){var i=n/2,s=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+i*o[0],r+s*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+i*o[u*2],r+s*o[u*2+1]);t.closePath()};pn.drawRoundPolygonPath=function(t,e,r,n,a,o,i){i.forEach(function(s){return Pf(t,s)}),t.closePath()};pn.drawRoundRectanglePath=function(t,e,r,n,a,o){var i=n/2,s=a/2,u=o==="auto"?In(n,a):Math.min(o,s,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.arcTo(e+i,r-s,e+i,r,u),t.arcTo(e+i,r+s,e,r+s,u),t.arcTo(e-i,r+s,e-i,r,u),t.arcTo(e-i,r-s,e,r-s,u),t.lineTo(e,r-s),t.closePath()};pn.drawBottomRoundRectanglePath=function(t,e,r,n,a,o){var i=n/2,s=a/2,u=o==="auto"?In(n,a):o;t.beginPath&&t.beginPath(),t.moveTo(e,r-s),t.lineTo(e+i,r-s),t.lineTo(e+i,r),t.arcTo(e+i,r+s,e,r+s,u),t.arcTo(e-i,r+s,e-i,r,u),t.lineTo(e-i,r-s),t.lineTo(e,r-s),t.closePath()};pn.drawCutRectanglePath=function(t,e,r,n,a,o,i){var s=n/2,u=a/2,l=i==="auto"?ms():i;t.beginPath&&t.beginPath(),t.moveTo(e-s+l,r-u),t.lineTo(e+s-l,r-u),t.lineTo(e+s,r-u+l),t.lineTo(e+s,r+u-l),t.lineTo(e+s-l,r+u),t.lineTo(e-s+l,r+u),t.lineTo(e-s,r+u-l),t.lineTo(e-s,r-u+l),t.closePath()};pn.drawBarrelPath=function(t,e,r,n,a){var o=n/2,i=a/2,s=e-o,u=e+o,l=r-i,f=r+i,h=_o(n,a),p=h.widthOffset,g=h.heightOffset,v=h.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(s,l+g),t.lineTo(s,f-g),t.quadraticCurveTo(s+v,f,s+p,f),t.lineTo(u-p,f),t.quadraticCurveTo(u-v,f,u,f-g),t.lineTo(u,l+g),t.quadraticCurveTo(u-v,l,u-p,l),t.lineTo(s+p,l),t.quadraticCurveTo(s+v,l,s,l+g),t.closePath()};var ul=Math.sin(0),ll=Math.cos(0),is={},os={},Wf=Math.PI/40;for(var _n=0*Math.PI;_n<2*Math.PI;_n+=Wf)is[_n]=Math.sin(_n),os[_n]=Math.cos(_n);pn.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var o,i,s=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=Wf)o=e-s*is[l]*ul+s*os[l]*ll,i=r+u*os[l]*ul+u*is[l]*ll,l===0?t.moveTo(o,i):t.lineTo(o,i);t.closePath()};var ti={};ti.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};ti.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):a[2],i=t.full?Math.ceil(n.h):a[3],s=Oe(t.maxWidth)||Oe(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)o*=t.scale,i*=t.scale,l=t.scale;else if(s){var f=1/0,h=1/0;Oe(t.maxWidth)&&(f=l*t.maxWidth/o),Oe(t.maxHeight)&&(h=l*t.maxHeight/i),l=Math.min(f,h),o*=l,i*=l}s||(o*=u,i*=u,l*=u);var p=document.createElement("canvas");p.width=o,p.height=i,p.style.width=o+"px",p.style.height=i+"px";var g=p.getContext("2d");if(o>0&&i>0){g.clearRect(0,0,o,i),g.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)g.translate(-n.x1*l,-n.y1*l),g.scale(l,l),this.drawElements(g,v),g.scale(1/l,1/l),g.translate(n.x1*l,n.y1*l);else{var m=e.pan(),w={x:m.x*l,y:m.y*l};l*=e.zoom(),g.translate(w.x,w.y),g.scale(l,l),this.drawElements(g,v),g.scale(1/l,1/l),g.translate(-w.x,-w.y)}t.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=t.bg,g.rect(0,0,o,i),g.fill())}return p};function i0(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);return new Blob([n],{type:e})}function fl(t){var e=t.indexOf(",");return t.substr(e+1)}function _f(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new oa(function(a,o){try{e.toBlob(function(i){i!=null?a(i):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(i){o(i)}});case"blob":return i0(fl(n()),r);case"base64":return fl(n());case"base64uri":default:return n()}}ti.png=function(t){return _f(t,this.bufferCanvasImage(t),"image/png")};ti.jpg=function(t){return _f(t,this.bufferCanvasImage(t),"image/jpeg")};var $f={};$f.nodeShapeImpl=function(t,e,r,n,a,o,i,s){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,o);case"polygon":return this.drawPolygonPath(e,r,n,a,o,i);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,o,i,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,o,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,o,i,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,o,s);case"barrel":return this.drawBarrelPath(e,r,n,a,o)}};var o0=Kf,ot=Kf.prototype;ot.CANVAS_LAYERS=3;ot.SELECT_BOX=0;ot.DRAG=1;ot.NODE=2;ot.BUFFER_COUNT=3;ot.TEXTURE_BUFFER=0;ot.MOTIONBLUR_BUFFER_NODE=1;ot.MOTIONBLUR_BUFFER_DRAG=2;function Kf(t){var e=this,r=e.cy.window(),n=r.document;e.data={canvases:new Array(ot.CANVAS_LAYERS),contexts:new Array(ot.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ot.CANVAS_LAYERS),bufferCanvases:new Array(ot.BUFFER_COUNT),bufferContexts:new Array(ot.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=o,i.position="relative",i.zIndex="0",i.overflow="hidden";var s=t.cy.container();s.appendChild(e.data.canvasContainer),s.style[a]=o;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};_c()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<ot.CANVAS_LAYERS;l++){var f=e.data.canvases[l]=n.createElement("canvas");e.data.contexts[l]=f.getContext("2d"),Object.keys(u).forEach(function(fe){f.style[fe]=u[fe]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(ot.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(f),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ot.NODE].setAttribute("data-id","layer"+ot.NODE+"-node"),e.data.canvases[ot.SELECT_BOX].setAttribute("data-id","layer"+ot.SELECT_BOX+"-selectbox"),e.data.canvases[ot.DRAG].setAttribute("data-id","layer"+ot.DRAG+"-drag");for(var l=0;l<ot.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var h=fr(),p=function(j){return{x:(j.x1+j.x2)/2,y:(j.y1+j.y2)/2}},g=function(j){return{x:-j.w/2,y:-j.h/2}},v=function(j){var ae=j[0]._private,he=ae.oldBackgroundTimestamp===ae.backgroundTimestamp;return!he},m=function(j){return j[0]._private.nodeKey},w=function(j){return j[0]._private.labelStyleKey},b=function(j){return j[0]._private.sourceLabelStyleKey},T=function(j){return j[0]._private.targetLabelStyleKey},E=function(j,ae,he,Le,Fe){return e.drawElement(j,ae,he,!1,!1,Fe)},S=function(j,ae,he,Le,Fe){return e.drawElementText(j,ae,he,Le,"main",Fe)},A=function(j,ae,he,Le,Fe){return e.drawElementText(j,ae,he,Le,"source",Fe)},I=function(j,ae,he,Le,Fe){return e.drawElementText(j,ae,he,Le,"target",Fe)},d=function(j){return j.boundingBox(),j[0]._private.bodyBounds},L=function(j){return j.boundingBox(),j[0]._private.labelBounds.main||h},D=function(j){return j.boundingBox(),j[0]._private.labelBounds.source||h},N=function(j){return j.boundingBox(),j[0]._private.labelBounds.target||h},P=function(j,ae){return ae},F=function(j){return p(d(j))},z=function(j,ae,he){var Le=j?j+"-":"";return{x:ae.x+he.pstyle(Le+"text-margin-x").pfValue,y:ae.y+he.pstyle(Le+"text-margin-y").pfValue}},k=function(j,ae,he){var Le=j[0]._private.rscratch;return{x:Le[ae],y:Le[he]}},H=function(j){return z("",k(j,"labelX","labelY"),j)},q=function(j){return z("source",k(j,"sourceLabelX","sourceLabelY"),j)},U=function(j){return z("target",k(j,"targetLabelX","targetLabelY"),j)},X=function(j){return g(d(j))},W=function(j){return g(D(j))},Q=function(j){return g(N(j))},K=function(j){var ae=L(j),he=g(L(j));if(j.isNode()){switch(j.pstyle("text-halign").value){case"left":he.x=-ae.w;break;case"right":he.x=0;break}switch(j.pstyle("text-valign").value){case"top":he.y=-ae.h;break;case"bottom":he.y=0;break}}return he},$=e.data.eleTxrCache=new Pa(e,{getKey:m,doesEleInvalidateKey:v,drawElement:E,getBoundingBox:d,getRotationPoint:F,getRotationOffset:X,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=e.data.lblTxrCache=new Pa(e,{getKey:w,drawElement:S,getBoundingBox:L,getRotationPoint:H,getRotationOffset:K,isVisible:P}),oe=e.data.slbTxrCache=new Pa(e,{getKey:b,drawElement:A,getBoundingBox:D,getRotationPoint:q,getRotationOffset:W,isVisible:P}),ce=e.data.tlbTxrCache=new Pa(e,{getKey:T,drawElement:I,getBoundingBox:N,getRotationPoint:U,getRotationOffset:Q,isVisible:P}),de=e.data.lyrTxrCache=new Vf(e);e.onUpdateEleCalcs(function(j,ae){$.invalidateElements(ae),ee.invalidateElements(ae),oe.invalidateElements(ae),ce.invalidateElements(ae),de.invalidateElements(ae);for(var he=0;he<ae.length;he++){var Le=ae[he]._private;Le.oldBackgroundTimestamp=Le.backgroundTimestamp}});var we=function(j){for(var ae=0;ae<j.length;ae++)de.enqueueElementRefinement(j[ae].ele)};$.onDequeue(we),ee.onDequeue(we),oe.onDequeue(we),ce.onDequeue(we)}ot.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ot.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ot.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ot.SELECT_BOX]=e;break}};var s0=typeof Path2D<"u";ot.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ot.usePaths=function(){return s0&&this.pathsEnabled};ot.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ot.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ot.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Pt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[qf,Gr,$r,Is,Fn,va,dr,pn,ti,$f].forEach(function(t){_e(ot,t)});var u0=[{name:"null",impl:Mf},{name:"base",impl:Hf},{name:"canvas",impl:o0}],l0=[{type:"layout",extensions:gm},{type:"renderer",extensions:u0}],Zf={},Qf={};function jf(t,e,r){var n=r,a=function(L){ct("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Wa.prototype[e])return a(e);Wa.prototype[e]=r}else if(t==="collection"){if(Yt.prototype[e])return a(e);Yt.prototype[e]=r}else if(t==="layout"){for(var o=function(L){this.options=L,r.call(this,L),it(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},i=o.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];i[l]=i[l]||function(){return this}}i.start&&!i.run?i.run=function(){return this.start(),this}:!i.start&&i.run&&(i.start=function(){return this.run(),this});var f=r.prototype.stop;i.stop=function(){var d=this.options;if(d&&d.animate){var L=this.animations;if(L)for(var D=0;D<L.length;D++)L[D].stop()}return f?f.call(this):this.emit("layoutstop"),this},i.destroy||(i.destroy=function(){return this}),i.cy=function(){return this._private.cy};var h=function(L){return L._private.cy},p={addEventFields:function(L,D){D.layout=L,D.cy=h(L),D.target=L},bubble:function(){return!0},parent:function(L){return h(L)}};_e(i,{createEmitter:function(){return this._private.emitter=new to(p,this),this},emitter:function(){return this._private.emitter},on:function(L,D){return this.emitter().on(L,D),this},one:function(L,D){return this.emitter().one(L,D),this},once:function(L,D){return this.emitter().one(L,D),this},removeListener:function(L,D){return this.emitter().removeListener(L,D),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,D){return this.emitter().emit(L,D),this}}),ft.eventAliasesOn(i),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var g=Jf("renderer","base"),v=g.prototype,m=r,w=r.prototype,b=function(){g.apply(this,arguments),m.apply(this,arguments)},T=b.prototype;for(var E in v){var S=v[E],A=w[E]!=null;if(A)return a(E);T[E]=S}for(var I in w)T[I]=w[I];v.clientFunctions.forEach(function(d){T[d]=T[d]||function(){At("Renderer does not implement `renderer."+d+"()` on its prototype")}}),n=b}else if(t==="__proto__"||t==="constructor"||t==="prototype")return At(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Tl({map:Zf,keys:[t,e],value:n})}function Jf(t,e){return Cl({map:Zf,keys:[t,e]})}function f0(t,e,r,n,a){return Tl({map:Qf,keys:[t,e,r,n],value:a})}function c0(t,e,r,n){return Cl({map:Qf,keys:[t,e,r,n]})}var ss=function(){if(arguments.length===2)return Jf.apply(null,arguments);if(arguments.length===3)return jf.apply(null,arguments);if(arguments.length===4)return c0.apply(null,arguments);if(arguments.length===5)return f0.apply(null,arguments);At("Invalid extension access syntax")};Wa.prototype.extension=ss;l0.forEach(function(t){t.extensions.forEach(function(e){jf(t.type,e.name,e.impl)})});var ec=function t(){if(!(this instanceof t))return new t;this.length=0},Rn=ec.prototype;Rn.instanceString=function(){return"stylesheet"};Rn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Rn.css=function(t,e){var r=this.length-1;if(qe(t))this[r].properties.push({name:t,value:e});else if(it(t))for(var n=t,a=Object.keys(n),o=0;o<a.length;o++){var i=a[o],s=n[i];if(s!=null){var u=Kt.properties[i]||Kt.properties[Xi(i)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Rn.style=Rn.css;Rn.generateStyle=function(t){var e=new Kt(t);return this.appendToStyle(e)};Rn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var o=0;o<a.length;o++){var i=a[o];t.css(i.name,i.value)}}return t};var h0="3.30.2",Sr=function(e){if(e===void 0&&(e={}),it(e))return new Wa(e);if(qe(e))return ss.apply(ss,arguments)};Sr.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Sr),t.apply(null,e),this};Sr.warnings=function(t){return Il(t)};Sr.version=h0;Sr.stylesheet=Sr.Stylesheet=ec;var tc={exports:{}},qo={exports:{}},Yo={exports:{}},cl;function d0(){return cl||(cl=1,function(t,e){(function(n,a){t.exports=a()})(Yi,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return r[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=r,a.c=n,a.i=function(o){return o},a.d=function(o,i,s){a.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:s})},a.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(i,"a",i),i},a.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},a.p="",a(a.s=26)}([function(r,n,a){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,a){var o=a(2),i=a(8),s=a(9);function u(f,h,p){o.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=f,this.target=h}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,h){for(var p=this.getOtherEnd(f),g=h.getGraphManager().getRoot();;){if(p.getOwner()==h)return p;if(p.getOwner()==g)break;p=p.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,a){function o(i){this.vGraphObject=i}r.exports=o},function(r,n,a){var o=a(2),i=a(10),s=a(13),u=a(0),l=a(16),f=a(4);function h(g,v,m,w){m==null&&w==null&&(w=v),o.call(this,w),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=g,m!=null&&v!=null?this.rect=new s(v.x,v.y,m.width,m.height):this.rect=new s}h.prototype=Object.create(o.prototype);for(var p in o)h[p]=o[p];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(g){this.rect.width=g},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(g){this.rect.height=g},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(g,v){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=v.width,this.rect.height=v.height},h.prototype.setCenter=function(g,v){this.rect.x=g-this.rect.width/2,this.rect.y=v-this.rect.height/2},h.prototype.setLocation=function(g,v){this.rect.x=g,this.rect.y=v},h.prototype.moveBy=function(g,v){this.rect.x+=g,this.rect.y+=v},h.prototype.getEdgeListToNode=function(g){var v=[],m=this;return m.edges.forEach(function(w){if(w.target==g){if(w.source!=m)throw"Incorrect edge source!";v.push(w)}}),v},h.prototype.getEdgesBetween=function(g){var v=[],m=this;return m.edges.forEach(function(w){if(!(w.source==m||w.target==m))throw"Incorrect edge source and/or target";(w.target==g||w.source==g)&&v.push(w)}),v},h.prototype.getNeighborsList=function(){var g=new Set,v=this;return v.edges.forEach(function(m){if(m.source==v)g.add(m.target);else{if(m.target!=v)throw"Incorrect incidency!";g.add(m.source)}}),g},h.prototype.withChildren=function(){var g=new Set,v,m;if(g.add(this),this.child!=null)for(var w=this.child.getNodes(),b=0;b<w.length;b++)v=w[b],m=v.withChildren(),m.forEach(function(T){g.add(T)});return g},h.prototype.getNoOfChildren=function(){var g=0,v;if(this.child==null)g=1;else for(var m=this.child.getNodes(),w=0;w<m.length;w++)v=m[w],g+=v.getNoOfChildren();return g==0&&(g=1),g},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var g,v,m=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+l.nextDouble()*(w-m)+m;var b=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;v=u.WORLD_CENTER_Y+l.nextDouble()*(T-b)+b,this.rect.x=g,this.rect.y=v},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var v=g.getRight()-g.getLeft(),m=g.getBottom()-g.getTop();this.labelWidth>v&&(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)),this.labelHeight>m&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-m)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-m),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(g){var v=this.rect.x;v>u.WORLD_BOUNDARY?v=u.WORLD_BOUNDARY:v<-u.WORLD_BOUNDARY&&(v=-u.WORLD_BOUNDARY);var m=this.rect.y;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var w=new f(v,m),b=g.inverseTransformPoint(w);this.setLocation(b.x,b.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h},function(r,n,a){function o(i,s){i==null&&s==null?(this.x=0,this.y=0):(this.x=i,this.y=s)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(i){this.x=i},o.prototype.setY=function(i){this.y=i},o.prototype.getDifference=function(i){return new DimensionD(this.x-i.x,this.y-i.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(i){return this.x+=i.width,this.y+=i.height,this},r.exports=o},function(r,n,a){var o=a(2),i=a(10),s=a(0),u=a(6),l=a(3),f=a(1),h=a(13),p=a(12),g=a(11);function v(w,b,T){o.call(this,T),this.estimatedSize=i.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,b!=null&&b instanceof u?this.graphManager=b:b!=null&&b instanceof Layout&&(this.graphManager=b.graphManager)}v.prototype=Object.create(o.prototype);for(var m in o)v[m]=o[m];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(w,b,T){if(b==null&&T==null){var E=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(E)>-1)throw"Node already in graph!";return E.owner=this,this.getNodes().push(E),E}else{var S=w;if(!(this.getNodes().indexOf(b)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(b.owner==T.owner&&b.owner==this))throw"Both owners must be this graph!";return b.owner!=T.owner?null:(S.source=b,S.target=T,S.isInterGraph=!1,this.getEdges().push(S),b.edges.push(S),T!=b&&T.edges.push(S),S)}},v.prototype.remove=function(w){var b=w;if(w instanceof l){if(b==null)throw"Node is null!";if(!(b.owner!=null&&b.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=b.edges.slice(),E,S=T.length,A=0;A<S;A++)E=T[A],E.isInterGraph?this.graphManager.remove(E):E.source.owner.remove(E);var I=this.nodes.indexOf(b);if(I==-1)throw"Node not in owner node list!";this.nodes.splice(I,1)}else if(w instanceof f){var E=w;if(E==null)throw"Edge is null!";if(!(E.source!=null&&E.target!=null))throw"Source and/or target is null!";if(!(E.source.owner!=null&&E.target.owner!=null&&E.source.owner==this&&E.target.owner==this))throw"Source and/or target owner is invalid!";var d=E.source.edges.indexOf(E),L=E.target.edges.indexOf(E);if(!(d>-1&&L>-1))throw"Source and/or target doesn't know this edge!";E.source.edges.splice(d,1),E.target!=E.source&&E.target.edges.splice(L,1);var I=E.source.owner.getEdges().indexOf(E);if(I==-1)throw"Not in owner's edge list!";E.source.owner.getEdges().splice(I,1)}},v.prototype.updateLeftTop=function(){for(var w=i.MAX_VALUE,b=i.MAX_VALUE,T,E,S,A=this.getNodes(),I=A.length,d=0;d<I;d++){var L=A[d];T=L.getTop(),E=L.getLeft(),w>T&&(w=T),b>E&&(b=E)}return w==i.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?S=A[0].getParent().paddingLeft:S=this.margin,this.left=b-S,this.top=w-S,new p(this.left,this.top))},v.prototype.updateBounds=function(w){for(var b=i.MAX_VALUE,T=-i.MAX_VALUE,E=i.MAX_VALUE,S=-i.MAX_VALUE,A,I,d,L,D,N=this.nodes,P=N.length,F=0;F<P;F++){var z=N[F];w&&z.child!=null&&z.updateBounds(),A=z.getLeft(),I=z.getRight(),d=z.getTop(),L=z.getBottom(),b>A&&(b=A),T<I&&(T=I),E>d&&(E=d),S<L&&(S=L)}var k=new h(b,E,T-b,S-E);b==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),N[0].getParent().paddingLeft!=null?D=N[0].getParent().paddingLeft:D=this.margin,this.left=k.x-D,this.right=k.x+k.width+D,this.top=k.y-D,this.bottom=k.y+k.height+D},v.calculateBounds=function(w){for(var b=i.MAX_VALUE,T=-i.MAX_VALUE,E=i.MAX_VALUE,S=-i.MAX_VALUE,A,I,d,L,D=w.length,N=0;N<D;N++){var P=w[N];A=P.getLeft(),I=P.getRight(),d=P.getTop(),L=P.getBottom(),b>A&&(b=A),T<I&&(T=I),E>d&&(E=d),S<L&&(S=L)}var F=new h(b,E,T-b,S-E);return F},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var w=0,b=this.nodes,T=b.length,E=0;E<T;E++){var S=b[E];w+=S.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var b=new g,T=new Set,E=this.nodes[0],S,A,I=E.withChildren();for(I.forEach(function(F){b.push(F),T.add(F)});b.length!==0;){E=b.shift(),S=E.getEdges();for(var d=S.length,L=0;L<d;L++){var D=S[L];if(A=D.getOtherEndInGraph(E,this),A!=null&&!T.has(A)){var N=A.withChildren();N.forEach(function(F){b.push(F),T.add(F)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var P=0;T.forEach(function(F){F.owner==w&&P++}),P==this.nodes.length&&(this.isConnected=!0)}},r.exports=v},function(r,n,a){var o,i=a(1);function s(u){o=a(5),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),f=this.add(u,l);return this.setRootGraph(f),this.rootGraph},s.prototype.add=function(u,l,f,h,p){if(f==null&&h==null&&p==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{p=f,h=l,f=u;var g=h.getOwner(),v=p.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==v)return f.isInterGraph=!1,g.add(f,h,p);if(f.isInterGraph=!0,f.source=h,f.target=p,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},s.prototype.remove=function(u){if(u instanceof o){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(l.getEdges());for(var h,p=f.length,g=0;g<p;g++)h=f[g],l.remove(h);var v=[];v=v.concat(l.getNodes());var m;p=v.length;for(var g=0;g<p;g++)m=v[g],l.remove(m);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof i){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var w=h.source.edges.indexOf(h);if(h.source.edges.splice(w,1),w=h.target.edges.indexOf(h),h.target.edges.splice(w,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var w=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),f=l.length,h=0;h<f;h++)u=u.concat(l[h].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var f=0;f<l.length;f++)u=u.concat(l[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var f=u.getOwner(),h;do{if(h=f.getParent(),h==null)break;if(h==l)return!0;if(f=h.getOwner(),f==null)break}while(!0);f=l.getOwner();do{if(h=f.getParent(),h==null)break;if(h==u)return!0;if(f=h.getOwner(),f==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,f,h,p,g=this.getAllEdges(),v=g.length,m=0;m<v;m++){if(u=g[m],l=u.source,f=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=f,l==f){u.lca=l.getOwner();continue}for(h=l.getOwner();u.lca==null;){for(u.targetInLca=f,p=f.getOwner();u.lca==null;){if(p==h){u.lca=p;break}if(p==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=p.getParent(),p=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var h=l.getOwner();do{if(h==null)break;if(h==f)return h;h=h.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var f,h=u.getNodes(),p=h.length,g=0;g<p;g++)f=h[g],f.inclusionTreeDepth=l,f.child!=null&&this.calcInclusionTreeDepths(f.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=this.edges.length,f=0;f<l;f++)if(u=this.edges[f],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=s},function(r,n,a){var o=a(0);function i(){}for(var s in o)i[s]=o[s];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=i.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=i},function(r,n,a){var o=a(12);function i(){}i.calcSeparationAmount=function(s,u,l,f){if(!s.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,h),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var p=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(p=1);var g=p*l[0],v=l[1]/p;l[0]<v?v=l[0]:g=l[1],l[0]=-1*h[0]*(v/2+f),l[1]=-1*h[1]*(g/2+f)},i.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},i.getIntersection2=function(s,u,l){var f=s.getCenterX(),h=s.getCenterY(),p=u.getCenterX(),g=u.getCenterY();if(s.intersects(u))return l[0]=f,l[1]=h,l[2]=p,l[3]=g,!0;var v=s.getX(),m=s.getY(),w=s.getRight(),b=s.getX(),T=s.getBottom(),E=s.getRight(),S=s.getWidthHalf(),A=s.getHeightHalf(),I=u.getX(),d=u.getY(),L=u.getRight(),D=u.getX(),N=u.getBottom(),P=u.getRight(),F=u.getWidthHalf(),z=u.getHeightHalf(),k=!1,H=!1;if(f===p){if(h>g)return l[0]=f,l[1]=m,l[2]=p,l[3]=N,!1;if(h<g)return l[0]=f,l[1]=T,l[2]=p,l[3]=d,!1}else if(h===g){if(f>p)return l[0]=v,l[1]=h,l[2]=L,l[3]=g,!1;if(f<p)return l[0]=w,l[1]=h,l[2]=I,l[3]=g,!1}else{var q=s.height/s.width,U=u.height/u.width,X=(g-h)/(p-f),W=void 0,Q=void 0,K=void 0,$=void 0,ee=void 0,oe=void 0;if(-q===X?f>p?(l[0]=b,l[1]=T,k=!0):(l[0]=w,l[1]=m,k=!0):q===X&&(f>p?(l[0]=v,l[1]=m,k=!0):(l[0]=E,l[1]=T,k=!0)),-U===X?p>f?(l[2]=D,l[3]=N,H=!0):(l[2]=L,l[3]=d,H=!0):U===X&&(p>f?(l[2]=I,l[3]=d,H=!0):(l[2]=P,l[3]=N,H=!0)),k&&H)return!1;if(f>p?h>g?(W=this.getCardinalDirection(q,X,4),Q=this.getCardinalDirection(U,X,2)):(W=this.getCardinalDirection(-q,X,3),Q=this.getCardinalDirection(-U,X,1)):h>g?(W=this.getCardinalDirection(-q,X,1),Q=this.getCardinalDirection(-U,X,3)):(W=this.getCardinalDirection(q,X,2),Q=this.getCardinalDirection(U,X,4)),!k)switch(W){case 1:$=m,K=f+-A/X,l[0]=K,l[1]=$;break;case 2:K=E,$=h+S*X,l[0]=K,l[1]=$;break;case 3:$=T,K=f+A/X,l[0]=K,l[1]=$;break;case 4:K=b,$=h+-S*X,l[0]=K,l[1]=$;break}if(!H)switch(Q){case 1:oe=d,ee=p+-z/X,l[2]=ee,l[3]=oe;break;case 2:ee=P,oe=g+F*X,l[2]=ee,l[3]=oe;break;case 3:oe=N,ee=p+z/X,l[2]=ee,l[3]=oe;break;case 4:ee=D,oe=g+-F*X,l[2]=ee,l[3]=oe;break}}return!1},i.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},i.getIntersection=function(s,u,l,f){if(f==null)return this.getIntersection2(s,u,l);var h=s.x,p=s.y,g=u.x,v=u.y,m=l.x,w=l.y,b=f.x,T=f.y,E=void 0,S=void 0,A=void 0,I=void 0,d=void 0,L=void 0,D=void 0,N=void 0,P=void 0;return A=v-p,d=h-g,D=g*p-h*v,I=T-w,L=m-b,N=b*w-m*T,P=A*L-I*d,P===0?null:(E=(d*N-L*D)/P,S=(I*D-A*N)/P,new o(E,S))},i.angleOfVector=function(s,u,l,f){var h=void 0;return s!==l?(h=Math.atan((f-u)/(l-s)),l<s?h+=Math.PI:f<u&&(h+=this.TWO_PI)):f<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},i.doIntersect=function(s,u,l,f){var h=s.x,p=s.y,g=u.x,v=u.y,m=l.x,w=l.y,b=f.x,T=f.y,E=(g-h)*(T-w)-(b-m)*(v-p);if(E===0)return!1;var S=((T-w)*(b-h)+(m-b)*(T-p))/E,A=((p-v)*(b-h)+(g-h)*(T-p))/E;return 0<S&&S<1&&0<A&&A<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,r.exports=i},function(r,n,a){function o(){}o.sign=function(i){return i>0?1:i<0?-1:0},o.floor=function(i){return i<0?Math.ceil(i):Math.floor(i)},o.ceil=function(i){return i<0?Math.floor(i):Math.ceil(i)},r.exports=o},function(r,n,a){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,a){var o=function(){function h(p,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,v){return g&&h(p.prototype,g),v&&h(p,v),p}}();function i(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var s=function(p){return{value:p,next:null,prev:null}},u=function(p,g,v,m){return p!==null?p.next=g:m.head=g,v!==null?v.prev=g:m.tail=g,g.prev=p,g.next=v,m.length++,g},l=function(p,g){var v=p.prev,m=p.next;return v!==null?v.next=m:g.head=m,m!==null?m.prev=v:g.tail=v,p.prev=p.next=null,g.length--,p},f=function(){function h(p){var g=this;i(this,h),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(v){return g.push(v)})}return o(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(g,v){return u(v.prev,s(g),v,this)}},{key:"insertAfter",value:function(g,v){return u(v,s(g),v.next,this)}},{key:"insertNodeBefore",value:function(g,v){return u(v.prev,g,v,this)}},{key:"insertNodeAfter",value:function(g,v){return u(v,g,v.next,this)}},{key:"push",value:function(g){return u(this.tail,s(g),null,this)}},{key:"unshift",value:function(g){return u(null,s(g),this.head,this)}},{key:"remove",value:function(g){return l(g,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(g){if(g<=this.length()){for(var v=1,m=this.head;v<g;)m=m.next,v++;return m.value}}},{key:"set_object_at",value:function(g,v){if(g<=this.length()){for(var m=1,w=this.head;m<g;)w=w.next,m++;w.value=v}}}]),h}();r.exports=f},function(r,n,a){function o(i,s,u){this.x=null,this.y=null,i==null&&s==null&&u==null?(this.x=0,this.y=0):typeof i=="number"&&typeof s=="number"&&u==null?(this.x=i,this.y=s):i.constructor.name=="Point"&&s==null&&u==null&&(u=i,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(i,s,u){i.constructor.name=="Point"&&s==null&&u==null?(u=i,this.setLocation(u.x,u.y)):typeof i=="number"&&typeof s=="number"&&u==null&&(parseInt(i)==i&&parseInt(s)==s?this.move(i,s):(this.x=Math.floor(i+.5),this.y=Math.floor(s+.5)))},o.prototype.move=function(i,s){this.x=i,this.y=s},o.prototype.translate=function(i,s){this.x+=i,this.y+=s},o.prototype.equals=function(i){if(i.constructor.name=="Point"){var s=i;return this.x==s.x&&this.y==s.y}return this==i},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,a){function o(i,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,i!=null&&s!=null&&u!=null&&l!=null&&(this.x=i,this.y=s,this.width=u,this.height=l)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(i){this.x=i},o.prototype.getY=function(){return this.y},o.prototype.setY=function(i){this.y=i},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(i){this.width=i},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(i){this.height=i},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(i){return!(this.getRight()<i.x||this.getBottom()<i.y||i.getRight()<this.x||i.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,a){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function i(){}i.lastID=0,i.createID=function(s){return i.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=i.getString(),i.lastID++),s.uniqueID)},i.getString=function(s){return s==null&&(s=i.lastID),"Object#"+s},i.isPrimitive=function(s){var u=typeof s>"u"?"undefined":o(s);return s==null||u!="object"&&u!="function"},r.exports=i},function(r,n,a){function o(m){if(Array.isArray(m)){for(var w=0,b=Array(m.length);w<m.length;w++)b[w]=m[w];return b}else return Array.from(m)}var i=a(0),s=a(6),u=a(3),l=a(1),f=a(5),h=a(4),p=a(17),g=a(27);function v(m){g.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}v.RANDOM_SEED=1,v.prototype=Object.create(g.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var m=new s(this);return this.graphManager=m,m},v.prototype.newGraph=function(m){return new f(null,this.graphManager,m)},v.prototype.newNode=function(m){return new u(this.graphManager,m)},v.prototype.newEdge=function(m){return new l(null,null,m)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),i.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m=this.graphManager.getAllEdges(),w=0;w<m.length;w++)m[w];for(var b=this.graphManager.getRoot().getNodes(),w=0;w<b.length;w++)b[w];this.update(this.graphManager.getRoot())}},v.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof u){var w=m;if(w.getChild()!=null)for(var b=w.getChild().getNodes(),T=0;T<b.length;T++)update(b[T]);if(w.vGraphObject!=null){var E=w.vGraphObject;E.update(w)}}else if(m instanceof l){var S=m;if(S.vGraphObject!=null){var A=S.vGraphObject;A.update(S)}}else if(m instanceof f){var I=m;if(I.vGraphObject!=null){var d=I.vGraphObject;d.update(I)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(m){if(m==null)this.transform(new h(0,0));else{var w=new p,b=this.graphManager.getRoot().updateLeftTop();if(b!=null){w.setWorldOrgX(m.x),w.setWorldOrgY(m.y),w.setDeviceOrgX(b.x),w.setDeviceOrgY(b.y);for(var T=this.getAllNodes(),E,S=0;S<T.length;S++)E=T[S],E.transform(w)}}},v.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,b,T=m.getNodes(),E=0;E<T.length;E++)w=T[E],b=w.getChild(),b==null||b.getNodes().length==0?w.scatter():(this.positionNodesRandomly(b),w.updateBounds())},v.prototype.getFlatForest=function(){for(var m=[],w=!0,b=this.graphManager.getRoot().getNodes(),T=!0,E=0;E<b.length;E++)b[E].getChild()!=null&&(T=!1);if(!T)return m;var S=new Set,A=[],I=new Map,d=[];for(d=d.concat(b);d.length>0&&w;){for(A.push(d[0]);A.length>0&&w;){var L=A[0];A.splice(0,1),S.add(L);for(var D=L.getEdges(),E=0;E<D.length;E++){var N=D[E].getOtherEnd(L);if(I.get(L)!=N)if(!S.has(N))A.push(N),I.set(N,L);else{w=!1;break}}}if(!w)m=[];else{var P=[].concat(o(S));m.push(P);for(var E=0;E<P.length;E++){var F=P[E],z=d.indexOf(F);z>-1&&d.splice(z,1)}S=new Set,I=new Map}}return m},v.prototype.createDummyNodesForBendpoints=function(m){for(var w=[],b=m.source,T=this.graphManager.calcLowestCommonAncestor(m.source,m.target),E=0;E<m.bendpoints.length;E++){var S=this.newNode(null);S.setRect(new Point(0,0),new Dimension(1,1)),T.add(S);var A=this.newEdge(null);this.graphManager.add(A,b,S),w.add(S),b=S}var A=this.newEdge(null);return this.graphManager.add(A,b,m.target),this.edgeToDummyNodes.set(m,w),m.isInterGraph()?this.graphManager.remove(m):T.remove(m),w},v.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(o(this.edgeToDummyNodes.keys())).concat(m);for(var w=0;w<m.length;w++){var b=m[w];if(b.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(b),E=0;E<T.length;E++){var S=T[E],A=new h(S.getCenterX(),S.getCenterY()),I=b.bendpoints.get(E);I.x=A.x,I.y=A.y,S.getOwner().remove(S)}this.graphManager.add(b,b.source,b.target)}}},v.transform=function(m,w,b,T){if(b!=null&&T!=null){var E=w;if(m<=50){var S=w/b;E-=(w-S)/50*(50-m)}else{var A=w*T;E+=(A-w)/50*(m-50)}return E}else{var I,d;return m<=50?(I=9*w/500,d=w/10):(I=9*w/50,d=-8*w),I*m+d}},v.findCenterOfTree=function(m){var w=[];w=w.concat(m);var b=[],T=new Map,E=!1,S=null;(w.length==1||w.length==2)&&(E=!0,S=w[0]);for(var A=0;A<w.length;A++){var I=w[A],d=I.getNeighborsList().size;T.set(I,I.getNeighborsList().size),d==1&&b.push(I)}var L=[];for(L=L.concat(b);!E;){var D=[];D=D.concat(L),L=[];for(var A=0;A<w.length;A++){var I=w[A],N=w.indexOf(I);N>=0&&w.splice(N,1);var P=I.getNeighborsList();P.forEach(function(k){if(b.indexOf(k)<0){var H=T.get(k),q=H-1;q==1&&L.push(k),T.set(k,q)}})}b=b.concat(L),(w.length==1||w.length==2)&&(E=!0,S=w[0])}return S},v.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=v},function(r,n,a){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,a){var o=a(4);function i(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(s){this.lworldExtX=s},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(s){this.lworldExtY=s},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},i.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},i.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},i.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},i.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},i.prototype.inverseTransformPoint=function(s){var u=new o(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},r.exports=i},function(r,n,a){function o(g){if(Array.isArray(g)){for(var v=0,m=Array(g.length);v<g.length;v++)m[v]=g[v];return m}else return Array.from(g)}var i=a(15),s=a(7),u=a(0),l=a(8),f=a(9);function h(){i.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=s.DEFAULT_EDGE_LENGTH,this.springConstant=s.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=s.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}h.prototype=Object.create(i.prototype);for(var p in i)h[p]=i[p];h.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var g,v,m,w,b,T,E=this.getGraphManager().getAllEdges(),S=0;S<E.length;S++)g=E[S],g.idealLength=this.idealEdgeLength,g.isInterGraph&&(m=g.getSource(),w=g.getTarget(),b=g.getSourceInLca().getEstimatedSize(),T=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=b+T-2*u.SIMPLE_NODE_SIZE),v=g.getLca().getInclusionTreeDepth(),g.idealLength+=s.DEFAULT_EDGE_LENGTH*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(m.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*v))},h.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(g-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),v,m=0;m<g.length;m++)v=g[m],this.calcSpringForce(v,v.idealLength)},h.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,w,b,T,E=this.getAllNodes(),S;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),S=new Set,m=0;m<E.length;m++)b=E[m],this.calculateRepulsionForceOfANode(b,S,g,v),S.add(b);else for(m=0;m<E.length;m++)for(b=E[m],w=m+1;w<E.length;w++)T=E[w],b.getOwner()==T.getOwner()&&this.calcRepulsionForce(b,T)},h.prototype.calcGravitationalForces=function(){for(var g,v=this.getAllNodesToApplyGravitation(),m=0;m<v.length;m++)g=v[m],this.calcGravitationalForce(g)},h.prototype.moveNodes=function(){for(var g=this.getAllNodes(),v,m=0;m<g.length;m++)v=g[m],v.move()},h.prototype.calcSpringForce=function(g,v){var m=g.getSource(),w=g.getTarget(),b,T,E,S;if(this.uniformLeafNodeSizes&&m.getChild()==null&&w.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;b=g.getLength(),b!=0&&(T=this.springConstant*(b-v),E=T*(g.lengthX/b),S=T*(g.lengthY/b),m.springForceX+=E,m.springForceY+=S,w.springForceX-=E,w.springForceY-=S)},h.prototype.calcRepulsionForce=function(g,v){var m=g.getRect(),w=v.getRect(),b=new Array(2),T=new Array(4),E,S,A,I,d,L,D;if(m.intersects(w)){l.calcSeparationAmount(m,w,b,s.DEFAULT_EDGE_LENGTH/2),L=2*b[0],D=2*b[1];var N=g.noOfChildren*v.noOfChildren/(g.noOfChildren+v.noOfChildren);g.repulsionForceX-=N*L,g.repulsionForceY-=N*D,v.repulsionForceX+=N*L,v.repulsionForceY+=N*D}else this.uniformLeafNodeSizes&&g.getChild()==null&&v.getChild()==null?(E=w.getCenterX()-m.getCenterX(),S=w.getCenterY()-m.getCenterY()):(l.getIntersection(m,w,T),E=T[2]-T[0],S=T[3]-T[1]),Math.abs(E)<s.MIN_REPULSION_DIST&&(E=f.sign(E)*s.MIN_REPULSION_DIST),Math.abs(S)<s.MIN_REPULSION_DIST&&(S=f.sign(S)*s.MIN_REPULSION_DIST),A=E*E+S*S,I=Math.sqrt(A),d=this.repulsionConstant*g.noOfChildren*v.noOfChildren/A,L=d*E/I,D=d*S/I,g.repulsionForceX-=L,g.repulsionForceY-=D,v.repulsionForceX+=L,v.repulsionForceY+=D},h.prototype.calcGravitationalForce=function(g){var v,m,w,b,T,E,S,A;v=g.getOwner(),m=(v.getRight()+v.getLeft())/2,w=(v.getTop()+v.getBottom())/2,b=g.getCenterX()-m,T=g.getCenterY()-w,E=Math.abs(b)+g.getWidth()/2,S=Math.abs(T)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(A=v.getEstimatedSize()*this.gravityRangeFactor,(E>A||S>A)&&(g.gravitationForceX=-this.gravityConstant*b,g.gravitationForceY=-this.gravityConstant*T)):(A=v.getEstimatedSize()*this.compoundGravityRangeFactor,(E>A||S>A)&&(g.gravitationForceX=-this.gravityConstant*b*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},h.prototype.isConverged=function(){var g,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||v},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,v=this.graphManager.getAllNodes(),m=0;m<v.length;m++)g=v[m],g.noOfChildren=g.getNoOfChildren()},h.prototype.calcGrid=function(g){var v=0,m=0;v=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var w=new Array(v),b=0;b<v;b++)w[b]=new Array(m);for(var b=0;b<v;b++)for(var T=0;T<m;T++)w[b][T]=new Array;return w},h.prototype.addNodeToGrid=function(g,v,m){var w=0,b=0,T=0,E=0;w=parseInt(Math.floor((g.getRect().x-v)/this.repulsionRange)),b=parseInt(Math.floor((g.getRect().width+g.getRect().x-v)/this.repulsionRange)),T=parseInt(Math.floor((g.getRect().y-m)/this.repulsionRange)),E=parseInt(Math.floor((g.getRect().height+g.getRect().y-m)/this.repulsionRange));for(var S=w;S<=b;S++)for(var A=T;A<=E;A++)this.grid[S][A].push(g),g.setGridCoordinates(w,b,T,E)},h.prototype.updateGrid=function(){var g,v,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<m.length;g++)v=m[g],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(g,v,m,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&m||w){var b=new Set;g.surrounding=new Array;for(var T,E=this.grid,S=g.startX-1;S<g.finishX+2;S++)for(var A=g.startY-1;A<g.finishY+2;A++)if(!(S<0||A<0||S>=E.length||A>=E[0].length)){for(var I=0;I<E[S][A].length;I++)if(T=E[S][A][I],!(g.getOwner()!=T.getOwner()||g==T)&&!v.has(T)&&!b.has(T)){var d=Math.abs(g.getCenterX()-T.getCenterX())-(g.getWidth()/2+T.getWidth()/2),L=Math.abs(g.getCenterY()-T.getCenterY())-(g.getHeight()/2+T.getHeight()/2);d<=this.repulsionRange&&L<=this.repulsionRange&&b.add(T)}}g.surrounding=[].concat(o(b))}for(S=0;S<g.surrounding.length;S++)this.calcRepulsionForce(g,g.surrounding[S])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h},function(r,n,a){var o=a(1),i=a(7);function s(l,f,h){o.call(this,l,f,h),this.idealLength=i.DEFAULT_EDGE_LENGTH}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];r.exports=s},function(r,n,a){var o=a(3);function i(u,l,f,h){o.call(this,u,l,f,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}i.prototype=Object.create(o.prototype);for(var s in o)i[s]=o[s];i.prototype.setGridCoordinates=function(u,l,f,h){this.startX=u,this.finishX=l,this.startY=f,this.finishY=h},r.exports=i},function(r,n,a){function o(i,s){this.width=0,this.height=0,i!==null&&s!==null&&(this.height=s,this.width=i)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(i){this.width=i},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(i){this.height=i},r.exports=o},function(r,n,a){var o=a(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(s,u){var l=o.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},i.prototype.contains=function(s){return o.createID(s),this.map[s]!=null},i.prototype.get=function(s){var u=o.createID(s);return this.map[u]},i.prototype.keySet=function(){return this.keys},r.exports=i},function(r,n,a){var o=a(14);function i(){this.set={}}i.prototype.add=function(s){var u=o.createID(s);this.contains(u)||(this.set[u]=s)},i.prototype.remove=function(s){delete this.set[o.createID(s)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(s){return this.set[o.createID(s)]==s},i.prototype.isEmpty=function(){return this.size()===0},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,f=0;f<l;f++)s.push(this.set[u[f]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var f=s[l];this.add(f)}},r.exports=i},function(r,n,a){var o=function(){function l(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}();function i(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=a(11),u=function(){function l(f,h){i(this,l),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;f instanceof s?p=f.size():p=f.length,this._quicksort(f,0,p-1)}return o(l,[{key:"_quicksort",value:function(h,p,g){if(p<g){var v=this._partition(h,p,g);this._quicksort(h,p,v),this._quicksort(h,v+1,g)}}},{key:"_partition",value:function(h,p,g){for(var v=this._get(h,p),m=p,w=g;;){for(;this.compareFunction(v,this._get(h,w));)w--;for(;this.compareFunction(this._get(h,m),v);)m++;if(m<w)this._swap(h,m,w),m++,w--;else return w}}},{key:"_get",value:function(h,p){return h instanceof s?h.get_object_at(p):h[p]}},{key:"_set",value:function(h,p,g){h instanceof s?h.set_object_at(p,g):h[p]=g}},{key:"_swap",value:function(h,p,g){var v=this._get(h,p);this._set(h,p,this._get(h,g)),this._set(h,g,v)}},{key:"_defaultCompareFunction",value:function(h,p){return p>h}}]),l}();r.exports=u},function(r,n,a){var o=function(){function u(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&u(l.prototype,f),h&&u(l,h),l}}();function i(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;i(this,u),this.sequence1=l,this.sequence2=f,this.match_score=h,this.mismatch_penalty=p,this.gap_penalty=g,this.iMax=l.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[v][m]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.tracebackGrid[w][b]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var v=void 0;this.sequence1[p-1]===this.sequence2[g-1]?v=this.grid[p-1][g-1]+this.match_score:v=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,w=this.grid[p][g-1]+this.gap_penalty,b=[v,m,w],T=this.arrayAllMaxIndexes(b);this.grid[p][g]=b[T[0]],this.tracebackGrid[p][g]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var h=f[0],p=this.tracebackGrid[h.pos[0]][h.pos[1]];p[0]&&f.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),p[1]&&f.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),p[2]&&f.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,h){for(var p=[],g=-1;(g=f.indexOf(h,g+1))!==-1;)p.push(g);return p}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=s},function(r,n,a){var o=function(){};o.FDLayout=a(18),o.FDLayoutConstants=a(7),o.FDLayoutEdge=a(19),o.FDLayoutNode=a(20),o.DimensionD=a(21),o.HashMap=a(22),o.HashSet=a(23),o.IGeometry=a(8),o.IMath=a(9),o.Integer=a(10),o.Point=a(12),o.PointD=a(4),o.RandomSeed=a(16),o.RectangleD=a(13),o.Transform=a(17),o.UniqueIDGeneretor=a(14),o.Quicksort=a(24),o.LinkedList=a(11),o.LGraphObject=a(2),o.LGraph=a(5),o.LEdge=a(1),o.LGraphManager=a(6),o.LNode=a(3),o.Layout=a(15),o.LayoutConstants=a(0),o.NeedlemanWunsch=a(25),r.exports=o},function(r,n,a){function o(){this.listeners=[]}var i=o.prototype;i.addListener=function(s,u){this.listeners.push({event:s,callback:u})},i.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var f=this.listeners[l];f.event===s&&f.callback===u&&this.listeners.splice(l,1)}},i.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var f=this.listeners[l];s===f.event&&f.callback(u)}},r.exports=o}])})}(Yo)),Yo.exports}var hl;function v0(){return hl||(hl=1,function(t,e){(function(n,a){t.exports=a(d0())})(Yi,function(r){return function(n){var a={};function o(i){if(a[i])return a[i].exports;var s=a[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=a,o.i=function(i){return i},o.d=function(i,s,u){o.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:u})},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=7)}([function(n,a){n.exports=r},function(n,a,o){var i=o(0).FDLayoutConstants;function s(){}for(var u in i)s[u]=i[u];s.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,s.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,s.DEFAULT_COMPONENT_SEPERATION=60,s.TILE=!0,s.TILING_PADDING_VERTICAL=10,s.TILING_PADDING_HORIZONTAL=10,s.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=s},function(n,a,o){var i=o(0).FDLayoutEdge;function s(l,f,h){i.call(this,l,f,h)}s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];n.exports=s},function(n,a,o){var i=o(0).LGraph;function s(l,f,h){i.call(this,l,f,h)}s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];n.exports=s},function(n,a,o){var i=o(0).LGraphManager;function s(l){i.call(this,l)}s.prototype=Object.create(i.prototype);for(var u in i)s[u]=i[u];n.exports=s},function(n,a,o){var i=o(0).FDLayoutNode,s=o(0).IMath;function u(f,h,p,g){i.call(this,f,h,p,g)}u.prototype=Object.create(i.prototype);for(var l in i)u[l]=i[l];u.prototype.move=function(){var f=this.graphManager.getLayout();this.displacementX=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*s.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(f,h){for(var p=this.getChild().getNodes(),g,v=0;v<p.length;v++)g=p[v],g.getChild()==null?(g.moveBy(f,h),g.displacementX+=f,g.displacementY+=h):g.propogateDisplacementToChildren(f,h)},u.prototype.setPred1=function(f){this.pred1=f},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(f){this.next=f},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(f){this.processed=f},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,a,o){var i=o(0).FDLayout,s=o(4),u=o(3),l=o(5),f=o(2),h=o(1),p=o(0).FDLayoutConstants,g=o(0).LayoutConstants,v=o(0).Point,m=o(0).PointD,w=o(0).Layout,b=o(0).Integer,T=o(0).IGeometry,E=o(0).LGraph,S=o(0).Transform;function A(){i.call(this),this.toBeTiled={}}A.prototype=Object.create(i.prototype);for(var I in i)A[I]=i[I];A.prototype.newGraphManager=function(){var d=new s(this);return this.graphManager=d,d},A.prototype.newGraph=function(d){return new u(null,this.graphManager,d)},A.prototype.newNode=function(d){return new l(this.graphManager,d)},A.prototype.newEdge=function(d){return new f(null,null,d)},A.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var d=g.DEFAULT_CREATE_BENDS_AS_NEEDED;return d&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(F){return L.has(F)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var d=this.getFlatForest();if(d.length>0)this.positionNodesRadially(d);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(N){return L.has(N)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var d=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(P){return d.has(P)});this.graphManager.setAllNodesToApplyGravitation(L),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,N=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,N),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var d=this.graphManager.getAllNodes(),L={},D=0;D<d.length;D++){var N=d[D].rect,P=d[D].id;L[P]={id:P,x:N.getCenterX(),y:N.getCenterY(),w:N.width,h:N.height}}return L},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var d=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!d;)d=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var d=[],L,D=this.graphManager.getGraphs(),N=D.length,P;for(P=0;P<N;P++)L=D[P],L.updateConnected(),L.isConnected||(d=d.concat(L.getNodes()));return d},A.prototype.createBendpoints=function(){var d=[];d=d.concat(this.graphManager.getAllEdges());var L=new Set,D;for(D=0;D<d.length;D++){var N=d[D];if(!L.has(N)){var P=N.getSource(),F=N.getTarget();if(P==F)N.getBendpoints().push(new m),N.getBendpoints().push(new m),this.createDummyNodesForBendpoints(N),L.add(N);else{var z=[];if(z=z.concat(P.getEdgeListToNode(F)),z=z.concat(F.getEdgeListToNode(P)),!L.has(z[0])){if(z.length>1){var k;for(k=0;k<z.length;k++){var H=z[k];H.getBendpoints().push(new m),this.createDummyNodesForBendpoints(H)}}z.forEach(function(q){L.add(q)})}}}if(L.size==d.length)break}},A.prototype.positionNodesRadially=function(d){for(var L=new v(0,0),D=Math.ceil(Math.sqrt(d.length)),N=0,P=0,F=0,z=new m(0,0),k=0;k<d.length;k++){k%D==0&&(F=0,P=N,k!=0&&(P+=h.DEFAULT_COMPONENT_SEPERATION),N=0);var H=d[k],q=w.findCenterOfTree(H);L.x=F,L.y=P,z=A.radialLayout(H,q,L),z.y>N&&(N=Math.floor(z.y)),F=Math.floor(z.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(g.WORLD_CENTER_X-z.x/2,g.WORLD_CENTER_Y-z.y/2))},A.radialLayout=function(d,L,D){var N=Math.max(this.maxDiagonalInTree(d),h.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(L,null,0,359,0,N);var P=E.calculateBounds(d),F=new S;F.setDeviceOrgX(P.getMinX()),F.setDeviceOrgY(P.getMinY()),F.setWorldOrgX(D.x),F.setWorldOrgY(D.y);for(var z=0;z<d.length;z++){var k=d[z];k.transform(F)}var H=new m(P.getMaxX(),P.getMaxY());return F.inverseTransformPoint(H)},A.branchRadialLayout=function(d,L,D,N,P,F){var z=(N-D+1)/2;z<0&&(z+=180);var k=(z+D)%360,H=k*T.TWO_PI/360,q=P*Math.cos(H),U=P*Math.sin(H);d.setCenter(q,U);var X=[];X=X.concat(d.getEdges());var W=X.length;L!=null&&W--;for(var Q=0,K=X.length,$,ee=d.getEdgesBetween(L);ee.length>1;){var oe=ee[0];ee.splice(0,1);var ce=X.indexOf(oe);ce>=0&&X.splice(ce,1),K--,W--}L!=null?$=(X.indexOf(ee[0])+1)%K:$=0;for(var de=Math.abs(N-D)/W,we=$;Q!=W;we=++we%K){var fe=X[we].getOtherEnd(d);if(fe!=L){var j=(D+Q*de)%360,ae=(j+de)%360;A.branchRadialLayout(fe,d,j,ae,P+F,F),Q++}}},A.maxDiagonalInTree=function(d){for(var L=b.MIN_VALUE,D=0;D<d.length;D++){var N=d[D],P=N.getDiagonal();P>L&&(L=P)}return L},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var d=this,L={};this.memberGroups={},this.idToDummyNode={};for(var D=[],N=this.graphManager.getAllNodes(),P=0;P<N.length;P++){var F=N[P],z=F.getParent();this.getNodeDegreeWithChildren(F)===0&&(z.id==null||!this.getToBeTiled(z))&&D.push(F)}for(var P=0;P<D.length;P++){var F=D[P],k=F.getParent().id;typeof L[k]>"u"&&(L[k]=[]),L[k]=L[k].concat(F)}Object.keys(L).forEach(function(H){if(L[H].length>1){var q="DummyCompound_"+H;d.memberGroups[q]=L[H];var U=L[H][0].getParent(),X=new l(d.graphManager);X.id=q,X.paddingLeft=U.paddingLeft||0,X.paddingRight=U.paddingRight||0,X.paddingBottom=U.paddingBottom||0,X.paddingTop=U.paddingTop||0,d.idToDummyNode[q]=X;var W=d.getGraphManager().add(d.newGraph(),X),Q=U.getChild();Q.add(X);for(var K=0;K<L[H].length;K++){var $=L[H][K];Q.remove($),W.add($)}}})},A.prototype.clearCompounds=function(){var d={},L={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)L[this.compoundOrder[D].id]=this.compoundOrder[D],d[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(d,L)},A.prototype.clearZeroDegreeMembers=function(){var d=this,L=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var N=d.idToDummyNode[D];L[D]=d.tileNodes(d.memberGroups[D],N.paddingLeft+N.paddingRight),N.rect.width=L[D].width,N.rect.height=L[D].height})},A.prototype.repopulateCompounds=function(){for(var d=this.compoundOrder.length-1;d>=0;d--){var L=this.compoundOrder[d],D=L.id,N=L.paddingLeft,P=L.paddingTop;this.adjustLocations(this.tiledMemberPack[D],L.rect.x,L.rect.y,N,P)}},A.prototype.repopulateZeroDegreeMembers=function(){var d=this,L=this.tiledZeroDegreePack;Object.keys(L).forEach(function(D){var N=d.idToDummyNode[D],P=N.paddingLeft,F=N.paddingTop;d.adjustLocations(L[D],N.rect.x,N.rect.y,P,F)})},A.prototype.getToBeTiled=function(d){var L=d.id;if(this.toBeTiled[L]!=null)return this.toBeTiled[L];var D=d.getChild();if(D==null)return this.toBeTiled[L]=!1,!1;for(var N=D.getNodes(),P=0;P<N.length;P++){var F=N[P];if(this.getNodeDegree(F)>0)return this.toBeTiled[L]=!1,!1;if(F.getChild()==null){this.toBeTiled[F.id]=!1;continue}if(!this.getToBeTiled(F))return this.toBeTiled[L]=!1,!1}return this.toBeTiled[L]=!0,!0},A.prototype.getNodeDegree=function(d){d.id;for(var L=d.getEdges(),D=0,N=0;N<L.length;N++){var P=L[N];P.getSource().id!==P.getTarget().id&&(D=D+1)}return D},A.prototype.getNodeDegreeWithChildren=function(d){var L=this.getNodeDegree(d);if(d.getChild()==null)return L;for(var D=d.getChild().getNodes(),N=0;N<D.length;N++){var P=D[N];L+=this.getNodeDegreeWithChildren(P)}return L},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(d){for(var L=0;L<d.length;L++){var D=d[L];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},A.prototype.adjustLocations=function(d,L,D,N,P){L+=N,D+=P;for(var F=L,z=0;z<d.rows.length;z++){var k=d.rows[z];L=F;for(var H=0,q=0;q<k.length;q++){var U=k[q];U.rect.x=L,U.rect.y=D,L+=U.rect.width+d.horizontalPadding,U.rect.height>H&&(H=U.rect.height)}D+=H+d.verticalPadding}},A.prototype.tileCompoundMembers=function(d,L){var D=this;this.tiledMemberPack=[],Object.keys(d).forEach(function(N){var P=L[N];D.tiledMemberPack[N]=D.tileNodes(d[N],P.paddingLeft+P.paddingRight),P.rect.width=D.tiledMemberPack[N].width,P.rect.height=D.tiledMemberPack[N].height})},A.prototype.tileNodes=function(d,L){var D=h.TILING_PADDING_VERTICAL,N=h.TILING_PADDING_HORIZONTAL,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:L,verticalPadding:D,horizontalPadding:N};d.sort(function(k,H){return k.rect.width*k.rect.height>H.rect.width*H.rect.height?-1:k.rect.width*k.rect.height<H.rect.width*H.rect.height?1:0});for(var F=0;F<d.length;F++){var z=d[F];P.rows.length==0?this.insertNodeToRow(P,z,0,L):this.canAddHorizontal(P,z.rect.width,z.rect.height)?this.insertNodeToRow(P,z,this.getShortestRowIndex(P),L):this.insertNodeToRow(P,z,P.rows.length,L),this.shiftToLastRow(P)}return P},A.prototype.insertNodeToRow=function(d,L,D,N){var P=N;if(D==d.rows.length){var F=[];d.rows.push(F),d.rowWidth.push(P),d.rowHeight.push(0)}var z=d.rowWidth[D]+L.rect.width;d.rows[D].length>0&&(z+=d.horizontalPadding),d.rowWidth[D]=z,d.width<z&&(d.width=z);var k=L.rect.height;D>0&&(k+=d.verticalPadding);var H=0;k>d.rowHeight[D]&&(H=d.rowHeight[D],d.rowHeight[D]=k,H=d.rowHeight[D]-H),d.height+=H,d.rows[D].push(L)},A.prototype.getShortestRowIndex=function(d){for(var L=-1,D=Number.MAX_VALUE,N=0;N<d.rows.length;N++)d.rowWidth[N]<D&&(L=N,D=d.rowWidth[N]);return L},A.prototype.getLongestRowIndex=function(d){for(var L=-1,D=Number.MIN_VALUE,N=0;N<d.rows.length;N++)d.rowWidth[N]>D&&(L=N,D=d.rowWidth[N]);return L},A.prototype.canAddHorizontal=function(d,L,D){var N=this.getShortestRowIndex(d);if(N<0)return!0;var P=d.rowWidth[N];if(P+d.horizontalPadding+L<=d.width)return!0;var F=0;d.rowHeight[N]<D&&N>0&&(F=D+d.verticalPadding-d.rowHeight[N]);var z;d.width-P>=L+d.horizontalPadding?z=(d.height+F)/(P+L+d.horizontalPadding):z=(d.height+F)/d.width,F=D+d.verticalPadding;var k;return d.width<L?k=(d.height+F)/L:k=(d.height+F)/d.width,k<1&&(k=1/k),z<1&&(z=1/z),z<k},A.prototype.shiftToLastRow=function(d){var L=this.getLongestRowIndex(d),D=d.rowWidth.length-1,N=d.rows[L],P=N[N.length-1],F=P.width+d.horizontalPadding;if(d.width-d.rowWidth[D]>F&&L!=D){N.splice(-1,1),d.rows[D].push(P),d.rowWidth[L]=d.rowWidth[L]-F,d.rowWidth[D]=d.rowWidth[D]+F,d.width=d.rowWidth[instance.getLongestRowIndex(d)];for(var z=Number.MIN_VALUE,k=0;k<N.length;k++)N[k].height>z&&(z=N[k].height);L>0&&(z+=d.verticalPadding);var H=d.rowHeight[L]+d.rowHeight[D];d.rowHeight[L]=z,d.rowHeight[D]<P.height+d.verticalPadding&&(d.rowHeight[D]=P.height+d.verticalPadding);var q=d.rowHeight[L]+d.rowHeight[D];d.height+=q-H,this.shiftToLastRow(d)}},A.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var d=[],L=!0,D;L;){var N=this.graphManager.getAllNodes(),P=[];L=!1;for(var F=0;F<N.length;F++)D=N[F],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(P.push([D,D.getEdges()[0],D.getOwner()]),L=!0);if(L==!0){for(var z=[],k=0;k<P.length;k++)P[k][0].getEdges().length==1&&(z.push(P[k]),P[k][0].getOwner().remove(P[k][0]));d.push(z),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=d},A.prototype.growTree=function(d){for(var L=d.length,D=d[L-1],N,P=0;P<D.length;P++)N=D[P],this.findPlaceforPrunedNode(N),N[2].add(N[0]),N[2].add(N[1],N[1].source,N[1].target);d.splice(d.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(d){var L,D,N=d[0];N==d[1].source?D=d[1].target:D=d[1].source;var P=D.startX,F=D.finishX,z=D.startY,k=D.finishY,H=0,q=0,U=0,X=0,W=[H,U,q,X];if(z>0)for(var Q=P;Q<=F;Q++)W[0]+=this.grid[Q][z-1].length+this.grid[Q][z].length-1;if(F<this.grid.length-1)for(var Q=z;Q<=k;Q++)W[1]+=this.grid[F+1][Q].length+this.grid[F][Q].length-1;if(k<this.grid[0].length-1)for(var Q=P;Q<=F;Q++)W[2]+=this.grid[Q][k+1].length+this.grid[Q][k].length-1;if(P>0)for(var Q=z;Q<=k;Q++)W[3]+=this.grid[P-1][Q].length+this.grid[P][Q].length-1;for(var K=b.MAX_VALUE,$,ee,oe=0;oe<W.length;oe++)W[oe]<K?(K=W[oe],$=1,ee=oe):W[oe]==K&&$++;if($==3&&K==0)W[0]==0&&W[1]==0&&W[2]==0?L=1:W[0]==0&&W[1]==0&&W[3]==0?L=0:W[0]==0&&W[2]==0&&W[3]==0?L=3:W[1]==0&&W[2]==0&&W[3]==0&&(L=2);else if($==2&&K==0){var ce=Math.floor(Math.random()*2);W[0]==0&&W[1]==0?ce==0?L=0:L=1:W[0]==0&&W[2]==0?ce==0?L=0:L=2:W[0]==0&&W[3]==0?ce==0?L=0:L=3:W[1]==0&&W[2]==0?ce==0?L=1:L=2:W[1]==0&&W[3]==0?ce==0?L=1:L=3:ce==0?L=2:L=3}else if($==4&&K==0){var ce=Math.floor(Math.random()*4);L=ce}else L=ee;L==0?N.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-p.DEFAULT_EDGE_LENGTH-N.getHeight()/2):L==1?N.setCenter(D.getCenterX()+D.getWidth()/2+p.DEFAULT_EDGE_LENGTH+N.getWidth()/2,D.getCenterY()):L==2?N.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+p.DEFAULT_EDGE_LENGTH+N.getHeight()/2):N.setCenter(D.getCenterX()-D.getWidth()/2-p.DEFAULT_EDGE_LENGTH-N.getWidth()/2,D.getCenterY())},n.exports=A},function(n,a,o){var i={};i.layoutBase=o(0),i.CoSEConstants=o(1),i.CoSEEdge=o(2),i.CoSEGraph=o(3),i.CoSEGraphManager=o(4),i.CoSELayout=o(6),i.CoSENode=o(5),n.exports=i}])})}(qo)),qo.exports}(function(t,e){(function(n,a){t.exports=a(v0())})(Yi,function(r){return function(n){var a={};function o(i){if(a[i])return a[i].exports;var s=a[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=a,o.i=function(i){return i},o.d=function(i,s,u){o.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:u})},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=1)}([function(n,a){n.exports=r},function(n,a,o){var i=o(0).layoutBase.LayoutConstants,s=o(0).layoutBase.FDLayoutConstants,u=o(0).CoSEConstants,l=o(0).CoSELayout,f=o(0).CoSENode,h=o(0).layoutBase.PointD,p=o(0).layoutBase.DimensionD,g={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function v(T,E){var S={};for(var A in T)S[A]=T[A];for(var A in E)S[A]=E[A];return S}function m(T){this.options=v(g,T),w(this.options)}var w=function(E){E.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=s.DEFAULT_REPULSION_STRENGTH=E.nodeRepulsion),E.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=s.DEFAULT_EDGE_LENGTH=E.idealEdgeLength),E.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=s.DEFAULT_SPRING_STRENGTH=E.edgeElasticity),E.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=s.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(u.MAX_ITERATIONS=s.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=s.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=s.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.quality=="draft"?i.QUALITY=0:E.quality=="proof"?i.QUALITY=2:i.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!E.randomize,u.ANIMATE=s.ANIMATE=i.ANIMATE=E.animate,u.TILE=E.tile,u.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal};m.prototype.run=function(){var T,E,S=this.options;this.idToLNode={};var A=this.layout=new l,I=this;I.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var d=A.newGraphManager();this.gm=d;var L=this.options.eles.nodes(),D=this.options.eles.edges();this.root=d.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(L),A);for(var N=0;N<D.length;N++){var P=D[N],F=this.idToLNode[P.data("source")],z=this.idToLNode[P.data("target")];if(F!==z&&F.getEdgesBetween(z).length==0){var k=d.add(A.newEdge(),F,z);k.id=P.id()}}var H=function(X,W){typeof X=="number"&&(X=W);var Q=X.data("id"),K=I.idToLNode[Q];return{x:K.getRect().getCenterX(),y:K.getRect().getCenterY()}},q=function U(){for(var X=function(){S.fit&&S.cy.fit(S.eles,S.padding),T||(T=!0,I.cy.one("layoutready",S.ready),I.cy.trigger({type:"layoutready",layout:I}))},W=I.options.refresh,Q,K=0;K<W&&!Q;K++)Q=I.stopped||I.layout.tick();if(Q){A.checkLayoutSuccess()&&!A.isSubLayout&&A.doPostLayout(),A.tilingPostLayout&&A.tilingPostLayout(),A.isLayoutFinished=!0,I.options.eles.nodes().positions(H),X(),I.cy.one("layoutstop",I.options.stop),I.cy.trigger({type:"layoutstop",layout:I}),E&&cancelAnimationFrame(E),T=!1;return}var $=I.layout.getPositionsData();S.eles.nodes().positions(function(ee,oe){if(typeof ee=="number"&&(ee=oe),!ee.isParent()){for(var ce=ee.id(),de=$[ce],we=ee;de==null&&(de=$[we.data("parent")]||$["DummyCompound_"+we.data("parent")],$[ce]=de,we=we.parent()[0],we!=null););return de!=null?{x:de.x,y:de.y}:{x:ee.position("x"),y:ee.position("y")}}}),X(),E=requestAnimationFrame(U)};return A.addListener("layoutstarted",function(){I.options.animate==="during"&&(E=requestAnimationFrame(q))}),A.runLayout(),this.options.animate!=="during"&&(I.options.eles.nodes().not(":parent").layoutPositions(I,I.options,H),T=!1),this},m.prototype.getTopMostNodes=function(T){for(var E={},S=0;S<T.length;S++)E[T[S].id()]=!0;var A=T.filter(function(I,d){typeof I=="number"&&(I=d);for(var L=I.parent()[0];L!=null;){if(E[L.id()])return!1;L=L.parent()[0]}return!0});return A},m.prototype.processChildrenList=function(T,E,S){for(var A=E.length,I=0;I<A;I++){var d=E[I],L=d.children(),D,N=d.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(d.outerWidth()!=null&&d.outerHeight()!=null?D=T.add(new f(S.graphManager,new h(d.position("x")-N.w/2,d.position("y")-N.h/2),new p(parseFloat(N.w),parseFloat(N.h)))):D=T.add(new f(this.graphManager)),D.id=d.data("id"),D.paddingLeft=parseInt(d.css("padding")),D.paddingTop=parseInt(d.css("padding")),D.paddingRight=parseInt(d.css("padding")),D.paddingBottom=parseInt(d.css("padding")),this.options.nodeDimensionsIncludeLabels&&d.isParent()){var P=d.boundingBox({includeLabels:!0,includeNodes:!1}).w,F=d.boundingBox({includeLabels:!0,includeNodes:!1}).h,z=d.css("text-halign");D.labelWidth=P,D.labelHeight=F,D.labelPos=z}if(this.idToLNode[d.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),L!=null&&L.length>0){var k;k=S.getGraphManager().add(S.newGraph(),D),this.processChildrenList(k,L,S)}}},m.prototype.stop=function(){return this.stopped=!0,this};var b=function(E){E("layout","cose-bilkent",m)};typeof cytoscape<"u"&&b(cytoscape),n.exports=b}])})})(tc);var g0=tc.exports;const p0=vl(g0);var rc={exports:{}},Xo={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var dl;function y0(){return dl||(dl=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:Yi,function(e,r){var n=[],a=Object.getPrototypeOf,o=n.slice,i=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},s=n.push,u=n.indexOf,l={},f=l.toString,h=l.hasOwnProperty,p=h.toString,g=p.call(Object),v={},m=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},w=function(y){return y!=null&&y===y.window},b=e.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function E(c,y,x){x=x||b;var C,O,M=x.createElement("script");if(M.text=c,y)for(C in T)O=y[C]||y.getAttribute&&y.getAttribute(C),O&&M.setAttribute(C,O);x.head.appendChild(M).parentNode.removeChild(M)}function S(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?l[f.call(c)]||"object":typeof c}var A="3.7.1",I=/HTML$/i,d=function(c,y){return new d.fn.init(c,y)};d.fn=d.prototype={jquery:A,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(c){return c==null?o.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var y=d.merge(this.constructor(),c);return y.prevObject=this,y},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(y,x){return c.call(y,x,y)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(c,y){return(y+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(c,y){return y%2}))},eq:function(c){var y=this.length,x=+c+(c<0?y:0);return this.pushStack(x>=0&&x<y?[this[x]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var c,y,x,C,O,M,R=arguments[0]||{},Y=1,V=arguments.length,Z=!1;for(typeof R=="boolean"&&(Z=R,R=arguments[Y]||{},Y++),typeof R!="object"&&!m(R)&&(R={}),Y===V&&(R=this,Y--);Y<V;Y++)if((c=arguments[Y])!=null)for(y in c)C=c[y],!(y==="__proto__"||R===C)&&(Z&&C&&(d.isPlainObject(C)||(O=Array.isArray(C)))?(x=R[y],O&&!Array.isArray(x)?M=[]:!O&&!d.isPlainObject(x)?M={}:M=x,O=!1,R[y]=d.extend(Z,M,C)):C!==void 0&&(R[y]=C));return R},d.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var y,x;return!c||f.call(c)!=="[object Object]"?!1:(y=a(c),y?(x=h.call(y,"constructor")&&y.constructor,typeof x=="function"&&p.call(x)===g):!0)},isEmptyObject:function(c){var y;for(y in c)return!1;return!0},globalEval:function(c,y,x){E(c,{nonce:y&&y.nonce},x)},each:function(c,y){var x,C=0;if(L(c))for(x=c.length;C<x&&y.call(c[C],C,c[C])!==!1;C++);else for(C in c)if(y.call(c[C],C,c[C])===!1)break;return c},text:function(c){var y,x="",C=0,O=c.nodeType;if(!O)for(;y=c[C++];)x+=d.text(y);return O===1||O===11?c.textContent:O===9?c.documentElement.textContent:O===3||O===4?c.nodeValue:x},makeArray:function(c,y){var x=y||[];return c!=null&&(L(Object(c))?d.merge(x,typeof c=="string"?[c]:c):s.call(x,c)),x},inArray:function(c,y,x){return y==null?-1:u.call(y,c,x)},isXMLDoc:function(c){var y=c&&c.namespaceURI,x=c&&(c.ownerDocument||c).documentElement;return!I.test(y||x&&x.nodeName||"HTML")},merge:function(c,y){for(var x=+y.length,C=0,O=c.length;C<x;C++)c[O++]=y[C];return c.length=O,c},grep:function(c,y,x){for(var C,O=[],M=0,R=c.length,Y=!x;M<R;M++)C=!y(c[M],M),C!==Y&&O.push(c[M]);return O},map:function(c,y,x){var C,O,M=0,R=[];if(L(c))for(C=c.length;M<C;M++)O=y(c[M],M,x),O!=null&&R.push(O);else for(M in c)O=y(c[M],M,x),O!=null&&R.push(O);return i(R)},guid:1,support:v}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,y){l["[object "+y+"]"]=y.toLowerCase()});function L(c){var y=!!c&&"length"in c&&c.length,x=S(c);return m(c)||w(c)?!1:x==="array"||y===0||typeof y=="number"&&y>0&&y-1 in c}function D(c,y){return c.nodeName&&c.nodeName.toLowerCase()===y.toLowerCase()}var N=n.pop,P=n.sort,F=n.splice,z="[\\x20\\t\\r\\n\\f]",k=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g");d.contains=function(c,y){var x=y&&y.parentNode;return c===x||!!(x&&x.nodeType===1&&(c.contains?c.contains(x):c.compareDocumentPosition&&c.compareDocumentPosition(x)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function q(c,y){return y?c==="\0"?"�":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}d.escapeSelector=function(c){return(c+"").replace(H,q)};var U=b,X=s;(function(){var c,y,x,C,O,M=X,R,Y,V,Z,ie,ge=d.expando,re=0,Te=0,Ze=ui(),rt=ui(),je=ui(),Ht=ui(),Mt=function(G,_){return G===_&&(O=!0),0},Ar="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Or="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",tt="\\["+z+"*("+Or+")(?:"+z+"*([*^$|!~]?=)"+z+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Or+"))|)"+z+"*\\]",En=":("+Or+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+tt+")*)|.*)\\)|)",nt=new RegExp(z+"+","g"),Lt=new RegExp("^"+z+"*,"+z+"*"),Ea=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),To=new RegExp(z+"|>"),Mr=new RegExp(En),xa=new RegExp("^"+Or+"$"),Nr={ID:new RegExp("^#("+Or+")"),CLASS:new RegExp("^\\.("+Or+")"),TAG:new RegExp("^("+Or+"|[*])"),ATTR:new RegExp("^"+tt),PSEUDO:new RegExp("^"+En),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+Ar+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Jr=/^(?:input|select|textarea|button)$/i,en=/^h\d$/i,gr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Co=/[+~]/,Ur=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),Vr=function(G,_){var te="0x"+G.slice(1)-65536;return _||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,te&1023|56320))},Ac=function(){tn()},Oc=fi(function(G){return G.disabled===!0&&D(G,"fieldset")},{dir:"parentNode",next:"legend"});function Mc(){try{return R.activeElement}catch{}}try{M.apply(n=o.call(U.childNodes),U.childNodes),n[U.childNodes.length].nodeType}catch{M={apply:function(_,te){X.apply(_,o.call(te))},call:function(_){X.apply(_,o.call(arguments,1))}}}function dt(G,_,te,ne){var ve,Ae,Ne,He,Ie,Je,Ke,Qe=_&&_.ownerDocument,et=_?_.nodeType:9;if(te=te||[],typeof G!="string"||!G||et!==1&&et!==9&&et!==11)return te;if(!ne&&(tn(_),_=_||R,V)){if(et!==11&&(Ie=gr.exec(G)))if(ve=Ie[1]){if(et===9)if(Ne=_.getElementById(ve)){if(Ne.id===ve)return M.call(te,Ne),te}else return te;else if(Qe&&(Ne=Qe.getElementById(ve))&&dt.contains(_,Ne)&&Ne.id===ve)return M.call(te,Ne),te}else{if(Ie[2])return M.apply(te,_.getElementsByTagName(G)),te;if((ve=Ie[3])&&_.getElementsByClassName)return M.apply(te,_.getElementsByClassName(ve)),te}if(!Ht[G+" "]&&(!Z||!Z.test(G))){if(Ke=G,Qe=_,et===1&&(To.test(G)||Ea.test(G))){for(Qe=Co.test(G)&&Do(_.parentNode)||_,(Qe!=_||!v.scope)&&((He=_.getAttribute("id"))?He=d.escapeSelector(He):_.setAttribute("id",He=ge)),Je=Ta(G),Ae=Je.length;Ae--;)Je[Ae]=(He?"#"+He:":scope")+" "+li(Je[Ae]);Ke=Je.join(",")}try{return M.apply(te,Qe.querySelectorAll(Ke)),te}catch{Ht(G,!0)}finally{He===ge&&_.removeAttribute("id")}}}return Zs(G.replace(k,"$1"),_,te,ne)}function ui(){var G=[];function _(te,ne){return G.push(te+" ")>y.cacheLength&&delete _[G.shift()],_[te+" "]=ne}return _}function Er(G){return G[ge]=!0,G}function Hn(G){var _=R.createElement("fieldset");try{return!!G(_)}catch{return!1}finally{_.parentNode&&_.parentNode.removeChild(_),_=null}}function Nc(G){return function(_){return D(_,"input")&&_.type===G}}function Ic(G){return function(_){return(D(_,"input")||D(_,"button"))&&_.type===G}}function $s(G){return function(_){return"form"in _?_.parentNode&&_.disabled===!1?"label"in _?"label"in _.parentNode?_.parentNode.disabled===G:_.disabled===G:_.isDisabled===G||_.isDisabled!==!G&&Oc(_)===G:_.disabled===G:"label"in _?_.disabled===G:!1}}function xn(G){return Er(function(_){return _=+_,Er(function(te,ne){for(var ve,Ae=G([],te.length,_),Ne=Ae.length;Ne--;)te[ve=Ae[Ne]]&&(te[ve]=!(ne[ve]=te[ve]))})})}function Do(G){return G&&typeof G.getElementsByTagName<"u"&&G}function tn(G){var _,te=G?G.ownerDocument||G:U;return te==R||te.nodeType!==9||!te.documentElement||(R=te,Y=R.documentElement,V=!d.isXMLDoc(R),ie=Y.matches||Y.webkitMatchesSelector||Y.msMatchesSelector,Y.msMatchesSelector&&U!=R&&(_=R.defaultView)&&_.top!==_&&_.addEventListener("unload",Ac),v.getById=Hn(function(ne){return Y.appendChild(ne).id=d.expando,!R.getElementsByName||!R.getElementsByName(d.expando).length}),v.disconnectedMatch=Hn(function(ne){return ie.call(ne,"*")}),v.scope=Hn(function(){return R.querySelectorAll(":scope")}),v.cssHas=Hn(function(){try{return R.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),v.getById?(y.filter.ID=function(ne){var ve=ne.replace(Ur,Vr);return function(Ae){return Ae.getAttribute("id")===ve}},y.find.ID=function(ne,ve){if(typeof ve.getElementById<"u"&&V){var Ae=ve.getElementById(ne);return Ae?[Ae]:[]}}):(y.filter.ID=function(ne){var ve=ne.replace(Ur,Vr);return function(Ae){var Ne=typeof Ae.getAttributeNode<"u"&&Ae.getAttributeNode("id");return Ne&&Ne.value===ve}},y.find.ID=function(ne,ve){if(typeof ve.getElementById<"u"&&V){var Ae,Ne,He,Ie=ve.getElementById(ne);if(Ie){if(Ae=Ie.getAttributeNode("id"),Ae&&Ae.value===ne)return[Ie];for(He=ve.getElementsByName(ne),Ne=0;Ie=He[Ne++];)if(Ae=Ie.getAttributeNode("id"),Ae&&Ae.value===ne)return[Ie]}return[]}}),y.find.TAG=function(ne,ve){return typeof ve.getElementsByTagName<"u"?ve.getElementsByTagName(ne):ve.querySelectorAll(ne)},y.find.CLASS=function(ne,ve){if(typeof ve.getElementsByClassName<"u"&&V)return ve.getElementsByClassName(ne)},Z=[],Hn(function(ne){var ve;Y.appendChild(ne).innerHTML="<a id='"+ge+"' href='' disabled='disabled'></a><select id='"+ge+"-\r\\' disabled='disabled'><option selected=''></option></select>",ne.querySelectorAll("[selected]").length||Z.push("\\["+z+"*(?:value|"+Ar+")"),ne.querySelectorAll("[id~="+ge+"-]").length||Z.push("~="),ne.querySelectorAll("a#"+ge+"+*").length||Z.push(".#.+[+~]"),ne.querySelectorAll(":checked").length||Z.push(":checked"),ve=R.createElement("input"),ve.setAttribute("type","hidden"),ne.appendChild(ve).setAttribute("name","D"),Y.appendChild(ne).disabled=!0,ne.querySelectorAll(":disabled").length!==2&&Z.push(":enabled",":disabled"),ve=R.createElement("input"),ve.setAttribute("name",""),ne.appendChild(ve),ne.querySelectorAll("[name='']").length||Z.push("\\["+z+"*name"+z+"*="+z+`*(?:''|"")`)}),v.cssHas||Z.push(":has"),Z=Z.length&&new RegExp(Z.join("|")),Mt=function(ne,ve){if(ne===ve)return O=!0,0;var Ae=!ne.compareDocumentPosition-!ve.compareDocumentPosition;return Ae||(Ae=(ne.ownerDocument||ne)==(ve.ownerDocument||ve)?ne.compareDocumentPosition(ve):1,Ae&1||!v.sortDetached&&ve.compareDocumentPosition(ne)===Ae?ne===R||ne.ownerDocument==U&&dt.contains(U,ne)?-1:ve===R||ve.ownerDocument==U&&dt.contains(U,ve)?1:C?u.call(C,ne)-u.call(C,ve):0:Ae&4?-1:1)}),R}dt.matches=function(G,_){return dt(G,null,null,_)},dt.matchesSelector=function(G,_){if(tn(G),V&&!Ht[_+" "]&&(!Z||!Z.test(_)))try{var te=ie.call(G,_);if(te||v.disconnectedMatch||G.document&&G.document.nodeType!==11)return te}catch{Ht(_,!0)}return dt(_,R,null,[G]).length>0},dt.contains=function(G,_){return(G.ownerDocument||G)!=R&&tn(G),d.contains(G,_)},dt.attr=function(G,_){(G.ownerDocument||G)!=R&&tn(G);var te=y.attrHandle[_.toLowerCase()],ne=te&&h.call(y.attrHandle,_.toLowerCase())?te(G,_,!V):void 0;return ne!==void 0?ne:G.getAttribute(_)},dt.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},d.uniqueSort=function(G){var _,te=[],ne=0,ve=0;if(O=!v.sortStable,C=!v.sortStable&&o.call(G,0),P.call(G,Mt),O){for(;_=G[ve++];)_===G[ve]&&(ne=te.push(ve));for(;ne--;)F.call(G,te[ne],1)}return C=null,G},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},y=d.expr={cacheLength:50,createPseudo:Er,match:Nr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Ur,Vr),G[3]=(G[3]||G[4]||G[5]||"").replace(Ur,Vr),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||dt.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&dt.error(G[0]),G},PSEUDO:function(G){var _,te=!G[6]&&G[2];return Nr.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":te&&Mr.test(te)&&(_=Ta(te,!0))&&(_=te.indexOf(")",te.length-_)-te.length)&&(G[0]=G[0].slice(0,_),G[2]=te.slice(0,_)),G.slice(0,3))}},filter:{TAG:function(G){var _=G.replace(Ur,Vr).toLowerCase();return G==="*"?function(){return!0}:function(te){return D(te,_)}},CLASS:function(G){var _=Ze[G+" "];return _||(_=new RegExp("(^|"+z+")"+G+"("+z+"|$)"))&&Ze(G,function(te){return _.test(typeof te.className=="string"&&te.className||typeof te.getAttribute<"u"&&te.getAttribute("class")||"")})},ATTR:function(G,_,te){return function(ne){var ve=dt.attr(ne,G);return ve==null?_==="!=":_?(ve+="",_==="="?ve===te:_==="!="?ve!==te:_==="^="?te&&ve.indexOf(te)===0:_==="*="?te&&ve.indexOf(te)>-1:_==="$="?te&&ve.slice(-te.length)===te:_==="~="?(" "+ve.replace(nt," ")+" ").indexOf(te)>-1:_==="|="?ve===te||ve.slice(0,te.length+1)===te+"-":!1):!0}},CHILD:function(G,_,te,ne,ve){var Ae=G.slice(0,3)!=="nth",Ne=G.slice(-4)!=="last",He=_==="of-type";return ne===1&&ve===0?function(Ie){return!!Ie.parentNode}:function(Ie,Je,Ke){var Qe,et,We,yt,sr,$t=Ae!==Ne?"nextSibling":"previousSibling",pr=Ie.parentNode,Ir=He&&Ie.nodeName.toLowerCase(),Un=!Ke&&!He,rr=!1;if(pr){if(Ae){for(;$t;){for(We=Ie;We=We[$t];)if(He?D(We,Ir):We.nodeType===1)return!1;sr=$t=G==="only"&&!sr&&"nextSibling"}return!0}if(sr=[Ne?pr.firstChild:pr.lastChild],Ne&&Un){for(et=pr[ge]||(pr[ge]={}),Qe=et[G]||[],yt=Qe[0]===re&&Qe[1],rr=yt&&Qe[2],We=yt&&pr.childNodes[yt];We=++yt&&We&&We[$t]||(rr=yt=0)||sr.pop();)if(We.nodeType===1&&++rr&&We===Ie){et[G]=[re,yt,rr];break}}else if(Un&&(et=Ie[ge]||(Ie[ge]={}),Qe=et[G]||[],yt=Qe[0]===re&&Qe[1],rr=yt),rr===!1)for(;(We=++yt&&We&&We[$t]||(rr=yt=0)||sr.pop())&&!((He?D(We,Ir):We.nodeType===1)&&++rr&&(Un&&(et=We[ge]||(We[ge]={}),et[G]=[re,rr]),We===Ie)););return rr-=ve,rr===ne||rr%ne===0&&rr/ne>=0}}},PSEUDO:function(G,_){var te,ne=y.pseudos[G]||y.setFilters[G.toLowerCase()]||dt.error("unsupported pseudo: "+G);return ne[ge]?ne(_):ne.length>1?(te=[G,G,"",_],y.setFilters.hasOwnProperty(G.toLowerCase())?Er(function(ve,Ae){for(var Ne,He=ne(ve,_),Ie=He.length;Ie--;)Ne=u.call(ve,He[Ie]),ve[Ne]=!(Ae[Ne]=He[Ie])}):function(ve){return ne(ve,0,te)}):ne}},pseudos:{not:Er(function(G){var _=[],te=[],ne=Oo(G.replace(k,"$1"));return ne[ge]?Er(function(ve,Ae,Ne,He){for(var Ie,Je=ne(ve,null,He,[]),Ke=ve.length;Ke--;)(Ie=Je[Ke])&&(ve[Ke]=!(Ae[Ke]=Ie))}):function(ve,Ae,Ne){return _[0]=ve,ne(_,null,Ne,te),_[0]=null,!te.pop()}}),has:Er(function(G){return function(_){return dt(G,_).length>0}}),contains:Er(function(G){return G=G.replace(Ur,Vr),function(_){return(_.textContent||d.text(_)).indexOf(G)>-1}}),lang:Er(function(G){return xa.test(G||"")||dt.error("unsupported lang: "+G),G=G.replace(Ur,Vr).toLowerCase(),function(_){var te;do if(te=V?_.lang:_.getAttribute("xml:lang")||_.getAttribute("lang"))return te=te.toLowerCase(),te===G||te.indexOf(G+"-")===0;while((_=_.parentNode)&&_.nodeType===1);return!1}}),target:function(G){var _=e.location&&e.location.hash;return _&&_.slice(1)===G.id},root:function(G){return G===Y},focus:function(G){return G===Mc()&&R.hasFocus()&&!!(G.type||G.href||~G.tabIndex)},enabled:$s(!1),disabled:$s(!0),checked:function(G){return D(G,"input")&&!!G.checked||D(G,"option")&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!y.pseudos.empty(G)},header:function(G){return en.test(G.nodeName)},input:function(G){return Jr.test(G.nodeName)},button:function(G){return D(G,"input")&&G.type==="button"||D(G,"button")},text:function(G){var _;return D(G,"input")&&G.type==="text"&&((_=G.getAttribute("type"))==null||_.toLowerCase()==="text")},first:xn(function(){return[0]}),last:xn(function(G,_){return[_-1]}),eq:xn(function(G,_,te){return[te<0?te+_:te]}),even:xn(function(G,_){for(var te=0;te<_;te+=2)G.push(te);return G}),odd:xn(function(G,_){for(var te=1;te<_;te+=2)G.push(te);return G}),lt:xn(function(G,_,te){var ne;for(te<0?ne=te+_:te>_?ne=_:ne=te;--ne>=0;)G.push(ne);return G}),gt:xn(function(G,_,te){for(var ne=te<0?te+_:te;++ne<_;)G.push(ne);return G})}},y.pseudos.nth=y.pseudos.eq;for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[c]=Nc(c);for(c in{submit:!0,reset:!0})y.pseudos[c]=Ic(c);function Ks(){}Ks.prototype=y.filters=y.pseudos,y.setFilters=new Ks;function Ta(G,_){var te,ne,ve,Ae,Ne,He,Ie,Je=rt[G+" "];if(Je)return _?0:Je.slice(0);for(Ne=G,He=[],Ie=y.preFilter;Ne;){(!te||(ne=Lt.exec(Ne)))&&(ne&&(Ne=Ne.slice(ne[0].length)||Ne),He.push(ve=[])),te=!1,(ne=Ea.exec(Ne))&&(te=ne.shift(),ve.push({value:te,type:ne[0].replace(k," ")}),Ne=Ne.slice(te.length));for(Ae in y.filter)(ne=Nr[Ae].exec(Ne))&&(!Ie[Ae]||(ne=Ie[Ae](ne)))&&(te=ne.shift(),ve.push({value:te,type:Ae,matches:ne}),Ne=Ne.slice(te.length));if(!te)break}return _?Ne.length:Ne?dt.error(G):rt(G,He).slice(0)}function li(G){for(var _=0,te=G.length,ne="";_<te;_++)ne+=G[_].value;return ne}function fi(G,_,te){var ne=_.dir,ve=_.next,Ae=ve||ne,Ne=te&&Ae==="parentNode",He=Te++;return _.first?function(Ie,Je,Ke){for(;Ie=Ie[ne];)if(Ie.nodeType===1||Ne)return G(Ie,Je,Ke);return!1}:function(Ie,Je,Ke){var Qe,et,We=[re,He];if(Ke){for(;Ie=Ie[ne];)if((Ie.nodeType===1||Ne)&&G(Ie,Je,Ke))return!0}else for(;Ie=Ie[ne];)if(Ie.nodeType===1||Ne)if(et=Ie[ge]||(Ie[ge]={}),ve&&D(Ie,ve))Ie=Ie[ne]||Ie;else{if((Qe=et[Ae])&&Qe[0]===re&&Qe[1]===He)return We[2]=Qe[2];if(et[Ae]=We,We[2]=G(Ie,Je,Ke))return!0}return!1}}function So(G){return G.length>1?function(_,te,ne){for(var ve=G.length;ve--;)if(!G[ve](_,te,ne))return!1;return!0}:G[0]}function Pc(G,_,te){for(var ne=0,ve=_.length;ne<ve;ne++)dt(G,_[ne],te);return te}function ci(G,_,te,ne,ve){for(var Ae,Ne=[],He=0,Ie=G.length,Je=_!=null;He<Ie;He++)(Ae=G[He])&&(!te||te(Ae,ne,ve))&&(Ne.push(Ae),Je&&_.push(He));return Ne}function Lo(G,_,te,ne,ve,Ae){return ne&&!ne[ge]&&(ne=Lo(ne)),ve&&!ve[ge]&&(ve=Lo(ve,Ae)),Er(function(Ne,He,Ie,Je){var Ke,Qe,et,We,yt=[],sr=[],$t=He.length,pr=Ne||Pc(_||"*",Ie.nodeType?[Ie]:Ie,[]),Ir=G&&(Ne||!_)?ci(pr,yt,G,Ie,Je):pr;if(te?(We=ve||(Ne?G:$t||ne)?[]:He,te(Ir,We,Ie,Je)):We=Ir,ne)for(Ke=ci(We,sr),ne(Ke,[],Ie,Je),Qe=Ke.length;Qe--;)(et=Ke[Qe])&&(We[sr[Qe]]=!(Ir[sr[Qe]]=et));if(Ne){if(ve||G){if(ve){for(Ke=[],Qe=We.length;Qe--;)(et=We[Qe])&&Ke.push(Ir[Qe]=et);ve(null,We=[],Ke,Je)}for(Qe=We.length;Qe--;)(et=We[Qe])&&(Ke=ve?u.call(Ne,et):yt[Qe])>-1&&(Ne[Ke]=!(He[Ke]=et))}}else We=ci(We===He?We.splice($t,We.length):We),ve?ve(null,He,We,Je):M.apply(He,We)})}function Ao(G){for(var _,te,ne,ve=G.length,Ae=y.relative[G[0].type],Ne=Ae||y.relative[" "],He=Ae?1:0,Ie=fi(function(Qe){return Qe===_},Ne,!0),Je=fi(function(Qe){return u.call(_,Qe)>-1},Ne,!0),Ke=[function(Qe,et,We){var yt=!Ae&&(We||et!=x)||((_=et).nodeType?Ie(Qe,et,We):Je(Qe,et,We));return _=null,yt}];He<ve;He++)if(te=y.relative[G[He].type])Ke=[fi(So(Ke),te)];else{if(te=y.filter[G[He].type].apply(null,G[He].matches),te[ge]){for(ne=++He;ne<ve&&!y.relative[G[ne].type];ne++);return Lo(He>1&&So(Ke),He>1&&li(G.slice(0,He-1).concat({value:G[He-2].type===" "?"*":""})).replace(k,"$1"),te,He<ne&&Ao(G.slice(He,ne)),ne<ve&&Ao(G=G.slice(ne)),ne<ve&&li(G))}Ke.push(te)}return So(Ke)}function kc(G,_){var te=_.length>0,ne=G.length>0,ve=function(Ae,Ne,He,Ie,Je){var Ke,Qe,et,We=0,yt="0",sr=Ae&&[],$t=[],pr=x,Ir=Ae||ne&&y.find.TAG("*",Je),Un=re+=pr==null?1:Math.random()||.1,rr=Ir.length;for(Je&&(x=Ne==R||Ne||Je);yt!==rr&&(Ke=Ir[yt])!=null;yt++){if(ne&&Ke){for(Qe=0,!Ne&&Ke.ownerDocument!=R&&(tn(Ke),He=!V);et=G[Qe++];)if(et(Ke,Ne||R,He)){M.call(Ie,Ke);break}Je&&(re=Un)}te&&((Ke=!et&&Ke)&&We--,Ae&&sr.push(Ke))}if(We+=yt,te&&yt!==We){for(Qe=0;et=_[Qe++];)et(sr,$t,Ne,He);if(Ae){if(We>0)for(;yt--;)sr[yt]||$t[yt]||($t[yt]=N.call(Ie));$t=ci($t)}M.apply(Ie,$t),Je&&!Ae&&$t.length>0&&We+_.length>1&&d.uniqueSort(Ie)}return Je&&(re=Un,x=pr),sr};return te?Er(ve):ve}function Oo(G,_){var te,ne=[],ve=[],Ae=je[G+" "];if(!Ae){for(_||(_=Ta(G)),te=_.length;te--;)Ae=Ao(_[te]),Ae[ge]?ne.push(Ae):ve.push(Ae);Ae=je(G,kc(ve,ne)),Ae.selector=G}return Ae}function Zs(G,_,te,ne){var ve,Ae,Ne,He,Ie,Je=typeof G=="function"&&G,Ke=!ne&&Ta(G=Je.selector||G);if(te=te||[],Ke.length===1){if(Ae=Ke[0]=Ke[0].slice(0),Ae.length>2&&(Ne=Ae[0]).type==="ID"&&_.nodeType===9&&V&&y.relative[Ae[1].type]){if(_=(y.find.ID(Ne.matches[0].replace(Ur,Vr),_)||[])[0],_)Je&&(_=_.parentNode);else return te;G=G.slice(Ae.shift().value.length)}for(ve=Nr.needsContext.test(G)?0:Ae.length;ve--&&(Ne=Ae[ve],!y.relative[He=Ne.type]);)if((Ie=y.find[He])&&(ne=Ie(Ne.matches[0].replace(Ur,Vr),Co.test(Ae[0].type)&&Do(_.parentNode)||_))){if(Ae.splice(ve,1),G=ne.length&&li(Ae),!G)return M.apply(te,ne),te;break}}return(Je||Oo(G,Ke))(ne,_,!V,te,!_||Co.test(G)&&Do(_.parentNode)||_),te}v.sortStable=ge.split("").sort(Mt).join("")===ge,tn(),v.sortDetached=Hn(function(G){return G.compareDocumentPosition(R.createElement("fieldset"))&1}),d.find=dt,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,dt.compile=Oo,dt.select=Zs,dt.setDocument=tn,dt.tokenize=Ta,dt.escape=d.escapeSelector,dt.getText=d.text,dt.isXML=d.isXMLDoc,dt.selectors=d.expr,dt.support=d.support,dt.uniqueSort=d.uniqueSort})();var W=function(c,y,x){for(var C=[],O=x!==void 0;(c=c[y])&&c.nodeType!==9;)if(c.nodeType===1){if(O&&d(c).is(x))break;C.push(c)}return C},Q=function(c,y){for(var x=[];c;c=c.nextSibling)c.nodeType===1&&c!==y&&x.push(c);return x},K=d.expr.match.needsContext,$=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ee(c,y,x){return m(y)?d.grep(c,function(C,O){return!!y.call(C,O,C)!==x}):y.nodeType?d.grep(c,function(C){return C===y!==x}):typeof y!="string"?d.grep(c,function(C){return u.call(y,C)>-1!==x}):d.filter(y,c,x)}d.filter=function(c,y,x){var C=y[0];return x&&(c=":not("+c+")"),y.length===1&&C.nodeType===1?d.find.matchesSelector(C,c)?[C]:[]:d.find.matches(c,d.grep(y,function(O){return O.nodeType===1}))},d.fn.extend({find:function(c){var y,x,C=this.length,O=this;if(typeof c!="string")return this.pushStack(d(c).filter(function(){for(y=0;y<C;y++)if(d.contains(O[y],this))return!0}));for(x=this.pushStack([]),y=0;y<C;y++)d.find(c,O[y],x);return C>1?d.uniqueSort(x):x},filter:function(c){return this.pushStack(ee(this,c||[],!1))},not:function(c){return this.pushStack(ee(this,c||[],!0))},is:function(c){return!!ee(this,typeof c=="string"&&K.test(c)?d(c):c||[],!1).length}});var oe,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,de=d.fn.init=function(c,y,x){var C,O;if(!c)return this;if(x=x||oe,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?C=[null,c,null]:C=ce.exec(c),C&&(C[1]||!y))if(C[1]){if(y=y instanceof d?y[0]:y,d.merge(this,d.parseHTML(C[1],y&&y.nodeType?y.ownerDocument||y:b,!0)),$.test(C[1])&&d.isPlainObject(y))for(C in y)m(this[C])?this[C](y[C]):this.attr(C,y[C]);return this}else return O=b.getElementById(C[2]),O&&(this[0]=O,this.length=1),this;else return!y||y.jquery?(y||x).find(c):this.constructor(y).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(m(c))return x.ready!==void 0?x.ready(c):c(d)}return d.makeArray(c,this)};de.prototype=d.fn,oe=d(b);var we=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var y=d(c,this),x=y.length;return this.filter(function(){for(var C=0;C<x;C++)if(d.contains(this,y[C]))return!0})},closest:function(c,y){var x,C=0,O=this.length,M=[],R=typeof c!="string"&&d(c);if(!K.test(c)){for(;C<O;C++)for(x=this[C];x&&x!==y;x=x.parentNode)if(x.nodeType<11&&(R?R.index(x)>-1:x.nodeType===1&&d.find.matchesSelector(x,c))){M.push(x);break}}return this.pushStack(M.length>1?d.uniqueSort(M):M)},index:function(c){return c?typeof c=="string"?u.call(d(c),this[0]):u.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,y){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(c,y))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function j(c,y){for(;(c=c[y])&&c.nodeType!==1;);return c}d.each({parent:function(c){var y=c.parentNode;return y&&y.nodeType!==11?y:null},parents:function(c){return W(c,"parentNode")},parentsUntil:function(c,y,x){return W(c,"parentNode",x)},next:function(c){return j(c,"nextSibling")},prev:function(c){return j(c,"previousSibling")},nextAll:function(c){return W(c,"nextSibling")},prevAll:function(c){return W(c,"previousSibling")},nextUntil:function(c,y,x){return W(c,"nextSibling",x)},prevUntil:function(c,y,x){return W(c,"previousSibling",x)},siblings:function(c){return Q((c.parentNode||{}).firstChild,c)},children:function(c){return Q(c.firstChild)},contents:function(c){return c.contentDocument!=null&&a(c.contentDocument)?c.contentDocument:(D(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,y){d.fn[c]=function(x,C){var O=d.map(this,y,x);return c.slice(-5)!=="Until"&&(C=x),C&&typeof C=="string"&&(O=d.filter(C,O)),this.length>1&&(fe[c]||d.uniqueSort(O),we.test(c)&&O.reverse()),this.pushStack(O)}});var ae=/[^\x20\t\r\n\f]+/g;function he(c){var y={};return d.each(c.match(ae)||[],function(x,C){y[C]=!0}),y}d.Callbacks=function(c){c=typeof c=="string"?he(c):d.extend({},c);var y,x,C,O,M=[],R=[],Y=-1,V=function(){for(O=O||c.once,C=y=!0;R.length;Y=-1)for(x=R.shift();++Y<M.length;)M[Y].apply(x[0],x[1])===!1&&c.stopOnFalse&&(Y=M.length,x=!1);c.memory||(x=!1),y=!1,O&&(x?M=[]:M="")},Z={add:function(){return M&&(x&&!y&&(Y=M.length-1,R.push(x)),function ie(ge){d.each(ge,function(re,Te){m(Te)?(!c.unique||!Z.has(Te))&&M.push(Te):Te&&Te.length&&S(Te)!=="string"&&ie(Te)})}(arguments),x&&!y&&V()),this},remove:function(){return d.each(arguments,function(ie,ge){for(var re;(re=d.inArray(ge,M,re))>-1;)M.splice(re,1),re<=Y&&Y--}),this},has:function(ie){return ie?d.inArray(ie,M)>-1:M.length>0},empty:function(){return M&&(M=[]),this},disable:function(){return O=R=[],M=x="",this},disabled:function(){return!M},lock:function(){return O=R=[],!x&&!y&&(M=x=""),this},locked:function(){return!!O},fireWith:function(ie,ge){return O||(ge=ge||[],ge=[ie,ge.slice?ge.slice():ge],R.push(ge),y||V()),this},fire:function(){return Z.fireWith(this,arguments),this},fired:function(){return!!C}};return Z};function Le(c){return c}function Fe(c){throw c}function Ce(c,y,x,C){var O;try{c&&m(O=c.promise)?O.call(c).done(y).fail(x):c&&m(O=c.then)?O.call(c,y,x):y.apply(void 0,[c].slice(C))}catch(M){x.apply(void 0,[M])}}d.extend({Deferred:function(c){var y=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],x="pending",C={state:function(){return x},always:function(){return O.done(arguments).fail(arguments),this},catch:function(M){return C.then(null,M)},pipe:function(){var M=arguments;return d.Deferred(function(R){d.each(y,function(Y,V){var Z=m(M[V[4]])&&M[V[4]];O[V[1]](function(){var ie=Z&&Z.apply(this,arguments);ie&&m(ie.promise)?ie.promise().progress(R.notify).done(R.resolve).fail(R.reject):R[V[0]+"With"](this,Z?[ie]:arguments)})}),M=null}).promise()},then:function(M,R,Y){var V=0;function Z(ie,ge,re,Te){return function(){var Ze=this,rt=arguments,je=function(){var Mt,Ar;if(!(ie<V)){if(Mt=re.apply(Ze,rt),Mt===ge.promise())throw new TypeError("Thenable self-resolution");Ar=Mt&&(typeof Mt=="object"||typeof Mt=="function")&&Mt.then,m(Ar)?Te?Ar.call(Mt,Z(V,ge,Le,Te),Z(V,ge,Fe,Te)):(V++,Ar.call(Mt,Z(V,ge,Le,Te),Z(V,ge,Fe,Te),Z(V,ge,Le,ge.notifyWith))):(re!==Le&&(Ze=void 0,rt=[Mt]),(Te||ge.resolveWith)(Ze,rt))}},Ht=Te?je:function(){try{je()}catch(Mt){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Mt,Ht.error),ie+1>=V&&(re!==Fe&&(Ze=void 0,rt=[Mt]),ge.rejectWith(Ze,rt))}};ie?Ht():(d.Deferred.getErrorHook?Ht.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Ht.error=d.Deferred.getStackHook()),e.setTimeout(Ht))}}return d.Deferred(function(ie){y[0][3].add(Z(0,ie,m(Y)?Y:Le,ie.notifyWith)),y[1][3].add(Z(0,ie,m(M)?M:Le)),y[2][3].add(Z(0,ie,m(R)?R:Fe))}).promise()},promise:function(M){return M!=null?d.extend(M,C):C}},O={};return d.each(y,function(M,R){var Y=R[2],V=R[5];C[R[1]]=Y.add,V&&Y.add(function(){x=V},y[3-M][2].disable,y[3-M][3].disable,y[0][2].lock,y[0][3].lock),Y.add(R[3].fire),O[R[0]]=function(){return O[R[0]+"With"](this===O?void 0:this,arguments),this},O[R[0]+"With"]=Y.fireWith}),C.promise(O),c&&c.call(O,O),O},when:function(c){var y=arguments.length,x=y,C=Array(x),O=o.call(arguments),M=d.Deferred(),R=function(Y){return function(V){C[Y]=this,O[Y]=arguments.length>1?o.call(arguments):V,--y||M.resolveWith(C,O)}};if(y<=1&&(Ce(c,M.done(R(x)).resolve,M.reject,!y),M.state()==="pending"||m(O[x]&&O[x].then)))return M.then();for(;x--;)Ce(O[x],R(x),M.reject);return M.promise()}});var pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,y){e.console&&e.console.warn&&c&&pe.test(c.name)&&e.console.warn("jQuery.Deferred exception: "+c.message,c.stack,y)},d.readyException=function(c){e.setTimeout(function(){throw c})};var be=d.Deferred();d.fn.ready=function(c){return be.then(c).catch(function(y){d.readyException(y)}),this},d.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(c!==!0&&--d.readyWait>0)&&be.resolveWith(b,[d]))}}),d.ready.then=be.then;function De(){b.removeEventListener("DOMContentLoaded",De),e.removeEventListener("load",De),d.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(d.ready):(b.addEventListener("DOMContentLoaded",De),e.addEventListener("load",De));var Ee=function(c,y,x,C,O,M,R){var Y=0,V=c.length,Z=x==null;if(S(x)==="object"){O=!0;for(Y in x)Ee(c,y,Y,x[Y],!0,M,R)}else if(C!==void 0&&(O=!0,m(C)||(R=!0),Z&&(R?(y.call(c,C),y=null):(Z=y,y=function(ie,ge,re){return Z.call(d(ie),re)})),y))for(;Y<V;Y++)y(c[Y],x,R?C:C.call(c[Y],Y,y(c[Y],x)));return O?c:Z?y.call(c):V?y(c[0],x):M},Me=/^-ms-/,Xe=/-([a-z])/g;function Ye(c,y){return y.toUpperCase()}function Re(c){return c.replace(Me,"ms-").replace(Xe,Ye)}var Ue=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function me(){this.expando=d.expando+me.uid++}me.uid=1,me.prototype={cache:function(c){var y=c[this.expando];return y||(y={},Ue(c)&&(c.nodeType?c[this.expando]=y:Object.defineProperty(c,this.expando,{value:y,configurable:!0}))),y},set:function(c,y,x){var C,O=this.cache(c);if(typeof y=="string")O[Re(y)]=x;else for(C in y)O[Re(C)]=y[C];return O},get:function(c,y){return y===void 0?this.cache(c):c[this.expando]&&c[this.expando][Re(y)]},access:function(c,y,x){return y===void 0||y&&typeof y=="string"&&x===void 0?this.get(c,y):(this.set(c,y,x),x!==void 0?x:y)},remove:function(c,y){var x,C=c[this.expando];if(C!==void 0){if(y!==void 0)for(Array.isArray(y)?y=y.map(Re):(y=Re(y),y=y in C?[y]:y.match(ae)||[]),x=y.length;x--;)delete C[y[x]];(y===void 0||d.isEmptyObject(C))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var y=c[this.expando];return y!==void 0&&!d.isEmptyObject(y)}};var B=new me,J=new me,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function se(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:ye.test(c)?JSON.parse(c):c}function Se(c,y,x){var C;if(x===void 0&&c.nodeType===1)if(C="data-"+y.replace(ue,"-$&").toLowerCase(),x=c.getAttribute(C),typeof x=="string"){try{x=se(x)}catch{}J.set(c,y,x)}else x=void 0;return x}d.extend({hasData:function(c){return J.hasData(c)||B.hasData(c)},data:function(c,y,x){return J.access(c,y,x)},removeData:function(c,y){J.remove(c,y)},_data:function(c,y,x){return B.access(c,y,x)},_removeData:function(c,y){B.remove(c,y)}}),d.fn.extend({data:function(c,y){var x,C,O,M=this[0],R=M&&M.attributes;if(c===void 0){if(this.length&&(O=J.get(M),M.nodeType===1&&!B.get(M,"hasDataAttrs"))){for(x=R.length;x--;)R[x]&&(C=R[x].name,C.indexOf("data-")===0&&(C=Re(C.slice(5)),Se(M,C,O[C])));B.set(M,"hasDataAttrs",!0)}return O}return typeof c=="object"?this.each(function(){J.set(this,c)}):Ee(this,function(Y){var V;if(M&&Y===void 0)return V=J.get(M,c),V!==void 0||(V=Se(M,c),V!==void 0)?V:void 0;this.each(function(){J.set(this,c,Y)})},null,y,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){J.remove(this,c)})}}),d.extend({queue:function(c,y,x){var C;if(c)return y=(y||"fx")+"queue",C=B.get(c,y),x&&(!C||Array.isArray(x)?C=B.access(c,y,d.makeArray(x)):C.push(x)),C||[]},dequeue:function(c,y){y=y||"fx";var x=d.queue(c,y),C=x.length,O=x.shift(),M=d._queueHooks(c,y),R=function(){d.dequeue(c,y)};O==="inprogress"&&(O=x.shift(),C--),O&&(y==="fx"&&x.unshift("inprogress"),delete M.stop,O.call(c,R,M)),!C&&M&&M.empty.fire()},_queueHooks:function(c,y){var x=y+"queueHooks";return B.get(c,x)||B.access(c,x,{empty:d.Callbacks("once memory").add(function(){B.remove(c,[y+"queue",x])})})}}),d.fn.extend({queue:function(c,y){var x=2;return typeof c!="string"&&(y=c,c="fx",x--),arguments.length<x?d.queue(this[0],c):y===void 0?this:this.each(function(){var C=d.queue(this,c,y);d._queueHooks(this,c),c==="fx"&&C[0]!=="inprogress"&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,y){var x,C=1,O=d.Deferred(),M=this,R=this.length,Y=function(){--C||O.resolveWith(M,[M])};for(typeof c!="string"&&(y=c,c=void 0),c=c||"fx";R--;)x=B.get(M[R],c+"queueHooks"),x&&x.empty&&(C++,x.empty.add(Y));return Y(),O.promise(y)}});var le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=new RegExp("^(?:([+-])=|)("+le+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],Ge=b.documentElement,Pe=function(c){return d.contains(c.ownerDocument,c)},$e={composed:!0};Ge.getRootNode&&(Pe=function(c){return d.contains(c.ownerDocument,c)||c.getRootNode($e)===c.ownerDocument});var ke=function(c,y){return c=y||c,c.style.display==="none"||c.style.display===""&&Pe(c)&&d.css(c,"display")==="none"};function Ve(c,y,x,C){var O,M,R=20,Y=C?function(){return C.cur()}:function(){return d.css(c,y,"")},V=Y(),Z=x&&x[3]||(d.cssNumber[y]?"":"px"),ie=c.nodeType&&(d.cssNumber[y]||Z!=="px"&&+V)&&xe.exec(d.css(c,y));if(ie&&ie[3]!==Z){for(V=V/2,Z=Z||ie[3],ie=+V||1;R--;)d.style(c,y,ie+Z),(1-M)*(1-(M=Y()/V||.5))<=0&&(R=0),ie=ie/M;ie=ie*2,d.style(c,y,ie+Z),x=x||[]}return x&&(ie=+ie||+V||0,O=x[1]?ie+(x[1]+1)*x[2]:+x[2],C&&(C.unit=Z,C.start=ie,C.end=O)),O}var gt={};function ht(c){var y,x=c.ownerDocument,C=c.nodeName,O=gt[C];return O||(y=x.body.appendChild(x.createElement(C)),O=d.css(y,"display"),y.parentNode.removeChild(y),O==="none"&&(O="block"),gt[C]=O,O)}function Dt(c,y){for(var x,C,O=[],M=0,R=c.length;M<R;M++)C=c[M],C.style&&(x=C.style.display,y?(x==="none"&&(O[M]=B.get(C,"display")||null,O[M]||(C.style.display="")),C.style.display===""&&ke(C)&&(O[M]=ht(C))):x!=="none"&&(O[M]="none",B.set(C,"display",x)));for(M=0;M<R;M++)O[M]!=null&&(c[M].style.display=O[M]);return c}d.fn.extend({show:function(){return Dt(this,!0)},hide:function(){return Dt(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){ke(this)?d(this).show():d(this).hide()})}});var Et=/^(?:checkbox|radio)$/i,St=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,zt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=b.createDocumentFragment(),y=c.appendChild(b.createElement("div")),x=b.createElement("input");x.setAttribute("type","radio"),x.setAttribute("checked","checked"),x.setAttribute("name","t"),y.appendChild(x),v.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",v.option=!!y.lastChild})();var ut={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td,v.option||(ut.optgroup=ut.option=[1,"<select multiple='multiple'>","</select>"]);function lt(c,y){var x;return typeof c.getElementsByTagName<"u"?x=c.getElementsByTagName(y||"*"):typeof c.querySelectorAll<"u"?x=c.querySelectorAll(y||"*"):x=[],y===void 0||y&&D(c,y)?d.merge([c],x):x}function er(c,y){for(var x=0,C=c.length;x<C;x++)B.set(c[x],"globalEval",!y||B.get(y[x],"globalEval"))}var ar=/<|&#?\w+;/;function Gt(c,y,x,C,O){for(var M,R,Y,V,Z,ie,ge=y.createDocumentFragment(),re=[],Te=0,Ze=c.length;Te<Ze;Te++)if(M=c[Te],M||M===0)if(S(M)==="object")d.merge(re,M.nodeType?[M]:M);else if(!ar.test(M))re.push(y.createTextNode(M));else{for(R=R||ge.appendChild(y.createElement("div")),Y=(St.exec(M)||["",""])[1].toLowerCase(),V=ut[Y]||ut._default,R.innerHTML=V[1]+d.htmlPrefilter(M)+V[2],ie=V[0];ie--;)R=R.lastChild;d.merge(re,R.childNodes),R=ge.firstChild,R.textContent=""}for(ge.textContent="",Te=0;M=re[Te++];){if(C&&d.inArray(M,C)>-1){O&&O.push(M);continue}if(Z=Pe(M),R=lt(ge.appendChild(M),"script"),Z&&er(R),x)for(ie=0;M=R[ie++];)zt.test(M.type||"")&&x.push(M)}return ge}var cr=/^([^.]*)(?:\.(.+)|)/;function _t(){return!0}function Rt(){return!1}function xt(c,y,x,C,O,M){var R,Y;if(typeof y=="object"){typeof x!="string"&&(C=C||x,x=void 0);for(Y in y)xt(c,Y,x,C,y[Y],M);return c}if(C==null&&O==null?(O=x,C=x=void 0):O==null&&(typeof x=="string"?(O=C,C=void 0):(O=C,C=x,x=void 0)),O===!1)O=Rt;else if(!O)return c;return M===1&&(R=O,O=function(V){return d().off(V),R.apply(this,arguments)},O.guid=R.guid||(R.guid=d.guid++)),c.each(function(){d.event.add(this,y,O,C,x)})}d.event={global:{},add:function(c,y,x,C,O){var M,R,Y,V,Z,ie,ge,re,Te,Ze,rt,je=B.get(c);if(Ue(c))for(x.handler&&(M=x,x=M.handler,O=M.selector),O&&d.find.matchesSelector(Ge,O),x.guid||(x.guid=d.guid++),(V=je.events)||(V=je.events=Object.create(null)),(R=je.handle)||(R=je.handle=function(Ht){return typeof d<"u"&&d.event.triggered!==Ht.type?d.event.dispatch.apply(c,arguments):void 0}),y=(y||"").match(ae)||[""],Z=y.length;Z--;)Y=cr.exec(y[Z])||[],Te=rt=Y[1],Ze=(Y[2]||"").split(".").sort(),Te&&(ge=d.event.special[Te]||{},Te=(O?ge.delegateType:ge.bindType)||Te,ge=d.event.special[Te]||{},ie=d.extend({type:Te,origType:rt,data:C,handler:x,guid:x.guid,selector:O,needsContext:O&&d.expr.match.needsContext.test(O),namespace:Ze.join(".")},M),(re=V[Te])||(re=V[Te]=[],re.delegateCount=0,(!ge.setup||ge.setup.call(c,C,Ze,R)===!1)&&c.addEventListener&&c.addEventListener(Te,R)),ge.add&&(ge.add.call(c,ie),ie.handler.guid||(ie.handler.guid=x.guid)),O?re.splice(re.delegateCount++,0,ie):re.push(ie),d.event.global[Te]=!0)},remove:function(c,y,x,C,O){var M,R,Y,V,Z,ie,ge,re,Te,Ze,rt,je=B.hasData(c)&&B.get(c);if(!(!je||!(V=je.events))){for(y=(y||"").match(ae)||[""],Z=y.length;Z--;){if(Y=cr.exec(y[Z])||[],Te=rt=Y[1],Ze=(Y[2]||"").split(".").sort(),!Te){for(Te in V)d.event.remove(c,Te+y[Z],x,C,!0);continue}for(ge=d.event.special[Te]||{},Te=(C?ge.delegateType:ge.bindType)||Te,re=V[Te]||[],Y=Y[2]&&new RegExp("(^|\\.)"+Ze.join("\\.(?:.*\\.|)")+"(\\.|$)"),R=M=re.length;M--;)ie=re[M],(O||rt===ie.origType)&&(!x||x.guid===ie.guid)&&(!Y||Y.test(ie.namespace))&&(!C||C===ie.selector||C==="**"&&ie.selector)&&(re.splice(M,1),ie.selector&&re.delegateCount--,ge.remove&&ge.remove.call(c,ie));R&&!re.length&&((!ge.teardown||ge.teardown.call(c,Ze,je.handle)===!1)&&d.removeEvent(c,Te,je.handle),delete V[Te])}d.isEmptyObject(V)&&B.remove(c,"handle events")}},dispatch:function(c){var y,x,C,O,M,R,Y=new Array(arguments.length),V=d.event.fix(c),Z=(B.get(this,"events")||Object.create(null))[V.type]||[],ie=d.event.special[V.type]||{};for(Y[0]=V,y=1;y<arguments.length;y++)Y[y]=arguments[y];if(V.delegateTarget=this,!(ie.preDispatch&&ie.preDispatch.call(this,V)===!1)){for(R=d.event.handlers.call(this,V,Z),y=0;(O=R[y++])&&!V.isPropagationStopped();)for(V.currentTarget=O.elem,x=0;(M=O.handlers[x++])&&!V.isImmediatePropagationStopped();)(!V.rnamespace||M.namespace===!1||V.rnamespace.test(M.namespace))&&(V.handleObj=M,V.data=M.data,C=((d.event.special[M.origType]||{}).handle||M.handler).apply(O.elem,Y),C!==void 0&&(V.result=C)===!1&&(V.preventDefault(),V.stopPropagation()));return ie.postDispatch&&ie.postDispatch.call(this,V),V.result}},handlers:function(c,y){var x,C,O,M,R,Y=[],V=y.delegateCount,Z=c.target;if(V&&Z.nodeType&&!(c.type==="click"&&c.button>=1)){for(;Z!==this;Z=Z.parentNode||this)if(Z.nodeType===1&&!(c.type==="click"&&Z.disabled===!0)){for(M=[],R={},x=0;x<V;x++)C=y[x],O=C.selector+" ",R[O]===void 0&&(R[O]=C.needsContext?d(O,this).index(Z)>-1:d.find(O,this,null,[Z]).length),R[O]&&M.push(C);M.length&&Y.push({elem:Z,handlers:M})}}return Z=this,V<y.length&&Y.push({elem:Z,handlers:y.slice(V)}),Y},addProp:function(c,y){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:m(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(x){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:x})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var y=this||c;return Et.test(y.type)&&y.click&&D(y,"input")&&Tt(y,"click",!0),!1},trigger:function(c){var y=this||c;return Et.test(y.type)&&y.click&&D(y,"input")&&Tt(y,"click"),!0},_default:function(c){var y=c.target;return Et.test(y.type)&&y.click&&D(y,"input")&&B.get(y,"click")||D(y,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Tt(c,y,x){if(!x){B.get(c,y)===void 0&&d.event.add(c,y,_t);return}B.set(c,y,!1),d.event.add(c,y,{namespace:!1,handler:function(C){var O,M=B.get(this,y);if(C.isTrigger&1&&this[y]){if(M)(d.event.special[y]||{}).delegateType&&C.stopPropagation();else if(M=o.call(arguments),B.set(this,y,M),this[y](),O=B.get(this,y),B.set(this,y,!1),M!==O)return C.stopImmediatePropagation(),C.preventDefault(),O}else M&&(B.set(this,y,d.event.trigger(M[0],M.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=_t)}})}d.removeEvent=function(c,y,x){c.removeEventListener&&c.removeEventListener(y,x)},d.Event=function(c,y){if(!(this instanceof d.Event))return new d.Event(c,y);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?_t:Rt,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,y&&d.extend(this,y),this.timeStamp=c&&c.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=_t,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=_t,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=_t,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(c,y){function x(C){if(b.documentMode){var O=B.get(this,"handle"),M=d.event.fix(C);M.type=C.type==="focusin"?"focus":"blur",M.isSimulated=!0,O(C),M.target===M.currentTarget&&O(M)}else d.event.simulate(y,C.target,d.event.fix(C))}d.event.special[c]={setup:function(){var C;if(Tt(this,c,!0),b.documentMode)C=B.get(this,y),C||this.addEventListener(y,x),B.set(this,y,(C||0)+1);else return!1},trigger:function(){return Tt(this,c),!0},teardown:function(){var C;if(b.documentMode)C=B.get(this,y)-1,C?B.set(this,y,C):(this.removeEventListener(y,x),B.remove(this,y));else return!1},_default:function(C){return B.get(C.target,c)},delegateType:y},d.event.special[y]={setup:function(){var C=this.ownerDocument||this.document||this,O=b.documentMode?this:C,M=B.get(O,y);M||(b.documentMode?this.addEventListener(y,x):C.addEventListener(c,x,!0)),B.set(O,y,(M||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,O=b.documentMode?this:C,M=B.get(O,y)-1;M?B.set(O,y,M):(b.documentMode?this.removeEventListener(y,x):C.removeEventListener(c,x,!0),B.remove(O,y))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,y){d.event.special[c]={delegateType:y,bindType:y,handle:function(x){var C,O=this,M=x.relatedTarget,R=x.handleObj;return(!M||M!==O&&!d.contains(O,M))&&(x.type=R.origType,C=R.handler.apply(this,arguments),x.type=y),C}}}),d.fn.extend({on:function(c,y,x,C){return xt(this,c,y,x,C)},one:function(c,y,x,C){return xt(this,c,y,x,C,1)},off:function(c,y,x){var C,O;if(c&&c.preventDefault&&c.handleObj)return C=c.handleObj,d(c.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(typeof c=="object"){for(O in c)this.off(O,y,c[O]);return this}return(y===!1||typeof y=="function")&&(x=y,y=void 0),x===!1&&(x=Rt),this.each(function(){d.event.remove(this,c,x,y)})}});var Bt=/<script|<style|<link/i,Kr=/checked\s*(?:[^=]|=\s*.checked.)/i,vr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ga(c,y){return D(c,"table")&&D(y.nodeType!==11?y:y.firstChild,"tr")&&d(c).children("tbody")[0]||c}function lo(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function fo(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function ri(c,y){var x,C,O,M,R,Y,V;if(y.nodeType===1){if(B.hasData(c)&&(M=B.get(c),V=M.events,V)){B.remove(y,"handle events");for(O in V)for(x=0,C=V[O].length;x<C;x++)d.event.add(y,O,V[O][x])}J.hasData(c)&&(R=J.access(c),Y=d.extend({},R),J.set(y,Y))}}function co(c,y){var x=y.nodeName.toLowerCase();x==="input"&&Et.test(c.type)?y.checked=c.checked:(x==="input"||x==="textarea")&&(y.defaultValue=c.defaultValue)}function Zr(c,y,x,C){y=i(y);var O,M,R,Y,V,Z,ie=0,ge=c.length,re=ge-1,Te=y[0],Ze=m(Te);if(Ze||ge>1&&typeof Te=="string"&&!v.checkClone&&Kr.test(Te))return c.each(function(rt){var je=c.eq(rt);Ze&&(y[0]=Te.call(this,rt,je.html())),Zr(je,y,x,C)});if(ge&&(O=Gt(y,c[0].ownerDocument,!1,c,C),M=O.firstChild,O.childNodes.length===1&&(O=M),M||C)){for(R=d.map(lt(O,"script"),lo),Y=R.length;ie<ge;ie++)V=O,ie!==re&&(V=d.clone(V,!0,!0),Y&&d.merge(R,lt(V,"script"))),x.call(c[ie],V,ie);if(Y)for(Z=R[R.length-1].ownerDocument,d.map(R,fo),ie=0;ie<Y;ie++)V=R[ie],zt.test(V.type||"")&&!B.access(V,"globalEval")&&d.contains(Z,V)&&(V.src&&(V.type||"").toLowerCase()!=="module"?d._evalUrl&&!V.noModule&&d._evalUrl(V.src,{nonce:V.nonce||V.getAttribute("nonce")},Z):E(V.textContent.replace(vr,""),V,Z))}return c}function ni(c,y,x){for(var C,O=y?d.filter(y,c):c,M=0;(C=O[M])!=null;M++)!x&&C.nodeType===1&&d.cleanData(lt(C)),C.parentNode&&(x&&Pe(C)&&er(lt(C,"script")),C.parentNode.removeChild(C));return c}d.extend({htmlPrefilter:function(c){return c},clone:function(c,y,x){var C,O,M,R,Y=c.cloneNode(!0),V=Pe(c);if(!v.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!d.isXMLDoc(c))for(R=lt(Y),M=lt(c),C=0,O=M.length;C<O;C++)co(M[C],R[C]);if(y)if(x)for(M=M||lt(c),R=R||lt(Y),C=0,O=M.length;C<O;C++)ri(M[C],R[C]);else ri(c,Y);return R=lt(Y,"script"),R.length>0&&er(R,!V&&lt(c,"script")),Y},cleanData:function(c){for(var y,x,C,O=d.event.special,M=0;(x=c[M])!==void 0;M++)if(Ue(x)){if(y=x[B.expando]){if(y.events)for(C in y.events)O[C]?d.event.remove(x,C):d.removeEvent(x,C,y.handle);x[B.expando]=void 0}x[J.expando]&&(x[J.expando]=void 0)}}}),d.fn.extend({detach:function(c){return ni(this,c,!0)},remove:function(c){return ni(this,c)},text:function(c){return Ee(this,function(y){return y===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=y)})},null,c,arguments.length)},append:function(){return Zr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=ga(this,c);y.appendChild(c)}})},prepend:function(){return Zr(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=ga(this,c);y.insertBefore(c,y.firstChild)}})},before:function(){return Zr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Zr(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,y=0;(c=this[y])!=null;y++)c.nodeType===1&&(d.cleanData(lt(c,!1)),c.textContent="");return this},clone:function(c,y){return c=c??!1,y=y??c,this.map(function(){return d.clone(this,c,y)})},html:function(c){return Ee(this,function(y){var x=this[0]||{},C=0,O=this.length;if(y===void 0&&x.nodeType===1)return x.innerHTML;if(typeof y=="string"&&!Bt.test(y)&&!ut[(St.exec(y)||["",""])[1].toLowerCase()]){y=d.htmlPrefilter(y);try{for(;C<O;C++)x=this[C]||{},x.nodeType===1&&(d.cleanData(lt(x,!1)),x.innerHTML=y);x=0}catch{}}x&&this.empty().append(y)},null,c,arguments.length)},replaceWith:function(){var c=[];return Zr(this,arguments,function(y){var x=this.parentNode;d.inArray(this,c)<0&&(d.cleanData(lt(this)),x&&x.replaceChild(y,this))},c)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,y){d.fn[c]=function(x){for(var C,O=[],M=d(x),R=M.length-1,Y=0;Y<=R;Y++)C=Y===R?this:this.clone(!0),d(M[Y])[y](C),s.apply(O,C.get());return this.pushStack(O)}});var pa=new RegExp("^("+le+")(?!px)[a-z%]+$","i"),Hr=/^--/,Qr=function(c){var y=c.ownerDocument.defaultView;return(!y||!y.opener)&&(y=e),y.getComputedStyle(c)},yn=function(c,y,x){var C,O,M={};for(O in y)M[O]=c.style[O],c.style[O]=y[O];C=x.call(c);for(O in y)c.style[O]=M[O];return C},ai=new RegExp(ze.join("|"),"i");(function(){function c(){if(Z){V.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Z.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ge.appendChild(V).appendChild(Z);var ie=e.getComputedStyle(Z);x=ie.top!=="1%",Y=y(ie.marginLeft)===12,Z.style.right="60%",M=y(ie.right)===36,C=y(ie.width)===36,Z.style.position="absolute",O=y(Z.offsetWidth/3)===12,Ge.removeChild(V),Z=null}}function y(ie){return Math.round(parseFloat(ie))}var x,C,O,M,R,Y,V=b.createElement("div"),Z=b.createElement("div");Z.style&&(Z.style.backgroundClip="content-box",Z.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle=Z.style.backgroundClip==="content-box",d.extend(v,{boxSizingReliable:function(){return c(),C},pixelBoxStyles:function(){return c(),M},pixelPosition:function(){return c(),x},reliableMarginLeft:function(){return c(),Y},scrollboxSize:function(){return c(),O},reliableTrDimensions:function(){var ie,ge,re,Te;return R==null&&(ie=b.createElement("table"),ge=b.createElement("tr"),re=b.createElement("div"),ie.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ge.style.cssText="box-sizing:content-box;border:1px solid",ge.style.height="1px",re.style.height="9px",re.style.display="block",Ge.appendChild(ie).appendChild(ge).appendChild(re),Te=e.getComputedStyle(ge),R=parseInt(Te.height,10)+parseInt(Te.borderTopWidth,10)+parseInt(Te.borderBottomWidth,10)===ge.offsetHeight,Ge.removeChild(ie)),R}}))})();function jr(c,y,x){var C,O,M,R,Y=Hr.test(y),V=c.style;return x=x||Qr(c),x&&(R=x.getPropertyValue(y)||x[y],Y&&R&&(R=R.replace(k,"$1")||void 0),R===""&&!Pe(c)&&(R=d.style(c,y)),!v.pixelBoxStyles()&&pa.test(R)&&ai.test(y)&&(C=V.width,O=V.minWidth,M=V.maxWidth,V.minWidth=V.maxWidth=V.width=R,R=x.width,V.width=C,V.minWidth=O,V.maxWidth=M)),R!==void 0?R+"":R}function ii(c,y){return{get:function(){if(c()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var ir=["Webkit","Moz","ms"],zn=b.createElement("div").style,ya={};function mn(c){for(var y=c[0].toUpperCase()+c.slice(1),x=ir.length;x--;)if(c=ir[x]+y,c in zn)return c}function tr(c){var y=d.cssProps[c]||ya[c];return y||(c in zn?c:ya[c]=mn(c)||c)}var ho=/^(none|table(?!-c[ea]).+)/,ac={position:"absolute",visibility:"hidden",display:"block"},Ps={letterSpacing:"0",fontWeight:"400"};function ks(c,y,x){var C=xe.exec(y);return C?Math.max(0,C[2]-(x||0))+(C[3]||"px"):y}function vo(c,y,x,C,O,M){var R=y==="width"?1:0,Y=0,V=0,Z=0;if(x===(C?"border":"content"))return 0;for(;R<4;R+=2)x==="margin"&&(Z+=d.css(c,x+ze[R],!0,O)),C?(x==="content"&&(V-=d.css(c,"padding"+ze[R],!0,O)),x!=="margin"&&(V-=d.css(c,"border"+ze[R]+"Width",!0,O))):(V+=d.css(c,"padding"+ze[R],!0,O),x!=="padding"?V+=d.css(c,"border"+ze[R]+"Width",!0,O):Y+=d.css(c,"border"+ze[R]+"Width",!0,O));return!C&&M>=0&&(V+=Math.max(0,Math.ceil(c["offset"+y[0].toUpperCase()+y.slice(1)]-M-V-Y-.5))||0),V+Z}function Rs(c,y,x){var C=Qr(c),O=!v.boxSizingReliable()||x,M=O&&d.css(c,"boxSizing",!1,C)==="border-box",R=M,Y=jr(c,y,C),V="offset"+y[0].toUpperCase()+y.slice(1);if(pa.test(Y)){if(!x)return Y;Y="auto"}return(!v.boxSizingReliable()&&M||!v.reliableTrDimensions()&&D(c,"tr")||Y==="auto"||!parseFloat(Y)&&d.css(c,"display",!1,C)==="inline")&&c.getClientRects().length&&(M=d.css(c,"boxSizing",!1,C)==="border-box",R=V in c,R&&(Y=c[V])),Y=parseFloat(Y)||0,Y+vo(c,y,x||(M?"border":"content"),R,C,Y)+"px"}d.extend({cssHooks:{opacity:{get:function(c,y){if(y){var x=jr(c,"opacity");return x===""?"1":x}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,y,x,C){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var O,M,R,Y=Re(y),V=Hr.test(y),Z=c.style;if(V||(y=tr(Y)),R=d.cssHooks[y]||d.cssHooks[Y],x!==void 0){if(M=typeof x,M==="string"&&(O=xe.exec(x))&&O[1]&&(x=Ve(c,y,O),M="number"),x==null||x!==x)return;M==="number"&&!V&&(x+=O&&O[3]||(d.cssNumber[Y]?"":"px")),!v.clearCloneStyle&&x===""&&y.indexOf("background")===0&&(Z[y]="inherit"),(!R||!("set"in R)||(x=R.set(c,x,C))!==void 0)&&(V?Z.setProperty(y,x):Z[y]=x)}else return R&&"get"in R&&(O=R.get(c,!1,C))!==void 0?O:Z[y]}},css:function(c,y,x,C){var O,M,R,Y=Re(y),V=Hr.test(y);return V||(y=tr(Y)),R=d.cssHooks[y]||d.cssHooks[Y],R&&"get"in R&&(O=R.get(c,!0,x)),O===void 0&&(O=jr(c,y,C)),O==="normal"&&y in Ps&&(O=Ps[y]),x===""||x?(M=parseFloat(O),x===!0||isFinite(M)?M||0:O):O}}),d.each(["height","width"],function(c,y){d.cssHooks[y]={get:function(x,C,O){if(C)return ho.test(d.css(x,"display"))&&(!x.getClientRects().length||!x.getBoundingClientRect().width)?yn(x,ac,function(){return Rs(x,y,O)}):Rs(x,y,O)},set:function(x,C,O){var M,R=Qr(x),Y=!v.scrollboxSize()&&R.position==="absolute",V=Y||O,Z=V&&d.css(x,"boxSizing",!1,R)==="border-box",ie=O?vo(x,y,O,Z,R):0;return Z&&Y&&(ie-=Math.ceil(x["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(R[y])-vo(x,y,"border",!1,R)-.5)),ie&&(M=xe.exec(C))&&(M[3]||"px")!=="px"&&(x.style[y]=C,C=d.css(x,y)),ks(x,C,ie)}}}),d.cssHooks.marginLeft=ii(v.reliableMarginLeft,function(c,y){if(y)return(parseFloat(jr(c,"marginLeft"))||c.getBoundingClientRect().left-yn(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(c,y){d.cssHooks[c+y]={expand:function(x){for(var C=0,O={},M=typeof x=="string"?x.split(" "):[x];C<4;C++)O[c+ze[C]+y]=M[C]||M[C-2]||M[0];return O}},c!=="margin"&&(d.cssHooks[c+y].set=ks)}),d.fn.extend({css:function(c,y){return Ee(this,function(x,C,O){var M,R,Y={},V=0;if(Array.isArray(C)){for(M=Qr(x),R=C.length;V<R;V++)Y[C[V]]=d.css(x,C[V],!1,M);return Y}return O!==void 0?d.style(x,C,O):d.css(x,C)},c,y,arguments.length>1)}});function or(c,y,x,C,O){return new or.prototype.init(c,y,x,C,O)}d.Tween=or,or.prototype={constructor:or,init:function(c,y,x,C,O,M){this.elem=c,this.prop=x,this.easing=O||d.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=C,this.unit=M||(d.cssNumber[x]?"":"px")},cur:function(){var c=or.propHooks[this.prop];return c&&c.get?c.get(this):or.propHooks._default.get(this)},run:function(c){var y,x=or.propHooks[this.prop];return this.options.duration?this.pos=y=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=y=c,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),x&&x.set?x.set(this):or.propHooks._default.set(this),this}},or.prototype.init.prototype=or.prototype,or.propHooks={_default:{get:function(c){var y;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(y=d.css(c.elem,c.prop,""),!y||y==="auto"?0:y)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):c.elem.nodeType===1&&(d.cssHooks[c.prop]||c.elem.style[tr(c.prop)]!=null)?d.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},or.propHooks.scrollTop=or.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},d.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},d.fx=or.prototype.init,d.fx.step={};var Gn,oi,ic=/^(?:toggle|show|hide)$/,oc=/queueHooks$/;function go(){oi&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(go):e.setTimeout(go,d.fx.interval),d.fx.tick())}function Bs(){return e.setTimeout(function(){Gn=void 0}),Gn=Date.now()}function si(c,y){var x,C=0,O={height:c};for(y=y?1:0;C<4;C+=2-y)x=ze[C],O["margin"+x]=O["padding"+x]=c;return y&&(O.opacity=O.width=c),O}function Fs(c,y,x){for(var C,O=(wr.tweeners[y]||[]).concat(wr.tweeners["*"]),M=0,R=O.length;M<R;M++)if(C=O[M].call(x,y,c))return C}function sc(c,y,x){var C,O,M,R,Y,V,Z,ie,ge="width"in y||"height"in y,re=this,Te={},Ze=c.style,rt=c.nodeType&&ke(c),je=B.get(c,"fxshow");x.queue||(R=d._queueHooks(c,"fx"),R.unqueued==null&&(R.unqueued=0,Y=R.empty.fire,R.empty.fire=function(){R.unqueued||Y()}),R.unqueued++,re.always(function(){re.always(function(){R.unqueued--,d.queue(c,"fx").length||R.empty.fire()})}));for(C in y)if(O=y[C],ic.test(O)){if(delete y[C],M=M||O==="toggle",O===(rt?"hide":"show"))if(O==="show"&&je&&je[C]!==void 0)rt=!0;else continue;Te[C]=je&&je[C]||d.style(c,C)}if(V=!d.isEmptyObject(y),!(!V&&d.isEmptyObject(Te))){ge&&c.nodeType===1&&(x.overflow=[Ze.overflow,Ze.overflowX,Ze.overflowY],Z=je&&je.display,Z==null&&(Z=B.get(c,"display")),ie=d.css(c,"display"),ie==="none"&&(Z?ie=Z:(Dt([c],!0),Z=c.style.display||Z,ie=d.css(c,"display"),Dt([c]))),(ie==="inline"||ie==="inline-block"&&Z!=null)&&d.css(c,"float")==="none"&&(V||(re.done(function(){Ze.display=Z}),Z==null&&(ie=Ze.display,Z=ie==="none"?"":ie)),Ze.display="inline-block")),x.overflow&&(Ze.overflow="hidden",re.always(function(){Ze.overflow=x.overflow[0],Ze.overflowX=x.overflow[1],Ze.overflowY=x.overflow[2]})),V=!1;for(C in Te)V||(je?"hidden"in je&&(rt=je.hidden):je=B.access(c,"fxshow",{display:Z}),M&&(je.hidden=!rt),rt&&Dt([c],!0),re.done(function(){rt||Dt([c]),B.remove(c,"fxshow");for(C in Te)d.style(c,C,Te[C])})),V=Fs(rt?je[C]:0,C,re),C in je||(je[C]=V.start,rt&&(V.end=V.start,V.start=0))}}function uc(c,y){var x,C,O,M,R;for(x in c)if(C=Re(x),O=y[C],M=c[x],Array.isArray(M)&&(O=M[1],M=c[x]=M[0]),x!==C&&(c[C]=M,delete c[x]),R=d.cssHooks[C],R&&"expand"in R){M=R.expand(M),delete c[C];for(x in M)x in c||(c[x]=M[x],y[x]=O)}else y[C]=O}function wr(c,y,x){var C,O,M=0,R=wr.prefilters.length,Y=d.Deferred().always(function(){delete V.elem}),V=function(){if(O)return!1;for(var ge=Gn||Bs(),re=Math.max(0,Z.startTime+Z.duration-ge),Te=re/Z.duration||0,Ze=1-Te,rt=0,je=Z.tweens.length;rt<je;rt++)Z.tweens[rt].run(Ze);return Y.notifyWith(c,[Z,Ze,re]),Ze<1&&je?re:(je||Y.notifyWith(c,[Z,1,0]),Y.resolveWith(c,[Z]),!1)},Z=Y.promise({elem:c,props:d.extend({},y),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},x),originalProperties:y,originalOptions:x,startTime:Gn||Bs(),duration:x.duration,tweens:[],createTween:function(ge,re){var Te=d.Tween(c,Z.opts,ge,re,Z.opts.specialEasing[ge]||Z.opts.easing);return Z.tweens.push(Te),Te},stop:function(ge){var re=0,Te=ge?Z.tweens.length:0;if(O)return this;for(O=!0;re<Te;re++)Z.tweens[re].run(1);return ge?(Y.notifyWith(c,[Z,1,0]),Y.resolveWith(c,[Z,ge])):Y.rejectWith(c,[Z,ge]),this}}),ie=Z.props;for(uc(ie,Z.opts.specialEasing);M<R;M++)if(C=wr.prefilters[M].call(Z,c,ie,Z.opts),C)return m(C.stop)&&(d._queueHooks(Z.elem,Z.opts.queue).stop=C.stop.bind(C)),C;return d.map(ie,Fs,Z),m(Z.opts.start)&&Z.opts.start.call(c,Z),Z.progress(Z.opts.progress).done(Z.opts.done,Z.opts.complete).fail(Z.opts.fail).always(Z.opts.always),d.fx.timer(d.extend(V,{elem:c,anim:Z,queue:Z.opts.queue})),Z}d.Animation=d.extend(wr,{tweeners:{"*":[function(c,y){var x=this.createTween(c,y);return Ve(x.elem,c,xe.exec(y),x),x}]},tweener:function(c,y){m(c)?(y=c,c=["*"]):c=c.match(ae);for(var x,C=0,O=c.length;C<O;C++)x=c[C],wr.tweeners[x]=wr.tweeners[x]||[],wr.tweeners[x].unshift(y)},prefilters:[sc],prefilter:function(c,y){y?wr.prefilters.unshift(c):wr.prefilters.push(c)}}),d.speed=function(c,y,x){var C=c&&typeof c=="object"?d.extend({},c):{complete:x||!x&&y||m(c)&&c,duration:c,easing:x&&y||y&&!m(y)&&y};return d.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in d.fx.speeds?C.duration=d.fx.speeds[C.duration]:C.duration=d.fx.speeds._default),(C.queue==null||C.queue===!0)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){m(C.old)&&C.old.call(this),C.queue&&d.dequeue(this,C.queue)},C},d.fn.extend({fadeTo:function(c,y,x,C){return this.filter(ke).css("opacity",0).show().end().animate({opacity:y},c,x,C)},animate:function(c,y,x,C){var O=d.isEmptyObject(c),M=d.speed(y,x,C),R=function(){var Y=wr(this,d.extend({},c),M);(O||B.get(this,"finish"))&&Y.stop(!0)};return R.finish=R,O||M.queue===!1?this.each(R):this.queue(M.queue,R)},stop:function(c,y,x){var C=function(O){var M=O.stop;delete O.stop,M(x)};return typeof c!="string"&&(x=y,y=c,c=void 0),y&&this.queue(c||"fx",[]),this.each(function(){var O=!0,M=c!=null&&c+"queueHooks",R=d.timers,Y=B.get(this);if(M)Y[M]&&Y[M].stop&&C(Y[M]);else for(M in Y)Y[M]&&Y[M].stop&&oc.test(M)&&C(Y[M]);for(M=R.length;M--;)R[M].elem===this&&(c==null||R[M].queue===c)&&(R[M].anim.stop(x),O=!1,R.splice(M,1));(O||!x)&&d.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var y,x=B.get(this),C=x[c+"queue"],O=x[c+"queueHooks"],M=d.timers,R=C?C.length:0;for(x.finish=!0,d.queue(this,c,[]),O&&O.stop&&O.stop.call(this,!0),y=M.length;y--;)M[y].elem===this&&M[y].queue===c&&(M[y].anim.stop(!0),M.splice(y,1));for(y=0;y<R;y++)C[y]&&C[y].finish&&C[y].finish.call(this);delete x.finish})}}),d.each(["toggle","show","hide"],function(c,y){var x=d.fn[y];d.fn[y]=function(C,O,M){return C==null||typeof C=="boolean"?x.apply(this,arguments):this.animate(si(y,!0),C,O,M)}}),d.each({slideDown:si("show"),slideUp:si("hide"),slideToggle:si("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,y){d.fn[c]=function(x,C,O){return this.animate(y,x,C,O)}}),d.timers=[],d.fx.tick=function(){var c,y=0,x=d.timers;for(Gn=Date.now();y<x.length;y++)c=x[y],!c()&&x[y]===c&&x.splice(y--,1);x.length||d.fx.stop(),Gn=void 0},d.fx.timer=function(c){d.timers.push(c),d.fx.start()},d.fx.interval=13,d.fx.start=function(){oi||(oi=!0,go())},d.fx.stop=function(){oi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(c,y){return c=d.fx&&d.fx.speeds[c]||c,y=y||"fx",this.queue(y,function(x,C){var O=e.setTimeout(x,c);C.stop=function(){e.clearTimeout(O)}})},function(){var c=b.createElement("input"),y=b.createElement("select"),x=y.appendChild(b.createElement("option"));c.type="checkbox",v.checkOn=c.value!=="",v.optSelected=x.selected,c=b.createElement("input"),c.value="t",c.type="radio",v.radioValue=c.value==="t"}();var zs,ma=d.expr.attrHandle;d.fn.extend({attr:function(c,y){return Ee(this,d.attr,c,y,arguments.length>1)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})}}),d.extend({attr:function(c,y,x){var C,O,M=c.nodeType;if(!(M===3||M===8||M===2)){if(typeof c.getAttribute>"u")return d.prop(c,y,x);if((M!==1||!d.isXMLDoc(c))&&(O=d.attrHooks[y.toLowerCase()]||(d.expr.match.bool.test(y)?zs:void 0)),x!==void 0){if(x===null){d.removeAttr(c,y);return}return O&&"set"in O&&(C=O.set(c,x,y))!==void 0?C:(c.setAttribute(y,x+""),x)}return O&&"get"in O&&(C=O.get(c,y))!==null?C:(C=d.find.attr(c,y),C??void 0)}},attrHooks:{type:{set:function(c,y){if(!v.radioValue&&y==="radio"&&D(c,"input")){var x=c.value;return c.setAttribute("type",y),x&&(c.value=x),y}}}},removeAttr:function(c,y){var x,C=0,O=y&&y.match(ae);if(O&&c.nodeType===1)for(;x=O[C++];)c.removeAttribute(x)}}),zs={set:function(c,y,x){return y===!1?d.removeAttr(c,x):c.setAttribute(x,x),x}},d.each(d.expr.match.bool.source.match(/\w+/g),function(c,y){var x=ma[y]||d.find.attr;ma[y]=function(C,O,M){var R,Y,V=O.toLowerCase();return M||(Y=ma[V],ma[V]=R,R=x(C,O,M)!=null?V:null,ma[V]=Y),R}});var lc=/^(?:input|select|textarea|button)$/i,fc=/^(?:a|area)$/i;d.fn.extend({prop:function(c,y){return Ee(this,d.prop,c,y,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||c]})}}),d.extend({prop:function(c,y,x){var C,O,M=c.nodeType;if(!(M===3||M===8||M===2))return(M!==1||!d.isXMLDoc(c))&&(y=d.propFix[y]||y,O=d.propHooks[y]),x!==void 0?O&&"set"in O&&(C=O.set(c,x,y))!==void 0?C:c[y]=x:O&&"get"in O&&(C=O.get(c,y))!==null?C:c[y]},propHooks:{tabIndex:{get:function(c){var y=d.find.attr(c,"tabindex");return y?parseInt(y,10):lc.test(c.nodeName)||fc.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(d.propHooks.selected={get:function(c){var y=c.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function(c){var y=c.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function bn(c){var y=c.match(ae)||[];return y.join(" ")}function wn(c){return c.getAttribute&&c.getAttribute("class")||""}function po(c){return Array.isArray(c)?c:typeof c=="string"?c.match(ae)||[]:[]}d.fn.extend({addClass:function(c){var y,x,C,O,M,R;return m(c)?this.each(function(Y){d(this).addClass(c.call(this,Y,wn(this)))}):(y=po(c),y.length?this.each(function(){if(C=wn(this),x=this.nodeType===1&&" "+bn(C)+" ",x){for(M=0;M<y.length;M++)O=y[M],x.indexOf(" "+O+" ")<0&&(x+=O+" ");R=bn(x),C!==R&&this.setAttribute("class",R)}}):this)},removeClass:function(c){var y,x,C,O,M,R;return m(c)?this.each(function(Y){d(this).removeClass(c.call(this,Y,wn(this)))}):arguments.length?(y=po(c),y.length?this.each(function(){if(C=wn(this),x=this.nodeType===1&&" "+bn(C)+" ",x){for(M=0;M<y.length;M++)for(O=y[M];x.indexOf(" "+O+" ")>-1;)x=x.replace(" "+O+" "," ");R=bn(x),C!==R&&this.setAttribute("class",R)}}):this):this.attr("class","")},toggleClass:function(c,y){var x,C,O,M,R=typeof c,Y=R==="string"||Array.isArray(c);return m(c)?this.each(function(V){d(this).toggleClass(c.call(this,V,wn(this),y),y)}):typeof y=="boolean"&&Y?y?this.addClass(c):this.removeClass(c):(x=po(c),this.each(function(){if(Y)for(M=d(this),O=0;O<x.length;O++)C=x[O],M.hasClass(C)?M.removeClass(C):M.addClass(C);else(c===void 0||R==="boolean")&&(C=wn(this),C&&B.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||c===!1?"":B.get(this,"__className__")||""))}))},hasClass:function(c){var y,x,C=0;for(y=" "+c+" ";x=this[C++];)if(x.nodeType===1&&(" "+bn(wn(x))+" ").indexOf(y)>-1)return!0;return!1}});var cc=/\r/g;d.fn.extend({val:function(c){var y,x,C,O=this[0];return arguments.length?(C=m(c),this.each(function(M){var R;this.nodeType===1&&(C?R=c.call(this,M,d(this).val()):R=c,R==null?R="":typeof R=="number"?R+="":Array.isArray(R)&&(R=d.map(R,function(Y){return Y==null?"":Y+""})),y=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!y||!("set"in y)||y.set(this,R,"value")===void 0)&&(this.value=R))})):O?(y=d.valHooks[O.type]||d.valHooks[O.nodeName.toLowerCase()],y&&"get"in y&&(x=y.get(O,"value"))!==void 0?x:(x=O.value,typeof x=="string"?x.replace(cc,""):x??"")):void 0}}),d.extend({valHooks:{option:{get:function(c){var y=d.find.attr(c,"value");return y??bn(d.text(c))}},select:{get:function(c){var y,x,C,O=c.options,M=c.selectedIndex,R=c.type==="select-one",Y=R?null:[],V=R?M+1:O.length;for(M<0?C=V:C=R?M:0;C<V;C++)if(x=O[C],(x.selected||C===M)&&!x.disabled&&(!x.parentNode.disabled||!D(x.parentNode,"optgroup"))){if(y=d(x).val(),R)return y;Y.push(y)}return Y},set:function(c,y){for(var x,C,O=c.options,M=d.makeArray(y),R=O.length;R--;)C=O[R],(C.selected=d.inArray(d.valHooks.option.get(C),M)>-1)&&(x=!0);return x||(c.selectedIndex=-1),M}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,y){if(Array.isArray(y))return c.checked=d.inArray(d(c).val(),y)>-1}},v.checkOn||(d.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})});var ba=e.location,Gs={guid:Date.now()},yo=/\?/;d.parseXML=function(c){var y,x;if(!c||typeof c!="string")return null;try{y=new e.DOMParser().parseFromString(c,"text/xml")}catch{}return x=y&&y.getElementsByTagName("parsererror")[0],(!y||x)&&d.error("Invalid XML: "+(x?d.map(x.childNodes,function(C){return C.textContent}).join(`
`):c)),y};var Hs=/^(?:focusinfocus|focusoutblur)$/,Us=function(c){c.stopPropagation()};d.extend(d.event,{trigger:function(c,y,x,C){var O,M,R,Y,V,Z,ie,ge,re=[x||b],Te=h.call(c,"type")?c.type:c,Ze=h.call(c,"namespace")?c.namespace.split("."):[];if(M=ge=R=x=x||b,!(x.nodeType===3||x.nodeType===8)&&!Hs.test(Te+d.event.triggered)&&(Te.indexOf(".")>-1&&(Ze=Te.split("."),Te=Ze.shift(),Ze.sort()),V=Te.indexOf(":")<0&&"on"+Te,c=c[d.expando]?c:new d.Event(Te,typeof c=="object"&&c),c.isTrigger=C?2:3,c.namespace=Ze.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+Ze.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=x),y=y==null?[c]:d.makeArray(y,[c]),ie=d.event.special[Te]||{},!(!C&&ie.trigger&&ie.trigger.apply(x,y)===!1))){if(!C&&!ie.noBubble&&!w(x)){for(Y=ie.delegateType||Te,Hs.test(Y+Te)||(M=M.parentNode);M;M=M.parentNode)re.push(M),R=M;R===(x.ownerDocument||b)&&re.push(R.defaultView||R.parentWindow||e)}for(O=0;(M=re[O++])&&!c.isPropagationStopped();)ge=M,c.type=O>1?Y:ie.bindType||Te,Z=(B.get(M,"events")||Object.create(null))[c.type]&&B.get(M,"handle"),Z&&Z.apply(M,y),Z=V&&M[V],Z&&Z.apply&&Ue(M)&&(c.result=Z.apply(M,y),c.result===!1&&c.preventDefault());return c.type=Te,!C&&!c.isDefaultPrevented()&&(!ie._default||ie._default.apply(re.pop(),y)===!1)&&Ue(x)&&V&&m(x[Te])&&!w(x)&&(R=x[V],R&&(x[V]=null),d.event.triggered=Te,c.isPropagationStopped()&&ge.addEventListener(Te,Us),x[Te](),c.isPropagationStopped()&&ge.removeEventListener(Te,Us),d.event.triggered=void 0,R&&(x[V]=R)),c.result}},simulate:function(c,y,x){var C=d.extend(new d.Event,x,{type:c,isSimulated:!0});d.event.trigger(C,null,y)}}),d.fn.extend({trigger:function(c,y){return this.each(function(){d.event.trigger(c,y,this)})},triggerHandler:function(c,y){var x=this[0];if(x)return d.event.trigger(c,y,x,!0)}});var hc=/\[\]$/,Vs=/\r?\n/g,dc=/^(?:submit|button|image|reset|file)$/i,vc=/^(?:input|select|textarea|keygen)/i;function mo(c,y,x,C){var O;if(Array.isArray(y))d.each(y,function(M,R){x||hc.test(c)?C(c,R):mo(c+"["+(typeof R=="object"&&R!=null?M:"")+"]",R,x,C)});else if(!x&&S(y)==="object")for(O in y)mo(c+"["+O+"]",y[O],x,C);else C(c,y)}d.param=function(c,y){var x,C=[],O=function(M,R){var Y=m(R)?R():R;C[C.length]=encodeURIComponent(M)+"="+encodeURIComponent(Y??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){O(this.name,this.value)});else for(x in c)mo(x,c[x],y,O);return C.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&vc.test(this.nodeName)&&!dc.test(c)&&(this.checked||!Et.test(c))}).map(function(c,y){var x=d(this).val();return x==null?null:Array.isArray(x)?d.map(x,function(C){return{name:y.name,value:C.replace(Vs,`\r
`)}}):{name:y.name,value:x.replace(Vs,`\r
`)}}).get()}});var gc=/%20/g,pc=/#.*$/,yc=/([?&])_=[^&]*/,mc=/^(.*?):[ \t]*([^\r\n]*)$/mg,bc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wc=/^(?:GET|HEAD)$/,Ec=/^\/\//,qs={},bo={},Ys="*/".concat("*"),wo=b.createElement("a");wo.href=ba.href;function Xs(c){return function(y,x){typeof y!="string"&&(x=y,y="*");var C,O=0,M=y.toLowerCase().match(ae)||[];if(m(x))for(;C=M[O++];)C[0]==="+"?(C=C.slice(1)||"*",(c[C]=c[C]||[]).unshift(x)):(c[C]=c[C]||[]).push(x)}}function Ws(c,y,x,C){var O={},M=c===bo;function R(Y){var V;return O[Y]=!0,d.each(c[Y]||[],function(Z,ie){var ge=ie(y,x,C);if(typeof ge=="string"&&!M&&!O[ge])return y.dataTypes.unshift(ge),R(ge),!1;if(M)return!(V=ge)}),V}return R(y.dataTypes[0])||!O["*"]&&R("*")}function Eo(c,y){var x,C,O=d.ajaxSettings.flatOptions||{};for(x in y)y[x]!==void 0&&((O[x]?c:C||(C={}))[x]=y[x]);return C&&d.extend(!0,c,C),c}function xc(c,y,x){for(var C,O,M,R,Y=c.contents,V=c.dataTypes;V[0]==="*";)V.shift(),C===void 0&&(C=c.mimeType||y.getResponseHeader("Content-Type"));if(C){for(O in Y)if(Y[O]&&Y[O].test(C)){V.unshift(O);break}}if(V[0]in x)M=V[0];else{for(O in x){if(!V[0]||c.converters[O+" "+V[0]]){M=O;break}R||(R=O)}M=M||R}if(M)return M!==V[0]&&V.unshift(M),x[M]}function Tc(c,y,x,C){var O,M,R,Y,V,Z={},ie=c.dataTypes.slice();if(ie[1])for(R in c.converters)Z[R.toLowerCase()]=c.converters[R];for(M=ie.shift();M;)if(c.responseFields[M]&&(x[c.responseFields[M]]=y),!V&&C&&c.dataFilter&&(y=c.dataFilter(y,c.dataType)),V=M,M=ie.shift(),M){if(M==="*")M=V;else if(V!=="*"&&V!==M){if(R=Z[V+" "+M]||Z["* "+M],!R){for(O in Z)if(Y=O.split(" "),Y[1]===M&&(R=Z[V+" "+Y[0]]||Z["* "+Y[0]],R)){R===!0?R=Z[O]:Z[O]!==!0&&(M=Y[0],ie.unshift(Y[1]));break}}if(R!==!0)if(R&&c.throws)y=R(y);else try{y=R(y)}catch(ge){return{state:"parsererror",error:R?ge:"No conversion from "+V+" to "+M}}}}return{state:"success",data:y}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ba.href,type:"GET",isLocal:bc.test(ba.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ys,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,y){return y?Eo(Eo(c,d.ajaxSettings),y):Eo(d.ajaxSettings,c)},ajaxPrefilter:Xs(qs),ajaxTransport:Xs(bo),ajax:function(c,y){typeof c=="object"&&(y=c,c=void 0),y=y||{};var x,C,O,M,R,Y,V,Z,ie,ge,re=d.ajaxSetup({},y),Te=re.context||re,Ze=re.context&&(Te.nodeType||Te.jquery)?d(Te):d.event,rt=d.Deferred(),je=d.Callbacks("once memory"),Ht=re.statusCode||{},Mt={},Ar={},Or="canceled",tt={readyState:0,getResponseHeader:function(nt){var Lt;if(V){if(!M)for(M={};Lt=mc.exec(O);)M[Lt[1].toLowerCase()+" "]=(M[Lt[1].toLowerCase()+" "]||[]).concat(Lt[2]);Lt=M[nt.toLowerCase()+" "]}return Lt==null?null:Lt.join(", ")},getAllResponseHeaders:function(){return V?O:null},setRequestHeader:function(nt,Lt){return V==null&&(nt=Ar[nt.toLowerCase()]=Ar[nt.toLowerCase()]||nt,Mt[nt]=Lt),this},overrideMimeType:function(nt){return V==null&&(re.mimeType=nt),this},statusCode:function(nt){var Lt;if(nt)if(V)tt.always(nt[tt.status]);else for(Lt in nt)Ht[Lt]=[Ht[Lt],nt[Lt]];return this},abort:function(nt){var Lt=nt||Or;return x&&x.abort(Lt),En(0,Lt),this}};if(rt.promise(tt),re.url=((c||re.url||ba.href)+"").replace(Ec,ba.protocol+"//"),re.type=y.method||y.type||re.method||re.type,re.dataTypes=(re.dataType||"*").toLowerCase().match(ae)||[""],re.crossDomain==null){Y=b.createElement("a");try{Y.href=re.url,Y.href=Y.href,re.crossDomain=wo.protocol+"//"+wo.host!=Y.protocol+"//"+Y.host}catch{re.crossDomain=!0}}if(re.data&&re.processData&&typeof re.data!="string"&&(re.data=d.param(re.data,re.traditional)),Ws(qs,re,y,tt),V)return tt;Z=d.event&&re.global,Z&&d.active++===0&&d.event.trigger("ajaxStart"),re.type=re.type.toUpperCase(),re.hasContent=!wc.test(re.type),C=re.url.replace(pc,""),re.hasContent?re.data&&re.processData&&(re.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(re.data=re.data.replace(gc,"+")):(ge=re.url.slice(C.length),re.data&&(re.processData||typeof re.data=="string")&&(C+=(yo.test(C)?"&":"?")+re.data,delete re.data),re.cache===!1&&(C=C.replace(yc,"$1"),ge=(yo.test(C)?"&":"?")+"_="+Gs.guid+++ge),re.url=C+ge),re.ifModified&&(d.lastModified[C]&&tt.setRequestHeader("If-Modified-Since",d.lastModified[C]),d.etag[C]&&tt.setRequestHeader("If-None-Match",d.etag[C])),(re.data&&re.hasContent&&re.contentType!==!1||y.contentType)&&tt.setRequestHeader("Content-Type",re.contentType),tt.setRequestHeader("Accept",re.dataTypes[0]&&re.accepts[re.dataTypes[0]]?re.accepts[re.dataTypes[0]]+(re.dataTypes[0]!=="*"?", "+Ys+"; q=0.01":""):re.accepts["*"]);for(ie in re.headers)tt.setRequestHeader(ie,re.headers[ie]);if(re.beforeSend&&(re.beforeSend.call(Te,tt,re)===!1||V))return tt.abort();if(Or="abort",je.add(re.complete),tt.done(re.success),tt.fail(re.error),x=Ws(bo,re,y,tt),!x)En(-1,"No Transport");else{if(tt.readyState=1,Z&&Ze.trigger("ajaxSend",[tt,re]),V)return tt;re.async&&re.timeout>0&&(R=e.setTimeout(function(){tt.abort("timeout")},re.timeout));try{V=!1,x.send(Mt,En)}catch(nt){if(V)throw nt;En(-1,nt)}}function En(nt,Lt,Ea,To){var Mr,xa,Nr,Jr,en,gr=Lt;V||(V=!0,R&&e.clearTimeout(R),x=void 0,O=To||"",tt.readyState=nt>0?4:0,Mr=nt>=200&&nt<300||nt===304,Ea&&(Jr=xc(re,tt,Ea)),!Mr&&d.inArray("script",re.dataTypes)>-1&&d.inArray("json",re.dataTypes)<0&&(re.converters["text script"]=function(){}),Jr=Tc(re,Jr,tt,Mr),Mr?(re.ifModified&&(en=tt.getResponseHeader("Last-Modified"),en&&(d.lastModified[C]=en),en=tt.getResponseHeader("etag"),en&&(d.etag[C]=en)),nt===204||re.type==="HEAD"?gr="nocontent":nt===304?gr="notmodified":(gr=Jr.state,xa=Jr.data,Nr=Jr.error,Mr=!Nr)):(Nr=gr,(nt||!gr)&&(gr="error",nt<0&&(nt=0))),tt.status=nt,tt.statusText=(Lt||gr)+"",Mr?rt.resolveWith(Te,[xa,gr,tt]):rt.rejectWith(Te,[tt,gr,Nr]),tt.statusCode(Ht),Ht=void 0,Z&&Ze.trigger(Mr?"ajaxSuccess":"ajaxError",[tt,re,Mr?xa:Nr]),je.fireWith(Te,[tt,gr]),Z&&(Ze.trigger("ajaxComplete",[tt,re]),--d.active||d.event.trigger("ajaxStop")))}return tt},getJSON:function(c,y,x){return d.get(c,y,x,"json")},getScript:function(c,y){return d.get(c,void 0,y,"script")}}),d.each(["get","post"],function(c,y){d[y]=function(x,C,O,M){return m(C)&&(M=M||O,O=C,C=void 0),d.ajax(d.extend({url:x,type:y,dataType:M,data:C,success:O},d.isPlainObject(x)&&x))}}),d.ajaxPrefilter(function(c){var y;for(y in c.headers)y.toLowerCase()==="content-type"&&(c.contentType=c.headers[y]||"")}),d._evalUrl=function(c,y,x){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){d.globalEval(C,y,x)}})},d.fn.extend({wrapAll:function(c){var y;return this[0]&&(m(c)&&(c=c.call(this[0])),y=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map(function(){for(var x=this;x.firstElementChild;)x=x.firstElementChild;return x}).append(this)),this},wrapInner:function(c){return m(c)?this.each(function(y){d(this).wrapInner(c.call(this,y))}):this.each(function(){var y=d(this),x=y.contents();x.length?x.wrapAll(c):y.append(c)})},wrap:function(c){var y=m(c);return this.each(function(x){d(this).wrapAll(y?c.call(this,x):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)},d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Cc={0:200,1223:204},wa=d.ajaxSettings.xhr();v.cors=!!wa&&"withCredentials"in wa,v.ajax=wa=!!wa,d.ajaxTransport(function(c){var y,x;if(v.cors||wa&&!c.crossDomain)return{send:function(C,O){var M,R=c.xhr();if(R.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(M in c.xhrFields)R[M]=c.xhrFields[M];c.mimeType&&R.overrideMimeType&&R.overrideMimeType(c.mimeType),!c.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest");for(M in C)R.setRequestHeader(M,C[M]);y=function(Y){return function(){y&&(y=x=R.onload=R.onerror=R.onabort=R.ontimeout=R.onreadystatechange=null,Y==="abort"?R.abort():Y==="error"?typeof R.status!="number"?O(0,"error"):O(R.status,R.statusText):O(Cc[R.status]||R.status,R.statusText,(R.responseType||"text")!=="text"||typeof R.responseText!="string"?{binary:R.response}:{text:R.responseText},R.getAllResponseHeaders()))}},R.onload=y(),x=R.onerror=R.ontimeout=y("error"),R.onabort!==void 0?R.onabort=x:R.onreadystatechange=function(){R.readyState===4&&e.setTimeout(function(){y&&x()})},y=y("abort");try{R.send(c.hasContent&&c.data||null)}catch(Y){if(y)throw Y}},abort:function(){y&&y()}}}),d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return d.globalEval(c),c}}}),d.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),d.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var y,x;return{send:function(C,O){y=d("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",x=function(M){y.remove(),x=null,M&&O(M.type==="error"?404:200,M.type)}),b.head.appendChild(y[0])},abort:function(){x&&x()}}}});var _s=[],xo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=_s.pop()||d.expando+"_"+Gs.guid++;return this[c]=!0,c}}),d.ajaxPrefilter("json jsonp",function(c,y,x){var C,O,M,R=c.jsonp!==!1&&(xo.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&xo.test(c.data)&&"data");if(R||c.dataTypes[0]==="jsonp")return C=c.jsonpCallback=m(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,R?c[R]=c[R].replace(xo,"$1"+C):c.jsonp!==!1&&(c.url+=(yo.test(c.url)?"&":"?")+c.jsonp+"="+C),c.converters["script json"]=function(){return M||d.error(C+" was not called"),M[0]},c.dataTypes[0]="json",O=e[C],e[C]=function(){M=arguments},x.always(function(){O===void 0?d(e).removeProp(C):e[C]=O,c[C]&&(c.jsonpCallback=y.jsonpCallback,_s.push(C)),M&&m(O)&&O(M[0]),M=O=void 0}),"script"}),v.createHTMLDocument=function(){var c=b.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),d.parseHTML=function(c,y,x){if(typeof c!="string")return[];typeof y=="boolean"&&(x=y,y=!1);var C,O,M;return y||(v.createHTMLDocument?(y=b.implementation.createHTMLDocument(""),C=y.createElement("base"),C.href=b.location.href,y.head.appendChild(C)):y=b),O=$.exec(c),M=!x&&[],O?[y.createElement(O[1])]:(O=Gt([c],y,M),M&&M.length&&d(M).remove(),d.merge([],O.childNodes))},d.fn.load=function(c,y,x){var C,O,M,R=this,Y=c.indexOf(" ");return Y>-1&&(C=bn(c.slice(Y)),c=c.slice(0,Y)),m(y)?(x=y,y=void 0):y&&typeof y=="object"&&(O="POST"),R.length>0&&d.ajax({url:c,type:O||"GET",dataType:"html",data:y}).done(function(V){M=arguments,R.html(C?d("<div>").append(d.parseHTML(V)).find(C):V)}).always(x&&function(V,Z){R.each(function(){x.apply(this,M||[V.responseText,Z,V])})}),this},d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(y){return c===y.elem}).length},d.offset={setOffset:function(c,y,x){var C,O,M,R,Y,V,Z,ie=d.css(c,"position"),ge=d(c),re={};ie==="static"&&(c.style.position="relative"),Y=ge.offset(),M=d.css(c,"top"),V=d.css(c,"left"),Z=(ie==="absolute"||ie==="fixed")&&(M+V).indexOf("auto")>-1,Z?(C=ge.position(),R=C.top,O=C.left):(R=parseFloat(M)||0,O=parseFloat(V)||0),m(y)&&(y=y.call(c,x,d.extend({},Y))),y.top!=null&&(re.top=y.top-Y.top+R),y.left!=null&&(re.left=y.left-Y.left+O),"using"in y?y.using.call(c,re):ge.css(re)}},d.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(O){d.offset.setOffset(this,c,O)});var y,x,C=this[0];if(C)return C.getClientRects().length?(y=C.getBoundingClientRect(),x=C.ownerDocument.defaultView,{top:y.top+x.pageYOffset,left:y.left+x.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,y,x,C=this[0],O={top:0,left:0};if(d.css(C,"position")==="fixed")y=C.getBoundingClientRect();else{for(y=this.offset(),x=C.ownerDocument,c=C.offsetParent||x.documentElement;c&&(c===x.body||c===x.documentElement)&&d.css(c,"position")==="static";)c=c.parentNode;c&&c!==C&&c.nodeType===1&&(O=d(c).offset(),O.top+=d.css(c,"borderTopWidth",!0),O.left+=d.css(c,"borderLeftWidth",!0))}return{top:y.top-O.top-d.css(C,"marginTop",!0),left:y.left-O.left-d.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&d.css(c,"position")==="static";)c=c.offsetParent;return c||Ge})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,y){var x=y==="pageYOffset";d.fn[c]=function(C){return Ee(this,function(O,M,R){var Y;if(w(O)?Y=O:O.nodeType===9&&(Y=O.defaultView),R===void 0)return Y?Y[y]:O[M];Y?Y.scrollTo(x?Y.pageXOffset:R,x?R:Y.pageYOffset):O[M]=R},c,C,arguments.length)}}),d.each(["top","left"],function(c,y){d.cssHooks[y]=ii(v.pixelPosition,function(x,C){if(C)return C=jr(x,y),pa.test(C)?d(x).position()[y]+"px":C})}),d.each({Height:"height",Width:"width"},function(c,y){d.each({padding:"inner"+c,content:y,"":"outer"+c},function(x,C){d.fn[C]=function(O,M){var R=arguments.length&&(x||typeof O!="boolean"),Y=x||(O===!0||M===!0?"margin":"border");return Ee(this,function(V,Z,ie){var ge;return w(V)?C.indexOf("outer")===0?V["inner"+c]:V.document.documentElement["client"+c]:V.nodeType===9?(ge=V.documentElement,Math.max(V.body["scroll"+c],ge["scroll"+c],V.body["offset"+c],ge["offset"+c],ge["client"+c])):ie===void 0?d.css(V,Z,Y):d.style(V,Z,ie,Y)},y,R?O:void 0,R)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,y){d.fn[y]=function(x){return this.on(y,x)}}),d.fn.extend({bind:function(c,y,x){return this.on(c,null,y,x)},unbind:function(c,y){return this.off(c,null,y)},delegate:function(c,y,x,C){return this.on(y,c,x,C)},undelegate:function(c,y,x){return arguments.length===1?this.off(c,"**"):this.off(y,c||"**",x)},hover:function(c,y){return this.on("mouseenter",c).on("mouseleave",y||c)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,y){d.fn[y]=function(x,C){return arguments.length>0?this.on(y,null,x,C):this.trigger(y)}});var Dc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(c,y){var x,C,O;if(typeof y=="string"&&(x=c[y],y=c,c=x),!!m(c))return C=o.call(arguments,2),O=function(){return c.apply(y||this,C.concat(o.call(arguments)))},O.guid=c.guid=c.guid||d.guid++,O},d.holdReady=function(c){c?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=D,d.isFunction=m,d.isWindow=w,d.camelCase=Re,d.type=S,d.now=Date.now,d.isNumeric=function(c){var y=d.type(c);return(y==="number"||y==="string")&&!isNaN(c-parseFloat(c))},d.trim=function(c){return c==null?"":(c+"").replace(Dc,"$1")};var Sc=e.jQuery,Lc=e.$;return d.noConflict=function(c){return e.$===d&&(e.$=Lc),c&&e.jQuery===d&&(e.jQuery=Sc),d},typeof r>"u"&&(e.jQuery=e.$=d),d})}(Xo)),Xo.exports}/*!
Copyright (c) The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the “Software”), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/(function(t){(function(){var e=function(a,o){!a||!o||(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(i){return n.apply(this,[i,a,o]),this},a("core","panzoom",function(i){return n.apply(this,[i,a,o]),this}))},r={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},n=function(a,o,i){var s=this,u=i.extend(!0,{},r,a),l=a,f={destroy:function(){var h=i(s.container()),p=h.find(".cy-panzoom");p.data("winbdgs").forEach(function(g){i(window).unbind(g.evt,g.fn)}),p.data("cybdgs").forEach(function(g){s.off(g.evt,g.fn)}),p.remove()},init:function(){return i(s.container()).each(function(){var h=i(this);h.cytoscape=o;var p=[],g=i(window),v=function(pe,be){p.push({evt:pe,fn:be}),g.bind(pe,be)},m=function(pe,be){for(var De=0;De<p.length;De++){var Ee=p[De];if(Ee.evt===pe&&Ee.fn===be){p.splice(De,1);break}}g.unbind(pe,be)},w=[],b=function(pe,be){w.push({evt:pe,fn:be}),s.on(pe,be)},T=i('<div class="cy-panzoom"></div>');h.prepend(T),T.css("position","absolute"),T.data("winbdgs",p),T.data("cybdgs",w),u.zoomOnly&&T.addClass("cy-panzoom-zoom-only");var E=i('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+u.zoomInIcon+'"></span></div>');T.append(E);var S=i('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+u.zoomOutIcon+'"></span></div>');T.append(S);var A=i('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+u.resetIcon+'"></span></div>');T.append(A);var I=i('<div class="cy-panzoom-slider"></div>');T.append(I),I.append('<div class="cy-panzoom-slider-background"></div>');var d=i('<div class="cy-panzoom-slider-handle"><span class="icon '+u.sliderHandleIcon+'"></span></div>');I.append(d);var L=i('<div class="cy-panzoom-no-zoom-tick"></div>');I.append(L);var D=i('<div class="cy-panzoom-panner"></div>');T.append(D);var N=i('<div class="cy-panzoom-panner-handle"></div>');D.append(N);var P=i('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),F=i('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),z=i('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),k=i('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');D.append(P).append(F).append(z).append(k);var H=i('<div class="cy-panzoom-pan-indicator"></div>');D.append(H);function q(pe){var be={x:pe.originalEvent.pageX-D.offset().left-D.width()/2,y:pe.originalEvent.pageY-D.offset().top-D.height()/2},De=u.panDragAreaSize,Ee=Math.sqrt(be.x*be.x+be.y*be.y),Me=Math.min(Ee/De,1);if(Ee<u.panInactiveArea)return{x:NaN,y:NaN};be={x:be.x/Ee,y:be.y/Ee},Me=Math.max(u.panMinPercentSpeed,Me);var Xe={x:-1*be.x*(Me*u.panDistance),y:-1*be.y*(Me*u.panDistance)};return Xe}function U(){clearInterval(de),m("mousemove",we),H.hide()}function X(pe){var be=pe,De=Math.sqrt(be.x*be.x+be.y*be.y),Ee={x:-1*be.x/De,y:-1*be.y/De},Me=D.width(),Xe=D.height(),Ye=De/u.panDistance,Re=Math.max(u.panIndicatorMinOpacity,Ye),Ue=255-Math.round(Re*255);H.show().css({left:Me/2*Ee.x+Me/2,top:Xe/2*Ee.y+Xe/2,background:"rgb("+Ue+", "+Ue+", "+Ue+")"})}function W(){s.pan(),s.zoom(),ee=h.width()/2,oe=h.height()/2}var Q=!1;function K(){Q=!0,W()}function $(){Q=!1}var ee,oe;function ce(pe){Q||W(),s.zoom({level:pe,renderedPosition:{x:ee,y:oe}})}var de,we=function(pe){pe.stopPropagation(),pe.preventDefault(),clearInterval(de);var be=q(pe);if(isNaN(be.x)||isNaN(be.y)){H.hide();return}X(be),de=setInterval(function(){s.panBy(be)},u.panSpeed)};N.bind("mousedown",function(pe){we(pe),v("mousemove",we)}),N.bind("mouseup",function(){U()}),v("mouseup blur",function(){U()}),I.bind("mousedown",function(){return!1});var fe=!1,j=2;function ae(pe,be){be===void 0&&(be=0);var De=j,Ee=0+De,Me=I.height()-d.height()-2*De,Xe=pe.pageY-I.offset().top-be;Xe<Ee&&(Xe=Ee),Xe>Me&&(Xe=Me);var Ye=1-(Xe-Ee)/(Me-Ee);d.css("top",Xe);var Re=u.minZoom,Ue=u.maxZoom,me=Math.log(Re)/Math.log(Ue),B=(1-me)*Ye+me,J=Math.pow(Ue,B);J<Re?J=Re:J>Ue&&(J=Ue),ce(J)}var he,Le;d.bind("mousedown",he=function(pe){var be=pe.target===d[0]?pe.offsetY:0;fe=!0,K(),d.addClass("active");var De=0;return v("mousemove",Le=function(Ee){var Me=+new Date;if(Me>De+10)De=Me;else return!1;return ae(Ee,be),!1}),v("mouseup",function(){m("mousemove",Le),fe=!1,d.removeClass("active"),$()}),!1}),I.bind("mousedown",function(pe){pe.target!==d[0]&&(he(pe),ae(pe))});function Fe(){var pe=s.zoom(),be=u.minZoom,De=u.maxZoom,Ee=Math.log(be)/Math.log(De),Me=Math.log(pe)/Math.log(De),Xe=1-(Me-Ee)/(1-Ee),Ye=j,Re=I.height()-d.height()-2*j,Ue=Xe*(Re-Ye);Ue<Ye&&(Ue=Ye),Ue>Re&&(Ue=Re),d.css("top",Ue)}Fe(),b("zoom",function(){fe||Fe()}),function(){var pe=1,be=u.minZoom,De=u.maxZoom,Ee=Math.log(be)/Math.log(De),Me=Math.log(pe)/Math.log(De),Xe=1-(Me-Ee)/(1-Ee);if(Xe>1||Xe<0){L.hide();return}var Ye=j,Re=I.height()-d.height()-2*j,Ue=Xe*(Re-Ye);Ue<Ye&&(Ue=Ye),Ue>Re&&(Ue=Re),L.css("top",Ue)}();function Ce(pe,be){var De;pe.bind("mousedown",function(Ee){if(Ee.preventDefault(),Ee.stopPropagation(),Ee.button==0){var Me=function(){var Xe=s.zoom(),Ye=s.zoom()*be;Ye<u.minZoom&&(Ye=u.minZoom),Ye>u.maxZoom&&(Ye=u.maxZoom),!(Ye==u.maxZoom&&Xe==u.maxZoom||Ye==u.minZoom&&Xe==u.minZoom)&&ce(Ye)};return K(),Me(),De=setInterval(Me,u.zoomDelay),!1}}),v("mouseup blur",function(){clearInterval(De),$()})}Ce(E,1+u.zoomFactor),Ce(S,1-u.zoomFactor),A.bind("mousedown",function(pe){if(pe.button==0){var be=u.fitSelector?s.elements(u.fitSelector):s.elements();if(be.size()===0)s.reset();else{var De=typeof u.animateOnFit=="function"?u.animateOnFit.call():u.animateOnFit;De?s.animate({fit:{eles:be,padding:u.fitPadding}},{duration:u.fitAnimationDuration}):s.fit(be,u.fitPadding)}return!1}})})}};return f[l]?f[l].apply(this,Array.prototype.slice.call(arguments,1)):typeof l=="object"||!l?f.init.apply(this,arguments):(i.error("No such function `"+l+"` for jquery.cytoscapePanzoom"),i(this))};t.exports&&(t.exports=function(a,o){e(a,o||y0())}),typeof cytoscape<"u"&&typeof jQuery<"u"&&e(cytoscape,jQuery)})()})(rc);var m0=rc.exports;const b0=vl(m0);var w0=500;function E0(t){t===void 0&&(t=w0);var e=null;return this.on("click",function(r){e&&e===r.target?(e=null,r.preventDefault(),r.stopPropagation(),r.target.emit("dblclick",[r])):(e=r.target,setTimeout(function(){e&&e===r.target&&(e=null,r.target.emit("dblclick:timeout",[r]))},t))}),this}function nc(t){if(t){var e="dblclick";t("core",e,E0)}}typeof window.cytoscape<"u"&&nc(window.cytoscape);let Vt,on,ur,us=[];const x0="#777777",xr=document.getElementById("cy"),T0=()=>{xr&&(Sr.use(nc),Sr.use(p0),Sr.use(b0),Vt=Sr({container:xr,wheelSensitivity:.5,style:Sr.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(xr.parentNode).color,"border-width":3,color:window.getComputedStyle(xr).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(xr).backgroundColor,"text-border-color":window.getComputedStyle(xr).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(xr).color,"text-background-color":window.getComputedStyle(xr).backgroundColor,"text-border-color":window.getComputedStyle(xr).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),Vt.panzoom({maxZoom:2,minZoom:.3}),Vt.minZoom(.3),Vt.maxZoom(2),Vt.dblclick(),C0())},C0=()=>{fetch(xr.dataset.url).then(t=>t.json()).then(t=>{D0(t)})},D0=t=>{for(on in t.entities){let e={group:"nodes",data:{id:t.entities[on].id,name:t.entities[on].name,image:t.entities[on].image,link:t.entities[on].link}};us.push(e)}for(ur in t.relations){let e={group:"edges",data:{source:t.relations[ur].source,target:t.relations[ur].target,name:t.relations[ur].text,colour:t.relations[ur].colour,attitude:t.relations[ur].attitude,shape:t.relations[ur].shape,edit_url:t.relations[ur].edit_url}};e.data.colour||(e.data.colour=x0),e.data.attitude||(e.data.attitude=0),e.data.attitude=M0(e.data.attitude),us.push(e)}S0()},S0=()=>{Vt.add(us),Vt.nodes().forEach(function(t){t.connectedEdges().length==0&&L0(t)}),A0(),O0(),N0()};function L0(t){t.hide()}function A0(){Vt.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function O0(){Vt.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),Vt.nodes().on("mouseover",function(t){on=Vt.getElementById(t.target.id()),on.addClass("node-hover")}),Vt.nodes().on("mouseout",function(){on.removeClass("node-hover")}),Vt.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),Vt.edges().on("mouseover",function(t){ur=Vt.getElementById(t.target.id()),ur.style("label",ur._private.data.name),ur.style("overlay-opacity",.1)}),Vt.edges().on("mouseout",function(){ur.style("label",""),ur.style("overlay-opacity",0)})}function M0(t){return(t+100)/100*2+2}async function N0(){let t=!0;for(;t;)Vt.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),xr.classList.remove("hidden")}T0();
