const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cytoscape-cose-bilkent-CU5iLMAw.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/cytoscape-panzoom-DCQzTrK1.js","assets/index.esm-BsD3a6oO.js","assets/cytoscape.esm-D6h5aWdG.js"])))=>i.map(i=>d[i]);
const E="modulepreload",k=function(t){return"/build/"+t},h={},g=function(e,m,p){let i=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(m.map(l=>{if(l=k(l),l in h)return;h[l]=!0;const f=l.endsWith(".css"),w=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${w}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":E,f||(c.as="script"),c.crossOrigin="",c.href=l,d&&c.setAttribute("nonce",d),document.head.appendChild(c),f)return new Promise((b,_)=>{c.addEventListener("load",b),c.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function u(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return i.then(a=>{for(const d of a||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})};let o,s,n,y=[];const v="#777777",r=document.getElementById("cy"),C=async()=>{if(!r)return;const{default:t}=await g(async()=>{const{default:i}=await import("./cytoscape.esm-D6h5aWdG.js");return{default:i}},[]),{default:e}=await g(async()=>{const{default:i}=await import("./cytoscape-cose-bilkent-CU5iLMAw.js").then(u=>u.c);return{default:i}},__vite__mapDeps([0,1])),{default:m}=await g(async()=>{const{default:i}=await import("./cytoscape-panzoom-DCQzTrK1.js").then(u=>u.c);return{default:i}},__vite__mapDeps([2,1])),{default:p}=await g(async()=>{const{default:i}=await import("./index.esm-BsD3a6oO.js");return{default:i}},__vite__mapDeps([3,4]));t.use(p),t.use(e),t.use(m),o=t({container:r,wheelSensitivity:.5,style:t.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(r.parentNode).color,"border-width":3,color:window.getComputedStyle(r).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(r).backgroundColor,"text-border-color":window.getComputedStyle(r).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(r).color,"text-background-color":window.getComputedStyle(r).backgroundColor,"text-border-color":window.getComputedStyle(r).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),o.panzoom({maxZoom:2,minZoom:.3}),o.minZoom(.3),o.maxZoom(2),o.dblclick(),L()},L=()=>{fetch(r.dataset.url).then(t=>t.json()).then(t=>{x(t)})},x=t=>{for(s in t.entities){let e={group:"nodes",data:{id:t.entities[s].id,name:t.entities[s].name,image:t.entities[s].image,link:t.entities[s].link}};y.push(e)}for(n in t.relations){let e={group:"edges",data:{source:t.relations[n].source,target:t.relations[n].target,name:t.relations[n].text,colour:t.relations[n].colour,attitude:t.relations[n].attitude,shape:t.relations[n].shape,edit_url:t.relations[n].edit_url}};e.data.colour||(e.data.colour=v),e.data.attitude||(e.data.attitude=0),e.data.attitude=A(e.data.attitude),y.push(e)}S()},S=()=>{o.add(y),o.nodes().forEach(function(t){t.connectedEdges().length==0&&P(t)}),I(),O(),R()};function P(t){t.hide()}function I(){o.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function O(){o.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),o.nodes().on("mouseover",function(t){s=o.getElementById(t.target.id()),s.addClass("node-hover")}),o.nodes().on("mouseout",function(){s.removeClass("node-hover")}),o.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),o.edges().on("mouseover",function(t){n=o.getElementById(t.target.id()),n.style("label",n._private.data.name),n.style("overlay-opacity",.1)}),o.edges().on("mouseout",function(){n.style("label",""),n.style("overlay-opacity",0)})}function A(t){return(t+100)/100*2+2}async function R(){let t=!0;for(;t;)o.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),r.classList.remove("hidden")}C();
