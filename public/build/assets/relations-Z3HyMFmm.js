const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cytoscape-cose-bilkent-rOmLqAcl.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/cytoscape-panzoom-DCQzTrK1.js","assets/index.esm-CafSDg77.js","assets/cytoscape.esm-Ccd9x-Qe.js"])))=>i.map(i=>d[i]);
const k="modulepreload",v=function(t){return"/build/"+t},b={},p=function(e,g,h){let i=Promise.resolve();if(g&&g.length>0){let u=function(l){return Promise.all(l.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),w=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=u(g.map(l=>{if(l=v(l),l in b)return;b[l]=!0;const m=l.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":k,m||(d.as="script"),d.crossOrigin="",d.href=l,w&&d.setAttribute("nonce",w),document.head.appendChild(d),m)return new Promise((_,E)=>{d.addEventListener("load",_),d.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(u){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u}return i.then(u=>{for(const a of u||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};let o,c,n,y=[];const C="#777777",r=document.getElementById("cy"),L=async()=>{if(!r)return;const{default:t}=await p(async()=>{const{default:i}=await import("./cytoscape.esm-Ccd9x-Qe.js");return{default:i}},[]),{default:e}=await p(async()=>{const{default:i}=await import("./cytoscape-cose-bilkent-rOmLqAcl.js").then(s=>s.c);return{default:i}},__vite__mapDeps([0,1])),{default:g}=await p(async()=>{const{default:i}=await import("./cytoscape-panzoom-DCQzTrK1.js").then(s=>s.c);return{default:i}},__vite__mapDeps([2,1])),{default:h}=await p(async()=>{const{default:i}=await import("./index.esm-CafSDg77.js");return{default:i}},__vite__mapDeps([3,4]));t.use(h),t.use(e),t.use(g),o=t({container:r,wheelSensitivity:.5,style:t.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(r.parentNode).color,"border-width":3,color:window.getComputedStyle(r).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(r).backgroundColor,"text-border-color":window.getComputedStyle(r).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(r).color,"text-background-color":window.getComputedStyle(r).backgroundColor,"text-border-color":window.getComputedStyle(r).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),o.panzoom({maxZoom:2,minZoom:.3}),o.minZoom(.3),o.maxZoom(2),o.dblclick(),x()},x=()=>{fetch(r.dataset.url).then(t=>t.json()).then(t=>{S(t)})},S=t=>{for(c in t.entities){let e={group:"nodes",data:{id:t.entities[c].id,name:t.entities[c].name,image:t.entities[c].image,link:t.entities[c].link}};y.push(e)}for(n in t.relations){let e={group:"edges",data:{source:t.relations[n].source,target:t.relations[n].target,name:t.relations[n].text,colour:t.relations[n].colour,attitude:t.relations[n].attitude,shape:t.relations[n].shape,edit_url:t.relations[n].edit_url}};e.data.colour||(e.data.colour=C),e.data.attitude||(e.data.attitude=0),e.data.attitude=R(e.data.attitude),y.push(e)}P()},P=()=>{o.add(y),o.nodes().forEach(function(t){t.connectedEdges().length==0&&I(t)}),O(),A(),B()};function I(t){t.hide()}function O(){o.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function A(){o.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),o.nodes().on("mouseover",function(t){c=o.getElementById(t.target.id()),c.addClass("node-hover")}),o.nodes().on("mouseout",function(){c.removeClass("node-hover")}),o.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),o.edges().on("mouseover",function(t){n=o.getElementById(t.target.id()),n.style("label",n._private.data.name),n.style("overlay-opacity",.1)}),o.edges().on("mouseout",function(){n.style("label",""),n.style("overlay-opacity",0)})}function R(t){return(t+100)/100*2+2}async function B(){let t=!0;for(;t;)o.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),r.classList.remove("hidden")}L();
