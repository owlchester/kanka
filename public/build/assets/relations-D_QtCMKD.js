const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cytoscape-cose-bilkent-DF4CVbNw.js","assets/_commonjsHelpers-CqkleIqs.js","assets/cytoscape-panzoom-CwP9w_A0.js","assets/index.esm-D64_n58L.js","assets/cytoscape.esm-DC-SVX1T.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./preload-helper-I4rgV-VL.js";let o,i,a,c=[];const m="#777777",n=document.getElementById("cy"),g=async()=>{if(!n)return;const{default:t}=await l(async()=>{const{default:d}=await import("./cytoscape.esm-DC-SVX1T.js");return{default:d}},[]),{default:e}=await l(async()=>{const{default:d}=await import("./cytoscape-cose-bilkent-DF4CVbNw.js").then(r=>r.c);return{default:d}},__vite__mapDeps([0,1])),{default:u}=await l(async()=>{const{default:d}=await import("./cytoscape-panzoom-CwP9w_A0.js").then(r=>r.c);return{default:d}},__vite__mapDeps([2,1])),{default:s}=await l(async()=>{const{default:d}=await import("./index.esm-D64_n58L.js");return{default:d}},__vite__mapDeps([3,4]));t.use(s),t.use(e),t.use(u),o=t({container:n,wheelSensitivity:.5,style:t.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(n.parentNode).color,"border-width":3,color:window.getComputedStyle(n).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(n).backgroundColor,"text-border-color":window.getComputedStyle(n).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(n).color,"text-background-color":window.getComputedStyle(n).backgroundColor,"text-border-color":window.getComputedStyle(n).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),o.panzoom({maxZoom:2,minZoom:.3}),o.minZoom(.3),o.maxZoom(2),o.dblclick(),p()},p=()=>{fetch(n.dataset.url).then(t=>t.json()).then(t=>{y(t)})},y=t=>{for(i in t.entities){let e={group:"nodes",data:{id:t.entities[i].id,name:t.entities[i].name,image:t.entities[i].image,link:t.entities[i].link}};c.push(e)}for(a in t.relations){let e={group:"edges",data:{source:t.relations[a].source,target:t.relations[a].target,name:t.relations[a].text,colour:t.relations[a].colour,attitude:t.relations[a].attitude,shape:t.relations[a].shape,edit_url:t.relations[a].edit_url}};e.data.colour||(e.data.colour=m),e.data.attitude||(e.data.attitude=0),e.data.attitude=_(e.data.attitude),c.push(e)}f()},f=()=>{o.add(c),o.nodes().forEach(function(t){t.connectedEdges().length==0&&w(t)}),h(),b(),k()};function w(t){t.hide()}function h(){o.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function b(){o.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),o.nodes().on("mouseover",function(t){i=o.getElementById(t.target.id()),i.addClass("node-hover")}),o.nodes().on("mouseout",function(){i.removeClass("node-hover")}),o.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),o.edges().on("mouseover",function(t){a=o.getElementById(t.target.id()),a.style("label",a._private.data.name),a.style("overlay-opacity",.1)}),o.edges().on("mouseout",function(){a.style("label",""),a.style("overlay-opacity",0)})}function _(t){return(t+100)/100*2+2}async function k(){let t=!0;for(;t;)o.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),n.classList.remove("hidden")}g();
