const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cytoscape-cose-bilkent-DF4CVbNw.js","assets/_commonjsHelpers-CqkleIqs.js","assets/cytoscape-panzoom-CwP9w_A0.js","assets/index.esm-D64_n58L.js","assets/cytoscape.esm-DC-SVX1T.js"])))=>i.map(i=>d[i]);
const E="modulepreload",k=function(t){return"/build/"+t},b={},f=function(e,p,h){let r=Promise.resolve();if(p&&p.length>0){let w=function(i){return Promise.all(i.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var D=w;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");r=w(p.map(i=>{if(i=k(i),i in b)return;b[i]=!0;const m=i.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${g}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":E,m||(d.as="script"),d.crossOrigin="",d.href=i,l&&d.setAttribute("nonce",l),document.head.appendChild(d),m)return new Promise((_,v)=>{d.addEventListener("load",_),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})}))}function u(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};let o,c,n,y=[];const C="#777777",a=document.getElementById("cy"),L=async()=>{if(!a)return;const{default:t}=await f(async()=>{const{default:r}=await import("./cytoscape.esm-DC-SVX1T.js");return{default:r}},[]),{default:e}=await f(async()=>{const{default:r}=await import("./cytoscape-cose-bilkent-DF4CVbNw.js").then(u=>u.c);return{default:r}},__vite__mapDeps([0,1])),{default:p}=await f(async()=>{const{default:r}=await import("./cytoscape-panzoom-CwP9w_A0.js").then(u=>u.c);return{default:r}},__vite__mapDeps([2,1])),{default:h}=await f(async()=>{const{default:r}=await import("./index.esm-D64_n58L.js");return{default:r}},__vite__mapDeps([3,4]));t.use(h),t.use(e),t.use(p),o=t({container:a,wheelSensitivity:.5,style:t.stylesheet().selector("node").css({label:"data(name)","background-image":"data(image)",height:80,width:80,"background-fit":"cover","border-color":window.getComputedStyle(a.parentNode).color,"border-width":3,color:window.getComputedStyle(a).color,"text-wrap":"wrap","text-margin-y":"-8px","text-background-opacity":1,"text-background-color":window.getComputedStyle(a).backgroundColor,"text-border-color":window.getComputedStyle(a).backgroundColor,"text-border-width":3,"text-border-opacity":1}).selector("edge").css({"line-color":"data(colour)","curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"data(shape)","target-arrow-color":"data(colour)",width:"data(attitude)","text-background-opacity":1,color:window.getComputedStyle(a).color,"text-background-color":window.getComputedStyle(a).backgroundColor,"text-border-color":window.getComputedStyle(a).backgroundColor,"text-border-width":3,"text-border-opacity":1})}),o.panzoom({maxZoom:2,minZoom:.3}),o.minZoom(.3),o.maxZoom(2),o.dblclick(),x()},x=()=>{fetch(a.dataset.url).then(t=>t.json()).then(t=>{S(t)})},S=t=>{for(c in t.entities){let e={group:"nodes",data:{id:t.entities[c].id,name:t.entities[c].name,image:t.entities[c].image,link:t.entities[c].link}};y.push(e)}for(n in t.relations){let e={group:"edges",data:{source:t.relations[n].source,target:t.relations[n].target,name:t.relations[n].text,colour:t.relations[n].colour,attitude:t.relations[n].attitude,shape:t.relations[n].shape,edit_url:t.relations[n].edit_url}};e.data.colour||(e.data.colour=C),e.data.attitude||(e.data.attitude=0),e.data.attitude=R(e.data.attitude),y.push(e)}P()},P=()=>{o.add(y),o.nodes().forEach(function(t){t.connectedEdges().length==0&&I(t)}),O(),A(),B()};function I(t){t.hide()}function O(){o.elements().layout({name:"cose-bilkent",idealEdgeLength:130,nodeDimensionsIncludeLabels:!0}).run()}function A(){o.on("tap","node",function(t){let e=t.target.data();e.link&&(window.location=e.link)}),o.nodes().on("mouseover",function(t){c=o.getElementById(t.target.id()),c.addClass("node-hover")}),o.nodes().on("mouseout",function(){c.removeClass("node-hover")}),o.on("tap","edge",function(t){let e=t.target.data().edit_url;e&&window.openDialog("primary-dialog",e)}),o.edges().on("mouseover",function(t){n=o.getElementById(t.target.id()),n.style("label",n._private.data.name),n.style("overlay-opacity",.1)}),o.edges().on("mouseout",function(){n.style("label",""),n.style("overlay-opacity",0)})}function R(t){return(t+100)/100*2+2}async function B(){let t=!0;for(;t;)o.nodes(":backgrounding").length==0?t=!1:await sleep(300);document.getElementById("spinner").classList.add("hidden"),a.classList.remove("hidden")}L();
