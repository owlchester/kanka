window.onEvent(function(){a()});let e,t;const a=()=>{e=document.querySelector(".focus"),t=document.querySelector(".focus-image"),t&&(t.addEventListener("click",function(n){const c=t.naturalWidth,i=t.naturalHeight,o=n.clientX-t.getBoundingClientRect().left,d=n.clientY-t.getBoundingClientRect().top,s=o/t.clientWidth*c,l=d/t.clientHeight*i,g=s/c*100,f=l/i*100;u(f,g),document.querySelector('input[name="focus_x"]').value=parseInt(s),document.querySelector('input[name="focus_y"]').value=parseInt(l)}),e.addEventListener("click",function(){e.classList.add("hidden"),document.querySelector('input[name="focus_x"]').value="",document.querySelector('input[name="focus_y"]').value=""}),e.dataset.focusX>0&&e.dataset.focusY>0&&r())},u=(n,c)=>{e.style.top=n+"%",e.style.left=c+"%",e.classList.remove("hidden")},r=()=>{const n=t.naturalWidth,c=t.naturalHeight;n===0&&setTimeout(r,100),e.classList.remove("loading");const i=e.dataset.focusX/n*100,o=e.dataset.focusY/c*100;u(o,i)};a();
